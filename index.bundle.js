/*! For license information please see index.bundle.js.LICENSE.txt */
!function(){var i={"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/assets/scss/style.scss":function(t,e,i){"use strict";i.r(e);var n=i("./node_modules/css-loader/dist/runtime/sourceMaps.js"),n=i.n(n),r=i("./node_modules/css-loader/dist/runtime/api.js"),i=i.n(r)()(n());i.push([t.id,'* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: "Roboto", sans-serif;\n  font-size: 16px;\n  color: #333;\n  line-height: 1.5;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n}\n\n.cover_area {\n  position: relative;\n}\n.cover_area .canvas-container {\n  position: absolute !important;\n  top: 0;\n  left: 0;\n}\n.cover_area #body_canvas {\n  border: 1px solid #000;\n}\n.cover_area #frame_canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 999;\n  pointer-events: none;\n  border: 1px solid #ccc;\n}\n\n.result {\n  position: relative;\n  display: block;\n}\n\n.controls_wrapper {\n  position: fixed;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: baseline;\n  align-items: center;\n  width: 250px;\n  max-width: 300px;\n  height: 100vh;\n  background-color: #333;\n}\n.controls_wrapper .title {\n  color: #fff;\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: 20px;\n}\n.controls_wrapper a,\n.controls_wrapper button {\n  margin-bottom: 20px;\n  width: 200px;\n  height: 32px;\n  z-index: 1;\n  color: #fff;\n  padding: 5px 10px;\n  border-radius: 25px;\n  background-color: teal;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n  font-size: 14px;\n}',"",{version:3,sources:["webpack://./src/assets/scss/style.scss"],names:[],mappings:"AAAA;EACC,SAAA;EACA,UAAA;EACA,sBAAA;AACD;;AACA;EACC,iCAAA;EACA,eAAA;EACA,WAAA;EACA,gBAAA;EACA,aAAA;EACA,uBAAA;EACA,qBAAA;AAED;;AACA;EACC,kBAAA;AAED;AADC;EACC,6BAAA;EACA,MAAA;EACA,OAAA;AAGF;AADC;EACC,sBAAA;AAGF;AADC;EACC,kBAAA;EACA,MAAA;EACA,OAAA;EACA,YAAA;EACA,oBAAA;EACA,sBAAA;AAGF;;AACA;EACC,kBAAA;EACA,cAAA;AAED;;AACA;EACC,eAAA;EACA,MAAA;EACA,OAAA;EACA,aAAA;EACA,aAAA;EACA,sBAAA;EACA,yBAAA;EACA,mBAAA;EACA,YAAA;EACA,gBAAA;EACA,aAAA;EACA,sBAAA;AAED;AADC;EACC,WAAA;EACA,eAAA;EACA,gBAAA;EACA,mBAAA;AAGF;AADC;;EAEC,mBAAA;EACA,YAAA;EACA,YAAA;EACA,UAAA;EACA,WAAA;EACA,iBAAA;EACA,mBAAA;EACA,sBAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,qBAAA;EACA,eAAA;AAGF",sourcesContent:['* {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tbox-sizing: border-box;\r\n}\r\nbody {\r\n\tfont-family: "Roboto", sans-serif;\r\n\tfont-size: 16px;\r\n\tcolor: #333;\r\n\tline-height: 1.5;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-content: center;\r\n}\r\n\r\n.cover_area {\r\n\tposition: relative;\r\n\t.canvas-container {\r\n\t\tposition: absolute !important;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t}\r\n\t#body_canvas {\r\n\t\tborder: 1px solid #000;\r\n\t}\r\n\t#frame_canvas {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 999;\r\n\t\tpointer-events: none;\r\n\t\tborder: 1px solid #ccc;\r\n\t}\r\n}\r\n\r\n.result {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n}\r\n\r\n.controls_wrapper {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tpadding: 10px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: baseline;\r\n\talign-items: center;\r\n\twidth: 250px;\r\n\tmax-width: 300px;\r\n\theight: 100vh;\r\n\tbackground-color: #333;\r\n\t.title {\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 20px;\r\n\t\tfont-weight: 700;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\ta,\r\n\tbutton {\r\n\t\tmargin-bottom: 20px;\r\n\t\twidth: 200px;\r\n\t\theight: 32px;\r\n\t\tz-index: 1;\r\n\t\tcolor: #fff;\r\n\t\tpadding: 5px 10px;\r\n\t\tborder-radius: 25px;\r\n\t\tbackground-color: teal;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\ttext-decoration: none;\r\n\t\tfont-size: 14px;\r\n\t}\r\n}\r\n'],sourceRoot:""}]),e.default=i},"./node_modules/css-loader/dist/runtime/api.js":function(t){"use strict";t.exports=function(n){var l=[];return l.toString=function(){return this.map(function(t){var e="",i=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),i&&(e+="@layer".concat(0<t[5].length?" ".concat(t[5]):""," {")),e+=n(t),i&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e}).join("")},l.i=function(t,e,i,n,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(s[a]=!0)}for(var h=0;h<t.length;h++){var c=[].concat(t[h]);i&&s[c[0]]||(void 0!==r&&(void 0!==c[5]&&(c[1]="@layer".concat(0<c[5].length?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),e&&(c[2]&&(c[1]="@media ".concat(c[2]," {").concat(c[1],"}")),c[2]=e),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),l.push(c))}},l}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":function(t){"use strict";t.exports=function(t){var e,i=t[1],n=t[3];return n?("function"==typeof btoa?(t=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),t="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),t="/*# ".concat(t," */"),e=n.sources.map(function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}),[i].concat(e).concat([t])):[i]).join("\n"):i}},"./node_modules/fabric/dist/fabric.js":function(I,i,t){var L,R,s,o,a,n,B,X,W,Y,h,H,r,U,e,G,c,V,N,q,K,J,l,u,f,$,Z,d,g,Q,p,tt,m,v,y,et,_,it,x,b,nt,C,S,T,rt,w,O,A,z=z||{version:"5.2.4"};function st(t,e){this.__eventListeners[t]&&(t=this.__eventListeners[t],e?t[t.indexOf(e)]=!1:z.util.array.fill(t,!1))}function ot(t,e){var i=function(){e.apply(this,arguments),this.off(t,i)}.bind(this);this.on(t,i)}function at(t,e,i,n,r,s,o){for(var a,h,c,l,u,f,d,g,p,m,v,y,_,x=Math.PI,o=o*x/180,b=z.util.sin(o),C=z.util.cos(o),S=0,T=0,o=-C*t*.5-b*e*.5,w=-C*e*.5+b*t*.5,O=(i=Math.abs(i))*i,A=(n=Math.abs(n))*n,L=w*w,R=o*o,E=O*A-O*L-A*R,k=0,P=(E<0?(i*=P=Math.sqrt(1-E/(O*A)),n*=P):k=(r===s?-1:1)*Math.sqrt(E/(O*L+A*R)),k*i*w/n),r=-k*n*o/i,B=C*P-b*r+.5*t,X=b*P+C*r+.5*e,j=ht(1,0,(o-P)/i,(w-r)/n),E=ht((o-P)/i,(w-r)/n,(-o-P)/i,(-w-r)/n),W=(0===s&&0<E?E-=2*x:1===s&&E<0&&(E+=2*x),Math.ceil(Math.abs(E/x*2))),D=[],M=E/W,Y=8/3*Math.sin(M/4)*Math.sin(M/4)/Math.sin(M/2),F=j+M,I=0;I<W;I++)D[I]=(a=j,h=F,c=C,l=b,u=i,f=n,d=B,g=X,p=Y,m=S,v=T,_=y=void 0,y=z.util.cos(a),a=z.util.sin(a),_=z.util.cos(h),h=z.util.sin(h),["C",m+p*(-c*u*a-l*f*y),v+p*(-l*u*a+c*f*y),(d=c*u*_-l*f*h+d)+p*(c*u*h+l*f*_),(g=l*u*_+c*f*h+g)+p*(l*u*h-c*f*_),d,g]),S=D[I][5],T=D[I][6],j=F,F+=M;return D}function ht(t,e,i,n){e=Math.atan2(e,t),t=Math.atan2(n,i);return e<=t?t-e:2*Math.PI-(e-t)}function E(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}function ct(t,e,i){for(var n,r={x:e,y:i},s=0,o=1;o<=100;o+=1)n=t(o/100),s+=E(r.x,r.y,n.x,n.y),r=n;return s}function lt(t,e){for(var i,n,r,s=0,o=0,a=t.iterator,h={x:t.x,y:t.y},c=.01,t=t.angleFinder;o<e&&1e-4<c;)i=a(s),r=s,e<(n=E(h.x,h.y,i.x,i.y))+o?(s-=c,c/=2):(h=i,s+=c,o+=n);return i.angle=t(r),i}function ut(t){for(var e,i,n,r,s=0,o=t.length,a=0,h=0,c=0,l=0,u=[],f=0;f<o;f++){switch(n={x:a,y:h,command:(e=t[f])[0]},e[0]){case"M":n.length=0,c=a=e[1],l=h=e[2];break;case"L":n.length=E(a,h,e[1],e[2]),a=e[1],h=e[2];break;case"C":i=function(r,s,o,a,h,c,l,u){return function(t){var e=t*t*t,i=3*t*t*(1-t),n=3*t*(1-t)*(1-t),t=(1-t)*(1-t)*(1-t);return{x:l*e+h*i+o*n+r*t,y:u*e+c*i+a*n+s*t}}}(a,h,e[1],e[2],e[3],e[4],e[5],e[6]),r=function(i,n,r,s,o,a,h,c){return function(t){var e=1-t;return Math.atan2(3*e*e*(s-n)+6*e*t*(a-s)+3*t*t*(c-a),3*e*e*(r-i)+6*e*t*(o-r)+3*t*t*(h-o))}}(a,h,e[1],e[2],e[3],e[4],e[5],e[6]),n.iterator=i,n.angleFinder=r,n.length=ct(i,a,h),a=e[5],h=e[6];break;case"Q":i=function(n,r,s,o,a,h){return function(t){var e=t*t,i=2*t*(1-t),t=(1-t)*(1-t);return{x:a*e+s*i+n*t,y:h*e+o*i+r*t}}}(a,h,e[1],e[2],e[3],e[4]),r=function(i,n,r,s,o,a){return function(t){var e=1-t;return Math.atan2(2*e*(s-n)+2*t*(a-s),2*e*(r-i)+2*t*(o-r))}}(a,h,e[1],e[2],e[3],e[4]),n.iterator=i,n.angleFinder=r,n.length=ct(i,a,h),a=e[3],h=e[4];break;case"Z":case"z":n.destX=c,n.destY=l,n.length=E(a,h,c,l),a=c,h=l}s+=n.length,u.push(n)}return u.push({length:s,x:a,y:h}),u}function ft(t,e,i){if(t&&0!==t.length){var n=t.length-1,r=e?t[n][e]:t[n];if(e)for(;n--;)i(t[n][e],r)&&(r=t[n][e]);else for(;n--;)i(t[n],r)&&(r=t[n]);return r}}function k(t,e,i){if(i)if(!z.isLikelyNode&&e instanceof Element)t=e;else if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=k({},e[n],i)}else if(e&&"object"==typeof e)for(var s in e)"canvas"===s||"group"===s?t[s]=null:e.hasOwnProperty(s)&&(t[s]=k({},e[s],i));else t=e;else for(var s in e)t[s]=e[s];return t}function dt(){}function gt(){}function pt(t){for(var e=null,i=this;i.constructor.superclass;){var n=i.constructor.superclass.prototype[t];if(i[t]!==n){e=n;break}i=i.constructor.superclass.prototype}return e?1<arguments.length?e.apply(this,h.call(arguments,1)):e.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}i.fabric=z,"undefined"!=typeof document&&"undefined"!=typeof window?(document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?z.document=document:z.document=document.implementation.createHTMLDocument(""),z.window=window):(e=new(t("?7b10").JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window,z.document=e.document,z.jsdomImplForWrapper=t("?6799").implForWrapper,z.nodeCanvas=t("?9748").Canvas,z.window=e,DOMParser=z.window.DOMParser),z.isTouchSupported="ontouchstart"in z.window||"ontouchstart"in z.document||z.window&&z.window.navigator&&0<z.window.navigator.maxTouchPoints,z.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,z.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],z.DPI=96,z.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",z.commaWsp="(?:\\s+,?\\s*|,\\s*)",z.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,z.reNonWord=/[ \n\.,;!\?\-]/,z.fontPaths={},z.iMatrix=[1,0,0,1,0,0],z.svgNS="http://www.w3.org/2000/svg",z.perfLimitSizeTotal=2097152,z.maxCacheSideLimit=4096,z.minCacheSideLimit=256,z.charWidthsCache={},z.textureSize=2048,z.disableStyleCopyPaste=!1,z.enableGLFiltering=!0,z.devicePixelRatio=z.window.devicePixelRatio||z.window.webkitDevicePixelRatio||z.window.mozDevicePixelRatio||1,z.browserShadowBlurConstant=1,z.arcToSegmentsCache={},z.boundsOfCurveCache={},z.cachesBoundsOfCurve=!0,z.forceGLPutImageData=!1,z.initFilterBackend=function(){return z.enableGLFiltering&&z.isWebglSupported&&z.isWebglSupported(z.textureSize)?(console.log("max texture size: "+z.maxTextureSize),new z.WebglFilterBackend({tileSize:z.textureSize})):z.Canvas2dFilterBackend?new z.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=z),z.Observable={fire:function(t,e){if(this.__eventListeners){var i=this.__eventListeners[t];if(i){for(var n=0,r=i.length;n<r;n++)i[n]&&i[n].call(this,e||{});this.__eventListeners[t]=i.filter(function(t){return!1!==t})}}return this},on:function(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this},once:function(t,e){if(1===arguments.length)for(var i in t)ot.call(this,i,t[i]);else ot.call(this,t,e);return this},off:function(t,e){if(this.__eventListeners)if(0===arguments.length)for(t in this.__eventListeners)st.call(this,t);else if(1===arguments.length&&"object"==typeof arguments[0])for(var i in t)st.call(this,i,t[i]);else st.call(this,t,e);return this}},z.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,i){var n=this._objects;return i?n[e]=t:n.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,i=!1,n=0,r=arguments.length;n<r;n++)-1!==(t=e.indexOf(arguments[n]))&&(i=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&i&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var i=this.getObjects(),n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);return this},getObjects:function(e){return void 0===e?this._objects.concat():this._objects.filter(function(t){return t.type===e})},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e,t){return-1<this._objects.indexOf(e)||!!t&&this._objects.some(function(t){return"function"==typeof t.contains&&t.contains(e,!0)})},complexity:function(){return this._objects.reduce(function(t,e){return t+=e.complexity?e.complexity():0},0)}},z.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof z.Gradient||this.set(e,new z.Gradient(t))},_initPattern:function(t,e,i){!t||!t.source||t instanceof z.Pattern?i&&i():this.set(e,new z.Pattern(t,i))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},L=i,R=Math.sqrt,s=Math.atan2,o=Math.pow,a=Math.PI/180,n=Math.PI/2,z.util={cos:function(t){if(0===t)return 1;switch((t=t<0?-t:t)/n){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=t<0?-1:1;switch(t/n){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){e=t.indexOf(e);return-1!==e&&t.splice(e,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*a},radiansToDegrees:function(t){return t/a},rotatePoint:function(t,e,i){t=new z.Point(t.x-e.x,t.y-e.y),t=z.util.rotateVector(t,i);return new z.Point(t.x,t.y).addEquals(e)},rotateVector:function(t,e){var i=z.util.sin(e),e=z.util.cos(e);return{x:t.x*e-t.y*i,y:t.x*i+t.y*e}},createVector:function(t,e){return new z.Point(e.x-t.x,e.y-t.y)},calcAngleBetweenVectors:function(t,e){return Math.acos((t.x*e.x+t.y*e.y)/(Math.hypot(t.x,t.y)*Math.hypot(e.x,e.y)))},getHatVector:function(t){return new z.Point(t.x,t.y).multiply(1/Math.hypot(t.x,t.y))},getBisector:function(t,e,i){e=z.util.createVector(t,e),t=z.util.createVector(t,i),i=z.util.calcAngleBetweenVectors(e,t),t=z.util.calcAngleBetweenVectors(z.util.rotateVector(e,i),t);return{vector:z.util.getHatVector(z.util.rotateVector(e,i*(0===t?1:-1)/2)),angle:i}},projectStrokeOnPoints:function(o,a,h){function c(t){var e=u/Math.hypot(t.x,t.y);return new z.Point(t.x*e*f.x,t.y*e*f.y)}var l=[],u=a.strokeWidth/2,f=a.strokeUniform?new z.Point(1/a.scaleX,1/a.scaleY):new z.Point(1,1);return o.length<=1||o.forEach(function(t,e){var i,n,t=new z.Point(t.x,t.y),e=(0===e?(s=o[e+1],r=h?c(z.util.createVector(s,t)).addEquals(t):o[o.length-1]):s=e===o.length-1?(r=o[e-1],h?c(z.util.createVector(r,t)).addEquals(t):o[0]):(r=o[e-1],o[e+1]),z.util.getBisector(t,r,s)),r=e.vector,s=e.angle;"miter"===a.strokeLineJoin&&(i=-u/Math.sin(s/2),n=new z.Point(r.x*i*f.x,r.y*i*f.y),Math.hypot(n.x,n.y)/u<=a.strokeMiterLimit)||(i=-u*Math.SQRT2,n=new z.Point(r.x*i*f.x,r.y*i*f.y)),l.push(t.add(n)),l.push(t.subtract(n))}),l},transformPoint:function(t,e,i){return i?new z.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new z.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var i=0;i<t.length;i++)t[i]=z.util.transformPoint(t[i],e);var n=[t[0].x,t[1].x,t[2].x,t[3].x],r=z.util.array.min(n),n=z.util.array.max(n)-r,s=[t[0].y,t[1].y,t[2].y,t[3].y],o=z.util.array.min(s);return{left:r,top:o,width:n,height:z.util.array.max(s)-o}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),e=[e*t[3],-e*t[1],-e*t[2],e*t[0]],t=z.util.transformPoint({x:t[4],y:t[5]},e,!0);return e[4]=-t.x,e[5]=-t.y,e},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var i=/\D{0,2}$/.exec(t),n=parseFloat(t);switch(e=e||z.Text.DEFAULT_SVG_FONT_SIZE,i[0]){case"mm":return n*z.DPI/25.4;case"cm":return n*z.DPI/2.54;case"in":return n*z.DPI;case"pt":return n*z.DPI/72;case"pc":return n*z.DPI/72*12;case"em":return n*e;default:return n}},falseFunction:function(){return!1},getKlass:function(t,e){return t=z.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),z.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return z;for(var e=t.split("."),i=e.length,n=L||z.window,r=0;r<i;++r)n=n[e[r]];return n},loadImage:function(t,e,i,n){var r,s;t?((r=z.util.createImage()).onload=s=function(){e&&e.call(i,r,!1),r=r.onload=r.onerror=null},r.onerror=function(){z.log("Error loading "+r.src),e&&e.call(i,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&null!=n&&(r.crossOrigin=n),"data:image/svg"===t.substring(0,14)&&(r.onload=null,z.util.loadImageInDom(r,s)),r.src=t):e&&e.call(i,t)},loadImageInDom:function(t,e){var i=z.document.createElement("div");i.style.width=i.style.height="1px",i.style.left=i.style.top="-100%",i.style.position="absolute",i.appendChild(t),z.document.querySelector("body").appendChild(i),t.onload=function(){e(),i.parentNode.removeChild(i),i=null}},enlivenObjects:function(t,e,r,s){var o=[],i=0,n=(t=t||[]).length;function a(){++i===n&&e&&e(o.filter(function(t){return t}))}n?t.forEach(function(i,n){i&&i.type?z.util.getKlass(i.type,r).fromObject(i,function(t,e){e||(o[n]=t),s&&s(i,t,e),a()}):a()}):e&&e(o)},enlivenObjectEnlivables:function(e,r,t){var s=z.Object.ENLIVEN_PROPS.filter(function(t){return!!e[t]});z.util.enlivenObjects(s.map(function(t){return e[t]}),function(i){var n={};s.forEach(function(t,e){n[t]=i[e],r&&(r[t]=i[e])}),t&&t(n)})},enlivenPatterns:function(t,e){function i(){++r===s&&e&&e(n)}var n=[],r=0,s=(t=t||[]).length;s?t.forEach(function(t,e){t&&t.source?new z.Pattern(t,function(t){n[e]=t,i()}):(n[e]=t,i())}):e&&e(n)},groupSVGElements:function(t,e,i){return t&&1===t.length?(void 0!==i&&(t[0].sourcePath=i),t[0]):(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),t=new z.Group(t,e),void 0!==i&&(t.sourcePath=i),t)},populateWithProperties:function(t,e,i){if(i&&Array.isArray(i))for(var n=0,r=i.length;n<r;n++)i[n]in t&&(e[i[n]]=t[i[n]])},createCanvasElement:function(){return z.document.createElement("canvas")},copyCanvasElement:function(t){var e=z.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,i){return t.toDataURL("image/"+e,i)},createImage:function(){return z.document.createElement("img")},multiplyTransformMatrices:function(t,e,i){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],i?0:t[0]*e[4]+t[2]*e[5]+t[4],i?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=s(t[1],t[0]),i=o(t[0],2)+o(t[1],2),n=R(i),r=(t[0]*t[3]-t[2]*t[1])/n,i=s(t[0]*t[2]+t[1]*t[3],i);return{angle:e/a,scaleX:n,scaleY:r,skewX:i/a,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){var e;return t.angle?(t=z.util.degreesToRadians(t.angle),[e=z.util.cos(t),t=z.util.sin(t),-t,e,0,0]):z.iMatrix.concat()},calcDimensionsMatrix:function(t){var e=void 0===t.scaleX?1:t.scaleX,i=void 0===t.scaleY?1:t.scaleY,e=[t.flipX?-e:e,0,0,t.flipY?-i:i,0,0],i=z.util.multiplyTransformMatrices,n=z.util.degreesToRadians;return t.skewX&&(e=i(e,[1,0,Math.tan(n(t.skewX)),1],!0)),e=t.skewY?i(e,[1,Math.tan(n(t.skewY)),0,1],!0):e},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],i=z.util.multiplyTransformMatrices;return t.angle&&(e=i(e,z.util.calcRotateMatrix(t))),e=1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY?i(e,z.util.calcDimensionsMatrix(t)):e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,i,n){0<n&&(n<e?e-=n:e=0,n<i?i-=n:i=0);for(var r=!0,s=t.getImageData(e,i,2*n||1,2*n||1),o=s.data.length,a=3;a<o&&!1!=(r=s.data[a]<=0);a+=4);return s=null,r},parsePreserveAspectRatioAttribute:function(t){var e,i="meet",t=t.split(" ");return t&&t.length&&("meet"!==(i=t.pop())&&"slice"!==i?(e=i,i="meet"):t.length&&(e=t.pop())),{meetOrSlice:i,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?z.charWidthsCache[t]&&delete z.charWidthsCache[t]:z.charWidthsCache={}},limitDimsByArea:function(t,e){t=Math.sqrt(e*t),e=Math.floor(e/t);return{x:Math.floor(t),y:e}},capValue:function(t,e,i){return Math.max(t,Math.min(e,i))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map(function(t){return z.util.toFixed(t,z.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(t,e){e=z.util.invertTransform(e),e=z.util.multiplyTransformMatrices(e,t.calcOwnMatrix());z.util.applyTransformToObject(t,e)},addTransformToObject:function(t,e){z.util.applyTransformToObject(t,z.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var e=z.util.qrDecompose(e),i=new z.Point(e.translateX,e.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",e.scaleX),t.set("scaleY",e.scaleY),t.skewX=e.skewX,t.skewY=e.skewY,t.angle=e.angle,t.setPositionByOrigin(i,"center","center")},sizeAfterTransform:function(t,e,i){t/=2,e/=2,t=[{x:-t,y:-e},{x:t,y:-e},{x:-t,y:e},{x:t,y:e}],e=z.util.calcDimensionsMatrix(i),i=z.util.makeBoundingBoxFromPoints(t,e);return{x:i.width,y:i.height}},mergeClipPaths:function(t,e){var i=t,n=e,e=(i.inverted&&!n.inverted&&(i=e,n=t),z.util.applyTransformToObject(n,z.util.multiplyTransformMatrices(z.util.invertTransform(i.calcTransformMatrix()),n.calcTransformMatrix())),i.inverted&&n.inverted);return e&&(i.inverted=n.inverted=!1),new z.Group([i],{clipPath:n,inverted:e})},hasStyleChanged:function(t,e,i){return i=i||!1,t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY||i&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},stylesToArray:function(t,e){for(var t=z.util.object.clone(t,!0),i=e.split("\n"),n=-1,r={},s=[],o=0;o<i.length;o++)if(t[o])for(var a=0;a<i[o].length;a++){n++;var h=t[o][a];h&&(z.util.hasStyleChanged(r,h,!0)?s.push({start:n,end:n+1,style:h}):s[s.length-1].end++),r=h||{}}else n+=i[o].length;return s},stylesFromArray:function(t,e){if(!Array.isArray(t))return t;for(var i=e.split("\n"),n=-1,r=0,s={},o=0;o<i.length;o++)for(var a=0;a<i[o].length;a++)n++,t[r]&&t[r].start<=n&&n<t[r].end&&(s[o]=s[o]||{},s[o][a]=Object.assign({},t[r].style),n===t[r].end-1&&r++);return s}},B=Array.prototype.join,X={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},W={m:"l",M:"L"},z.util.joinPath=function(t){return t.map(function(t){return t.join(" ")}).join(" ")},z.util.parsePath=function(t){var e,i,n,r=[],s=[],o=z.rePathCommand,a="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",h="("+a+")"+z.commaWsp,c="([01])"+z.commaWsp+"?",l=new RegExp(h+"?"+h+"?"+h+c+c+h+"?("+a+")","g");if(t&&t.match)for(var u,f=0,d=(u=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;f<d;f++){var g,p=(e=u[f]).slice(1).trim(),m=e.charAt(s.length=0),v=[m];if("a"===m.toLowerCase())for(;g=l.exec(p);)for(var y=1;y<g.length;y++)s.push(g[y]);else for(;n=o.exec(p);)s.push(n[0]);for(var y=0,_=s.length;y<_;y++)i=parseFloat(s[y]),isNaN(i)||v.push(i);var x=X[m.toLowerCase()],b=W[m]||m;if(x<v.length-1)for(var C=1,S=v.length;C<S;C+=x)r.push([m].concat(v.slice(C,C+x))),m=b;else r.push(v)}return r},z.util.makePathSimpler=function(t){for(var e,i,n,r,s,o=0,a=0,h=t.length,c=0,l=0,u=[],f=0;f<h;++f){switch(i=!1,(e=t[f].slice(0))[0]){case"l":e[0]="L",e[1]+=o,e[2]+=a;case"L":o=e[1],a=e[2];break;case"h":e[1]+=o;case"H":e[0]="L",e[2]=a,o=e[1];break;case"v":e[1]+=a;case"V":e[0]="L",a=e[1],e[1]=o,e[2]=a;break;case"m":e[0]="M",e[1]+=o,e[2]+=a;case"M":o=e[1],a=e[2],c=e[1],l=e[2];break;case"c":e[0]="C",e[1]+=o,e[2]+=a,e[3]+=o,e[4]+=a,e[5]+=o,e[6]+=a;case"C":r=e[3],s=e[4],o=e[5],a=e[6];break;case"s":e[0]="S",e[1]+=o,e[2]+=a,e[3]+=o,e[4]+=a;case"S":s="C"===n?(r=2*o-r,2*a-s):(r=o,a),o=e[3],a=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=r,e[2]=s,r=e[3],s=e[4];break;case"q":e[0]="Q",e[1]+=o,e[2]+=a,e[3]+=o,e[4]+=a;case"Q":r=e[1],s=e[2],o=e[3],a=e[4];break;case"t":e[0]="T",e[1]+=o,e[2]+=a;case"T":s="Q"===n?(r=2*o-r,2*a-s):(r=o,a),e[0]="Q",o=e[1],a=e[2],e[1]=r,e[2]=s,e[3]=o,e[4]=a;break;case"a":e[0]="A",e[6]+=o,e[7]+=a;case"A":i=!0,u=u.concat(function(t,e,i){for(var n=i[1],r=i[2],s=i[3],o=i[4],a=i[5],h=at(i[6]-t,i[7]-e,n,r,o,a,s),c=0,l=h.length;c<l;c++)h[c][1]+=t,h[c][2]+=e,h[c][3]+=t,h[c][4]+=e,h[c][5]+=t,h[c][6]+=e;return h}(o,a,e)),o=e[6],a=e[7];break;case"z":case"Z":o=c,a=l}i||u.push(e),n=e[0]}return u},z.util.getSmoothPathFromPoints=function(t,e){var i,n,r=[],s=new z.Point(t[0].x,t[0].y),o=new z.Point(t[1].x,t[1].y),a=t.length,h=1,c=0,l=2<a;for(l&&(h=t[2].x<o.x?-1:t[2].x===o.x?0:1,c=t[2].y<o.y?-1:t[2].y===o.y?0:1),r.push(["M",s.x-h*(e=e||0),s.y-c*e]),i=1;i<a;i++)s.eq(o)||(n=s.midPointFrom(o),r.push(["Q",s.x,s.y,n.x,n.y])),s=t[i],i+1<t.length&&(o=t[i+1]);return l&&(h=s.x>t[i-2].x?1:s.x===t[i-2].x?0:-1,c=s.y>t[i-2].y?1:s.y===t[i-2].y?0:-1),r.push(["L",s.x+h*e,s.y+c*e]),r},z.util.getPathSegmentsInfo=ut,z.util.getBoundsOfCurve=function(t,e,i,n,r,s,o,a){var h;if(z.cachesBoundsOfCurve&&(h=B.call(arguments),z.boundsOfCurveCache[h]))return z.boundsOfCurveCache[h];for(var c,l,u,f=Math.sqrt,d=Math.min,g=Math.max,p=Math.abs,m=[],v=[[],[]],y=6*t-12*i+6*r,_=-3*t+9*i-9*r+3*o,x=3*i-3*t,b=0;b<2;++b)0<b&&(y=6*e-12*n+6*s,_=-3*e+9*n-9*s+3*a,x=3*n-3*e),p(_)<1e-12?p(y)<1e-12||0<(c=-x/y)&&c<1&&m.push(c):(u=y*y-4*x*_)<0||(0<(l=(-y+(u=f(u)))/(2*_))&&l<1&&m.push(l),0<(l=(-y-u)/(2*_))&&l<1&&m.push(l));for(var C,S=m.length,T=S;S--;)v[0][S]=(C=1-(c=m[S]))*C*C*t+3*C*C*c*i+3*C*c*c*r+c*c*c*o,v[1][S]=C*C*C*e+3*C*C*c*n+3*C*c*c*s+c*c*c*a;return v[0][T]=t,v[1][T]=e,v[0][T+1]=o,v[1][T+1]=a,T=[{x:d.apply(null,v[0]),y:d.apply(null,v[1])},{x:g.apply(null,v[0]),y:g.apply(null,v[1])}],z.cachesBoundsOfCurve&&(z.boundsOfCurveCache[h]=T),T},z.util.getPointOnPath=function(t,e,i){i=i||ut(t);for(var n=0;0<e-i[n].length&&n<i.length-2;)e-=i[n].length,n++;var r,s=i[n],o=e/s.length,a=s.command,h=t[n];switch(a){case"M":return{x:s.x,y:s.y,angle:0};case"Z":case"z":return(r=new z.Point(s.x,s.y).lerp(new z.Point(s.destX,s.destY),o)).angle=Math.atan2(s.destY-s.y,s.destX-s.x),r;case"L":return(r=new z.Point(s.x,s.y).lerp(new z.Point(h[1],h[2]),o)).angle=Math.atan2(h[2]-s.y,h[1]-s.x),r;case"C":case"Q":return lt(s,e)}},z.util.transformPath=function(t,r,e){return e&&(r=z.util.multiplyTransformMatrices(r,[1,0,0,1,-e.x,-e.y])),t.map(function(t){for(var e=t.slice(0),i={},n=1;n<t.length-1;n+=2)i.x=t[n],i.y=t[n+1],i=z.util.transformPoint(i,r),e[n]=i.x,e[n+1]=i.y;return e})},Y=Array.prototype.slice,z.util.array={fill:function(t,e){for(var i=t.length;i--;)t[i]=e;return t},invoke:function(t,e){for(var i=Y.call(arguments,2),n=[],r=0,s=t.length;r<s;r++)n[r]=i.length?t[r][e].apply(t[r],i):t[r][e].call(t[r]);return n},min:function(t,e){return ft(t,e,function(t,e){return t<e})},max:function(t,e){return ft(t,e,function(t,e){return e<=t})}},z.util.object={extend:k,clone:function(t,e){return k({},t,e)}},z.util.object.extend(z.util,z.Observable),z.util.string={camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){for(var e,i=0,n=[],i=0;i<t.length;i++)!1!==(e=function(t,e){var i=t.charCodeAt(e);if(isNaN(i))return"";if(i<55296||57343<i)return t.charAt(e);if(55296<=i&&i<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";i=t.charCodeAt(e+1);if(i<56320||57343<i)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";i=t.charCodeAt(e-1);if(i<55296||56319<i)throw"Low surrogate without preceding high surrogate";return!1}(t,i))&&n.push(e);return n}},h=Array.prototype.slice,H=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),z.util.createClass=function(){var t=null,e=h.call(arguments,0);function i(){this.initialize.apply(this,arguments)}"function"==typeof e[0]&&(t=e.shift()),i.superclass=t,i.subclasses=[],t&&(gt.prototype=t.prototype,i.prototype=new gt,t.subclasses.push(i));for(var n=0,r=e.length;n<r;n++)!function(t,n,r){for(var e in n)e in t.prototype&&"function"==typeof t.prototype[e]&&-1<(n[e]+"").indexOf("callSuper")?t.prototype[e]=function(i){return function(){var t=this.constructor.superclass,e=(this.constructor.superclass=r,n[i].apply(this,arguments));if(this.constructor.superclass=t,"initialize"!==i)return e}}(e):t.prototype[e]=n[e],H&&(n.toString!==Object.prototype.toString&&(t.prototype.toString=n.toString),n.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=n.valueOf))}(i,e[n],t);return i.prototype.initialize||(i.prototype.initialize=dt),(i.prototype.constructor=i).prototype.callSuper=pt,i},r=!!z.document.createElement("div").attachEvent,U=["touchstart","touchmove","touchend"],z.util.addListener=function(t,e,i,n){t&&t.addEventListener(e,i,!r&&n)},z.util.removeListener=function(t,e,i,n){t&&t.removeEventListener(e,i,!r&&n)},z.util.getPointer=function(t){var e=t.target,e=z.util.getScrollLeftTop(e),i=(i=(t=t).changedTouches)&&i[0]?i[0]:t;return{x:i.clientX+e.left,y:i.clientY+e.top}},z.util.isTouchEvent=function(t){return-1<U.indexOf(t.type)||"touch"===t.pointerType},t=z.document.createElement("div"),e="string"==typeof t.style.opacity,t="string"==typeof t.style.filter,G=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(t){return t},e?c=function(t,e){return t.style.opacity=e,t}:t&&(c=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),G.test(i.filter)?i.filter=i.filter.replace(G,e=.9999<=e?"":"alpha(opacity="+100*e+")"):i.filter+=" alpha(opacity="+100*e+")",t}),z.util.setStyle=function(t,e){var i,n=t.style;if(n){if("string"==typeof e)return t.style.cssText+=";"+e,-1<e.indexOf("opacity")?c(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var r in e)"opacity"===r?c(t,e[r]):(i="float"===r||"cssFloat"===r?void 0===n.styleFloat?"cssFloat":"styleFloat":r,n.setProperty(i,e[r]))}return t};var mt,P,j,vt=Array.prototype.slice,t=function(t){return vt.call(t,0)};try{P=t(z.document.childNodes)instanceof Array}catch(t){}function yt(t,e){var i,n=z.document.createElement(t);for(i in e)"class"===i?n.className=e[i]:"for"===i?n.htmlFor=e[i]:n.setAttribute(i,e[i]);return n}function _t(t){for(var e=0,i=0,n=z.document.documentElement,r=z.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===z.document?(e=r.scrollLeft||n.scrollLeft||0,i=r.scrollTop||n.scrollTop||0):(e+=t.scrollLeft||0,i+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:i}}function xt(){}function bt(){return!1}function Ct(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}function St(){return q.apply(z.window,arguments)}function Tt(t,e,i){var n="rgba("+parseInt(t[0]+i*(e[0]-t[0]),10)+","+parseInt(t[1]+i*(e[1]-t[1]),10)+","+parseInt(t[2]+i*(e[2]-t[2]),10);return n+(","+(t&&e?parseFloat(t[3]+i*(e[3]-t[3])):1))+")"}function wt(t,e,i,n){return n=t<Math.abs(e)?(t=e,i/4):0===e&&0===t?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:i,s:n}}function Ot(t,e,i){return t.a*Math.pow(2,10*--e)*Math.sin((e*i-t.s)*(2*Math.PI)/t.p)}function At(t,e,i,n){return i-Et(n-t,0,i,n)+e}function Et(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}P||(t=function(t){for(var e=new Array(t.length),i=t.length;i--;)e[i]=t[i];return e}),mt=z.document.defaultView&&z.document.defaultView.getComputedStyle?function(t,e){t=z.document.defaultView.getComputedStyle(t,null);return t?t[e]:void 0}:function(t,e){var i=t.style[e];return i=!i&&t.currentStyle?t.currentStyle[e]:i},P=z.document.documentElement.style,j="userSelect"in P?"userSelect":"MozUserSelect"in P?"MozUserSelect":"WebkitUserSelect"in P?"WebkitUserSelect":"KhtmlUserSelect"in P?"KhtmlUserSelect":"",z.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=z.util.falseFunction),j?t.style[j]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},z.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),j?t.style[j]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},z.util.setImageSmoothing=function(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e},z.util.getById=function(t){return"string"==typeof t?z.document.getElementById(t):t},z.util.toArray=t,z.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},z.util.makeElement=yt,z.util.wrapElement=function(t,e,i){return"string"==typeof e&&(e=yt(e,i)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},z.util.getScrollLeftTop=_t,z.util.getElementOffset=function(t){var e,i,n=t&&t.ownerDocument,r={left:0,top:0},s={left:0,top:0},o={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!n)return s;for(i in o)s[o[i]]+=parseInt(mt(t,i),10)||0;return n=n.documentElement,void 0!==t.getBoundingClientRect&&(r=t.getBoundingClientRect()),e=_t(t),{left:r.left+e.left-(n.clientLeft||0)+s.left,top:r.top+e.top-(n.clientTop||0)+s.top}},z.util.getNodeCanvas=function(t){return(t=z.jsdomImplForWrapper(t))._canvas||t._image},z.util.cleanUpJsdomNode=function(t){!z.isLikelyNode||(t=z.jsdomImplForWrapper(t))&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)},z.util.request=function(t,e){var i,n=(e=e||{}).method?e.method.toUpperCase():"GET",r=e.onComplete||function(){},s=new z.window.XMLHttpRequest,o=e.body||e.parameters;return s.onreadystatechange=function(){4===s.readyState&&(r(s),s.onreadystatechange=xt)},"GET"===n&&(o=null,"string"==typeof e.parameters&&(i=t,e=e.parameters,t=i+(/\?/.test(i)?"&":"?")+e)),s.open(n,t,!0),"POST"!==n&&"PUT"!==n||s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(o),s},z.log=console.log,z.warn=console.warn,V=z.util.object.extend,N=z.util.object.clone,t=[],z.util.object.extend(t,{cancelAll:function(){var t=this.splice(0);return t.forEach(function(t){t.cancel()}),t},cancelByCanvas:function(e){var t;return e?((t=this.filter(function(t){return"object"==typeof t.target&&t.target.canvas===e})).forEach(function(t){t.cancel()}),t):[]},cancelByTarget:function(t){t=this.findAnimationsByTarget(t);return t.forEach(function(t){t.cancel()}),t},findAnimationIndex:function(t){return this.indexOf(this.findAnimation(t))},findAnimation:function(e){return this.find(function(t){return t.cancel===e})},findAnimationsByTarget:function(e){return e?this.filter(function(t){return t.target===e}):[]}}),q=z.window.requestAnimationFrame||z.window.webkitRequestAnimationFrame||z.window.mozRequestAnimationFrame||z.window.oRequestAnimationFrame||z.window.msRequestAnimationFrame||function(t){return z.window.setTimeout(t,1e3/60)},K=z.window.cancelAnimationFrame||z.window.clearTimeout,z.util.animate=function(e){function v(){var t=z.runningAnimations.indexOf(_);return-1<t&&z.runningAnimations.splice(t,1)[0]}var y=!1,_=V(N(e=e||{}),{cancel:function(){return y=!0,v()},currentValue:"startValue"in e?e.startValue:0,completionRate:0,durationRate:0});return z.runningAnimations.push(_),St(function(t){var s,o=t||+new Date,a=e.duration||500,h=o+a,c=e.onChange||bt,l=e.abort||bt,u=e.onComplete||bt,f=e.easing||Ct,d="startValue"in e&&0<e.startValue.length,g="startValue"in e?e.startValue:0,p="endValue"in e?e.endValue:100,m=e.byValue||(d?g.map(function(t,e){return p[e]-g[e]}):p-g);e.onStart&&e.onStart(),function t(e){s=e||+new Date;var i=h<s?a:s-o,e=i/a,n=d?g.map(function(t,e){return f(i,g[e],m[e],a)}):f(i,g,m,a),r=d?Math.abs((n[0]-g[0])/m[0]):Math.abs((n-g)/m);_.currentValue=d?n.slice():n,_.completionRate=r,_.durationRate=e,y||(l(n,r,e)?v():h<s?(_.currentValue=d?p.slice():p,_.completionRate=1,_.durationRate=1,c(d?p.slice():p,1,1),u(p,1,1),v()):(c(n,r,e),St(t)))}(o)}),_.cancel},z.util.requestAnimFrame=St,z.util.cancelAnimFrame=function(){return K.apply(z.window,arguments)},z.runningAnimations=t,z.util.animateColor=function(t,e,i,r){var t=new z.Color(t).getSource(),n=new z.Color(e).getSource(),s=r.onComplete,o=r.onChange;return r=r||{},z.util.animate(z.util.object.extend(r,{duration:i||500,startValue:t,endValue:n,byValue:n,easing:function(t,e,i,n){return Tt(e,i,r.colorEasing?r.colorEasing(t,n):1-Math.cos(t/n*(Math.PI/2)))},onComplete:function(t,e,i){if(s)return s(Tt(n,n,0),e,i)},onChange:function(t,e,i){if(o){if(Array.isArray(t))return o(Tt(t,t,0),e,i);o(t,e,i)}}}))},z.util.ease={easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,n){var r=0;return 0===t?e:1===(t/=n)?e+i:-Ot(wt(i,i,r=r||.3*n,1.70158),t,n)+e},easeOutElastic:function(t,e,i,n){var r=0;return 0===t?e:1===(t/=n)?e+i:(i=wt(i,i,r=r||.3*n,1.70158)).a*Math.pow(2,-10*t)*Math.sin((t*n-i.s)*(2*Math.PI)/i.p)+i.c+e},easeInOutElastic:function(t,e,i,n){var r=0;return 0===t?e:2===(t/=n/2)?e+i:(i=wt(i,i,r=r||n*(.3*1.5),1.70158),t<1?-.5*Ot(i,t,n)+e:i.a*Math.pow(2,-10*--t)*Math.sin((t*n-i.s)*(2*Math.PI)/i.p)*.5+i.c+e)},easeInBack:function(t,e,i,n,r){return i*(t/=n)*t*(((r=void 0===r?1.70158:r)+1)*t-r)+e},easeOutBack:function(t,e,i,n,r){return i*((t=t/n-1)*t*(((r=void 0===r?1.70158:r)+1)*t+r)+1)+e},easeInOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(r*=1.525))*t-r))+e:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:At,easeOutBounce:Et,easeInOutBounce:function(t,e,i,n){return t<n/2?.5*At(2*t,0,i,n)+e:.5*Et(2*t-n,0,i,n)+.5*i+e}},function(t){"use strict";var u,e,f,i,n,_=t.fabric||(t.fabric={}),g=_.util.object.extend,d=_.util.object.clone,p=_.util.toFixed,x=_.util.parseUnit,m=_.util.multiplyTransformMatrices,v={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},b="font-size",C="clip-path";function r(t){return new RegExp("^("+t.join("|")+")\\b","i")}function S(t,e){for(var i,n=[],r=0,s=e.length;r<s;r++)i=e[r],i=t.getElementsByTagName(i),n=n.concat(Array.prototype.slice.call(i));return n}function T(t,e,i){t[i]=Math.tan(_.util.degreesToRadians(e[0]))}function w(t,e){var i,n={};for(i in _.cssRules[e])if(function(t,e){var i,n=!0;(i=s(t,e.pop()))&&e.length&&(n=function(t,e){var i,n=!0;for(;t.parentNode&&1===t.parentNode.nodeType&&e.length;)n&&(i=e.pop()),t=t.parentNode,n=s(t,i);return 0===e.length}(t,e));return i&&n&&0===e.length}(t,i.split(" ")))for(var r in _.cssRules[e][i])n[r]=_.cssRules[e][i][r];return n}function s(t,e){var i,n=t.nodeName,r=t.getAttribute("class"),t=t.getAttribute("id"),s=new RegExp("^"+n,"i");if(e=e.replace(s,""),t&&e.length&&(s=new RegExp("#"+t+"(?![a-zA-Z\\-]+)","i"),e=e.replace(s,"")),r&&e.length)for(i=(r=r.split(" ")).length;i--;)s=new RegExp("\\."+r[i]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(s,"");return 0===e.length}function O(t,e){var i;if(i=t.getElementById?t.getElementById(e):i)return i;for(var n,r=t.getElementsByTagName("*"),s=0,o=r.length;s<o;s++)if(e===(n=r[s]).getAttribute("id"))return n}_.svgValidTagNamesRegEx=r(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),_.svgViewBoxElementsRegEx=r(["symbol","image","marker","pattern","view","svg"]),_.svgInvalidAncestorsRegEx=r(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),_.svgValidParentsRegEx=r(["symbol","g","a","svg","clipPath","defs"]),_.cssRules={},_.gradientDefs={},_.clipPaths={},_.parseTransformAttribute=(u=_.iMatrix,t=_.reNum,e=_.commaWsp,f="(?:"+("(?:(matrix)\\s*\\(\\s*("+t+")"+e+"("+t+")"+e+"("+t+")"+e+"("+t+")"+e+"("+t+")"+e+"("+t+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+t+")(?:"+e+"("+t+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+t+")(?:"+e+"("+t+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+t+")(?:"+e+"("+t+")"+e+"("+t+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+t+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+t+")\\s*\\))")+")",i=new RegExp("^\\s*(?:"+("(?:"+f+"(?:"+e+"*"+f+")*)")+"?)\\s*$"),n=new RegExp(f,"g"),function(t){var c=u.concat(),l=[];if(!t||!i.test(t))return c;t.replace(n,function(t){var e,i,n,r,s,o,t=new RegExp(f).exec(t).filter(function(t){return!!t}),a=t[1],h=t.slice(2).map(parseFloat);switch(a){case"translate":o=h,(s=c)[4]=o[0],2===o.length&&(s[5]=o[1]);break;case"rotate":h[0]=_.util.degreesToRadians(h[0]),s=c,o=h,e=_.util.cos(o[0]),i=_.util.sin(o[0]),r=n=0,3===o.length&&(n=o[1],r=o[2]),s[0]=e,s[1]=i,s[2]=-i,s[3]=e,s[4]=n-(e*n-i*r),s[5]=r-(i*n+e*r);break;case"scale":i=c,e=(n=h)[0],n=2===n.length?n[1]:n[0],i[0]=e,i[3]=n;break;case"skewX":T(c,h,2);break;case"skewY":T(c,h,1);break;case"matrix":c=h}l.push(c.concat()),c=u.concat()});for(var e=l[0];1<l.length;)l.shift(),e=_.util.multiplyTransformMatrices(e,l[0]);return e});var A=new RegExp("^\\s*("+_.reNum+"+)\\s*,?\\s*("+_.reNum+"+)\\s*,?\\s*("+_.reNum+"+)\\s*,?\\s*("+_.reNum+"+)\\s*$");function E(t){if(!_.svgViewBoxElementsRegEx.test(t.nodeName))return{};var e,i,n,r=t.getAttribute("viewBox"),s=1,o=1,a=t.getAttribute("width"),h=t.getAttribute("height"),c=t.getAttribute("x")||0,l=t.getAttribute("y")||0,u=t.getAttribute("preserveAspectRatio")||"",f=!r||!(r=r.match(A)),d=!a||!h||"100%"===a||"100%"===h,g=f&&d,p={},m="",v=0,y=0;if(p.width=0,p.height=0,p.toBeParsed=g,f&&(c||l)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(m=" translate("+x(c)+" "+x(l)+") ",i=(t.getAttribute("transform")||"")+m,t.setAttribute("transform",i),t.removeAttribute("x"),t.removeAttribute("y")),!g)if(f)p.width=x(a),p.height=x(h);else if(g=-parseFloat(r[1]),f=-parseFloat(r[2]),e=parseFloat(r[3]),r=parseFloat(r[4]),p.minX=g,p.minY=f,p.viewBoxWidth=e,p.viewBoxHeight=r,d?(p.width=e,p.height=r):(p.width=x(a),p.height=x(h),s=p.width/e,o=p.height/r),"none"!==(u=_.util.parsePreserveAspectRatioAttribute(u)).alignX&&("meet"===u.meetOrSlice&&(o=s=o<s?o:s),"slice"===u.meetOrSlice&&(o=s=o<s?s:o),v=p.width-e*s,y=p.height-r*s,"Mid"===u.alignX&&(v/=2),"Mid"===u.alignY&&(y/=2),"Min"===u.alignX&&(v=0),"Min"===u.alignY&&(y=0)),1!==s||1!==o||0!=g||0!=f||0!==c||0!==l){if(i=(m=(c||l)&&"#document"!==t.parentNode.nodeName?" translate("+x(c)+" "+x(l)+") ":m)+" matrix("+s+" 0 0 "+o+" "+(g*s+v)+" "+(f*o+y)+") ","svg"===t.nodeName){for(n=t.ownerDocument.createElementNS(_.svgNS,"g");t.firstChild;)n.appendChild(t.firstChild);t.appendChild(n)}else(n=t).removeAttribute("x"),n.removeAttribute("y"),i=n.getAttribute("transform")+i;n.setAttribute("transform",i)}return p}_.parseSVGDocument=function(t,i,e,n){if(t){!function(t){for(var e=S(t,["use","svg:use"]),i=0;e.length&&i<e.length;){var n=e[i],r=n.getAttribute("xlink:href")||n.getAttribute("href");if(null===r)return;var s,r=r.slice(1),o=n.getAttribute("x")||0,a=n.getAttribute("y")||0,h=O(t,r).cloneNode(!0),c=(h.getAttribute("transform")||"")+" translate("+o+", "+a+")",r=e.length,l=_.svgNS;if(E(h),/^svg$/i.test(h.nodeName)){for(var u,f=h.ownerDocument.createElementNS(l,"g"),d=0,g=(u=h.attributes).length;d<g;d++)s=u.item(d),f.setAttributeNS(l,s.nodeName,s.nodeValue);for(;h.firstChild;)f.appendChild(h.firstChild);h=f}for(d=0,g=(u=n.attributes).length;d<g;d++)"x"!==(s=u.item(d)).nodeName&&"y"!==s.nodeName&&"xlink:href"!==s.nodeName&&"href"!==s.nodeName&&("transform"===s.nodeName?c=s.nodeValue+" "+c:h.setAttribute(s.nodeName,s.nodeValue));h.setAttribute("transform",c),h.setAttribute("instantiated_by_use","1"),h.removeAttribute("id"),n.parentNode.replaceChild(h,n),e.length===r&&i++}}(t);var r=_.Object.__uid++,s=E(t),o=_.util.toArray(t.getElementsByTagName("*"));if(s.crossOrigin=n&&n.crossOrigin,s.svgUid=r,0===o.length&&_.isLikelyNode){for(var a=[],h=0,c=(o=t.selectNodes('//*[name(.)!="svg"]')).length;h<c;h++)a[h]=o[h];o=a}var l,u=o.filter(function(t){return E(t),_.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t=t&&t.parentNode;)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return 1}(t,_.svgInvalidAncestorsRegEx)});u&&u.length?(l={},o.filter(function(t){return"clipPath"===t.nodeName.replace("svg:","")}).forEach(function(t){var e=t.getAttribute("id");l[e]=_.util.toArray(t.getElementsByTagName("*")).filter(function(t){return _.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))})}),_.gradientDefs[r]=_.getGradientDefs(t),_.cssRules[r]=_.getCSSRules(t),_.clipPaths[r]=l,_.parseElements(u,function(t,e){i&&(i(t,s,e,o),delete _.gradientDefs[r],delete _.cssRules[r],delete _.clipPaths[r])},d(s),e,n)):i&&i([],{})}};var o=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+_.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+_.reNum+"))?\\s+(.*)");g(_,{parseFontDeclaration:function(t,e){var i,n,r,s,t=t.match(o);t&&(i=t[1],n=t[3],r=t[4],s=t[5],t=t[6],i&&(e.fontStyle=i),n&&(e.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),r&&(e.fontSize=x(r)),t&&(e.fontFamily=t),s&&(e.lineHeight="normal"===s?1:s))},getGradientDefs:function(t){for(var e,i=S(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),n=0,r={},n=i.length;n--;)(e=i[n]).getAttribute("xlink:href")&&!function t(e,i){var n="xlink:href",r=O(e,i.getAttribute(n).slice(1));if(r&&r.getAttribute(n)&&t(e,r),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(t){r&&!i.hasAttribute(t)&&r.hasAttribute(t)&&i.setAttribute(t,r.getAttribute(t))}),!i.children.length)for(var s=r.cloneNode(!0);s.firstChild;)i.appendChild(s.firstChild);i.removeAttribute(n)}(t,e),r[e.getAttribute("id")]=e;return r},parseAttributes:function(i,t,e){if(i){var n,r,s={},o=(void 0===e&&(e=i.getAttribute("svgUid")),i.parentNode&&_.svgValidParentsRegEx.test(i.parentNode.nodeName)&&(s=_.parseAttributes(i.parentNode,t,e)),t.reduce(function(t,e){return(n=i.getAttribute(e))&&(t[e]=n),t},{})),t=g(w(i,e),_.parseStyleAttribute(i)),o=g(o,t);t[C]&&i.setAttribute(C,t[C]),r=e=s.fontSize||_.Text.DEFAULT_SVG_FONT_SIZE,o[b]&&(o[b]=r=x(o[b],e));var a,h,c,l={};for(h in o)a=function(t,e,i,n){var r,s=Array.isArray(e);if("fill"!==t&&"stroke"!==t||"none"!==e){if("strokeUniform"===t)return"non-scaling-stroke"===e;if("strokeDashArray"===t)e="none"===e?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)e=i&&i.transformMatrix?m(i.transformMatrix,_.parseTransformAttribute(e)):_.parseTransformAttribute(e);else if("visible"===t)e="none"!==e&&"hidden"!==e,i&&!1===i.visible&&(e=!1);else if("opacity"===t)e=parseFloat(e),i&&void 0!==i.opacity&&(e*=i.opacity);else if("textAnchor"===t)e="start"===e?"left":"end"===e?"right":"center";else if("charSpacing"===t)r=x(e,n)/n*1e3;else if("paintFirst"===t){var i=e.indexOf("fill"),o=e.indexOf("stroke"),e="fill";(-1<i&&-1<o&&o<i||-1===i&&-1<o)&&(e="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return e;if("imageSmoothing"===t)return"optimizeQuality"===e;r=s?e.map(x):x(e,n)}}else e="";return!s&&isNaN(r)?e:r}(c=(c=h)in v?v[c]:c,o[h],s,r),l[c]=a;l&&l.font&&_.parseFontDeclaration(l.font,l);var u,t=g(s,l);if(_.svgValidParentsRegEx.test(i.nodeName))return t;var f,d=t;for(f in y)if(void 0!==d[y[f]]&&""!==d[f]){if(void 0===d[f]){if(!_.Object.prototype[f])continue;d[f]=_.Object.prototype[f]}0!==d[f].indexOf("url(")&&(u=new _.Color(d[f]),d[f]=u.setAlpha(p(u.getAlpha()*d[y[f]],2)).toRgba())}return d}},parseElements:function(t,e,i,n,r){new _.ElementsParser(t,e,i,n,r).parse()},parseStyleAttribute:function(t){var e,i,n,r={},t=t.getAttribute("style");if(t)if("string"==typeof t)e=r,t.replace(/;\s*$/,"").split(";").forEach(function(t){t=t.split(":");i=t[0].trim().toLowerCase(),n=t[1].trim(),e[i]=n});else{var s,o,a,h=t,c=r;for(a in h)void 0!==h[a]&&(s=a.toLowerCase(),o=h[a],c[s]=o)}return r},parsePointsAttribute:function(t){if(!t)return null;for(var e=[],i=0,n=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;i<n;i+=2)e.push({x:parseFloat(t[i]),y:parseFloat(t[i+1])});return e},getCSSRules:function(t){for(var e=t.getElementsByTagName("style"),o={},a=0,h=e.length;a<h;a++){var i=e[a].textContent;""!==(i=i.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&i.split("}").filter(function(t){return t.trim()}).forEach(function(t){var e=t.split("{"),i={},n=e[1].trim().split(";").filter(function(t){return t.trim()});for(a=0,h=n.length;a<h;a++){var r=n[a].split(":"),s=r[0].trim(),r=r[1].trim();i[s]=r}(t=e[0].trim()).split(",").forEach(function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(o[t]?_.util.object.extend(o[t],i):o[t]=_.util.object.clone(i))})})}return o},loadSVGFromURL:function(t,r,e,i){t=t.replace(/^\n\s*/,"").trim(),new _.util.request(t,{method:"get",onComplete:function(t){t=t.responseXML;if(!t||!t.documentElement)return r&&r(null),!1;_.parseSVGDocument(t.documentElement,function(t,e,i,n){r&&r(t,e,i,n)},e,i)}})},loadSVGFromString:function(t,r,e,i){t=(new _.window.DOMParser).parseFromString(t.trim(),"text/xml");_.parseSVGDocument(t.documentElement,function(t,e,i,n){r(t,e,i,n)},e,i)}})}(i),z.ElementsParser=function(t,e,i,n,r,s){this.elements=t,this.callback=e,this.options=i,this.reviver=n,this.svgUid=i&&i.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=s},(t=z.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},t.createObjects=function(){var i=this;this.elements.forEach(function(t,e){t.setAttribute("svgUid",i.svgUid),i.createObject(t,e)})},t.findTag=function(t){return z[z.util.string.capitalize(t.tagName.replace("svg:",""))]},t.createObject=function(t,e){var i=this.findTag(t);if(i&&i.fromElement)try{i.fromElement(t,this.createCallback(e,t),this.options)}catch(t){z.log(t)}else this.checkIfDone()},t.createCallback=function(i,n){var r=this;return function(t){var e;r.resolveGradient(t,n,"fill"),r.resolveGradient(t,n,"stroke"),t instanceof z.Image&&t._originalElement&&(e=t.parsePreserveAspectRatioAttribute(n)),t._removeTransformMatrix(e),r.resolveClipPath(t,n),r.reviver&&r.reviver(n,t),r.instances[i]=t,r.checkIfDone()}},t.extractPropertyDefinition=function(t,e,i){var t=t[e],e=this.regexUrl;if(e.test(t))return e.lastIndex=0,t=e.exec(t)[1],e.lastIndex=0,z[i][this.svgUid][t]},t.resolveGradient=function(t,e,i){var n=this.extractPropertyDefinition(t,i,"gradientDefs");n&&(e=e.getAttribute(i+"-opacity"),n=z.Gradient.fromElement(n,t,e,this.options),t.set(i,n))},t.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},t.resolveClipPath=function(t,e){var i,n=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(n){for(var r=[],s=z.util.invertTransform(t.calcTransformMatrix()),o=n[0].parentNode,a=e;a.parentNode&&a.getAttribute("clip-path")!==t.clipPath;)a=a.parentNode;a.parentNode.appendChild(o);for(var h=0;h<n.length;h++)i=n[h],this.findTag(i).fromElement(i,this.createClipPathCallback(t,r),this.options);n=1===r.length?r[0]:new z.Group(r),e=z.util.multiplyTransformMatrices(s,n.calcTransformMatrix()),n.clipPath&&this.resolveClipPath(n,a);o=z.util.qrDecompose(e);n.flipX=!1,n.flipY=!1,n.set("scaleX",o.scaleX),n.set("scaleY",o.scaleY),n.angle=o.angle,n.skewX=o.skewX,n.skewY=0,n.setPositionByOrigin({x:o.translateX,y:o.translateY},"center","center"),t.clipPath=n}else delete t.clipPath},t.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances,this.elements))},function(t){"use strict";t=t.fabric||(t.fabric={});function i(t,e){this.x=t,this.y=e}t.Point?t.warn("fabric.Point is already defined"):(t.Point=i).prototype={type:"point",constructor:i,add:function(t){return new i(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new i(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new i(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new i(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new i(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new i(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new i(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,t=this.y-t.y;return Math.sqrt(e*e+t*t)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new i(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new i(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i},clone:function(){return new i(this.x,this.y)}}}(i),function(t){"use strict";var a=t.fabric||(t.fabric={});function h(t){this.status=t,this.points=[]}a.Intersection?a.warn("fabric.Intersection is already defined"):(a.Intersection=h,a.Intersection.prototype={constructor:h,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},a.Intersection.intersectLineLine=function(t,e,i,n){var r,s=(n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x),o=(e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x),n=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);return 0!=n?(i=o/n,0<=(n=s/n)&&n<=1&&0<=i&&i<=1?(r=new h("Intersection")).appendPoint(new a.Point(t.x+n*(e.x-t.x),t.y+n*(e.y-t.y))):r=new h):r=new h(0==s||0==o?"Coincident":"Parallel"),r},a.Intersection.intersectLinePolygon=function(t,e,i){for(var n,r,s=new h,o=i.length,a=0;a<o;a++)r=i[a],n=i[(a+1)%o],r=h.intersectLineLine(t,e,r,n),s.appendPoints(r.points);return 0<s.points.length&&(s.status="Intersection"),s},a.Intersection.intersectPolygonPolygon=function(t,e){for(var i=new h,n=t.length,r=0;r<n;r++){var s=t[r],o=t[(r+1)%n],s=h.intersectLinePolygon(s,o,e);i.appendPoints(s.points)}return 0<i.points.length&&(i.status="Intersection"),i},a.Intersection.intersectPolygonRectangle=function(t,e,i){var n=e.min(i),e=e.max(i),i=new a.Point(e.x,n.y),r=new a.Point(n.x,e.y),s=h.intersectLinePolygon(n,i,t),i=h.intersectLinePolygon(i,e,t),e=h.intersectLinePolygon(e,r,t),r=h.intersectLinePolygon(r,n,t),n=new h;return n.appendPoints(s.points),n.appendPoints(i.points),n.appendPoints(e.points),n.appendPoints(r.points),0<n.points.length&&(n.status="Intersection"),n})}(i),function(t){"use strict";var c=t.fabric||(t.fabric={});function a(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function h(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}c.Color?c.warn("fabric.Color is already defined."):(c.Color=a,c.Color.prototype={_tryParsingColor:function(t){var e;(e=(e=(e=(e=(e="transparent"===(t=t in a.colorNameMap?a.colorNameMap[t]:t)?[255,255,255,0]:e)||a.sourceFromHex(t))||a.sourceFromRgb(t))||a.sourceFromHsl(t))||[0,0,0,1])&&this.setSource(e)},_rgbToHsl:function(t,e,i){var n,r=c.util.array.max([t/=255,e/=255,i/=255]),s=c.util.array.min([t,e,i]),o=(r+s)/2;if(r===s)n=h=0;else{var a=r-s,h=.5<o?a/(2-r-s):a/(r+s);switch(r){case t:n=(e-i)/a+(e<i?6:0);break;case e:n=(i-t)/a+2;break;case i:n=(t-e)/a+4}n/=6}return[Math.round(360*n),Math.round(100*h),Math.round(100*o)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),t=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e=this.getSource(),i=e[0].toString(16);return i=1===i.length?"0"+i:i,t=1===(t=e[1].toString(16)).length?"0"+t:t,e=1===(e=e[2].toString(16)).length?"0"+e:e,i.toUpperCase()+t.toUpperCase()+e.toUpperCase()},toHexa:function(){var t=this.getSource(),t=Math.round(255*t[3]);return t=1===(t=t.toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),t=t[3];return this.setSource([e,e,e,t]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),e=e[3];return t=t||127,i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,e]),this},overlayWith:function(t){t instanceof a||(t=new a(t));for(var e=[],i=this.getAlpha(),n=this.getSource(),r=t.getSource(),s=0;s<3;s++)e.push(Math.round(.5*n[s]+.5*r[s]));return e[3]=i,this.setSource(e),this}},c.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,c.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,c.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,c.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},c.Color.fromRgb=function(t){return a.fromSource(a.sourceFromRgb(t))},c.Color.sourceFromRgb=function(t){var e,i,n,t=t.match(a.reRGBa);if(t)return e=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),i=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),n=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1),[parseInt(e,10),parseInt(i,10),parseInt(n,10),t[4]?parseFloat(t[4]):1]},c.Color.fromRgba=a.fromRgb,c.Color.fromHsl=function(t){return a.fromSource(a.sourceFromHsl(t))},c.Color.sourceFromHsl=function(t){var e,i,n,r,s,o,t=t.match(a.reHSLa);if(t)return e=(parseFloat(t[1])%360+360)%360/360,n=parseFloat(t[2])/(/%$/.test(t[2])?100:1),i=parseFloat(t[3])/(/%$/.test(t[3])?100:1),0==n?r=s=o=i:(r=h(n=2*i-(i=i<=.5?i*(1+n):i+n-i*n),i,e+1/3),s=h(n,i,e),o=h(n,i,e-1/3)),[Math.round(255*r),Math.round(255*s),Math.round(255*o),t[4]?parseFloat(t[4]):1]},c.Color.fromHsla=a.fromHsl,c.Color.fromHex=function(t){return a.fromSource(a.sourceFromHex(t))},c.Color.sourceFromHex=function(t){var e,i,n,r,s;if(t.match(a.reHex))return e=3===(t=t.slice(t.indexOf("#")+1)).length||4===t.length,s=8===t.length||4===t.length,i=e?t.charAt(0)+t.charAt(0):t.substring(0,2),n=e?t.charAt(1)+t.charAt(1):t.substring(2,4),r=e?t.charAt(2)+t.charAt(2):t.substring(4,6),s=s?e?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF",[parseInt(i,16),parseInt(n,16),parseInt(r,16),parseFloat((parseInt(s,16)/255).toFixed(2))]},c.Color.fromSource=function(t){var e=new a;return e.setSource(t),e})}(i),function(t){"use strict";var a=t.fabric||(t.fabric={}),r=["e","se","s","sw","w","nw","n","ne","e"],s=["ns","nesw","ew","nwse"],o={},h="left",c="top",l="right",u="bottom",f="center",d={top:u,bottom:c,left:l,right:h,center:f},g=a.util.radiansToDegrees,p=Math.sign||function(t){return(0<t)-(t<0)||+t};function m(t,e){t=t.angle+g(Math.atan2(e.y,e.x))+360;return Math.round(t%360/45)}function v(t,e){var i=e.transform.target,n=i.canvas,r=a.util.object.clone(e);r.target=i,n&&n.fire("object:"+t,r),i.fire(t,e)}function y(t,e){e=e.canvas,t=t[e.uniScaleKey];return e.uniformScaling&&!t||!e.uniformScaling&&t}function _(t){return t.originX===f&&t.originY===f}function x(t,e,i){var n=t.lockScalingX,t=t.lockScalingY;return!(!n||!t)||(!(e||!n&&!t||!i)||(!(!n||"x"!==e)||!(!t||"y"!==e)))}function b(t,e,i,n){return{e:t,transform:e,pointer:{x:i,y:n}}}function C(o){return function(t,e,i,n){var r=e.target,s=r.getCenterPoint(),s=r.translateToOriginPoint(s,e.originX,e.originY),t=o(t,e,i,n);return r.setPositionByOrigin(s,e.originX,e.originY),t}}function S(s,o){return function(t,e,i,n){var r=o(t,e,i,n);return r&&v(s,b(t,e,i,n)),r}}function T(t,e,i,n,r){var s=t.target,t=s.controls[t.corner],o=s.canvas.getZoom(),o=s.padding/o,s=s.toLocalPoint(new a.Point(n,r),e,i);return s.x>=o&&(s.x-=o),s.x<=-o&&(s.x+=o),s.y>=o&&(s.y-=o),s.y<=o&&(s.y+=o),s.x-=t.offsetX,s.y-=t.offsetY,s}function w(t){return t.flipX!==t.flipY}function O(t,e,i,n,r){0!==t[e]&&(e=r/t._getTransformedDimensions()[n]*t[i],t.set(i,e))}function A(t,e,i,n){var r,s=e.target,o=s._getTransformedDimensions(0,s.skewY),i=T(e,e.originX,e.originY,i,n),n=Math.abs(2*i.x)-o.x,i=s.skewX,n=(n<2?r=0:(r=g(Math.atan2(n/s.scaleX,o.y/s.scaleY)),e.originX===h&&e.originY===u&&(r=-r),e.originX===l&&e.originY===c&&(r=-r),w(s)&&(r=-r)),i!==r);return n&&(o=s._getTransformedDimensions().y,s.set("skewX",r),O(s,"skewY","scaleY","y",o)),n}function E(t,e,i,n){var r,s=e.target,o=s._getTransformedDimensions(s.skewX,0),i=T(e,e.originX,e.originY,i,n),n=Math.abs(2*i.y)-o.y,i=s.skewY,n=(n<2?r=0:(r=g(Math.atan2(n/s.scaleY,o.x/s.scaleX)),e.originX===h&&e.originY===u&&(r=-r),e.originX===l&&e.originY===c&&(r=-r),w(s)&&(r=-r)),i!==r);return n&&(o=s._getTransformedDimensions().x,s.set("skewY",r),O(s,"skewX","scaleX","x",o)),n}function k(t,e,i,n,r){var s=e.target,o=s.lockScalingX,a=s.lockScalingY,r=(r=r||{}).by,t=y(t,s),h=x(s,r,t),c=e.gestureScale;if(h)return!1;if(c)l=e.scaleX*c,u=e.scaleY*c;else{if(h=T(e,e.originX,e.originY,i,n),c="y"!==r?p(h.x):1,i="x"!==r?p(h.y):1,e.signX||(e.signX=c),e.signY||(e.signY=i),s.lockScalingFlip&&(e.signX!==c||e.signY!==i))return!1;var l,u,n=s._getTransformedDimensions();u=t&&!r?(t=Math.abs(h.x)+Math.abs(h.y),f=e.original,t=t/(Math.abs(n.x*f.scaleX/s.scaleX)+Math.abs(n.y*f.scaleY/s.scaleY)),l=f.scaleX*t,f.scaleY*t):(l=Math.abs(h.x*s.scaleX/n.x),Math.abs(h.y*s.scaleY/n.y)),_(e)&&(l*=2,u*=2),e.signX!==c&&"y"!==r&&(e.originX=d[e.originX],l*=-1,e.signX=c),e.signY!==i&&"x"!==r&&(e.originY=d[e.originY],u*=-1,e.signY=i)}var f=s.scaleX,t=s.scaleY;return r?("x"===r&&s.set("scaleX",l),"y"===r&&s.set("scaleY",u)):(o||s.set("scaleX",l),a||s.set("scaleY",u)),f!==s.scaleX||t!==s.scaleY}o.scaleCursorStyleHandler=function(t,e,i){var t=y(t,i),n="";return 0!==e.x&&0===e.y?n="x":0===e.x&&0!==e.y&&(n="y"),x(i,n,t)?"not-allowed":(n=m(i,e),r[n]+"-resize")},o.skewCursorStyleHandler=function(t,e,i){var n="not-allowed";return 0!==e.x&&i.lockSkewingY||0!==e.y&&i.lockSkewingX?n:(n=m(i,e)%4,s[n]+"-resize")},o.scaleSkewCursorStyleHandler=function(t,e,i){return t[i.canvas.altActionKey]?o.skewCursorStyleHandler(t,e,i):o.scaleCursorStyleHandler(t,e,i)},o.rotationWithSnapping=S("rotating",C(function(t,e,i,n){var r,s=e.target,o=s.translateToOriginPoint(s.getCenterPoint(),e.originX,e.originY);return!s.lockRotation&&(r=Math.atan2(e.ey-o.y,e.ex-o.x),n=Math.atan2(n-o.y,i-o.x),i=g(n-r+e.theta),o=!0,0<s.snapAngle&&(n=s.snapAngle,r=s.snapThreshold||n,e=Math.ceil(i/n)*n,n=Math.floor(i/n)*n,Math.abs(i-n)<r?i=n:Math.abs(i-e)<r&&(i=e)),i<0&&(i=360+i),o=s.angle!==(i%=360),s.angle=i,o)})),o.scalingEqually=S("scaling",C(function(t,e,i,n){return k(t,e,i,n)})),o.scalingX=S("scaling",C(function(t,e,i,n){return k(t,e,i,n,{by:"x"})})),o.scalingY=S("scaling",C(function(t,e,i,n){return k(t,e,i,n,{by:"y"})})),o.scalingYOrSkewingX=function(t,e,i,n){return t[e.target.canvas.altActionKey]?o.skewHandlerX(t,e,i,n):o.scalingY(t,e,i,n)},o.scalingXOrSkewingY=function(t,e,i,n){return t[e.target.canvas.altActionKey]?o.skewHandlerY(t,e,i,n):o.scalingX(t,e,i,n)},o.changeWidth=S("resizing",C(function(t,e,i,n){var r=e.target,i=T(e,e.originX,e.originY,i,n),n=r.strokeWidth/(r.strokeUniform?r.scaleX:1),e=_(e)?2:1,s=r.width,i=Math.abs(i.x*e/r.scaleX)-n;return r.set("width",Math.max(i,0)),s!==i})),o.skewHandlerX=function(t,e,i,n){var r,s=e.target,o=s.skewX,a=e.originY;return!s.lockSkewingX&&(0===o?r=0<T(e,f,f,i,n).x?h:l:(0<o&&(r=a===c?h:l),o<0&&(r=a===c?l:h),w(s)&&(r=r===h?l:h)),e.originX=r,S("skewing",C(A))(t,e,i,n))},o.skewHandlerY=function(t,e,i,n){var r,s=e.target,o=s.skewY,a=e.originX;return!s.lockSkewingY&&(0===o?r=0<T(e,f,f,i,n).y?c:u:(0<o&&(r=a===h?c:u),o<0&&(r=a===h?u:c),w(s)&&(r=r===c?u:c)),e.originY=r,S("skewing",C(E))(t,e,i,n))},o.dragHandler=function(t,e,i,n){var r=e.target,s=i-e.offsetX,o=n-e.offsetY,a=!r.get("lockMovementX")&&r.left!==s,h=!r.get("lockMovementY")&&r.top!==o;return a&&r.set("left",s),h&&r.set("top",o),(a||h)&&v("moving",b(t,e,i,n)),a||h},o.scaleOrSkewActionName=function(t,e,i){return t=t[i.canvas.altActionKey],0===e.x?t?"skewX":"scaleY":0===e.y?t?"skewY":"scaleX":void 0},o.rotationStyleHandler=function(t,e,i){return i.lockRotation?"not-allowed":e.cursorStyle},o.fireEvent=v,o.wrapWithFixedAnchor=C,o.wrapWithFireEvent=S,o.getLocalPoint=T,a.controlsUtils=o}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),u=t.util.degreesToRadians,t=t.controlsUtils;t.renderCircleControl=function(t,e,i,n,r){n=n||{};var s,o=this.sizeX||n.cornerSize||r.cornerSize,a=this.sizeY||n.cornerSize||r.cornerSize,h=(c=(void 0!==n.transparentCorners?n:r).transparentCorners)?"stroke":"fill",c=!c&&(n.cornerStrokeColor||r.cornerStrokeColor),l=e,u=i;t.save(),t.fillStyle=n.cornerColor||r.cornerColor,t.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor,a<o?(t.scale(1,a/(s=o)),u=i*o/a):o<a?(t.scale(o/(s=a),1),l=e*a/o):s=o,t.lineWidth=1,t.beginPath(),t.arc(l,u,s/2,0,2*Math.PI,!1),t[h](),c&&t.stroke(),t.restore()},t.renderSquareControl=function(t,e,i,n,r){n=n||{};var s=this.sizeX||n.cornerSize||r.cornerSize,o=this.sizeY||n.cornerSize||r.cornerSize,a=(h=(void 0!==n.transparentCorners?n:r).transparentCorners)?"stroke":"fill",h=!h&&(n.cornerStrokeColor||r.cornerStrokeColor),c=s/2,l=o/2;t.save(),t.fillStyle=n.cornerColor||r.cornerColor,t.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor,t.lineWidth=1,t.translate(e,i),t.rotate(u(r.angle)),t[a+"Rect"](-c,-l,s,o),h&&t.strokeRect(-c,-l,s,o),t.restore()}}(i),function(t){"use strict";var f=t.fabric||(t.fabric={});f.Control=function(t){for(var e in t)this[e]=t[e]},f.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){t=t._controlsVisibility;return t&&void 0!==t[e]?t[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,e){return f.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},e)},calcCornerCoords:function(t,e,i,n,r){var s,o,a,h,c,l,u=r?this.touchSizeX:this.sizeX,r=r?this.touchSizeY:this.sizeY;return u&&r&&u!==r?(h=Math.atan2(r,u),c=Math.sqrt(u*u+r*r)/2,l=h-f.util.degreesToRadians(t),h=Math.PI/2-h-f.util.degreesToRadians(t),s=c*f.util.cos(l),o=c*f.util.sin(l),a=c*f.util.cos(h),h=c*f.util.sin(h)):(c=.7071067812*(u&&r?u:e),l=f.util.degreesToRadians(45-t),s=a=c*f.util.cos(l),o=h=c*f.util.sin(l)),{tl:{x:i-h,y:n-a},tr:{x:i+s,y:n-o},bl:{x:i-s,y:n+o},br:{x:i+h,y:n+a}}},render:function(t,e,i,n,r){("circle"===((n=n||{}).cornerStyle||r.cornerStyle)?f.controlsUtils.renderCircleControl:f.controlsUtils.renderSquareControl).call(this,t,e,i,n,r)}}}(i),J=z.util.object.clone,z.Gradient=z.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){(e=e||{}).coords||(e.coords={});var t,i=this;Object.keys(e).forEach(function(t){i[t]=e[t]}),this.id?this.id+="_"+z.Object.__uid++:this.id=z.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(t){for(var e in t){var i=new z.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform&&this.gradientTransform.concat()};return z.util.populateWithProperties(this,e,t),e},toSVG:function(t,e){var i,n=J(this.coords,!0),e=e||{},r=J(this.colorStops,!0),s=n.r1>n.r2,o=(this.gradientTransform||z.iMatrix).concat(),a=-this.offsetX,h=-this.offsetY,c=!!e.additionalTransform,l="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(r.sort(function(t,e){return t.offset-e.offset}),"objectBoundingBox"==l?(a/=t.width,h/=t.height):(a+=t.width/2,h+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(a-=t.pathOffset.x,h-=t.pathOffset.y),o[4]-=a,o[5]-=h,t='id="SVGID_'+this.id+'" gradientUnits="'+l+'"',t+=' gradientTransform="'+(c?e.additionalTransform+" ":"")+z.util.matrixToSVG(o)+'" ',"linear"===this.type?i=["<linearGradient ",t,' x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'">\n']:"radial"===this.type&&(i=["<radialGradient ",t,' cx="',s?n.x1:n.x2,'" cy="',s?n.y1:n.y2,'" r="',s?n.r1:n.r2,'" fx="',s?n.x2:n.x1,'" fy="',s?n.y2:n.y1,'">\n']),"radial"===this.type){if(s)for((r=r.concat()).reverse(),f=0,d=r.length;f<d;f++)r[f].offset=1-r[f].offset;a=Math.min(n.r1,n.r2);if(0<a)for(var u=a/Math.max(n.r1,n.r2),f=0,d=r.length;f<d;f++)r[f].offset+=u*(1-r[f].offset)}for(f=0,d=r.length;f<d;f++){var g=r[f];i.push("<stop ",'offset="',100*g.offset+"%",'" style="stop-color:',g.color,void 0!==g.opacity?";stop-opacity: "+g.opacity:";",'"/>\n')}return i.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),i.join("")},toLive:function(t){var e,i,n,r=z.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(e=t.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2)),i=0,n=this.colorStops.length;i<n;i++){var s=this.colorStops[i].color,o=this.colorStops[i].opacity,a=this.colorStops[i].offset;void 0!==o&&(s=new z.Color(s).setAlpha(o).toRgba()),e.addColorStop(a,s)}return e}}}),z.util.object.extend(z.Gradient,{fromElement:function(t,e,i,n){for(var r,s,o,a,h,c,l,u=(u=parseFloat(i)/(/%$/.test(i)?100:1))<0?0:1<u?1:u,f=(isNaN(u)&&(u=1),t.getElementsByTagName("stop")),i="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",d=t.getAttribute("gradientTransform")||"",g=[],p=0,m=0,v="linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(r="linear",{x1:(s=t).getAttribute("x1")||0,y1:s.getAttribute("y1")||0,x2:s.getAttribute("x2")||"100%",y2:s.getAttribute("y2")||0}):(r="radial",{x1:(s=t).getAttribute("fx")||s.getAttribute("cx")||"50%",y1:s.getAttribute("fy")||s.getAttribute("cy")||"50%",r1:0,x2:s.getAttribute("cx")||"50%",y2:s.getAttribute("cy")||"50%",r2:s.getAttribute("r")||"50%"}),y=f.length;y--;)g.push(function(t,e){var i,n,r,s=t.getAttribute("style"),o=t.getAttribute("offset")||0;if(o=(o=parseFloat(o)/(/%$/.test(o)?100:1))<0?0:1<o?1:o,s){var a=s.split(/\s*;\s*/);for(""===a[a.length-1]&&a.pop(),r=a.length;r--;){var h=a[r].split(/\s*:\s*/),c=h[0].trim(),h=h[1].trim();"stop-color"===c?i=h:"stop-opacity"===c&&(n=h)}}return i=i||t.getAttribute("stop-color")||"rgb(0,0,0)",n=n||t.getAttribute("stop-opacity"),s=(i=new z.Color(i)).getAlpha(),n=isNaN(parseFloat(n))?1:parseFloat(n),n*=s*e,{offset:o,color:i.toRgb(),opacity:n}}(f[y],u));return d=z.parseTransformAttribute(d),o=v,a=n,h=i,Object.keys(o).forEach(function(t){"Infinity"===(c=o[t])?l=1:"-Infinity"===c?l=0:(l=parseFloat(o[t],10),"string"==typeof c&&/^(\d+\.\d+)%|(\d+)%$/.test(c)&&(l*=.01,"pixels"===h&&("x1"!==t&&"x2"!==t&&"r2"!==t||(l*=a.viewBoxWidth||a.width),"y1"!==t&&"y2"!==t||(l*=a.viewBoxHeight||a.height)))),o[t]=l}),"pixels"==i&&(p=-e.left,m=-e.top),new z.Gradient({id:t.getAttribute("id"),type:r,coords:v,colorStops:g,gradientUnits:i,gradientTransform:d,offsetX:p,offsetY:m})}}),function(){"use strict";var n=z.util.toFixed;z.Pattern=z.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,i){var n;t=t||{},this.id=z.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source?i&&i(this):((n=this).source=z.util.createImage(),z.util.loadImage(t.source,function(t,e){n.source=t,i&&i(n,e)},null,this.crossOrigin))},toObject:function(t){var e,i=z.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?e=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(e=this.source.toDataURL()),e={type:"pattern",source:e,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:n(this.offsetX,i),offsetY:n(this.offsetY,i),patternTransform:this.patternTransform?this.patternTransform.concat():null},z.util.populateWithProperties(this,e,t),e},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,i=e.width/t.width,n=e.height/t.height,r=this.offsetX/t.width,t=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,t&&(n+=Math.abs(t))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,r&&(i+=Math.abs(r))),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+t+'" width="'+i+'" height="'+n+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var o=t.fabric||(t.fabric={}),a=o.util.toFixed;o.Shadow?o.warn("fabric.Shadow is already defined."):(o.Shadow=o.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var e in t="string"==typeof t?this._parseShadow(t):t)this[e]=t[e];this.id=o.Object.__uid++},_parseShadow:function(t){var t=t.trim(),e=o.Shadow.reOffsetsAndBlur.exec(t)||[];return{color:(t.replace(o.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(e[1],10)||0,offsetY:parseFloat(e[2],10)||0,blur:parseFloat(e[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var e=40,i=40,n=o.Object.NUM_FRACTION_DIGITS,r=o.util.rotateVector({x:this.offsetX,y:this.offsetY},o.util.degreesToRadians(-t.angle)),s=new o.Color(this.color);return t.width&&t.height&&(e=100*a((Math.abs(r.x)+this.blur)/t.width,n)+20,i=100*a((Math.abs(r.y)+this.blur)/t.height,n)+20),t.flipX&&(r.x*=-1),t.flipY&&(r.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+e+'%" width="'+(100+2*e)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+a(this.blur?this.blur/2:0,n)+'"></feGaussianBlur>\n\t<feOffset dx="'+a(r.x,n)+'" dy="'+a(r.y,n)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){var e,i;return this.includeDefaultValues?{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling}:(e={},i=o.Shadow.prototype,["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(t){this[t]!==i[t]&&(e[t]=this[t])},this),e)}}),o.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(i),function(){"use strict";var r,t,c,a,s,o,i,n,e;z.StaticCanvas?z.warn("fabric.StaticCanvas is already defined."):(r=z.util.object.extend,t=z.util.getElementOffset,c=z.util.removeFromArray,a=z.util.toFixed,s=z.util.transformPoint,o=z.util.invertTransform,i=z.util.getNodeCanvas,n=z.util.createCanvasElement,e=new Error("Could not initialize `canvas` element"),z.StaticCanvas=z.util.createClass(z.CommonMethods,{initialize:function(t,e){e=e||{},this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:z.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var i=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,i),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,i),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,i),e.overlayColor&&this.setOverlayColor(e.overlayColor,i),this.calcOffset()},_isRetinaScaling:function(){return 1<z.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,z.devicePixelRatio):1},_initRetinaScaling:function(){var t;this._isRetinaScaling()&&(t=z.devicePixelRatio,this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop))},__initRetinaScaling:function(t,e,i){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),i.scale(t,t)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(t,e,i){return this.__setBgOverlayImage("overlayImage",t,e,i)},setBackgroundImage:function(t,e,i){return this.__setBgOverlayImage("backgroundImage",t,e,i)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(n,t,r,s){return"string"==typeof t?z.util.loadImage(t,function(t,e){var i;t&&(i=new z.Image(t,s),(this[n]=i).canvas=this),r&&r(t,e)},this,s&&s.crossOrigin):(s&&t.setOptions(s),(this[n]=t)&&(t.canvas=this),r&&r(t,!1)),this},__setBgOverlayColor:function(t,e,i){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,i),this},_createCanvasElement:function(){var t=n();if(!t)throw e;if(t.style||(t.style={}),void 0===t.getContext)throw e;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=z.util.getById(t)||this._createCanvasElement(),z.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var i,n;for(n in e=e||{},t)i=t[n],e.cssOnly||(this._setBackstoreDimension(n,t[n]),i+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(n,i);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,i,n,r=this._activeObject,s=this.backgroundImage,o=this.overlayImage;for(this.viewportTransform=t,i=0,n=this._objects.length;i<n;i++)(e=this._objects[i]).group||e.setCoords(!0);return r&&r.setCoords(),s&&s.setCoords(!0),o&&o.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var i=t,n=this.viewportTransform.slice(0),e=(t=s(t,o(this.viewportTransform)),n[0]=e,n[3]=e,s(t,n));return n[4]+=i.x-e.x,n[5]+=i.y-e.y,this.setViewportTransform(n)},setZoom:function(t){return this.zoomToPoint(new z.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new z.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=z.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,i=this.height,n=o(this.viewportTransform);return t.tl=s({x:0,y:0},n),t.br=s({x:e,y:i},n),t.tr=new z.Point(t.br.x,t.tl.y),t.bl=new z.Point(t.tl.x,t.br.y),this.vptCoords=t},cancelRequestedRender:function(){this.isRendering&&(z.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var i=this.viewportTransform,n=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),z.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),n&&(n.canvas=this,n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,i=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},_renderObjects:function(t,e){for(var i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)},_renderBackgroundOrOverlay:function(t,e){var i=this[e+"Color"],n=this[e+"Image"],r=this.viewportTransform,e=this[e+"Vpt"];(i||n)&&(i&&(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=i.toLive?i.toLive(t,this):i,e&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0),(i=i.gradientTransform||i.patternTransform)&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),t.fill(),t.restore()),n&&(t.save(),e&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),n.render(t),t.restore()))},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new z.Point(this.width/2,this.height/2)},centerObjectH:function(t){return this._centerObject(t,new z.Point(this.getCenterPoint().x,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new z.Point(t.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(t){var e=this.getCenterPoint();return this._centerObject(t,e)},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new z.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new z.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenterPoint(),e=o(this.viewportTransform);return s(t,e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(t,e){var i=this.clipPath,n={version:z.version,objects:this._toObjects(t,e)};return i&&!i.excludeFromExport&&(n.clipPath=this._toObject(this.clipPath,t,e)),r(n,this.__serializeBgOverlay(t,e)),z.util.populateWithProperties(this,n,e),n},_toObjects:function(e,i){return this._objects.filter(function(t){return!t.excludeFromExport}).map(function(t){return this._toObject(t,e,i)},this)},_toObject:function(t,e,i){this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);var n,e=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=n),e},__serializeBgOverlay:function(t,e){var i={},n=this.backgroundImage,r=this.overlayImage,s=this.backgroundColor,o=this.overlayColor;return s&&s.toObject?s.excludeFromExport||(i.background=s.toObject(e)):s&&(i.background=s),o&&o.toObject?o.excludeFromExport||(i.overlay=o.toObject(e)):o&&(i.overlay=o),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,t,e)),r&&!r.excludeFromExport&&(i.overlayImage=this._toObject(r,t,e)),i},svgViewportTransformation:!0,toSVG:function(t,e){(t=t||{}).reviver=e;var i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push("</g>\n"),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var i,n=e.width||this.width,r=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',o=z.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(i=this.viewportTransform,s='viewBox="'+a(-i[4]/i[0],o)+" "+a(-i[5]/i[3],o)+" "+a(this.width/i[0],o)+" "+a(this.height/i[3],o)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',r,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",z.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+z.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var r=this;return["background","overlay"].map(function(t){var e,i,n=r[t+"Color"];if(n&&n.toLive)return t=r[t+"Vpt"],e=r.viewportTransform,i={width:r.width/(t?e[0]:1),height:r.height/(t?e[3]:1)},n.toSVG(i,{additionalTransform:t?z.util.matrixToSVG(e):""})}).join("")},createSVGFontFacesMarkup:function(){var t,e,i,n,r,s,o,a,h,c="",l={},u=z.fontPaths,f=[];for(this._objects.forEach(function t(e){f.push(e),e._objects&&e._objects.forEach(t)}),o=0,a=f.length;o<a;o++)if(e=(t=f[o]).fontFamily,-1!==t.type.indexOf("text")&&!l[e]&&u[e]&&(l[e]=!0,t.styles))for(r in i=t.styles)for(s in n=i[r])!l[e=n[s].fontFamily]&&u[e]&&(l[e]=!0);for(h in l)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",h,"';\n","\t\t\tsrc: url('",u[h],"');\n","\t\t}\n"].join("");return c=c&&['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")},_setSVGObjects:function(t,e){for(var i,n=this._objects,r=0,s=n.length;r<s;r++)(i=n[r]).excludeFromExport||this._setSVGObject(t,i,e)},_setSVGObject:function(t,e,i){t.push(e.toSVG(i))},_setSVGBgOverlayImage:function(t,e,i){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(i))},_setSVGBgOverlayColor:function(t,e){var i,n=this[e+"Color"],r=this.viewportTransform,s=this.width,o=this.height;n&&(n.toLive?(i=n.repeat,r=z.util.invertTransform(r),e=this[e+"Vpt"]?z.util.matrixToSVG(r):"",t.push('<rect transform="'+e+" translate(",s/2,",",o/2,')"',' x="',n.offsetX-s/2,'" y="',n.offsetY-o/2,'" ','width="',"repeat-y"===i||"no-repeat"===i?n.source.width:s,'" height="',"repeat-x"===i||"no-repeat"===i?n.source.height:o,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")):t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n"))},sendToBack:function(t){if(t){var e,i,n,r=this._activeObject;if(t===r&&"activeSelection"===t.type)for(e=(n=r._objects).length;e--;)i=n[e],c(this._objects,i),this._objects.unshift(i);else c(this._objects,t),this._objects.unshift(t);this.renderOnAddRemove&&this.requestRenderAll()}return this},bringToFront:function(t){if(t){var e,i,n,r=this._activeObject;if(t===r&&"activeSelection"===t.type)for(n=r._objects,e=0;e<n.length;e++)i=n[e],c(this._objects,i),this._objects.push(i);else c(this._objects,t),this._objects.push(t);this.renderOnAddRemove&&this.requestRenderAll()}return this},sendBackwards:function(t,e){if(t){var i,n,r,s,o,a=this._activeObject,h=0;if(t===a&&"activeSelection"===t.type)for(o=a._objects,i=0;i<o.length;i++)n=o[i],0+h<(r=this._objects.indexOf(n))&&(s=r-1,c(this._objects,n),this._objects.splice(s,0,n)),h++;else 0!==(r=this._objects.indexOf(t))&&(s=this._findNewLowerIndex(t,r,e),c(this._objects,t),this._objects.splice(s,0,t));this.renderOnAddRemove&&this.requestRenderAll()}return this},_findNewLowerIndex:function(t,e,i){var n,r;if(i){for(r=(n=e)-1;0<=r;--r)if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}else n=e-1;return n},bringForward:function(t,e){if(t){var i,n,r,s,o,a=this._activeObject,h=0;if(t===a&&"activeSelection"===t.type)for(i=(o=a._objects).length;i--;)n=o[i],(r=this._objects.indexOf(n))<this._objects.length-1-h&&(s=r+1,c(this._objects,n),this._objects.splice(s,0,n)),h++;else(r=this._objects.indexOf(t))!==this._objects.length-1&&(s=this._findNewUpperIndex(t,r,e),c(this._objects,t),this._objects.splice(s,0,t));this.renderOnAddRemove&&this.requestRenderAll()}return this},_findNewUpperIndex:function(t,e,i){var n,r,s;if(i){for(r=(n=e)+1,s=this._objects.length;r<s;++r)if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}else n=e+1;return n},moveTo:function(t,e){return c(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(z.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(t){t.dispose&&t.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),z.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),z.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),r(z.StaticCanvas.prototype,z.Observable),r(z.StaticCanvas.prototype,z.Collection),r(z.StaticCanvas.prototype,z.DataURLExporter),r(z.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=n();return!e||!e.getContext||!(e=e.getContext("2d"))||"setLineDash"!==t?null:void 0!==e.setLineDash}}),z.StaticCanvas.prototype.toJSON=z.StaticCanvas.prototype.toObject,z.isLikelyNode&&(z.StaticCanvas.prototype.createPNGStream=function(){var t=i(this.lowerCanvasEl);return t&&t.createPNGStream()},z.StaticCanvas.prototype.createJPEGStream=function(t){var e=i(this.lowerCanvasEl);return e&&e.createJPEGStream(t)}))}(),z.BaseBrush=z.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){var t,e,i,n;this.shadow&&(t=this.canvas,e=this.shadow,i=t.contextTop,n=t.getZoom(),t&&t._isRetinaScaling()&&(n*=z.devicePixelRatio),i.shadowColor=e.color,i.shadowBlur=e.blur*n,i.shadowOffsetX=e.offsetX*n,i.shadowOffsetY=e.offsetY*n)},needsFullRender:function(){return new z.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),z.PencilBrush=z.util.createClass(z.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(t){this.canvas=t,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(t,e,i){i=e.midPointFrom(i);return t.quadraticCurveTo(e.x,e.y,i.x,i.y),i},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this.drawStraightLine=e.e[this.straightLineKey],this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){var i;this.canvas._isMainEvent(e.e)&&(this.drawStraightLine=e.e[this.straightLineKey],!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||this._captureDrawingPath(t)&&1<this._points.length&&(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this._render()):(t=(e=this._points).length,i=this.canvas.contextTop,this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,e[t-2],e[t-1],!0),i.stroke(),i.restore())))},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){t=new z.Point(t.x,t.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(t){return!(1<this._points.length&&t.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&1<this._points.length&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(t){t=new z.Point(t.x,t.y);return this._addPoint(t)},_render:function(t){var e,i,n,r=this._points[0],s=this._points[1];for(t=t||this.canvas.contextTop,this._saveAndTransform(t),t.beginPath(),2===this._points.length&&r.x===s.x&&r.y===s.y&&(n=this.width/1e3,r=new z.Point(r.x,r.y),s=new z.Point(s.x,s.y),r.x-=n,s.x+=n),t.moveTo(r.x,r.y),e=1,i=this._points.length;e<i;e++)this._drawSegment(t,r,s),r=this._points[e],s=this._points[e+1];t.lineTo(r.x,r.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=this.width/1e3;return z.util.getSmoothPathFromPoints(t,e)},_isEmptySVGPath:function(t){return"M 0 0 Q 0 0 0 0 L 0 0"===z.util.joinPath(t)},createPath:function(t){t=new z.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new z.Shadow(this.shadow)),t},decimatePoints:function(t,e){if(t.length<=2)return t;for(var i=this.canvas.getZoom(),n=Math.pow(e/i,2),r=t.length-1,s=t[0],o=[s],a=1;a<r-1;a++)n<=Math.pow(s.x-t[a].x,2)+Math.pow(s.y-t[a].y,2)&&(s=t[a],o.push(s));return o.push(t[r]),o},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points);this._isEmptySVGPath(t)?this.canvas.requestRenderAll():(t=this.createPath(t),this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t}))}}),z.CircleBrush=z.util.createClass(z.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var t=this.addPoint(t),e=this.canvas.contextTop;this._saveAndTransform(e),this.dot(e,t),e.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,i=this.canvas.contextTop,n=this.points;for(this._saveAndTransform(i),t=0,e=n.length;t<e;t++)this.dot(i,n[t]);i.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){for(var t=this.canvas.renderOnAddRemove,e=(this.canvas.renderOnAddRemove=!1,[]),i=0,n=this.points.length;i<n;i++){var r=this.points[i],r=new z.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(r.shadow=new z.Shadow(this.shadow)),e.push(r)}var s=new z.Group(e);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},addPoint:function(t){var t=new z.Point(t.x,t.y),e=z.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new z.Color(this.color).setAlpha(z.util.getRandomInt(0,100)/100).toRgba();return t.radius=e,t.fill=i,this.points.push(t),t}}),z.SprayBrush=z.util.createClass(z.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){for(var t=this.canvas.renderOnAddRemove,e=(this.canvas.renderOnAddRemove=!1,[]),i=0,n=this.sprayChunks.length;i<n;i++)for(var r=this.sprayChunks[i],s=0,o=r.length;s<o;s++){var a=new z.Rect({width:r[s].width,height:r[s].width,left:r[s].x+1,top:r[s].y+1,originX:"center",originY:"center",fill:this.color});e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var h=new z.Group(e);this.shadow&&h.set("shadow",new z.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){for(var e,i={},n=0,r=t.length;n<r;n++)i[e=t[n].left+""+t[n].top]||(i[e]=t[n]);var s=[];for(e in i)s.push(i[e]);return s},render:function(t){var e,i,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,i=t.length;e<i;e++){var r=t[e];void 0!==r.opacity&&(n.globalAlpha=r.opacity),n.fillRect(r.x,r.y,r.width,r.width)}n.restore()},_render:function(){var t,e,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);i.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];for(var e=this.width/2,i=0;i<this.density;i++){var n=z.util.getRandomInt(t.x-e,t.x+e),r=z.util.getRandomInt(t.y-e,t.y+e),s=this.dotWidthVariance?z.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,n=new z.Point(n,r);n.width=s,this.randomOpacity&&(n.opacity=z.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(n)}this.sprayChunks.push(this.sprayChunkPoints)}}),z.PatternBrush=z.util.createClass(z.PencilBrush,{getPatternSrc:function(){var t=z.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(t){return t.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(t){this.callSuper("_setBrushStyles",t),t.strokeStyle=this.getPattern(t)},createPath:function(t){var t=this.callSuper("createPath",t),e=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new z.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-e.x,offsetY:-e.y}),t}});var D,kt=z.util.getPointer,Pt=z.util.degreesToRadians,jt=z.util.isTouchEvent;for(D in z.Canvas=z.util.createClass(z.StaticCanvas,{initialize:function(t,e){e=e||{},this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=z.PencilBrush&&new z.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e=this.getActiveObjects();if(0<e.length&&!this.preserveObjectStacking){for(var i=[],n=[],r=0,s=this._objects.length;r<s;r++)t=this._objects[r],(-1===e.indexOf(t)?i:n).push(t);1<e.length&&(this._activeObject._objects=n),i.push.apply(i,n)}else i=this._objects;return i},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){t=t.calcTransformMatrix(),t=z.util.invertTransform(t),e=this.restorePointerVpt(e);return z.util.transformPoint(e,t)},isTargetTransparent:function(t,e,i){var n,r,s;return t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject?(r=this._normalizePointer(t,{x:e,y:i}),n=Math.max(t.cacheTranslationX+r.x*t.zoomX,0),r=Math.max(t.cacheTranslationY+r.y*t.zoomY,0),z.util.isTransparent(t._cacheContext,Math.round(n),Math.round(r),this.targetFindTolerance)):(n=this.contextCache,r=t.selectionBackgroundColor,s=this.viewportTransform,t.selectionBackgroundColor="",this.clearContext(n),n.save(),n.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.render(n),n.restore(),t.selectionBackgroundColor=r,z.util.isTransparent(n,e,i,this.targetFindTolerance))},_isSelectionKeyPressed:function(e){return Array.isArray(this.selectionKey)?!!this.selectionKey.find(function(t){return!0===e[t]}):e[this.selectionKey]},_shouldClearSelection:function(t,e){var i=this.getActiveObjects(),n=this._activeObject;return!e||n&&1<i.length&&-1===i.indexOf(e)&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(t,e,i){var n;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?n=this.centeredScaling||t.centeredScaling:"rotate"===e&&(n=this.centeredRotation||t.centeredRotation),n?!i:i},_getOriginFromCorner:function(t,e){t={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?t.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(t.x="left"),"tl"===e||"mt"===e||"tr"===e?t.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(t.y="top"),t},_getActionFromCorner:function(t,e,i,n){return e&&t?(t=n.controls[e]).getActionName(i,t,n):"drag"},_setupCurrentTransform:function(t,e,i){var n,r,s,o,a;e&&(n=this.getPointer(t),r=e.__corner,a=e.controls[r],a=i&&r?a.getActionHandler(t,e,a):z.controlsUtils.dragHandler,i=this._getActionFromCorner(i,r,t,e),s=this._getOriginFromCorner(e,r),o=t[this.centeredKey],a={target:e,action:i,actionHandler:a,corner:r,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:n.x-e.left,offsetY:n.y-e.top,originX:s.x,originY:s.y,ex:n.x,ey:n.y,lastX:n.x,lastY:n.y,theta:Pt(e.angle),width:e.width*e.scaleX,shiftKey:t.shiftKey,altKey:o,original:z.util.saveObjectTransform(e)},this._shouldCenterTransform(e,i,o)&&(a.originX="center",a.originY="center"),a.original.originX=s.x,a.original.originY=s.y,this._currentTransform=a,this._beforeTransform(t))},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,i=new z.Point(e.ex,e.ey),i=z.util.transformPoint(i,this.viewportTransform),e=new z.Point(e.ex+e.left,e.ey+e.top),e=z.util.transformPoint(e,this.viewportTransform),n=Math.min(i.x,e.x),r=Math.min(i.y,e.y),s=Math.max(i.x,e.x),i=Math.max(i.y,e.y),e=this.selectionLineWidth/2;this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(n,r,s-n,i-r)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,n+=e,r+=e,s-=e,i-=e,z.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(n,r,s-n,i-r))},findTarget:function(t,e){if(!this.skipTargetFind){var i,n,r=this.getPointer(t,!0),s=this._activeObject,o=this.getActiveObjects(),a=jt(t),h=1<o.length&&!e||1===o.length;if(this.targets=[],h&&s._findTargetCorner(r,a))return s;if(1<o.length&&!e&&s===this._searchPossibleTargets([s],r))return s;if(1===o.length&&s===this._searchPossibleTargets([s],r)){if(!this.preserveObjectStacking)return s;i=s,n=this.targets,this.targets=[]}h=this._searchPossibleTargets(this._objects,r);return t[this.altSelectionKey]&&h&&i&&h!==i&&(h=i,this.targets=n),h}},_checkTarget:function(t,e,i){if(e&&e.visible&&e.evented&&e.containsPoint(t))return!((this.perPixelTargetFind||e.perPixelTargetFind)&&!e.isEditing)||(!this.isTargetTransparent(e,i.x,i.y)||void 0)},_searchPossibleTargets:function(t,e){for(var i,n=t.length;n--;){var r=t[n],s=r.group?this._normalizePointer(r.group,e):e;if(this._checkTarget(s,r,e)){(i=t[n]).subTargetCheck&&i instanceof z.Group&&(s=this._searchPossibleTargets(i._objects,e))&&this.targets.push(s);break}}return i},restorePointerVpt:function(t){return z.util.transformPoint(t,z.util.invertTransform(this.viewportTransform))},getPointer:function(t,e){var i,n,r,s;return this._absolutePointer&&!e?this._absolutePointer:this._pointer&&e?this._pointer:(t=kt(t),n=(s=(i=this.upperCanvasEl).getBoundingClientRect()).width||0,r=s.height||0,n&&r||("top"in s&&"bottom"in s&&(r=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(n=Math.abs(s.right-s.left))),this.calcOffset(),t.x=t.x-this._offset.left,t.y=t.y-this._offset.top,e||(t=this.restorePointerVpt(t)),1!==(s=this.getRetinaScaling())&&(t.x/=s,t.y/=s),e=0===n||0===r?{width:1,height:1}:{width:i.width/n,height:i.height/r},{x:t.x*e.width,y:t.y*e.height})},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,i=this.upperCanvasEl;i?i.className="":(i=this._createCanvasElement(),this.upperCanvasEl=i),z.util.addClass(i,"upper-canvas "+t),this.wrapperEl.appendChild(i),this._copyCanvasStyle(e,i),this._applyCanvasStyle(i),this.contextTop=i.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=z.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),z.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),z.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,i=this.height||t.height;z.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=i,z.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(e,i){var n=!1,r=this.getActiveObjects(),s=[],o=[];e.forEach(function(t){-1===r.indexOf(t)&&(n=!0,t.fire("deselected",{e:i,target:t}),o.push(t))}),r.forEach(function(t){-1===e.indexOf(t)&&(n=!0,t.fire("selected",{e:i,target:t}),s.push(t))}),0<e.length&&0<r.length?n&&this.fire("selection:updated",{e:i,selected:s,deselected:o}):0<r.length?this.fire("selection:created",{e:i,selected:s}):0<e.length&&this.fire("selection:cleared",{e:i,deselected:o})},setActiveObject:function(t,e){var i=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(i,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&(!!this._discardActiveObject(e,t)&&(!t.onSelect({e:e})&&(this._activeObject=t,!0)))},_discardActiveObject:function(t,e){var i=this._activeObject;if(i){if(i.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),i=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:i,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){z.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,z.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(t),e=this.callSuper("_toObject",t,e,i);return this._unwindGroupTransformOnObject(t,n),e},_realizeGroupTransformOnObject:function(e){var i;return e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group?(i={},["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(t){i[t]=e[t]}),z.util.addTransformToObject(e,this._activeObject.calcOwnMatrix()),i):null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,i),this._unwindGroupTransformOnObject(e,n)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),z.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),z.StaticCanvas)"prototype"!==D&&(z.Canvas[D]=z.StaticCanvas[D]);function M(t,e){return t.button&&t.button===e-1}function F(t,e){var i;return e?e.toLive?t+": url(#SVGID_"+e.id+"); ":(i=t+": "+(e=new z.Color(e)).toRgb()+"; ",1!==(e=e.getAlpha())&&(i+=t+"-opacity: "+e.toString()+"; "),i):t+": none; "}function Dt(e,t,i){var n={};i.forEach(function(t){n[t]=e[t]}),et(e[t],n,!0)}function Mt(t){var e=t.targetCanvas,i=e.width,n=e.height,r=t.destinationWidth,t=t.destinationHeight;i===r&&n===t||(e.width=r,e.height=t)}function Ft(t,e){var t=t.canvas,e=e.targetCanvas,i=e.getContext("2d"),n=(i.translate(0,e.height),i.scale(1,-1),t.height-e.height);i.drawImage(t,0,n,e.width,e.height,0,0,e.width,e.height)}function It(t,e){var i=e.targetCanvas.getContext("2d"),n=e.destinationWidth,e=e.destinationHeight,r=n*e*4,s=new Uint8Array(this.imageBuffer,0,r),r=new Uint8ClampedArray(this.imageBuffer,0,r),t=(t.readPixels(0,0,n,e,t.RGBA,t.UNSIGNED_BYTE,s),new ImageData(r,n,e));i.putImageData(t,0,0)}function Lt(t){t.textDecoration&&(-1<t.textDecoration.indexOf("underline")&&(t.underline=!0),-1<t.textDecoration.indexOf("line-through")&&(t.linethrough=!0),-1<t.textDecoration.indexOf("overline")&&(t.overline=!0),delete t.textDecoration)}l=z.util.addListener,u=z.util.removeListener,f={passive:!1},z.util.object.extend(z.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(l,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var i=this.upperCanvasEl,n=this._getEventPrefix();t(z.window,"resize",this._onResize),t(i,n+"down",this._onMouseDown),t(i,n+"move",this._onMouseMove,f),t(i,n+"out",this._onMouseOut),t(i,n+"enter",this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,f),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](i,"gesture",this._onGesture),eventjs[e](i,"drag",this._onDrag),eventjs[e](i,"orientation",this._onOrientationChange),eventjs[e](i,"shake",this._onShake),eventjs[e](i,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(u,"remove");var t=this._getEventPrefix();u(z.document,t+"up",this._onMouseUp),u(z.document,"touchend",this._onTouchEnd,f),u(z.document,t+"move",this._onMouseMove,f),u(z.document,"touchmove",this._onMouseMove,f)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(e){var i=this._hoveredTarget,n=(this.fire("mouse:out",{target:i,e:e}),this._hoveredTarget=null,i&&i.fire("mouseout",{e:e}),this);this._hoveredTargets.forEach(function(t){n.fire("mouse:out",{target:i,e:e}),t&&i.fire("mouseout",{e:e})}),this._hoveredTargets=[]},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onDrop:function(t){return this._simpleEventHandler("drop:before",t),this._simpleEventHandler("drop",t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(t){t.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),this._resetTransformEventData();var t=this.upperCanvasEl,e=this._getEventPrefix();l(z.document,"touchend",this._onTouchEnd,f),l(z.document,"touchmove",this._onMouseMove,f),u(t,e+"down",this._onMouseDown)},_onMouseDown:function(t){this.__onMouseDown(t),this._resetTransformEventData();var t=this.upperCanvasEl,e=this._getEventPrefix();u(t,e+"move",this._onMouseMove,f),l(z.document,e+"up",this._onMouseUp),l(z.document,e+"move",this._onMouseMove,f)},_onTouchEnd:function(t){var e,i;0<t.touches.length||(this.__onMouseUp(t),this._resetTransformEventData(),this.mainTouchId=null,e=this._getEventPrefix(),u(z.document,"touchend",this._onTouchEnd,f),u(z.document,"touchmove",this._onMouseMove,f),(i=this)._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){l(i.upperCanvasEl,e+"down",i._onMouseDown),i._willAddMouseDown=0},400))},_onMouseUp:function(t){this.__onMouseUp(t),this._resetTransformEventData();var e=this.upperCanvasEl,i=this._getEventPrefix();this._isMainEvent(t)&&(u(z.document,i+"up",this._onMouseUp),u(z.document,i+"move",this._onMouseMove,f),l(e,i+"move",this._onMouseMove,f))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!=!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,i,n,r,s,o=this._currentTransform,a=this._groupSelector,h=!1,a=!a||0===a.left&&0===a.top;this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),M(t,3)?this.fireRightClick&&this._handleEvent(t,"up",3,a):M(t,2)?(this.fireMiddleClick&&this._handleEvent(t,"up",2,a),this._resetTransformEventData()):this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(t):this._isMainEvent(t)&&(o&&(this._finalizeCurrentTransform(t),h=o.actionPerformed),a||(n=e===this._activeObject,this._maybeGroupObjects(t),h=h||this._shouldRender(e)||!n&&e===this._activeObject),e&&(r=e._findTargetCorner(this.getPointer(t,!0),z.util.isTouchEvent(t)),e.selectable&&e!==this._activeObject&&"up"===e.activeOn?(this.setActiveObject(e,t),h=!0):(n=(i=e.controls[r])&&i.getMouseUpHandler(t,e,i))&&n(t,o,(s=this.getPointer(t)).x,s.y),e.isMoving=!1),!o||o.target===e&&o.corner===r||(r=(n=o.target&&o.target.controls[o.corner])&&n.getMouseUpHandler(t,e,i),s=s||this.getPointer(t),r&&r(t,o,s.x,s.y)),this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,a),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),h?this.requestRenderAll():a||this.renderTop())},_simpleEventHandler:function(t,e){var i=this.findTarget(e),n=this.targets,r={e:e,target:i,subTargets:n};if(this.fire(t,r),i&&i.fire(t,r),n)for(var s=0;s<n.length;s++)n[s].fire(t,r);return i},_handleEvent:function(t,e,i,n){var r=this._target,s=this.targets||[],o={e:t,target:r,subTargets:s,button:i||1,isClick:n||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(o.currentTarget=this.findTarget(t),o.currentSubTargets=this.targets),this.fire("mouse:"+e,o),r&&r.fire("mouse"+e,o);for(var a=0;a<s.length;a++)s[a].fire("mouse"+e,o)},_finalizeCurrentTransform:function(t){var e=this._currentTransform,i=e.target,t={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),(e.actionPerformed||this.stateful&&i.hasStateChanged())&&this._fire("modified",t)},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){var e;this._isCurrentlyDrawing&&(e=this.getPointer(t),this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})),this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e,i,n,r,s,o=this._target;M(t,3)?this.fireRightClick&&this._handleEvent(t,"down",3):M(t,2)?this.fireMiddleClick&&this._handleEvent(t,"down",2):this.isDrawingMode?this._onMouseDownInDrawingMode(t):this._isMainEvent(t)&&!this._currentTransform&&(r=this._pointer,this._previousPointer=r,e=this._shouldRender(o),i=this._shouldGroup(t,o),this._shouldClearSelection(t,o)?this.discardActiveObject(t):i&&(this._handleGrouping(t,o),o=this._activeObject),!this.selection||o&&(o.selectable||o.isEditing||o===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),o&&(n=o===this._activeObject,o.selectable&&"down"===o.activeOn&&this.setActiveObject(o,t),s=o._findTargetCorner(this.getPointer(t,!0),z.util.isTouchEvent(t)),o.__corner=s,o!==this._activeObject||!s&&i||(this._setupCurrentTransform(t,o,n),n=o.controls[s],r=this.getPointer(t),(s=n&&n.getMouseDownHandler(t,o,n))&&s(t,this._currentTransform,r.x,r.y))),this._handleEvent(t,"down"),(e||i)&&this.requestRenderAll())},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,i;this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode?this._onMouseMoveInDrawingMode(t):this._isMainEvent(t)&&((i=this._groupSelector)?(e=this._absolutePointer,i.left=e.x-i.ex,i.top=e.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData())},_fireOverOutEvents:function(t,e){var i=this._hoveredTarget,n=this._hoveredTargets,r=this.targets,s=Math.max(n.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var o=0;o<s;o++)this.fireSyntheticInOutEvents(r[o],e,{oldTarget:n[o],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var i=this._draggedoverTarget,n=this._hoveredTargets,r=this.targets,s=Math.max(n.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"dragleave",evtIn:"dragenter"});for(var o=0;o<s;o++)this.fireSyntheticInOutEvents(r[o],e,{oldTarget:n[o],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,i){var n,r,s=i.oldTarget,o=s!==t,a=i.canvasEvtIn,h=i.canvasEvtOut;o&&(n={e:e,target:t,previousTarget:s},r={e:e,target:s,nextTarget:t}),e=t&&o,s&&o&&(h&&this.fire(h,r),s.fire(i.evtOut,r)),e&&(a&&this.fire(a,n),t.fire(i.evtIn,n))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),i=this._currentTransform;i.reset=!1,i.shiftKey=t.shiftKey,i.altKey=t[this.centeredKey],this._performTransformAction(t,i,e),i.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,i){var n=i.x,i=i.y,r=e.action,s=!1,o=e.actionHandler;o&&(s=o(t,e,n,i)),"drag"===r&&s&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s},_fire:z.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var i=e.hoverCursor||this.hoverCursor,n=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,n=(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));n?this.setCursor(this.getCornerCursor(n,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map(function(t){i=t.hoverCursor||i}),this.setCursor(i))},getCornerCursor:function(t,e,i){t=e.controls[t];return t.cursorStyleHandler(i,t,e)}}),$=Math.min,Z=Math.max,z.util.object.extend(z.Canvas.prototype,{_shouldGroup:function(t,e){var i=this._activeObject;return i&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(i!==e||"activeSelection"===i.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var i=this._activeObject;i.__corner||(e!==i||(e=this.findTarget(t,!0))&&e.selectable)&&(i&&"activeSelection"===i.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var i=this._activeObject,n=i._objects.slice(0);i.contains(t)?(i.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===i.size()&&this._setActiveObject(i.item(0),e)):(i.addWithUpdate(t),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(n,e)},_createActiveSelection:function(t,e){var i=this.getActiveObjects(),t=this._createGroup(t);this._hoveredTarget=t,this._setActiveObject(t,e),this._fireSelectionEvents(i,e)},_createGroup:function(t){var e=this._objects,e=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new z.ActiveSelection(e,{canvas:this})},_groupSelectedObjects:function(t){var e=this._collectObjects(t);1===e.length?this.setActiveObject(e[0],t):1<e.length&&(e=new z.ActiveSelection(e.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(e){for(var t,i=[],n=this._groupSelector.ex,r=this._groupSelector.ey,s=n+this._groupSelector.left,o=r+this._groupSelector.top,a=new z.Point($(n,s),$(r,o)),h=new z.Point(Z(n,s),Z(r,o)),c=!this.selectionFullyContained,l=n===s&&r===o,u=this._objects.length;u--&&!((t=this._objects[u])&&t.selectable&&t.visible&&(c&&t.intersectsWithRect(a,h,!0)||t.isContainedWithinRect(a,h,!0)||c&&t.containsPoint(a,null,!0)||c&&t.containsPoint(h,null,!0))&&(i.push(t),l)););return i=1<i.length?i.filter(function(t){return!t.onSelect({e:e})}):i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),z.util.object.extend(z.StaticCanvas.prototype,{toDataURL:function(t){var e=(t=t||{}).format||"png",i=t.quality||1,n=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),n=this.toCanvasElement(n,t);return z.util.toDataURL(n,e,i)},toCanvasElement:function(t,e){var i=((e=e||{}).width||this.width)*(t=t||1),n=(e.height||this.height)*t,r=this.getZoom(),s=this.width,o=this.height,r=r*t,a=this.viewportTransform,h=(a[4]-(e.left||0))*t,e=(a[5]-(e.top||0))*t,t=this.interactive,r=[r,0,0,r,h,e],h=this.enableRetinaScaling,e=z.util.createCanvasElement(),c=this.contextTop;return e.width=i,e.height=n,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=r,this.width=i,this.height=n,this.calcViewportBoundaries(),this.renderCanvas(e.getContext("2d"),this._objects),this.viewportTransform=a,this.width=s,this.height=o,this.calcViewportBoundaries(),this.interactive=t,this.enableRetinaScaling=h,this.contextTop=c,e}}),z.util.object.extend(z.StaticCanvas.prototype,{loadFromJSON:function(t,i,e){var n,r,s,o;if(t)return n="string"==typeof t?JSON.parse(t):z.util.object.clone(t),s=n.clipPath,o=(r=this).renderOnAddRemove,this.renderOnAddRemove=!1,delete n.clipPath,this._enlivenObjects(n.objects,function(e){r.clear(),r._setBgOverlay(n,function(){s?r._enlivenObjects([s],function(t){r.clipPath=t[0],r.__setupCanvas.call(r,n,e,o,i)}):r.__setupCanvas.call(r,n,e,o,i)})},e),this},__setupCanvas:function(t,e,i,n){var r=this;e.forEach(function(t,e){r.insertAt(t,e)}),this.renderOnAddRemove=i,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),n&&n()},_setBgOverlay:function(t,e){var i,n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};t.backgroundImage||t.overlayImage||t.background||t.overlay?(this.__setBgOverlay("backgroundImage",t.backgroundImage,n,i=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&e&&e()}),this.__setBgOverlay("overlayImage",t.overlayImage,n,i),this.__setBgOverlay("backgroundColor",t.background,n,i),this.__setBgOverlay("overlayColor",t.overlay,n,i)):e&&e()},__setBgOverlay:function(e,t,i,n){var r=this;t?"backgroundImage"===e||"overlayImage"===e?z.util.enlivenObjects([t],function(t){r[e]=t[0],i[e]=!0,n&&n()}):this["set"+z.util.string.capitalize(e,!0)](t,function(){i[e]=!0,n&&n()}):(i[e]=!0,n&&n())},_enlivenObjects:function(t,e,i){t&&0!==t.length?z.util.enlivenObjects(t,function(t){e&&e(t)},null,i):e&&e([])},_toDataURL:function(e,i){this.clone(function(t){i(t.toDataURL(e))})},_toDataURLWithMultiplier:function(e,i,n){this.clone(function(t){n(t.toDataURLWithMultiplier(e,i))})},clone:function(e,t){var i=JSON.stringify(this.toJSON(t));this.cloneWithoutData(function(t){t.loadFromJSON(i,function(){e&&e(t)})})},cloneWithoutData:function(t){var e=z.util.createCanvasElement(),i=(e.width=this.width,e.height=this.height,new z.Canvas(e));this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,function(){i.renderAll(),t&&t(i)}),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var g=t.fabric||(t.fabric={}),t=g.util.object.extend,s=g.util.object.clone,i=g.util.toFixed,e=g.util.string.capitalize,o=g.util.degreesToRadians,n=!g.isLikelyNode;g.Object||(g.Object=g.util.createClass(g.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:n,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=g.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var e,i,n=g.perfLimitSizeTotal,r=t.width,s=t.height,o=g.maxCacheSideLimit,a=g.minCacheSideLimit;return r<=o&&s<=o&&r*s<=n?(r<a&&(t.width=a),s<a&&(t.height=a)):(n=g.util.limitDimsByArea(r/s,n),e=(i=g.util.capValue)(a,n.x,o),i=i(a,n.y,o),e<r&&(t.zoomX/=r/e,t.width=e,t.capped=!0),i<s&&(t.zoomY/=s/i,t.height=i,t.capped=!0)),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),i=e.x*t.scaleX/this.scaleX,e=e.y*t.scaleY/this.scaleY;return{width:2+i,height:2+e,zoomX:t.scaleX,zoomY:t.scaleY,x:i,y:e}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var e=t._currentTransform.target,t=t._currentTransform.action;if(this===e&&t.slice&&"scale"===t.slice(0,5))return!1}var i,n,e=this._cacheCanvas,t=this._limitCacheSize(this._getCacheCanvasDimensions()),r=g.minCacheSideLimit,s=t.width,o=t.height,a=t.zoomX,h=t.zoomY,c=s!==this.cacheWidth||o!==this.cacheHeight,l=this.zoomX!==a||this.zoomY!==h,l=c||l,u=0,f=0,d=!1;return c&&(c=this._cacheCanvas.width,i=this._cacheCanvas.height,d=(n=c<s||i<o)||(s<.9*c||o<.9*i)&&r<c&&r<i,n&&!t.capped&&(r<s||r<o)&&(u=.1*s,f=.1*o)),this instanceof g.Text&&this.path&&(d=l=!0,u+=this.getHeightOfLine(0)*this.zoomX,f+=this.getHeightOfLine(0)*this.zoomY),!!l&&(d?(e.width=Math.ceil(s+u),e.height=Math.ceil(o+f)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,e.width,e.height)),c=t.x/2,i=t.y/2,this.cacheTranslationX=Math.round(e.width/2-c)+c,this.cacheTranslationY=Math.round(e.height/2-i)+i,this.cacheWidth=s,this.cacheHeight=o,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(a,h),this.zoomX=a,this.zoomY=h,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,e=this.calcTransformMatrix(!e);t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},toObject:function(t){var e=g.Object.NUM_FRACTION_DIGITS,e={type:this.type,version:g.version,originX:this.originX,originY:this.originY,left:i(this.left,e),top:i(this.top,e),width:i(this.width,e),height:i(this.height,e),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,e),strokeDashArray:this.strokeDashArray&&this.strokeDashArray.concat(),strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,e),scaleX:i(this.scaleX,e),scaleY:i(this.scaleY,e),angle:i(this.angle,e),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,e),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,e),skewY:i(this.skewY,e)};return this.clipPath&&!this.clipPath.excludeFromExport&&(e.clipPath=this.clipPath.toObject(t),e.clipPath.inverted=this.clipPath.inverted,e.clipPath.absolutePositioned=this.clipPath.absolutePositioned),g.util.populateWithProperties(this,e,t),e=this.includeDefaultValues?e:this._removeDefaultValues(e)},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(e){var i=g.util.getKlass(e.type).prototype;return i.stateProperties.forEach(function(t){"left"!==t&&"top"!==t&&(e[t]===i[t]&&delete e[t],Array.isArray(e[t])&&Array.isArray(i[t])&&0===e[t].length&&0===i[t].length&&delete e[t])}),e},toString:function(){return"#<fabric."+e(this.type)+">"},getObjectScaling:function(){var t;return this.group?(t=g.util.qrDecompose(this.calcTransformMatrix()),{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}):{scaleX:this.scaleX,scaleY:this.scaleY}},getTotalObjectScaling:function(){var t,e,i=this.getObjectScaling(),n=i.scaleX,i=i.scaleY;return this.canvas&&(n*=(t=this.canvas.getZoom())*(e=this.canvas.getRetinaScaling()),i*=t*e),{scaleX:n,scaleY:i}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,e){var i=this[t]!==e;return("scaleX"===t||"scaleY"===t)&&(e=this._constrainScale(e)),"scaleX"===t&&e<0?(this.flipX=!this.flipX,e*=-1):"scaleY"===t&&e<0?(this.flipY=!this.flipY,e*=-1):"shadow"!==t||!e||e instanceof g.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",e):e=new g.Shadow(e),this[t]=e,i&&(e=this.group&&this.group.isOnACache(),-1<this.cacheProperties.indexOf(t)?(this.dirty=!0,e&&this.group.set("dirty",!0)):e&&-1<this.stateProperties.indexOf(t)&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:g.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t,e){var i;t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",e.absolutePositioned&&(i=g.util.invertTransform(this.calcTransformMatrix()),t.transform(i[0],i[1],i[2],i[3],i[4],i[5])),e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()},drawObject:function(t,e){var i=this.fill,n=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath),this.fill=i,this.stroke=n},_drawClipPath:function(t,e){e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t,e))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){var e;return!this.isNotVisible()&&(!(!this._cacheCanvas||!this._cacheContext||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties"))&&(this._cacheCanvas&&this._cacheContext&&!t&&(t=this.cacheWidth/this.zoomX,e=this.cacheHeight/this.zoomY,this._cacheContext.clearRect(-t/2,-e/2,t,e)),!0))},_renderBackground:function(t){var e;this.backgroundColor&&(e=this._getNonTransformedDimensions(),t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t))},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,i.toLive?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t,this),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var i=e.fill;i&&(i.toLive?(t.fillStyle=i.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=i)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),t.setLineDash(e))},_renderControls:function(t,e){var i=this.getViewportTransform(),n=this.calcTransformMatrix(),r=(void 0!==(e=e||{}).hasBorders?e:this).hasBorders,s=(void 0!==e.hasControls?e:this).hasControls,n=g.util.multiplyTransformMatrices(i,n),i=g.util.qrDecompose(n);t.save(),t.translate(i.translateX,i.translateY),t.lineWidth=+this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(i.angle-=180),t.rotate(o((this.group?i:this).angle)),e.forActiveSelection||this.group?r&&this.drawBordersInGroup(t,i,e):r&&this.drawBorders(t,e),s&&this.drawControls(t,e),t.restore()},_setShadow:function(t){var e,i,n,r,s;this.shadow&&(e=this.shadow,n=(i=this.canvas)&&i.viewportTransform[0]||1,r=i&&i.viewportTransform[3]||1,s=e.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(n*=g.devicePixelRatio,r*=g.devicePixelRatio),t.shadowColor=e.color,t.shadowBlur=e.blur*g.browserShadowBlurConstant*(n+r)*(s.scaleX+s.scaleY)/4,t.shadowOffsetX=e.offsetX*n*s.scaleX,t.shadowOffsetY=e.offsetY*r*s.scaleY)},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){var i,n,r;return e&&e.toLive?(i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0,"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,n,r):t.transform(1,0,0,1,n,r),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:r}):{offsetX:0,offsetY:0}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){var e;this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group?(e=this.getObjectScaling(),t.scale(1/e.scaleX,1/e.scaleY)):this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY),this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore())},_applyPatternForTransformedGradient:function(t,e){var i,n=this._limitCacheSize(this._getCacheCanvasDimensions()),r=g.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),o=n.x/this.scaleX/s,a=n.y/this.scaleY/s;r.width=o,r.height=a,(i=r.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(o,0),i.lineTo(o,a),i.lineTo(0,a),i.closePath(),i.translate(o/2,a/2),i.scale(n.zoomX/this.scaleX/s,n.zoomY/this.scaleY/s),this._applyPatternGradientTransform(i,e),i.fillStyle=e.toLive(t),i.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/n.zoomX,s*this.scaleY/n.zoomY),t.strokeStyle=i.createPattern(r,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){var t;this.transformMatrix&&(t=g.util.qrDecompose(this.transformMatrix),this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0)},_removeTransformMatrix:function(t){var e=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),e=g.util.transformPoint(e,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,e.x+=t.offsetLeft,e.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(e,"center","center")},clone:function(t,e){e=this.toObject(e);this.constructor.fromObject?this.constructor.fromObject(e,t):g.Object._fromObject("Object",e,t)},cloneAsImage:function(t,e){e=this.toCanvasElement(e);return t&&t(new g.Image(e)),this},toCanvasElement:function(t){t=t||{};var e,i=g.util,n=i.saveObjectTransform(this),r=this.group,s=this.shadow,o=Math.abs,a=(t.multiplier||1)*(t.enableRetinaScaling?g.devicePixelRatio:1),i=(delete this.group,t.withoutTransform&&i.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null),g.util.createCanvasElement()),h=this.getBoundingRect(!0,!0),c=this.shadow,l={x:0,y:0},o=(c&&(e=c.blur,u=c.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),l.x=2*Math.round(o(c.offsetX)+e)*o(u.scaleX),l.y=2*Math.round(o(c.offsetY)+e)*o(u.scaleY)),c=h.width+l.x,e=h.height+l.y,i.width=Math.ceil(c),i.height=Math.ceil(e),new g.StaticCanvas(i,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1})),u=("jpeg"===t.format&&(o.backgroundColor="#fff"),this.setPositionByOrigin(new g.Point(o.width/2,o.height/2),"center","center"),this.canvas),h=(o.add(this),o.toCanvasElement(a||1,t));return this.shadow=s,this.set("canvas",u),r&&(this.group=r),this.set(n).setCoords(),o._objects=[],o.dispose(),o=null,h},toDataURL:function(t){return g.util.toDataURL(this.toCanvasElement(t=t||{}),t.format||"png",t.quality||1)},isType:function(t){return 1<arguments.length?Array.from(arguments).includes(this.type):this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,e){e=e||this.canvas.getPointer(t);t=new g.Point(e.x,e.y),e=this._getLeftTopCoords();return{x:(t=this.angle?g.util.rotatePoint(t,e,o(-this.angle)):t).x-e.x,y:t.y-e.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){g.runningAnimations&&g.runningAnimations.cancelByTarget(this)}}),g.util.createAccessors&&g.util.createAccessors(g.Object),t(g.Object.prototype,g.Observable),g.Object.NUM_FRACTION_DIGITS=2,g.Object.ENLIVEN_PROPS=["clipPath"],g.Object._fromObject=function(t,e,i,n){var r=g[t];e=s(e,!0),g.util.enlivenPatterns([e.fill,e.stroke],function(t){void 0!==t[0]&&(e.fill=t[0]),void 0!==t[1]&&(e.stroke=t[1]),g.util.enlivenObjectEnlivables(e,e,function(){var t=n?new r(e[n],e):new r(e);i&&i(t)})})},g.Object.__uid=0)}(i),d=z.util.degreesToRadians,g={left:-.5,center:0,right:.5},Q={top:-.5,center:0,bottom:.5},z.util.object.extend(z.Object.prototype,{translateToGivenOrigin:function(t,e,i,n,r){var s=t.x,o=t.y;return"string"==typeof e?e=g[e]:e-=.5,"string"==typeof n?n=g[n]:n-=.5,"string"==typeof i?i=Q[i]:i-=.5,"string"==typeof r?r=Q[r]:r-=.5,r=r-i,((i=n-e)||r)&&(n=this._getTransformedDimensions(),s=t.x+i*n.x,o=t.y+r*n.y),new z.Point(s,o)},translateToCenterPoint:function(t,e,i){e=this.translateToGivenOrigin(t,e,i,"center","center");return this.angle?z.util.rotatePoint(e,t,d(this.angle)):e},translateToOriginPoint:function(t,e,i){e=this.translateToGivenOrigin(t,"center","center",e,i);return this.angle?z.util.rotatePoint(e,t,d(this.angle)):e},getCenterPoint:function(){var t=new z.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var i=this.getCenterPoint();return this.translateToOriginPoint(i,t,e)},toLocalPoint:function(t,e,i){var n=this.getCenterPoint(),e=void 0!==e&&void 0!==i?this.translateToGivenOrigin(n,"center","center",e,i):new z.Point(this.left,this.top),i=new z.Point(t.x,t.y);return(i=this.angle?z.util.rotatePoint(i,n,-d(this.angle)):i).subtractEquals(e)},setPositionByOrigin:function(t,e,i){t=this.translateToCenterPoint(t,e,i),e=this.translateToOriginPoint(t,this.originX,this.originY);this.set("left",e.x),this.set("top",e.y)},adjustPosition:function(t){var e=d(this.angle),i=this.getScaledWidth(),n=z.util.cos(e)*i,e=z.util.sin(e)*i,i="string"==typeof this.originX?g[this.originX]:this.originX-.5,r="string"==typeof t?g[t]:t-.5;this.left+=n*(r-i),this.top+=e*(r-i),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),p=z.util,tt=p.degreesToRadians,m=p.multiplyTransformMatrices,v=p.transformPoint,p.object.extend(z.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(t,e){return t=this._getCoords(t,e),[new z.Point(t.tl.x,t.tl.y),new z.Point(t.tr.x,t.tr.y),new z.Point(t.br.x,t.br.y),new z.Point(t.bl.x,t.bl.y)]},intersectsWithRect:function(t,e,i,n){i=this.getCoords(i,n);return"Intersection"===z.Intersection.intersectPolygonRectangle(i,t,e).status},intersectsWithObject:function(t,e,i){return"Intersection"===z.Intersection.intersectPolygonPolygon(this.getCoords(e,i),t.getCoords(e,i)).status||t.isContainedWithinObject(this,e,i)||this.isContainedWithinObject(t,e,i)},isContainedWithinObject:function(t,e,i){for(var n=this.getCoords(e,i),i=e?t.aCoords:t.lineCoords,r=0,s=t._getImageLines(i);r<4;r++)if(!t.containsPoint(n[r],s))return!1;return!0},isContainedWithinRect:function(t,e,i,n){i=this.getBoundingRect(i,n);return i.left>=t.x&&i.left+i.width<=e.x&&i.top>=t.y&&i.top+i.height<=e.y},containsPoint:function(t,e,i,n){i=this._getCoords(i,n),e=e||this._getImageLines(i),n=this._findCrossPoints(t,e);return 0!==n&&n%2==1},isOnScreen:function(t){var e,i;return!!this.canvas&&(e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,!!this.getCoords(!0,t).some(function(t){return t.x<=i.x&&t.x>=e.x&&t.y<=i.y&&t.y>=e.y})||(!!this.intersectsWithRect(e,i,!0,t)||this._containsCenterOfCanvas(e,i,t)))},_containsCenterOfCanvas:function(t,e,i){t={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(t,null,!0,i)},isPartiallyOnScreen:function(t){var e,i;return!!this.canvas&&(e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,!!this.intersectsWithRect(e,i,!0,t)||this.getCoords(!0,t).every(function(t){return(t.x>=i.x||t.x<=e.x)&&(t.y>=i.y||t.y<=e.y)})&&this._containsCenterOfCanvas(e,i,t))},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var i,n,r,s=0;for(r in e)if(!((n=e[r]).o.y<t.y&&n.d.y<t.y||n.o.y>=t.y&&n.d.y>=t.y||((n.o.x===n.d.x&&n.o.x>=t.x?n.o.x:(i=(n.d.y-n.o.y)/(n.d.x-n.o.x),-(t.y-0*t.x-(n.o.y-i*n.o.x))/(0-i)))>=t.x&&(s+=1),2!==s)))break;return s},getBoundingRect:function(t,e){t=this.getCoords(t,e);return p.makeBoundingBoxFromPoints(t)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){e=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/e)},scaleToHeight:function(t,e){e=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/e)},calcLineCoords:function(){var t=this.getViewportTransform(),e=this.padding,i=tt(this.angle),n=p.cos(i)*e,i=p.sin(i)*e,r=n+i,n=n-i,i=this.calcACoords(),i={tl:v(i.tl,t),tr:v(i.tr,t),bl:v(i.bl,t),br:v(i.br,t)};return e&&(i.tl.x-=n,i.tl.y-=r,i.tr.x+=r,i.tr.y-=n,i.bl.x-=r,i.bl.y+=n,i.br.x+=n,i.br.y+=r),i},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),i=this.getViewportTransform(),e=m(i,e),n=m(e,t),n=m(n,[1/i[0],0,0,1/i[3],0,0]),r=this._calculateCurrentDimensions(),s={};return this.forEachControl(function(t,e,i){s[e]=t.positionHandler(r,n,i)}),s},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),e=m(e,t),t=this._getTransformedDimensions(),i=t.x/2,t=t.y/2;return{tl:v({x:-i,y:-t},e),tr:v({x:i,y:-t},e),bl:v({x:-i,y:t},e),br:v({x:i,y:t},e)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return p.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="_",i="";return(i=!t&&this.group?this.group.transformMatrixKey(t)+e:i)+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(!t&&this.group){var t=this.transformMatrixKey(t),i=this.matrixCache||(this.matrixCache={});if(i.key===t)return i.value;this.group&&(e=m(this.group.calcTransformMatrix(!1),e)),i.key=t,i.value=e}return e},calcOwnMatrix:function(){var t,e=this.transformMatrixKey(!0),i=this.ownMatrixCache||(this.ownMatrixCache={});return i.key!==e&&(t=this._calcTranslateMatrix(),t={angle:this.angle,translateX:t[4],translateY:t[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i.key=e,i.value=p.composeMatrix(t)),i.value},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var i,n=0===t&&0===e,r=this.strokeUniform?(i=this.width,this.height):(i=(r=this._getNonTransformedDimensions()).x,r.y);return n?this._finalizeDimensions(i*this.scaleX,r*this.scaleY):(n=p.sizeAfterTransform(i,r,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:e}),this._finalizeDimensions(n.x,n.y))},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return v(e,t,!0).scalarAdd(2*this.padding)}}),z.util.object.extend(z.Object.prototype,{sendToBack:function(){return this.group?z.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?z.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?z.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?z.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?z.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),y=z.util.toFixed,z.util.object.extend(z.Object.prototype,{getSvgStyles:function(t){var e=this.fillRule||"nonzero",i=this.strokeWidth||"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):"none",r=this.strokeDashOffset||"0",s=this.strokeLineCap||"butt",o=this.strokeLineJoin||"miter",a=this.strokeMiterLimit||"4",h=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",t=t?"":this.getSvgFilter(),l=F("fill",this.fill);return[F("stroke",this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",a,"; ",l,"fill-rule: ",e,"; ","opacity: ",h,";",t,c].join("")},getSvgSpanStyles:function(t,e){var i="; ",n=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+i:"",r=t.strokeWidth?"stroke-width: "+t.strokeWidth+i:"",s=t.fontSize?"font-size: "+t.fontSize+"px"+i:"",o=t.fontStyle?"font-style: "+t.fontStyle+i:"",a=t.fontWeight?"font-weight: "+t.fontWeight+i:"",h=t.fill?F("fill",t.fill):"",c=t.stroke?F("stroke",t.stroke):"",l=this.getSvgTextDecoration(t);return[c,r,n,s,o,a,l=l&&"text-decoration: "+l+i,h,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",e?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return["overline","underline","line-through"].filter(function(t){return e[t.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){t=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+z.util.matrixToSVG(t)+(e||"")+'" '},_setSVGBg:function(t){var e;this.backgroundColor&&(e=z.Object.NUM_FRACTION_DIGITS,t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',y(-this.width/2,e),'" y="',y(-this.height/2,e),'" width="',y(this.width,e),'" height="',y(this.height,e),'"></rect>\n'))},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var i=(e=e||{}).reviver,e=e.additionalTransform||"",e=[this.getSvgTransform(!0,e),this.getSvgCommons()].join(""),n=t.indexOf("COMMON_PARTS");return t[n]=e,i?i(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var i,n=(e=e||{}).noStyle,r=e.reviver,s=n?"":'style="'+this.getSvgStyles()+'" ',o=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",a=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",c=a&&a.absolutePositioned,l=this.stroke,u=this.fill,f=this.shadow,d=[],g=t.indexOf("COMMON_PARTS"),e=e.additionalTransform;return a&&(a.clipPathId="CLIPPATH_"+z.Object.__uid++,i='<clipPath id="'+a.clipPathId+'" >\n'+a.toClipPathSVG(r)+"</clipPath>\n"),c&&d.push("<g ",o,this.getSvgCommons()," >\n"),d.push("<g ",this.getSvgTransform(!1),c?"":o+this.getSvgCommons()," >\n"),o=[s,h,n?"":this.addPaintOrder()," ",e?'transform="'+e+'" ':""].join(""),t[g]=o,u&&u.toLive&&d.push(u.toSVG(this)),l&&l.toLive&&d.push(l.toSVG(this)),f&&d.push(f.toSVG(this)),a&&d.push(i),d.push(t.join("")),d.push("</g>\n"),c&&d.push("</g>\n"),r?r(d.join("")):d.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}}),et=z.util.object.extend,_="stateProperties",z.util.object.extend(z.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||_);return Object.keys(this[e]).length<this[t].length||!function t(e,i,n){if(e===i)return 1;if(Array.isArray(e)){if(Array.isArray(i)&&e.length===i.length){for(var r=0,s=e.length;r<s;r++)if(!t(e[r],i[r]))return;return 1}}else if(e&&"object"==typeof e){var o,a=Object.keys(e);if(i&&"object"==typeof i&&(n||a.length===Object.keys(i).length)){for(r=0,s=a.length;r<s;r++)if("canvas"!==(o=a[r])&&"group"!==o&&!t(e[o],i[o]))return;return 1}}}(this[e],this,!0)},saveState:function(t){var e=t&&t.propertySet||_,i="_"+e;return this[i]?(Dt(this,i,this[e]),t&&t.stateProperties&&Dt(this,i,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||_;return this["_"+(t.propertySet=e)]={},this.saveState(t),this}}),it=z.util.degreesToRadians,z.util.object.extend(z.Object.prototype,{_findTargetCorner:function(t,e){if(this.hasControls&&!this.group&&this.canvas&&this.canvas._activeObject===this){var i,n,r=t.x,s=t.y,o=Object.keys(this.oCoords),a=o.length-1;for(this.__corner=0;0<=a;a--)if(n=o[a],this.isControlVisible(n)&&(i=this._getImageLines(e?this.oCoords[n].touchCorner:this.oCoords[n].corner),0!==(i=this._findCrossPoints({x:r,y:s},i))&&i%2==1))return this.__corner=n}return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t,e=this.oCoords;for(t in e){var i=this.controls[t];e[t].corner=i.calcCornerCoords(this.angle,this.cornerSize,e[t].x,e[t].y,!1),e[t].touchCorner=i.calcCornerCoords(this.angle,this.touchCornerSize,e[t].x,e[t].y,!0)}},drawSelectionBackground:function(t){var e,i,n;return!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this||(t.save(),e=this.getCenterPoint(),i=this._calculateCurrentDimensions(),n=this.canvas.viewportTransform,t.translate(e.x,e.y),t.scale(1/n[0],1/n[3]),t.rotate(it(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore()),this},drawBorders:function(n,t){t=t||{};var e=this._calculateCurrentDimensions(),i=this.borderScaleFactor,r=e.x+i,s=e.y+i,e=(void 0!==t.hasControls?t:this).hasControls,o=!1;return n.save(),n.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(n,t.borderDashArray||this.borderDashArray),n.strokeRect(-r/2,-s/2,r,s),e&&(n.beginPath(),this.forEachControl(function(t,e,i){t.withConnection&&t.getVisibility(i,e)&&(o=!0,n.moveTo(t.x*r,t.y*s),n.lineTo(t.x*r+t.offsetX,t.y*s+t.offsetY))}),o&&n.stroke()),n.restore(),this},drawBordersInGroup:function(t,e,i){i=i||{};var n=z.util.sizeAfterTransform(this.width,this.height,e),r=this.strokeWidth,s=this.strokeUniform,o=this.borderScaleFactor,a=n.x+r*(s?this.canvas.getZoom():e.scaleX)+o,n=n.y+r*(s?this.canvas.getZoom():e.scaleY)+o;return t.save(),this._setLineDash(t,i.borderDashArray||this.borderDashArray),t.strokeStyle=i.borderColor||this.borderColor,t.strokeRect(-a/2,-n/2,a,n),t.restore(),this},drawControls:function(n,r){r=r||{},n.save();var s,o,t=this.canvas.getRetinaScaling();return n.setTransform(t,0,0,t,0,0),n.strokeStyle=n.fillStyle=r.cornerColor||this.cornerColor,this.transparentCorners||(n.strokeStyle=r.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(n,r.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(s=this.group.calcTransformMatrix()),this.forEachControl(function(t,e,i){o=i.oCoords[e],t.getVisibility(i,e)&&(s&&(o=z.util.transformPoint(o,s)),t.render(n,o.x,o.y,r,i))}),n.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t=t||{})this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}}),z.util.object.extend(z.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){function i(){}var n=(t=t||{}).onComplete||i,r=t.onChange||i,s=this;return z.util.animate({target:this,startValue:e.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),s.requestRenderAll(),r()},onComplete:function(){e.setCoords(),n()}})},fxCenterObjectV:function(e,t){function i(){}var n=(t=t||{}).onComplete||i,r=t.onChange||i,s=this;return z.util.animate({target:this,startValue:e.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),s.requestRenderAll(),r()},onComplete:function(){e.setCoords(),n()}})},fxRemove:function(e,t){function i(){}var n=(t=t||{}).onComplete||i,r=t.onChange||i,s=this;return z.util.animate({target:this,startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),s.requestRenderAll(),r()},onComplete:function(){s.remove(e),n()}})}}),z.util.object.extend(z.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,i=[],n=[];for(t in arguments[0])i.push(t);for(var r=0,s=i.length;r<s;r++)e=r!==s-1,n.push(this._animate(t=i[r],arguments[0][t],arguments[1],e));return n}return this._animate.apply(this,arguments)},_animate:function(n,t,r,s){var o,a=this,e=(t=t.toString(),r=r?z.util.object.clone(r):{},~n.indexOf(".")&&(o=n.split(".")),-1<a.colorProperties.indexOf(n)||o&&-1<a.colorProperties.indexOf(o[1])),i=o?this.get(o[0])[o[1]]:this.get(n),i=("from"in r||(r.from=i),e||(t=~t.indexOf("=")?i+parseFloat(t.replace("=","")):parseFloat(t)),{target:this,startValue:r.from,endValue:t,byValue:r.by,easing:r.easing,duration:r.duration,abort:r.abort&&function(t,e,i){return r.abort.call(a,t,e,i)},onChange:function(t,e,i){o?a[o[0]][o[1]]=t:a.set(n,t),s||r.onChange&&r.onChange(t,e,i)},onComplete:function(t,e,i){s||(a.setCoords(),r.onComplete&&r.onComplete(t,e,i))}});return e?z.util.animateColor(i.startValue,i.endValue,i.duration,i):z.util.animate(i)}}),function(t){"use strict";var r=t.fabric||(t.fabric={}),s=r.util.object.extend,n=r.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};function e(t,e){var i=t.origin,n=t.axis1,r=t.axis2,s=t.dimension,o=e.nearest,a=e.center,h=e.farthest;return function(){switch(this.get(i)){case o:return Math.min(this.get(n),this.get(r));case a:return Math.min(this.get(n),this.get(r))+.5*this.get(s);case h:return Math.max(this.get(n),this.get(r))}}}r.Line?r.warn("fabric.Line is already defined"):(r.Line=r.util.createClass(r.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:r.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t=t||[0,0,0,0],this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t=t||{},this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==i[t]&&this._setWidthHeight(),this},_getLeftToOriginX:e({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:e({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var e=this.calcLinePoints(),e=(t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth,t.strokeStyle);t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=e},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return s(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,i=t*this.width*.5,n=e*this.height*.5;return{x1:i,x2:t*this.width*-.5,y1:n,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),r.Line.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),r.Line.fromElement=function(t,e,i){i=i||{};var t=r.parseAttributes(t,r.Line.ATTRIBUTE_NAMES),n=[t.x1||0,t.y1||0,t.x2||0,t.y2||0];e(new r.Line(n,s(t,i)))},r.Line.fromObject=function(t,e){var i=n(t,!0);i.points=[t.x1,t.y1,t.x2,t.y2],r.Object._fromObject("Line",i,function(t){delete t.points,e&&e(t)},"points")})}(i),function(t){"use strict";var r=t.fabric||(t.fabric={}),s=r.util.degreesToRadians;r.Circle?r.warn("fabric.Circle is already defined."):(r.Circle=r.util.createClass(r.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:r.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,e,i,n=(this.endAngle-this.startAngle)%360;return 0==n?["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n']:(t=s(this.startAngle),e=s(this.endAngle),i=this.radius,['<path d="M '+r.util.cos(t)*i+" "+r.util.sin(t)*i," A "+i+" "+i," 0 ",+(180<n?"1":"0")+" 1"," "+r.util.cos(e)*i+" "+r.util.sin(e)*i,'" ',"COMMON_PARTS"," />\n"])},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,s(this.startAngle),s(this.endAngle),!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),r.Circle.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),r.Circle.fromElement=function(t,e){var i,t=r.parseAttributes(t,r.Circle.ATTRIBUTE_NAMES);if(!("radius"in(i=t)&&0<=i.radius))throw new Error("value of `r` attribute is required and can not be negative");t.left=(t.left||0)-t.radius,t.top=(t.top||0)-t.radius,e(new r.Circle(t))},r.Circle.fromObject=function(t,e){r.Object._fromObject("Circle",t,e)})}(i),function(t){"use strict";var i=t.fabric||(t.fabric={});i.Triangle?i.warn("fabric.Triangle is already defined"):(i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),i.Triangle.fromObject=function(t,e){return i.Object._fromObject("Triangle",t,e)})}(i),function(t){"use strict";var i=t.fabric||(t.fabric={}),e=2*Math.PI;i.Ellipse?i.warn("fabric.Ellipse is already defined."):(i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,e,!1),t.restore(),this._renderPaintInOrder(t)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(t,e){t=i.parseAttributes(t,i.Ellipse.ATTRIBUTE_NAMES);t.left=(t.left||0)-t.rx,t.top=(t.top||0)-t.ry,e(new i.Ellipse(t))},i.Ellipse.fromObject=function(t,e){i.Object._fromObject("Ellipse",t,e)})}(i),function(t){"use strict";var n=t.fabric||(t.fabric={}),r=n.util.object.extend;n.Rect?n.warn("fabric.Rect is already defined"):(n.Rect=n.util.createClass(n.Object,{stateProperties:n.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,n=this.width,r=this.height,s=-this.width/2,o=-this.height/2,a=0!==e||0!==i,h=.4477152502;t.beginPath(),t.moveTo(s+e,o),t.lineTo(s+n-e,o),a&&t.bezierCurveTo(s+n-h*e,o,s+n,o+h*i,s+n,o+i),t.lineTo(s+n,o+r-i),a&&t.bezierCurveTo(s+n,o+r-h*i,s+n-h*e,o+r,s+n-e,o+r),t.lineTo(s+e,o+r),a&&t.bezierCurveTo(s+h*e,o+r,s,o+r-h*i,s,o+r-i),t.lineTo(s,o+i),a&&t.bezierCurveTo(s,o+h*i,s+h*e,o,s+e,o),t.closePath(),this._renderPaintInOrder(t)},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),n.Rect.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),n.Rect.fromElement=function(t,e,i){if(!t)return e(null);i=i||{};t=n.parseAttributes(t,n.Rect.ATTRIBUTE_NAMES),t.left=t.left||0,t.top=t.top||0,t.height=t.height||0,t.width=t.width||0,i=new n.Rect(r(i?n.util.object.clone(i):{},t));i.visible=i.visible&&0<i.width&&0<i.height,e(i)},n.Rect.fromObject=function(t,e){return n.Object._fromObject("Rect",t,e)})}(i),function(t){"use strict";var o=t.fabric||(t.fabric={}),s=o.util.object.extend,n=o.util.array.min,r=o.util.array.max,a=o.util.toFixed,e=o.util.projectStrokeOnPoints;o.Polyline?o.warn("fabric.Polyline is already defined"):(o.Polyline=o.util.createClass(o.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:o.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_projectStrokeOnPoints:function(){return e(this.points,this,!0)},_setPositionDimensions:function(t){var e,i=this._calcDimensions(t),n=this.exactBoundingBox?this.strokeWidth:0;this.width=i.width-n,this.height=i.height-n,t.fromSVG||(e=this.translateToGivenOrigin({x:i.left-this.strokeWidth/2+n/2,y:i.top-this.strokeWidth/2+n/2},"left","top",this.originX,this.originY)),void 0===t.left&&(this.left=t.fromSVG?i.left:e.x),void 0===t.top&&(this.top=t.fromSVG?i.top:e.y),this.pathOffset={x:i.left+this.width/2+n/2,y:i.top+this.height/2+n/2}},_calcDimensions:function(){var t=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,e=n(t,"x")||0,i=n(t,"y")||0;return{left:e,top:i,width:(r(t,"x")||0)-e,height:(r(t,"y")||0)-i}},toObject:function(t){return s(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],e=this.pathOffset.x,i=this.pathOffset.y,n=o.Object.NUM_FRACTION_DIGITS,r=0,s=this.points.length;r<s;r++)t.push(a(this.points[r].x-e,n),",",a(this.points[r].y-i,n)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,i=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(!i||isNaN(this.points[i-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-r);for(var s=0;s<i;s++)e=this.points[s],t.lineTo(e.x-n,e.y-r);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),o.Polyline.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polyline.fromElementGenerator=function(r){return function(t,e,i){if(!t)return e(null);i=i||{};var n=o.parsePointsAttribute(t.getAttribute("points")),t=o.parseAttributes(t,o[r].ATTRIBUTE_NAMES);t.fromSVG=!0,e(new o[r](n,s(t,i)))}},o.Polyline.fromElement=o.Polyline.fromElementGenerator("Polyline"),o.Polyline.fromObject=function(t,e){return o.Object._fromObject("Polyline",t,e,"points")})}(i),function(t){"use strict";var i=t.fabric||(t.fabric={}),e=i.util.projectStrokeOnPoints;i.Polygon?i.warn("fabric.Polygon is already defined"):(i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return e(this.points,this)},_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(t,e){i.Object._fromObject("Polygon",t,e,"points")})}(i),function(t){"use strict";var f=t.fabric||(t.fabric={}),d=f.util.array.min,g=f.util.array.max,n=f.util.object.extend,i=f.util.object.clone,e=f.util.toFixed;f.Path?f.warn("fabric.Path is already defined"):(f.Path=f.util.createClass(f.Object,{type:"path",path:null,cacheProperties:f.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:f.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){delete(e=i(e||{})).path,this.callSuper("initialize",e),this._setPath(t||[],e)},_setPath:function(t,e){this.path=f.util.makePathSimpler(Array.isArray(t)?t:f.util.parsePath(t)),f.Polyline.prototype._setPositionDimensions.call(this,e||{})},_renderPathCommands:function(t){var e,i=0,n=0,r=0,s=0,o=0,a=0,h=-this.pathOffset.x,c=-this.pathOffset.y;t.beginPath();for(var l=0,u=this.path.length;l<u;++l)switch((e=this.path[l])[0]){case"L":r=e[1],s=e[2],t.lineTo(r+h,s+c);break;case"M":i=r=e[1],n=s=e[2],t.moveTo(r+h,s+c);break;case"C":r=e[5],s=e[6],o=e[3],a=e[4],t.bezierCurveTo(e[1]+h,e[2]+c,o+h,a+c,r+h,s+c);break;case"Q":t.quadraticCurveTo(e[1]+h,e[2]+c,e[3]+h,e[4]+c),r=e[3],s=e[4],o=e[1],a=e[2];break;case"z":case"Z":r=i,s=n,t.closePath()}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return n(this.callSuper("toObject",t),{path:this.path.map(function(t){return t.slice()})})},toDatalessObject:function(t){t=this.toObject(["sourcePath"].concat(t));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',f.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=f.Object.NUM_FRACTION_DIGITS;return" translate("+e(-this.pathOffset.x,t)+", "+e(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,e,i=[],n=[],r=0,s=0,o=0,a=0,h=0,c=this.path.length;h<c;++h){switch((t=this.path[h])[0]){case"L":o=t[1],a=t[2],e=[];break;case"M":r=o=t[1],s=a=t[2],e=[];break;case"C":e=f.util.getBoundsOfCurve(o,a,t[1],t[2],t[3],t[4],t[5],t[6]),o=t[5],a=t[6];break;case"Q":e=f.util.getBoundsOfCurve(o,a,t[1],t[2],t[1],t[2],t[3],t[4]),o=t[3],a=t[4];break;case"z":case"Z":o=r,a=s}e.forEach(function(t){i.push(t.x),n.push(t.y)}),i.push(o),n.push(a)}var l=d(i)||0,u=d(n)||0;return{left:l,top:u,width:(g(i)||0)-l,height:(g(n)||0)-u}}}),f.Path.fromObject=function(i,n){var t;"string"==typeof i.sourcePath?(t=i.sourcePath,f.loadSVGFromURL(t,function(t){var e=t[0];e.setOptions(i),i.clipPath?f.util.enlivenObjects([i.clipPath],function(t){e.clipPath=t[0],n&&n(e)}):n&&n(e)})):f.Object._fromObject("Path",i,n,"path")},f.Path.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat(["d"]),f.Path.fromElement=function(t,e,i){t=f.parseAttributes(t,f.Path.ATTRIBUTE_NAMES);t.fromSVG=!0,e(new f.Path(t.d,n(t,i)))})}(i),function(t){"use strict";var o=t.fabric||(t.fabric={}),a=o.util.array.min,h=o.util.array.max;o.Group||(o.Group=o.util.createClass(o.Object,o.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,i){e=e||{},this._objects=[],i&&this.callSuper("initialize",e),this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;i?this._updateObjectsACoords():(t=e&&e.centerPoint,void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),t||this._calcBounds(),this._updateObjectsCoords(t),delete e.centerPoint,this.callSuper("initialize",e)),this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0)},_updateObjectsCoords:function(t){for(var t=t||this.getCenterPoint(),e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var i=t.left,n=t.top;t.set({left:i-e.x,top:n-e.y}),t.group=this,t.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var e=!!this.group;return this._restoreObjectsState(),o.util.resetObjectTransform(this),t&&(e&&o.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,e?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),o.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,e){var i=this._objects.length;if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(t,e);if("canvas"===t)for(;i--;)this._objects[i]._set(t,e);o.Object.prototype._set.call(this,t,e)},toObject:function(n){var r=this.includeDefaultValues,t=this._objects.filter(function(t){return!t.excludeFromExport}).map(function(t){var e=t.includeDefaultValues,i=(t.includeDefaultValues=r,t.toObject(n));return t.includeDefaultValues=e,i}),e=o.Object.prototype.toObject.call(this,n);return e.objects=t,e},toDatalessObject:function(n){var r,t=this.sourcePath,e=(t=t||(r=this.includeDefaultValues,this._objects.map(function(t){var e=t.includeDefaultValues,i=(t.includeDefaultValues=r,t.toDatalessObject(n));return t.includeDefaultValues=e,i})),o.Object.prototype.toDatalessObject.call(this,n));return e.objects=t,e},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=o.Object.prototype.shouldCache.call(this);if(t)for(var e=0,i=this._objects.length;e<i;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1;return t},willDrawShadow:function(){if(o.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,i=this._objects.length;e<i;e++)this._objects[e].render(t);this._drawClipPath(t,this.clipPath)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(this.statefullCache)for(var e,i,n=0,r=this._objects.length;n<r;n++)if(this._objects[n].isCacheDirty(!0))return this._cacheCanvas&&(e=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY,this._cacheContext.clearRect(-e/2,-i/2,e,i)),!0;return!1},_restoreObjectsState:function(){var e=this.calcOwnMatrix();return this._objects.forEach(function(t){o.util.addTransformToObject(t,e),delete t.group,t.setCoords()}),this},destroy:function(){return this._objects.forEach(function(t){t.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(t){t.dispose&&t.dispose()}),this._objects=[]},toActiveSelection:function(){var t,e,i,n;if(this.canvas)return t=this._objects,e=this.canvas,this._objects=[],delete(i=this.toObject()).objects,(n=new o.ActiveSelection([])).set(i),n.type="activeSelection",e.remove(this),t.forEach(function(t){t.group=n,t.dirty=!0,e.add(t)}),n.canvas=e,n._objects=t,(e._activeObject=n).setCoords(),n},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords(!0)}),this},_calcBounds:function(t){for(var e,i,n,r,s=[],o=[],a=["tr","br","bl","tl"],h=0,c=this._objects.length,l=a.length;h<c;++h){for(n=(e=this._objects[h]).calcACoords(),r=0;r<l;r++)s.push(n[i=a[r]].x),o.push(n[i].y);e.aCoords=n}this._getBounds(s,o,t)},_getBounds:function(t,e,i){var n=new o.Point(a(t),a(e)),t=new o.Point(h(t),h(e)),e=n.y||0,r=n.x||0,s=t.x-n.x||0,t=t.y-n.y||0;this.width=s,this.height=t,i||this.setPositionByOrigin({x:r,y:e},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],i=0,n=this._objects.length;i<n;i++)e.push("\t\t",this._objects[i].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],i=0,n=this._objects.length;i<n;i++)e.push("\t",this._objects[i].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),o.Group.fromObject=function(i,n){var r=i.objects,s=o.util.object.clone(i,!0);delete s.objects,"string"==typeof r?o.loadSVGFromURL(r,function(t){var e=o.util.groupSVGElements(t,i,r),t=s.clipPath;delete s.clipPath,e.set(s),t?o.util.enlivenObjects([t],function(t){e.clipPath=t[0],n&&n(e)}):n&&n(e)}):o.util.enlivenObjects(r,function(t){o.util.enlivenObjectEnlivables(i,s,function(){n&&n(new o.Group(t,s,!0))})})})}(i),function(t){"use strict";var n=t.fabric||(t.fabric={});n.ActiveSelection||(n.ActiveSelection=n.util.createClass(n.Group,{type:"activeSelection",initialize:function(t,e){e=e||{},this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),this._calcBounds(),this._updateObjectsCoords(),n.Object.prototype.initialize.call(this,e),this.setCoords()},toGroup:function(){var t=this._objects.concat(),e=(this._objects=[],n.Object.prototype.toObject.call(this)),i=new n.Group([]);return delete e.type,i.set(e),t.forEach(function(t){t.canvas.remove(t),t.group=i}),i._objects=t,this.canvas&&((e=this.canvas).add(i),(e._activeObject=i).setCoords()),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(i=i||{}).hasControls&&(i.hasControls=!1),i.forActiveSelection=!0;for(var n=0,r=this._objects.length;n<r;n++)this._objects[n]._renderControls(t,i);t.restore()}}),n.ActiveSelection.fromObject=function(e,i){n.util.enlivenObjects(e.objects,function(t){delete e.objects,i&&i(new n.ActiveSelection(t,e,!0))})})}(i),function(t){"use strict";var n=z.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?z.warn("fabric.Image is already defined."):(z.Image=z.util.createClass(z.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:z.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:z.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e=e||{},this.filters=[],this.cacheKey="texture"+z.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=z.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){z.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){var e,i;this.stroke&&0!==this.strokeWidth&&(e=this.width/2,i=this.height/2,t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath())},toObject:function(t){var e=[],t=(this.filters.forEach(function(t){t&&e.push(t.toObject())}),n(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e}));return this.resizeFilter&&(t.resizeFilter=this.resizeFilter.toObject()),t},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e,i=[],n=[],r=this._element,s=-this.width/2,o=-this.height/2,a="",h="";return r?(this.hasCrop()&&(e=z.Object.__uid++,i.push('<clipPath id="imageCrop_'+e+'">\n','\t<rect x="'+s+'" y="'+o+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+e+')" '),this.imageSmoothing||(h='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',o-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,h,'"',a,"></image>\n"),(this.stroke||this.strokeDashArray)&&(e=this.fill,this.fill=null,t=["\t<rect ",'x="',s,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=e),"fill"!==this.paintFirst?i.concat(t,n):i.concat(n,t)):[]},getSrc:function(t){t=t?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(t,i,n){return z.util.loadImage(t,function(t,e){this.setElement(t,n),this._setWidthHeight(),i&&i(this,e)},this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t,e,i,n=this.resizeFilter,r=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),o=s.scaleX,s=s.scaleY,a=this._filteredEl||this._originalElement;this.group&&this.set("dirty",!0),!n||r<o&&r<s?(this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=o,this._lastScaleY=s):(z.filterBackend||(z.filterBackend=z.initFilterBackend()),r=z.util.createCanvasElement(),t=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,e=a.width,i=a.height,r.width=e,r.height=i,this._element=r,this._lastScaleX=n.scaleX=o,this._lastScaleY=n.scaleY=s,z.filterBackend.applyFilters([n],a,e,i,this._element,t),this._filterScalingX=r.width/this._originalElement.width,this._filterScalingY=r.height/this._originalElement.height)},applyFilters:function(t){var e,i,n;return t=(t=t||this.filters||[]).filter(function(t){return t&&!t.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length?(this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1):(e=(i=this._originalElement).naturalWidth||i.width,i=i.naturalHeight||i.height,this._element===this._originalElement?((n=z.util.createCanvasElement()).width=e,n.height=i,this._element=n,this._filteredEl=n):(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,e,i),this._lastScaleX=1,this._lastScaleY=1),z.filterBackend||(z.filterBackend=z.initFilterBackend()),z.filterBackend.applyFilters(t,this._originalElement,e,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)),this},_render:function(t){z.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){z.util.setImageSmoothing(t,this.imageSmoothing),z.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e,i,n,r,s,o,a,h,c,l,u,f,d,g,p,m=this._element;m&&(e=this._filterScalingX,i=this._filterScalingY,g=this.width,n=this.height,r=Math.min,s=(o=Math.max)(this.cropX,0),o=o(this.cropY,0),p=m.naturalWidth||m.width,a=m.naturalHeight||m.height,c=o*i,l=r(g*e,p-(h=s*e)),u=r(n*i,a-c),f=-g/2,d=-n/2,g=r(g,p/e-s),p=r(n,a/i-o),m&&t.drawImage(m,h,c,l,u,f,d,g,p))},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(z.util.getById(t),e),z.util.addClass(this.getElement(),z.Image.CSS_CANVAS)},_initConfig:function(t){this.setOptions(t=t||{}),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?z.util.enlivenObjects(t,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t=t||{};var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=z.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),i=this._element.width,n=this._element.height,r=1,s=1,o=0,a=0,h=0,c=0,l=this.width,u=this.height,f={width:l,height:u};return!e||"none"===e.alignX&&"none"===e.alignY?(r=l/i,s=u/n):("meet"===e.meetOrSlice&&(t=(l-i*(r=s=z.util.findScaleToFit(this._element,f)))/2,"Min"===e.alignX&&(o=-t),"Max"===e.alignX&&(o=t),t=(u-n*s)/2,"Min"===e.alignY&&(a=-t),"Max"===e.alignY&&(a=t)),"slice"===e.meetOrSlice&&(t=i-l/(r=s=z.util.findScaleToCover(this._element,f)),"Mid"===e.alignX&&(h=t/2),"Max"===e.alignX&&(h=t),t=n-u/s,"Mid"===e.alignY&&(c=t/2),"Max"===e.alignY&&(c=t),i=l/r,n=u/s)),{width:i,height:n,scaleX:r,scaleY:s,offsetLeft:o,offsetTop:a,cropX:h,cropY:c}}}),z.Image.CSS_CANVAS="canvas-img",z.Image.prototype.getSvgSrc=z.Image.prototype.getSrc,z.Image.fromObject=function(t,i){var n=z.util.object.clone(t);z.util.loadImage(n.src,function(e,t){t?i&&i(null,!0):z.Image.prototype._initFilters.call(n,n.filters,function(t){n.filters=t||[],z.Image.prototype._initFilters.call(n,[n.resizeFilter],function(t){n.resizeFilter=t[0],z.util.enlivenObjectEnlivables(n,n,function(){var t=new z.Image(e,n);i(t,!1)})})})},null,n.crossOrigin)},z.Image.fromURL=function(t,i,n){z.util.loadImage(t,function(t,e){i&&i(new z.Image(t,n),e)},null,n&&n.crossOrigin)},z.Image.ATTRIBUTE_NAMES=z.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),z.Image.fromElement=function(t,e,i){t=z.parseAttributes(t,z.Image.ATTRIBUTE_NAMES);z.Image.fromURL(t["xlink:href"],e,n(i?z.util.object.clone(i):{},t))})}(i),z.util.object.extend(z.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return 0<t?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(t){function e(){}var i=(t=t||{}).onComplete||e,n=t.onChange||e,r=this;return z.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.rotate(t),n()},onComplete:function(){r.setCoords(),i()}})}}),z.util.object.extend(z.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function t(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}z.isWebglSupported=function(t){if(z.isLikelyNode)return!1;t=t||z.WebglFilterBackend.prototype.tileSize;var e,i,n,r=document.createElement("canvas"),s=r.getContext("webgl")||r.getContext("experimental-webgl"),r=!1;if(s){z.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE);for(var r=z.maxTextureSize>=t,o=["highp","mediump","lowp"],a=0;a<3;a++)if(n=void 0,i="precision "+(i=o[a])+" float;\nvoid main(){}",n=(e=s).createShader(e.FRAGMENT_SHADER),e.shaderSource(n,i),e.compileShader(n),!!e.getShaderParameter(n,e.COMPILE_STATUS)){z.webGlPrecision=o[a];break}}return this.isSupported=r},(z.WebglFilterBackend=t).prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var i=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(t){n=!1}var n,r="undefined"!=typeof ArrayBuffer,s="undefined"!=typeof Uint8ClampedArray;i&&n&&r&&s&&(i=z.util.createCanvasElement(),n=new ArrayBuffer(t*e*4),z.forceGLPutImageData||(r={imageBuffer:n,destinationWidth:t,destinationHeight:e,targetCanvas:i},i.width=t,i.height=e,s=window.performance.now(),Ft.call(r,this.gl,r),t=window.performance.now()-s,s=window.performance.now(),It.call(r,this.gl,r),window.performance.now()-s<t)?(this.imageBuffer=n,this.copyGLTo2D=It):this.copyGLTo2D=Ft)},createWebGLCanvas:function(t,e){var i=z.util.createCanvasElement(),t=(i.width=t,i.height=e,{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1}),e=i.getContext("webgl",t);(e=e||i.getContext("experimental-webgl",t))&&(e.clearColor(0,0,0,0),this.canvas=i,this.gl=e)},applyFilters:function(t,e,i,n,r,s){var o,a=this.gl,h=(s&&(o=this.getCachedTexture(s,e)),{originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:a,sourceTexture:this.createTexture(a,i,n,!o&&e),targetTexture:this.createTexture(a,i,n),originalTexture:o||this.createTexture(a,i,n,!o&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r}),s=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,s),t.forEach(function(t){t&&t.applyTo(h)}),Mt(h),this.copyGLTo2D(a,h),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(h.sourceTexture),a.deleteTexture(h.targetTexture),a.deleteFramebuffer(s),r.getContext("2d").setTransform(1,0,0,1,0,0),h},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,i,n){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),r},getCachedTexture:function(t,e){return this.textureCache[t]||(e=this.createTexture(this.gl,e.width,e.height,e),this.textureCache[t]=e)},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:Ft,captureGPUInfo:function(){var t,e,i,n;return this.gpuInfo||(t={renderer:"",vendor:""},(n=this.gl)&&((e=n.getExtension("WEBGL_debug_renderer_info"))&&(i=n.getParameter(e.UNMASKED_RENDERER_WEBGL),n=n.getParameter(e.UNMASKED_VENDOR_WEBGL),i&&(t.renderer=i.toLowerCase()),n&&(t.vendor=n.toLowerCase())),this.gpuInfo=t),t)}}}(),function(){"use strict";function t(){}function e(){}(z.Canvas2dFilterBackend=e).prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,i,n,r){var s=r.getContext("2d");s.drawImage(e,0,0,i,n);var o={sourceWidth:i,sourceHeight:n,imageData:s.getImageData(0,0,i,n),originalEl:e,originalImageData:s.getImageData(0,0,i,n),canvasEl:r,ctx:s,filterBackend:this};return t.forEach(function(t){t.applyTo(o)}),o.imageData.width===i&&o.imageData.height===n||(r.width=o.imageData.width,r.height=o.imageData.height),s.putImageData(o.imageData,0,0),o}}}(),z.Image=z.Image||{},z.Image.filters=z.Image.filters||{},z.Image.filters.BaseFilter=z.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,i){e=e||this.fragmentSource,i=i||this.vertexSource,"highp"!==z.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+z.webGlPrecision+" float"));var n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,i),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(n));i=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(i));e=t.createProgram();if(t.attachShader(e,n),t.attachShader(e,i),t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS))return n=this.getAttributeLocations(t,e),(i=this.getUniformLocations(t,e)||{}).uStepW=t.getUniformLocation(e,"uStepW"),i.uStepH=t.getUniformLocation(e,"uStepH"),{program:e,attributeLocations:n,uniformLocations:i};throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(e))},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,i){var e=e.aPosition,n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,i,n=t.context;1<t.passes?(e=t.destinationWidth,i=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===i||(n.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(n,e,i)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=z.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var i=e[t].length;i--;)if(this[t][i]!==e[t][i])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,i=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){var e;t.helpLayer||((e=document.createElement("canvas")).width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e)},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),z.Image.filters.BaseFilter.fromObject=function(t,e){t=new z.Image.filters[t.type](t);return e&&e(t),t},function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.ColorMatrix=i(e.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){for(var e,i,n,r,s=t.imageData.data,o=s.length,a=this.matrix,h=this.colorsOnly,c=0;c<o;c+=4)e=s[c],i=s[c+1],n=s[c+2],h?(s[c]=e*a[0]+i*a[1]+n*a[2]+255*a[4],s[c+1]=e*a[5]+i*a[6]+n*a[7]+255*a[9],s[c+2]=e*a[10]+i*a[11]+n*a[12]+255*a[14]):(r=s[c+3],s[c]=e*a[0]+i*a[1]+n*a[2]+r*a[3]+255*a[4],s[c+1]=e*a[5]+i*a[6]+n*a[7]+r*a[8]+255*a[9],s[c+2]=e*a[10]+i*a[11]+n*a[12]+r*a[13]+255*a[14],s[c+3]=e*a[15]+i*a[16]+n*a[17]+r*a[18]+255*a[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],i=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,i)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.Brightness=i(e.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness)for(var e=t.imageData.data,i=e.length,n=Math.round(255*this.brightness),r=0;r<i;r+=4)e[r]=e[r]+n,e[r+1]=e[r+1]+n,e[r+2]=e[r+2]+n},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.util.object.extend,i=t.Image.filters,n=t.util.createClass;i.Convolute=n(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),e=this.type+"_"+e+"_"+(this.opaque?1:0),i=this.fragmentSource[e];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,i)),t.programCache[e]},applyTo2d:function(t){for(var e,i,n,r,s,o,a,h,c,l,u,f=t.imageData,d=f.data,g=this.matrix,p=Math.round(Math.sqrt(g.length)),m=Math.floor(p/2),v=f.width,y=f.height,f=t.ctx.createImageData(v,y),_=f.data,x=this.opaque?1:0,b=0;b<y;b++)for(c=0;c<v;c++){for(s=4*(b*v+c),u=r=n=i=e=0;u<p;u++)for(l=0;l<p;l++)o=c+l-m,(a=b+u-m)<0||y<=a||o<0||v<=o||(h=g[u*p+l],e+=d[a=4*(a*v+o)]*h,i+=d[1+a]*h,n+=d[2+a]*h,x||(r+=d[3+a]*h));_[s]=e,_[1+s]=i,_[2+s]=n,_[3+s]=x?d[3+s]:r}t.imageData=f},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return e(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.Grayscale=i(e.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){for(var e,i=t.imageData.data,n=i.length,r=this.mode,s=0;s<n;s+=4)"average"===r?e=(i[s]+i[s+1]+i[s+2])/3:"lightness"===r?e=(Math.min(i[s],i[s+1],i[s+2])+Math.max(i[s],i[s+1],i[s+2]))/2:"luminosity"===r&&(e=.21*i[s]+.72*i[s+1]+.07*i[s+2]),i[s]=e,i[s+1]=e,i[s+2]=e},retrieveShader:function(t){var e,i=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(i)||(e=this.fragmentSource[this.mode],t.programCache[i]=this.createProgram(t.context,e)),t.programCache[i]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.Invert=i(e.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){for(var e=t.imageData.data,i=e.length,n=0;n<i;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.util.object.extend,i=t.Image.filters,n=t.util.createClass;i.Noise=n(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise)for(var e,i=t.imageData.data,n=(i.length,this.noise),r=0,s=i.length;r<s;r+=4)e=(.5-Math.random())*n,i[r]+=e,i[r+1]+=e,i[r+2]+=e},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return e(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.Pixelate=i(e.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){for(var e,i,n,r,s,o,a,h,c,l,t=t.imageData,u=t.data,f=t.height,d=t.width,g=0;g<f;g+=this.blocksize)for(i=0;i<d;i+=this.blocksize)for(n=u[e=4*g*d+4*i],r=u[1+e],s=u[2+e],o=u[3+e],c=Math.min(g+this.blocksize,f),l=Math.min(i+this.blocksize,d),a=g;a<c;a++)for(h=i;h<l;h++)u[e=4*a*d+4*h]=n,u[1+e]=r,u[2+e]=s,u[3+e]=o},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var c=t.fabric||(t.fabric={}),e=c.util.object.extend,t=c.Image.filters,i=c.util.createClass;t.RemoveColor=i(t.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){for(var e,i,n,r=t.imageData.data,t=255*this.distance,s=new c.Color(this.color).getSource(),o=[s[0]-t,s[1]-t,s[2]-t],a=[s[0]+t,s[1]+t,s[2]+t],h=0;h<r.length;h+=4)e=r[h],i=r[h+1],n=r[h+2],o[0]<e&&o[1]<i&&o[2]<n&&e<a[0]&&i<a[1]&&n<a[2]&&(r[h+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,e){var i=new c.Color(this.color).getSource(),n=parseFloat(this.distance),r=[0+i[0]/255-n,0+i[1]/255-n,0+i[2]/255-n,1],i=[i[0]/255+n,i[1]/255+n,i[2]/255+n,1];t.uniform4fv(e.uLow,r),t.uniform4fv(e.uHigh,i)},toObject:function(){return e(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),c.Image.filters.RemoveColor.fromObject=c.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var e,i=t.fabric||(t.fabric={}),n=i.Image.filters,r=i.util.createClass,s={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(e in s)n[e]=r(n.ColorMatrix,{type:e,matrix:s[e],mainParameter:!1,colorsOnly:!0}),i.Image.filters[e].fromObject=i.Image.filters.BaseFilter.fromObject}(i),function(){"use strict";var u=(true?i:0).fabric,t=u.Image.filters,e=u.util.createClass;t.BlendColor=e(t.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,i=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(i)||(e=this.buildSource(this.mode),t.programCache[i]=this.createProgram(t.context,e)),t.programCache[i]},applyTo2d:function(t){for(var e,i,n,r=t.imageData.data,s=r.length,o=1-this.alpha,t=new u.Color(this.color).getSource(),a=t[0]*this.alpha,h=t[1]*this.alpha,c=t[2]*this.alpha,l=0;l<s;l+=4)switch(e=r[l],i=r[l+1],n=r[l+2],this.mode){case"multiply":r[l]=e*a/255,r[l+1]=i*h/255,r[l+2]=n*c/255;break;case"screen":r[l]=255-(255-e)*(255-a)/255,r[l+1]=255-(255-i)*(255-h)/255,r[l+2]=255-(255-n)*(255-c)/255;break;case"add":r[l]=e+a,r[l+1]=i+h,r[l+2]=n+c;break;case"diff":case"difference":r[l]=Math.abs(e-a),r[l+1]=Math.abs(i-h),r[l+2]=Math.abs(n-c);break;case"subtract":r[l]=e-a,r[l+1]=i-h,r[l+2]=n-c;break;case"darken":r[l]=Math.min(e,a),r[l+1]=Math.min(i,h),r[l+2]=Math.min(n,c);break;case"lighten":r[l]=Math.max(e,a),r[l+1]=Math.max(i,h),r[l+2]=Math.max(n,c);break;case"overlay":r[l]=a<128?2*e*a/255:255-2*(255-e)*(255-a)/255,r[l+1]=h<128?2*i*h/255:255-2*(255-i)*(255-h)/255,r[l+2]=c<128?2*n*c/255:255-2*(255-n)*(255-c)/255;break;case"exclusion":r[l]=a+e-2*a*e/255,r[l+1]=h+i-2*h*i/255,r[l+2]=c+n-2*c*n/255;break;case"tint":r[l]=a+e*o,r[l+1]=h+i*o,r[l+2]=c+n*o}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,e){var i=new u.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(e.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),u.Image.filters.BlendColor.fromObject=u.Image.filters.BaseFilter.fromObject}(),function(){"use strict";var v=(true?i:0).fabric,t=v.Image.filters,e=v.util.createClass;t.BlendImage=e(t.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,i=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,i)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,i=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]},applyTo2d:function(t){var e,i,n,r,s,o,a,h,c,l=t.imageData,t=t.filterBackend.resources,u=l.data,f=u.length,d=l.width,l=l.height,g=this.image;t.blendImage||(t.blendImage=v.util.createCanvasElement()),c=(t=t.blendImage).getContext("2d"),t.width!==d||t.height!==l?(t.width=d,t.height=l):c.clearRect(0,0,d,l),c.setTransform(g.scaleX,0,0,g.scaleY,g.left,g.top),c.drawImage(g._element,0,0,d,l);for(var p=c.getImageData(0,0,d,l).data,m=0;m<f;m+=4)switch(s=u[m],o=u[m+1],a=u[m+2],h=u[m+3],e=p[m],i=p[m+1],n=p[m+2],r=p[m+3],this.mode){case"multiply":u[m]=s*e/255,u[m+1]=o*i/255,u[m+2]=a*n/255,u[m+3]=h*r/255;break;case"mask":u[m+3]=r}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),v.Image.filters.BlendImage.fromObject=function(i,n){v.Image.fromObject(i.image,function(t){var e=v.util.object.clone(i);e.image=t,n(new v.Image.filters.BlendImage(e))})}}(),function(t){"use strict";var m=t.fabric||(t.fabric={}),P=Math.pow,j=Math.floor,D=Math.sqrt,M=Math.abs,o=Math.round,n=Math.sin,F=Math.ceil,t=m.Image.filters,e=m.util.createClass;t.Resize=e(t.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),i=this.type+"_"+e;return t.programCache.hasOwnProperty(i)||(e=this.generateShader(e),t.programCache[i]=this.createProgram(t.context,e)),t.programCache[i]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),n=new Array(i),r=1;r<=i;r++)n[r-1]=t(r*e);return n},generateShader:function(t){for(var e=new Array(t),i=this.fragmentSourceTOP,n=1;n<=t;n++)e[n-1]=n+".0 * uDelta";return i=(i=i+("uniform float uTaps["+t+"];\n")+"void main() {\n")+"  vec4 color = texture2D(uTexture, vTexCoord);\n"+"  float sum = 1.0;\n",e.forEach(function(t,e){i=(i+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n")+"  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n  sum += 2.0 * uTaps["+e+"];\n"}),i=i+"  gl_FragColor = color / sum;\n"+"}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(i){return function(t){var e;return i<=t||t<=-i?0:t<1.1920929e-7&&-1.1920929e-7<t?1:(e=(t*=Math.PI)/i,n(t)/t*n(e)/e)}},applyTo2d:function(t){var e,i=t.imageData,n=this.scaleX,r=this.scaleY,s=(this.rcpScaleX=1/n,this.rcpScaleY=1/r,i.width),i=i.height,n=o(s*n),r=o(i*r);"sliceHack"===this.resizeType?e=this.sliceByTwo(t,s,i,n,r):"hermite"===this.resizeType?e=this.hermiteFastResize(t,s,i,n,r):"bilinear"===this.resizeType?e=this.bilinearFiltering(t,s,i,n,r):"lanczos"===this.resizeType&&(e=this.lanczosResize(t,s,i,n,r)),t.imageData=e},sliceByTwo:function(t,e,i,n,r){var s,o,t=t.imageData,a=!1,h=!1,c=.5*e,l=.5*i,u=m.filterBackend.resources,f=0,d=0,g=e,p=0;for(u.sliceByTwo||(u.sliceByTwo=document.createElement("canvas")),((s=u.sliceByTwo).width<1.5*e||s.height<i)&&(s.width=1.5*e,s.height=i),(o=s.getContext("2d")).clearRect(0,0,1.5*e,i),o.putImageData(t,0,0),n=j(n),r=j(r);!a||!h;)i=l,n<j(.5*(e=c))?c=j(.5*c):(c=n,a=!0),r<j(.5*l)?l=j(.5*l):(l=r,h=!0),o.drawImage(s,f,d,e,i,g,p,c,l),f=g,d=p,p+=l;return o.getImageData(f,d,n,r)},lanczosResize:function(t,d,g,p,m){var v=t.imageData.data,y=t.ctx.createImageData(p,m),_=y.data,x=this.lanczosCreate(this.lanczosLobes),b=this.rcpScaleX,C=this.rcpScaleY,S=2/this.rcpScaleX,T=2/this.rcpScaleY,w=F(b*this.lanczosLobes/2),O=F(C*this.lanczosLobes/2),A={},E={},k={};return function t(e){var i,n,r,s,o,a,h,c,l,u;for(E.x=(e+.5)*b,k.x=j(E.x),i=0;i<m;i++){for(E.y=(i+.5)*C,k.y=j(E.y),c=h=a=o=s=0,n=k.x-w;n<=k.x+w;n++)if(!(n<0||d<=n)){l=j(1e3*M(n-E.x)),A[l]||(A[l]={});for(var f=k.y-O;f<=k.y+O;f++)f<0||g<=f||(u=j(1e3*M(f-E.y)),A[l][u]||(A[l][u]=x(D(P(l*S,2)+P(u*T,2))/1e3)),0<(u=A[l][u])&&(s+=u,o+=u*v[r=4*(f*d+n)],a+=u*v[r+1],h+=u*v[r+2],c+=u*v[r+3]))}_[r=4*(i*p+e)]=o/s,_[r+1]=a/s,_[r+2]=h/s,_[r+3]=c/s}return++e<p?t(e):y}(0)},bilinearFiltering:function(t,e,i,n,r){for(var s,o,a,h,c,l,u,f,d,g,p,m=0,v=this.rcpScaleX,y=this.rcpScaleY,_=4*(e-1),x=t.imageData.data,t=t.ctx.createImageData(n,r),b=t.data,C=0;C<r;C++)for(u=0;u<n;u++)for(f=v*u-(c=j(v*u)),d=y*C-(l=j(y*C)),p=4*(l*e+c),g=0;g<4;g++)s=x[p+g],o=x[4+p+g],a=x[p+_+g],h=x[p+_+4+g],b[m++]=s*(1-f)*(1-d)+o*f*(1-d)+a*d*(1-f)+h*f*d;return t},hermiteFastResize:function(t,e,i,n,r){for(var s=this.rcpScaleX,o=this.rcpScaleY,a=F(s/2),h=F(o/2),c=t.imageData.data,t=t.ctx.createImageData(n,r),l=t.data,u=0;u<r;u++)for(var f=0;f<n;f++){for(var d=4*(f+u*n),g=0,p=0,m=0,v=0,y=0,_=0,x=0,b=(u+.5)*o,C=j(u*o);C<(u+1)*o;C++)for(var S=M(b-(C+.5))/h,T=(f+.5)*s,w=S*S,O=j(f*s);O<(f+1)*s;O++){var A=M(T-(O+.5))/a,E=D(w+A*A);1<E&&E<-1||0<(g=2*E*E*E-3*E*E+1)&&(x+=g*c[3+(A=4*(O+C*e))],m+=g,v+=(g=c[3+A]<255?g*c[3+A]/250:g)*c[A],y+=g*c[1+A],_+=g*c[2+A],p+=g)}l[d]=v/p,l[1+d]=y/p,l[2+d]=_/p,l[3+d]=x/m}return t},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),m.Image.filters.Resize.fromObject=m.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.Contrast=i(e.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast)for(var e=t.imageData.data,i=e.length,t=Math.floor(255*this.contrast),n=259*(t+255)/(255*(259-t)),r=0;r<i;r+=4)e[r]=n*(e[r]-128)+128,e[r+1]=n*(e[r+1]-128)+128,e[r+2]=n*(e[r+2]-128)+128},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.Saturation=i(e.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation)for(var e,i=t.imageData.data,n=i.length,r=-this.saturation,s=0;s<n;s+=4)e=Math.max(i[s],i[s+1],i[s+2]),i[s]+=e!==i[s]?(e-i[s])*r:0,i[s+1]+=e!==i[s+1]?(e-i[s+1])*r:0,i[s+2]+=e!==i[s+2]?(e-i[s+2])*r:0},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.Vibrance=i(e.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(t){if(0!==this.vibrance)for(var e,i,n=t.imageData.data,r=n.length,s=-this.vibrance,o=0;o<r;o+=4)e=Math.max(n[o],n[o+1],n[o+2]),i=(n[o]+n[o+1]+n[o+2])/3,i=2*Math.abs(e-i)/255*s,n[o]+=e!==n[o]?(e-n[o])*i:0,n[o+1]+=e!==n[o+1]?(e-n[o+1])*i:0,n[o+2]+=e!==n[o+2]?(e-n[o+2])*i:0},getUniformLocations:function(t,e){return{uVibrance:t.getUniformLocation(e,"uVibrance")}},sendUniformData:function(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}}),t.Image.filters.Vibrance.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var d=t.fabric||(t.fabric={}),t=d.Image.filters,e=d.util.createClass;t.Blur=e(t.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var e,i,n,r,s,o,a=t.filterBackend.resources,h=t.imageData.width,c=t.imageData.height,l=(a.blurLayer1||(a.blurLayer1=d.util.createCanvasElement(),a.blurLayer2=d.util.createCanvasElement()),e=a.blurLayer1,i=a.blurLayer2,e.width===h&&e.height===c||(i.width=e.width=h,i.height=e.height=c),e.getContext("2d")),u=i.getContext("2d"),f=.06*this.blur*.5;for(l.putImageData(t.imageData,0,0),u.clearRect(0,0,h,c),o=-15;o<=15;o++)s=f*(r=o/15)*h+(n=(Math.random()-.5)/4),u.globalAlpha=1-Math.abs(r),u.drawImage(e,s,n),l.drawImage(i,0,0),u.globalAlpha=1,u.clearRect(0,0,i.width,i.height);for(o=-15;o<=15;o++)s=f*(r=o/15)*c+(n=(Math.random()-.5)/4),u.globalAlpha=1-Math.abs(r),u.drawImage(e,n,s),l.drawImage(i,0,0),u.globalAlpha=1,u.clearRect(0,0,i.width,i.height);t.ctx.drawImage(e,0,0);a=t.ctx.getImageData(0,0,e.width,e.height);return l.globalAlpha=1,l.clearRect(0,0,e.width,e.height),a},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var i=this.chooseRightDelta();t.uniform2fv(e.delta,i)},chooseRightDelta:function(){var t=1,e=[0,0];return this.horizontal?1<this.aspectRatio&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),t=t*this.blur*.12,this.horizontal?e[0]=t:e[1]=t,e}}),t.Blur.fromObject=d.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var t=t.fabric||(t.fabric={}),e=t.Image.filters,i=t.util.createClass;e.Gamma=i(e.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],e.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,i=t.imageData.data,t=this.gamma,n=i.length,r=1/t[0],s=1/t[1],o=1/t[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,n=256;e<n;e++)this.rVals[e]=255*Math.pow(e/255,r),this.gVals[e]=255*Math.pow(e/255,s),this.bVals[e]=255*Math.pow(e/255,o);for(e=0,n=i.length;e<n;e+=4)i[e]=this.rVals[i[e]],i[e+1]=this.gVals[i[e+1]],i[e+2]=this.bVals[i[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var i=t.fabric||(t.fabric={}),t=i.Image.filters,e=i.util.createClass;t.Composed=e(t.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach(function(t){t.applyTo(e)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(t){return t.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(t){return!t.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(t,e){t=(t.subFilters||[]).map(function(t){return new i.Image.filters[t.type](t)}),t=new i.Image.filters.Composed({subFilters:t});return e&&e(t),t}}(i),function(t){"use strict";var n=t.fabric||(t.fabric={}),e=n.Image.filters,t=n.util.createClass;e.HueRotation=t(e.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,e=n.util.cos(t),t=n.util.sin(t),t=Math.sqrt(1/3)*t,i=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+i/3,this.matrix[1]=1/3*i-t,this.matrix[2]=1/3*i+t,this.matrix[5]=1/3*i+t,this.matrix[6]=e+1/3*i,this.matrix[7]=1/3*i-t,this.matrix[10]=1/3*i-t,this.matrix[11]=1/3*i+t,this.matrix[12]=e+1/3*i},isNeutralState:function(t){return this.calculateMatrix(),e.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),e.BaseFilter.prototype.applyTo.call(this,t)}}),n.Image.filters.HueRotation.fromObject=n.Image.filters.BaseFilter.fromObject}(i),function(t){"use strict";var e,b=t.fabric||(t.fabric={}),o=b.util.object.clone;b.Text?b.warn("fabric.Text is already defined"):(e="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" "),b.Text=b.util.createClass(b.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:b.Object.prototype.stateProperties.concat(e),cacheProperties:b.Object.prototype.cacheProperties.concat(e),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=b.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return b._measuringContext||(b._measuringContext=this.canvas&&this.canvas.contextCache||b.util.createCanvasElement().getContext("2d")),b._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,i,n,r,s=0,o=this._textLines.length;s<o;s++)if(("justify"===this.textAlign||s!==o-1&&!this.isEndOfWrapping(s))&&(e=0,i=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(r=this.textLines[s].match(this._reSpacesAndTabs))))for(var a=r.length,h=(this.width-t)/a,c=0,l=i.length;c<=l;c++)n=this.__charBounds[s][c],this._reSpaceAndTab.test(i[c])?(n.width+=h,n.kernedWidth+=h,n.left+=e,e+=h):n.left+=e},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,i){if(t.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":t.textBaseline="middle";break;case"ascender":t.textBaseline="top";break;case"descender":t.textBaseline="bottom"}t.font=this._getFontDeclaration(e,i)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,i=this._textLines.length;e<i;e++){var n=this.getLineWidth(e);t<n&&(t=n)}return t},_renderTextLine:function(t,e,i,n,r,s){this._renderChars(t,e,i,n,r,s)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,i,n,r,s=t.fillStyle,o=this._getLeftOffset(),a=this._getTopOffset(),h=0,c=0,l=this.path,u=0,f=this._textLines.length;u<f;u++){if(e=this.getHeightOfLine(u),this.textBackgroundColor||this.styleHas("textBackgroundColor",u)){for(var d=this._textLines[u],g=this._getLineLeftOffset(u),c=0,h=0,p=this.getValueOfPropertyAt(u,0,"textBackgroundColor"),m=0,v=d.length;m<v;m++)i=this.__charBounds[u][m],n=this.getValueOfPropertyAt(u,m,"textBackgroundColor"),l?(t.save(),t.translate(i.renderLeft,i.renderTop),t.rotate(i.angle),(t.fillStyle=n)&&t.fillRect(-i.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),i.width,e/this.lineHeight),t.restore()):n!==p?(r=o+g+h,"rtl"===this.direction&&(r=this.width-r-c),(t.fillStyle=p)&&t.fillRect(r,a,c,e/this.lineHeight),h=i.left,c=i.width,p=n):c+=i.kernedWidth;n&&!l&&(r=o+g+h,"rtl"===this.direction&&(r=this.width-r-c),t.fillStyle=n,t.fillRect(r,a,c,e/this.lineHeight))}a+=e}t.fillStyle=s,this._removeShadow(t)}},getFontCache:function(t){var e=t.fontFamily.toLowerCase(),e=(b.charWidthsCache[e]||(b.charWidthsCache[e]={}),b.charWidthsCache[e]),t=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return e[t]||(e[t]={}),e[t]},_measureChar:function(t,e,i,n){var r,s,o,a,h,c=this.getFontCache(e),l=i+t,n=this._getFontDeclaration(e)===this._getFontDeclaration(n),u=e.fontSize/this.CACHE_FONT_SIZE;return i&&void 0!==c[i]&&(o=c[i]),void 0!==c[t]&&(a=r=c[t]),n&&void 0!==c[l]&&(a=(s=c[l])-o),void 0!==r&&void 0!==o&&void 0!==s||(h=this.getMeasuringContext(),this._setTextStyles(h,e,!0)),void 0===r&&(a=r=h.measureText(t).width,c[t]=r),void 0===o&&n&&i&&(o=h.measureText(i).width,c[i]=o),n&&void 0===s&&(s=h.measureText(l).width,a=(c[l]=s)-o),{width:r*u,kernedWidth:a*u}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){t=this._measureLine(t);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(t){var e,i,n,r,s,o,a=0,h=this._textLines[t],c=new Array(h.length),l=0,u=this.path,f="right"===this.pathSide;for(this.__charBounds[t]=c,e=0;e<h.length;e++)i=h[e],r=this._getGraphemeBox(i,t,e,n),a+=(c[e]=r).kernedWidth,n=i;if(c[e]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize},u){switch(o=u.segmentsInfo[u.segmentsInfo.length-1].length,(s=b.util.getPointOnPath(u.path,0,u.segmentsInfo)).x+=u.pathOffset.x,s.y+=u.pathOffset.y,this.textAlign){case"left":l=f?o-a:0;break;case"center":l=(o-a)/2;break;case"right":l=f?0:o-a}for(l+=this.pathStartOffset*(f?-1:1),e=f?h.length-1:0;f?0<=e:e<h.length;f?e--:e++)r=c[e],o<l?l%=o:l<0&&(l+=o),this._setGraphemeOnPath(l,r,s),l+=r.kernedWidth}return{width:a,numOfSpaces:0}},_setGraphemeOnPath:function(t,e,i){var t=t+e.kernedWidth/2,n=this.path,t=b.util.getPointOnPath(n.path,t,n.segmentsInfo);e.renderLeft=t.x-i.x,e.renderTop=t.y-i.y,e.angle=t.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(t,e,i,n,r){var s=this.getCompleteStyleDeclaration(e,i),o=n?this.getCompleteStyleDeclaration(e,i-1):{},t=this._measureChar(t,s,n,o),n=t.kernedWidth,o=t.width,a=(0!==this.charSpacing&&(o+=a=this._getWidthOfCharSpacing(),n+=a),{width:o,left:0,height:s.fontSize,kernedWidth:n,deltaY:s.deltaY});return 0<i&&!r&&(o=this.__charBounds[e][i-1],a.left=o.left+o.width+t.kernedWidth-t.width),a},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],i=this.getHeightOfChar(t,0),n=1,r=e.length;n<r;n++)i=Math.max(this.getHeightOfChar(t,n),i);return this.__lineHeights[t]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var i=0,n=this._getLeftOffset(),r=this._getTopOffset(),s=0,o=this._textLines.length;s<o;s++){var a=this.getHeightOfLine(s),h=a/this.lineHeight,c=this._getLineLeftOffset(s);this._renderTextLine(e,t,this._textLines[s],n+c,r+i+h,s),i+=a}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,i,n,r,s){var o,a,h,c,l=this.getHeightOfLine(s),u=-1!==this.textAlign.indexOf("justify"),f="",d=0,g=this.path,p=!u&&0===this.charSpacing&&this.isEmptyStyles(s)&&!g,m="ltr"===this.direction,v="ltr"===this.direction?1:-1,y=e.canvas.getAttribute("dir");if(e.save(),y!==this.direction&&(e.canvas.setAttribute("dir",m?"ltr":"rtl"),e.direction=m?"ltr":"rtl",e.textAlign=m?"left":"right"),r-=l*this._fontSizeFraction/this.lineHeight,p)this._renderChar(t,e,s,0,i.join(""),n,r,l);else for(var _=0,x=i.length-1;_<=x;_++)c=_===x||this.charSpacing||g,f+=i[_],h=this.__charBounds[s][_],0===d?(n+=v*(h.kernedWidth-h.width),d+=h.width):d+=h.kernedWidth,(c=u&&!c&&this._reSpaceAndTab.test(i[_])?!0:c)||(o=o||this.getCompleteStyleDeclaration(s,_),a=this.getCompleteStyleDeclaration(s,_+1),c=b.util.hasStyleChanged(o,a,!1)),c&&(g?(e.save(),e.translate(h.renderLeft,h.renderTop),e.rotate(h.angle),this._renderChar(t,e,s,_,f,-d/2,0,l),e.restore()):(c=n,this._renderChar(t,e,s,_,f,c,r,l)),f="",o=a,n+=v*d,d=0);e.restore()},_applyPatternGradientTransformText:function(t){var e,i=b.util.createCanvasElement(),n=this.width+this.strokeWidth,r=this.height+this.strokeWidth;return i.width=n,i.height=r,(e=i.getContext("2d")).beginPath(),e.moveTo(0,0),e.lineTo(n,0),e.lineTo(n,r),e.lineTo(0,r),e.closePath(),e.translate(n/2,r/2),e.fillStyle=t.toLive(e),this._applyPatternGradientTransform(e,t),e.fill(),e.createPattern(i,"no-repeat")},handleFiller:function(t,e,i){var n,r;return i.toLive?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?(n=-this.width/2,r=-this.height/2,t.translate(n,r),t[e]=this._applyPatternGradientTransformText(i),{offsetX:n,offsetY:r}):(t[e]=i.toLive(t,this),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,i,n,r,s,o){var a,h,c=this._getStyleDeclaration(i,n),i=this.getCompleteStyleDeclaration(i,n),n="fillText"===t&&i.fill,t="strokeText"===t&&i.stroke&&i.strokeWidth;(t||n)&&(e.save(),n&&(a=this._setFillStyles(e,i)),t&&(h=this._setStrokeStyles(e,i)),e.font=this._getFontDeclaration(i),c&&c.textBackgroundColor&&this._removeShadow(e),c&&c.deltaY&&(o+=c.deltaY),n&&e.fillText(r,s-a.offsetX,o-a.offsetY),t&&e.strokeText(r,s-h.offsetX,o-h.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,i){var n=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),n=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),n={fontSize:r*i.size,deltaY:n+r*i.baseline};return this.setSelectionStyles(n,t,e),this},_getLineLeftOffset:function(t){var e=this.getLineWidth(t),e=this.width-e,i=this.textAlign,n=this.direction,r=0,t=this.isEndOfWrapping(t);return"justify"===i||"justify-center"===i&&!t||"justify-right"===i&&!t||"justify-left"===i&&!t?0:("center"===i&&(r=e/2),"right"===i&&(r=e),"justify-center"===i&&(r=e/2),"justify-right"===i&&(r=e),"rtl"===n&&(r-=e),r)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return(t=t||this.hasStateChanged("_dimensionAffectingProps"))&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){var e;return void 0!==this.__lineWidths[t]?this.__lineWidths[t]:(e=this.measureLine(t).width,this.__lineWidths[t]=e)},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,i){t=this._getStyleDeclaration(t,e);return(t&&void 0!==t[i]?t:this)[i]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var i,n=this._getLeftOffset(),r=this._getTopOffset(),s=this.path,o=this._getWidthOfCharSpacing(),a=this.offsets[e],h=0,c=this._textLines.length;h<c;h++){if(i=this.getHeightOfLine(h),this[e]||this.styleHas(e,h)){for(var l=this._textLines[h],u=i/this.lineHeight,f=this._getLineLeftOffset(h),d=0,g=0,p=this.getValueOfPropertyAt(h,0,e),m=this.getValueOfPropertyAt(h,0,"fill"),v=r+u*(1-this._fontSizeFraction),y=this.getHeightOfChar(h,0),_=this.getValueOfPropertyAt(h,0,"deltaY"),x=0,b=l.length;x<b;x++){var C=this.__charBounds[h][x],S=this.getValueOfPropertyAt(h,x,e),T=this.getValueOfPropertyAt(h,x,"fill"),w=this.getHeightOfChar(h,x),O=this.getValueOfPropertyAt(h,x,"deltaY");s&&S&&T?(t.save(),t.fillStyle=m,t.translate(C.renderLeft,C.renderTop),t.rotate(C.angle),t.fillRect(-C.kernedWidth/2,a*w+O,C.kernedWidth,this.fontSize/15),t.restore()):(S!==p||T!==m||w!==y||O!==_)&&0<g?(A=n+f+d,"rtl"===this.direction&&(A=this.width-A-g),p&&m&&(t.fillStyle=m,t.fillRect(A,v+a*y+_,g,this.fontSize/15)),d=C.left,g=C.width,p=S,m=T,y=w,_=O):g+=C.kernedWidth}var A=n+f+d;"rtl"===this.direction&&(A=this.width-A-g),t.fillStyle=T,S&&T&&t.fillRect(A,v+a*y+_,g-o,this.fontSize/15)}r+=i}this._removeShadow(t)}},_getFontDeclaration:function(t,e){var t=t||this,i=this.fontFamily,n=-1<b.Text.genericFonts.indexOf(i.toLowerCase()),i=void 0===i||-1<i.indexOf("'")||-1<i.indexOf(",")||-1<i.indexOf('"')||n?t.fontFamily:'"'+t.fontFamily+'"';return[b.isLikelyNode?t.fontWeight:t.fontStyle,b.isLikelyNode?t.fontStyle:t.fontWeight,e?this.CACHE_FONT_SIZE+"px":t.fontSize+"px",i].join(" ")},render:function(t){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t))},_splitTextIntoLines:function(t){for(var e=t.split(this._reNewline),i=new Array(e.length),n=["\n"],r=[],s=0;s<e.length;s++)i[s]=b.util.string.graphemeSplit(e[s]),r=r.concat(i[s],n);return r.pop(),{_unwrappedLines:i,lines:e,graphemeText:r,graphemeLines:i}},toObject:function(t){t=e.concat(t),t=this.callSuper("toObject",t);return t.styles=b.util.stylesToArray(this.styles,this.text),t.path&&(t.path=this.path.toObject()),t},set:function(t,e){this.callSuper("set",t,e);var i=!1,n=!1;if("object"==typeof t)for(var r in t)"path"===r&&this.setPathInfo(),i=i||-1!==this._dimensionAffectingProps.indexOf(r),n=n||"path"===r;else i=-1!==this._dimensionAffectingProps.indexOf(t),n="path"===t;return n&&this.setPathInfo(),i&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),b.Text.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),b.Text.DEFAULT_SVG_FONT_SIZE=16,b.Text.fromElement=function(t,e,i){if(!t)return e(null);var n=b.parseAttributes(t,b.Text.ATTRIBUTE_NAMES),r=n.textAnchor||"left",s=((i=b.util.object.extend(i?o(i):{},n)).top=i.top||0,i.left=i.left||0,n.textDecoration&&(-1!==(s=n.textDecoration).indexOf("underline")&&(i.underline=!0),-1!==s.indexOf("overline")&&(i.overline=!0),-1!==s.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration),"dx"in n&&(i.left+=n.dx),"dy"in n&&(i.top+=n.dy),"fontSize"in i||(i.fontSize=b.Text.DEFAULT_SVG_FONT_SIZE),""),n=("textContent"in t?s=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(s=t.firstChild.data),s=s.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),i.strokeWidth),t=(i.strokeWidth=0,new b.Text(s,i)),s=t.getScaledHeight()/t.height,i=((t.height+t.strokeWidth)*t.lineHeight-t.height)*s,s=t.getScaledHeight()+i,i=0;"center"===r&&(i=t.getScaledWidth()/2),"right"===r&&(i=t.getScaledWidth()),t.set({left:t.left-i,top:t.top-(s-t.fontSize*(.07+t._fontSizeFraction))/t.lineHeight,strokeWidth:void 0!==n?n:1}),e(t)},b.Text.fromObject=function(t,i){var e=o(t),n=t.path;return delete e.path,b.Object._fromObject("Text",e,function(e){e.styles=b.util.stylesFromArray(t.styles,t.text),n?b.Object._fromObject("Path",n,function(t){e.set("path",t),i(e)},"path"):i(e)},"text")},b.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],b.util.createAccessors&&b.util.createAccessors(b.Text))}(i),z.util.object.extend(z.Text.prototype,{isEmptyStyles:function(t){if(this.styles&&(void 0===t||this.styles[t])){var e,i=void 0===t?this.styles:{line:this.styles[t]};for(e in i)for(var n in i[e])for(var r in i[e][n])return!1}return!0},styleHas:function(t,e){if(this.styles&&t&&""!==t&&(void 0===e||this.styles[e])){var i,n=void 0===e?this.styles:{0:this.styles[e]};for(i in n)for(var r in n[i])if(void 0!==n[i][r][t])return!0}return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,i,n,r,s=this.styles,o=0,a=!0,h=0;for(n in s){for(var c in e=0,s[n])o++,(r=s[n][c]).hasOwnProperty(t)?(i?r[t]!==i&&(a=!1):i=r[t],r[t]===this[t]&&delete r[t]):a=!1,0!==Object.keys(r).length?e++:delete s[n][c];0===e&&delete s[n]}for(var l=0;l<this._textLines.length;l++)h+=this._textLines[l].length;a&&o===h&&(this[t]=i,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,i,n,r=this.styles;for(i in r){for(n in e=r[i])delete e[n][t],0===Object.keys(e[n]).length&&delete e[n];0===Object.keys(e).length&&delete r[i]}}},_extendStyles:function(t,e){t=this.get2DCursorLocation(t);this._getLineStyle(t.lineIndex)||this._setLineStyle(t.lineIndex),this._getStyleDeclaration(t.lineIndex,t.charIndex)||this._setStyleDeclaration(t.lineIndex,t.charIndex,{}),z.util.object.extend(this._getStyleDeclaration(t.lineIndex,t.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var i=e?this._unwrappedTextLines:this._textLines,n=i.length,r=0;r<n;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}},getSelectionStyles:function(t,e,i){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var n=[],r=t;r<e;r++)n.push(this.getStyleAtPosition(r,i));return n},getStyleAtPosition:function(t,e){t=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(t.lineIndex,t.charIndex):this._getStyleDeclaration(t.lineIndex,t.charIndex))||{}},setSelectionStyles:function(t,e,i){void 0===e&&(e=this.selectionStart||0),void 0===i&&(i=this.selectionEnd||e);for(var n=e;n<i;n++)this._extendStyles(n,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){t=this.styles&&this.styles[t];return t?t[e]:null},getCompleteStyleDeclaration:function(t,e){for(var i,n=this._getStyleDeclaration(t,e)||{},r={},s=0;s<this._styleProperties.length;s++)r[i=this._styleProperties[s]]=(void 0===n[i]?this:n)[i];return r},_setStyleDeclaration:function(t,e,i){this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),z.IText=z.util.createClass(z.Text,z.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){var e,i;this.isEditing&&this.canvas&&this.canvas.contextTop&&(e=this.canvas.contextTop,i=this.canvas.viewportTransform,e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e),this._clearTextArea(e),t||e.restore())},renderCursorOrSelection:function(){var t,e;this.isEditing&&this.canvas&&this.canvas.contextTop&&(t=this._getCursorBoundaries(),e=this.canvas.contextTop,this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore())},_clearTextArea:function(t){var e=this.width+4,i=this.height+4;t.clearRect(-e/2,-i/2,e,i)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),i=this._getTopOffset(),t=this._getCursorBoundariesOffsets(t);return{left:e,top:i,leftOffset:t.left,topOffset:t.top}},_getCursorBoundariesOffsets:function(t){if(!(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)){for(var e=0,i=0,t=this.get2DCursorLocation(t),n=t.charIndex,r=t.lineIndex,s=0;s<r;s++)e+=this.getHeightOfLine(s);var t=this._getLineLeftOffset(r),o=this.__charBounds[r][n];o&&(i=o.left),0!==this.charSpacing&&n===this._textLines[r].length&&(i-=this._getWidthOfCharSpacing()),o={top:e,left:t+(0<i?i:0)},"rtl"===this.direction&&(o.left*=-1),this.cursorOffsetCache=o}return this.cursorOffsetCache},renderCursor:function(t,e){var i=this.get2DCursorLocation(),n=i.lineIndex,i=0<i.charIndex?i.charIndex-1:0,r=this.getValueOfPropertyAt(n,i,"fontSize"),s=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/s,o=t.topOffset,a=this.getValueOfPropertyAt(n,i,"deltaY");o+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-r*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(n,i,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-s/2,o+t.top+a,s,r)},renderSelection:function(t,e){for(var i=(this.inCompositionMode?this.hiddenTextarea:this).selectionStart,n=(this.inCompositionMode?this.hiddenTextarea:this).selectionEnd,r=-1!==this.textAlign.indexOf("justify"),i=this.get2DCursorLocation(i),n=this.get2DCursorLocation(n),s=i.lineIndex,o=n.lineIndex,a=i.charIndex<0?0:i.charIndex,h=n.charIndex<0?0:n.charIndex,c=s;c<=o;c++){var l,u=this._getLineLeftOffset(c)||0,f=this.getHeightOfLine(c),d=0,g=0,u=(c===s&&(d=this.__charBounds[s][a].left),s<=c&&c<o?g=r&&!this.isEndOfWrapping(c)?this.width:this.getLineWidth(c)||5:c===o&&(g=0===h?this.__charBounds[o][h].left:(l=this._getWidthOfCharSpacing(),this.__charBounds[o][h-1].left+this.__charBounds[o][h-1].width-l)),l=f,(this.lineHeight<1||c===o&&1<this.lineHeight)&&(f/=this.lineHeight),t.left+u+d),g=g-d,d=f,p=0;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",d=1,p=f):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(u=this.width-u-g),e.fillRect(u,t.top+t.topOffset+p,g,d),t.topOffset+=l}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=0<t.charIndex?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),z.IText.fromObject=function(t,e){var i=z.util.stylesFromArray(t.styles,t.text),n=Object.assign({},t,{styles:i});if(Lt(n),n.styles)for(var r in n.styles)for(var s in n.styles[r])Lt(n.styles[r][s]);z.Object._fromObject("IText",n,e,"text")},x=z.util.object.clone,z.util.object.extend(z.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))})},initRemovedHandler:function(){var e=this;this.on("removed",function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],z.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))})},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.__isMousedown=!1})},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,i,n){var r={isAborted:!1,abort:function(){this.isAborted=!0}};return t.animate("_currentCursorOpacity",e,{duration:i,onComplete:function(){r.isAborted||t[n]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(t){var e=this,t=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){e._tick()},t)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&-1<i;)e++,i--;return t-e},findWordBoundaryRight:function(t){var e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,i=t-1;!/\n/.test(this._text[i])&&-1<i;)e++,i--;return t-e},findLineBoundaryRight:function(t){for(var e=0,i=t;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},searchWordBoundary:function(t,e){for(var i=this._text,n=this._reSpace.test(i[t])?t-1:t,r=i[n],s=z.reNonWord;!s.test(r)&&0<n&&n<i.length;)r=i[n+=e];return s.test(r)&&(n+=1===e?0:1),n},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),t=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=t,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),t=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=t,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll()),this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){var e,i;this.__isMousedown&&this.isEditing&&(document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus(),t=this.getSelectionStartFromPointer(t.e),e=this.selectionStart,i=this.selectionEnd,(t===this.__selectionStartOnMouseDown&&e!==i||e!==t&&i!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===e&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection())))},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,i){var n=i.slice(0,t),n=z.util.string.graphemeSplit(n).length;return t===e?{selectionStart:n,selectionEnd:n}:(i=i.slice(t,e),{selectionStart:n,selectionEnd:n+z.util.string.graphemeSplit(i).length})},fromGraphemeToStringSelection:function(t,e,i){var n=i.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(t,e).join("").length}},_updateTextarea:function(){var t;this.cursorOffsetCache={},this.hiddenTextarea&&(this.inCompositionMode||(t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text),this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd),this.updateTextareaPosition())},updateFromTextArea:function(){var t;this.hiddenTextarea&&(this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition())},updateTextareaPosition:function(){var t;this.selectionStart===this.selectionEnd&&(t=this._calcTextareaPosition(),this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top)},_calcTextareaPosition:function(){var t,e,i,n,r,s,o,a;return this.canvas?(a=this.inCompositionMode?this.compositionStart:this.selectionStart,i=this._getCursorBoundaries(a),t=(a=this.get2DCursorLocation(a)).lineIndex,a=a.charIndex,t=this.getValueOfPropertyAt(t,a,"fontSize")*this.lineHeight,a=i.leftOffset,e=this.calcTransformMatrix(),a={x:i.left+a,y:i.top+i.topOffset+t},i=this.canvas.getRetinaScaling(),n=(s=(o=this.canvas.upperCanvasEl).width/i)-t,r=(i=o.height/i)-t,s=o.clientWidth/s,o=o.clientHeight/i,a=z.util.transformPoint(a,e),(a=z.util.transformPoint(a,this.canvas.viewportTransform)).x*=s,a.y*=o,a.x<0&&(a.x=0),a.x>n&&(a.x=n),a.y<0&&(a.y=0),a.y>r&&(a.y=r),a.x+=this.canvas._offset.left,a.y+=this.canvas._offset.top,{left:a.x+"px",top:a.y+"px",fontSize:t+"px",charHeight:t}):{x:1,y:1}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var t=this.get2DCursorLocation(t,!0),e=this.get2DCursorLocation(e,!0),i=t.lineIndex,n=t.charIndex,r=e.lineIndex,s=e.charIndex;if(i!==r){if(this.styles[i])for(l=n;l<this._unwrappedTextLines[i].length;l++)delete this.styles[i][l];if(this.styles[r])for(l=s;l<this._unwrappedTextLines[r].length;l++)(h=this.styles[r][l])&&(this.styles[i]||(this.styles[i]={}),this.styles[i][n+l-s]=h);for(l=i+1;l<=r;l++)delete this.styles[l];this.shiftLineStyles(r,i-r)}else if(this.styles[i]){for(var o,a,h=this.styles[i],c=s-n,l=n;l<s;l++)delete h[l];for(a in this.styles[i])s<=(o=parseInt(a,10))&&(h[o-c]=h[a],delete h[a])}},shiftLineStyles:function(t,e){var i,n=x(this.styles);for(i in this.styles){var r=parseInt(i,10);t<r&&(this.styles[r+e]=n[r],n[r-e]||delete this.styles[r])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,i,n){var r,s,o={},a=!1,h=this._unwrappedTextLines[t].length===e;for(s in this.shiftLineStyles(t,i=i||1),this.styles[t]&&(r=this.styles[t][0===e?e:e-1]),this.styles[t]){var c=parseInt(s,10);e<=c&&(a=!0,o[c-e]=this.styles[t][s],h&&0===e||delete this.styles[t][s])}var l=!1;for(a&&!h&&(this.styles[t+i]=o,l=!0),l&&i--;0<i;)n&&n[i-1]?this.styles[t+i]={0:x(n[i-1])}:r?this.styles[t+i]={0:x(r)}:delete this.styles[t+i],i--;this._forceClearCache=!0},insertCharStyleObject:function(t,e,i,n){this.styles||(this.styles={});var r,s=this.styles[t],o=s?x(s):{};for(r in i=i||1,o){var a=parseInt(r,10);e<=a&&(s[a+i]=o[a],o[a-i]||delete s[a])}if(this._forceClearCache=!0,n)for(;i--;)Object.keys(n[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=x(n[i]));else if(s)for(var h=s[e?e-1:1];h&&i--;)this.styles[t][e+i]=x(h)},insertNewStyleBlock:function(t,e,i){for(var n=this.get2DCursorLocation(e,!0),r=[0],s=0,o=0;o<t.length;o++)"\n"===t[o]?r[++s]=0:r[s]++;0<r[0]&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),s&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],s);for(o=1;o<s;o++)0<r[o]?this.insertCharStyleObject(n.lineIndex+o,0,r[o],i):i&&this.styles[n.lineIndex+o]&&i[0]&&(this.styles[n.lineIndex+o][0]=i[0]),i=i&&i.slice(r[o]+1);0<r[o]&&this.insertCharStyleObject(n.lineIndex+o,0,r[o],i)},setSelectionStartEndWithShift:function(t,e,i){i<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=i):t<i&&i<e?"right"===this._selectionDirection?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=i)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),z.util.object.extend(z.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){var e;this.canvas&&(this.__newClickTime=+new Date,e=t.pointer,this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected)},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e=this.getLocalPointer(t),i=0,n=0,r=0,s=0,o=0,a=0,h=this._textLines.length;a<h&&r<=e.y;a++)r+=this.getHeightOfLine(a)*this.scaleY,0<(o=a)&&(s+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));n=this._getLineLeftOffset(o)*this.scaleX,t=this._textLines[o],"rtl"===this.direction&&(e.x=this.width*this.scaleX-e.x+n);for(var c=0,l=t.length;c<l&&(i=n,(n+=this.__charBounds[o][c].kernedWidth*this.scaleX)<=e.x);c++)s++;return this._getNewSelectionStartFromOffset(e,i,n,s,l)},_getNewSelectionStartFromOffset:function(t,e,i,n,r){e=t.x-e,i-=t.x,t=n+(e<i||i<0?0:1);return t=(t=this.flipX?r-t:t)>this._text.length?this._text.length:t}}),z.util.object.extend(z.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=z.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+t.fontSize+";",(this.hiddenTextareaContainer||z.document.body).appendChild(this.hiddenTextarea),z.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),z.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),z.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),z.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),z.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),z.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),z.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),z.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),z.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(z.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown&&(t.ctrlKey||t.metaKey)))return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),33<=t.keyCode&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e,i,n,r,s,o,a,h,c,l,u,f=this.fromPaste;this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing&&(t=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,n=(i=t.length)-c,o=(r=this.selectionStart)!==(s=this.selectionEnd),""===this.hiddenTextarea.value?this.styles={}:(u=r>(l=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value)).selectionStart,o?(e=this._text.slice(r,s),n+=s-r):i<c&&(e=u?this._text.slice(s+n,s):this._text.slice(r,r-n)),i=t.slice(l.selectionEnd-n,l.selectionEnd),e&&e.length&&(i.length&&(a=this.getSelectionStyles(r,r+1,!1),a=i.map(function(){return a[0]})),c=o?(h=r,s):u?(h=s-e.length,s):(h=s)+e.length,this.removeStyleFromTo(h,c)),i.length&&(f&&i.join("")===z.copiedText&&!z.disableStyleCopyPaste&&(a=z.copiedTextStyle),this.insertNewStyleBlock(i,r,a))),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()))},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(z.copiedText=this.getSelectedText(),z.disableStyleCopyPaste?z.copiedTextStyle=null:z.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||z.window.clipboardData},_getWidthBeforeCursor:function(t,e){var i=this._getLineLeftOffset(t);return 0<e&&(i+=(t=this.__charBounds[t][e-1]).left+t.width),i},getDownCursorOffset:function(t,e){var e=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(e),n=i.lineIndex;return n===this._textLines.length-1||t.metaKey||34===t.keyCode?this._text.length-e:(t=i.charIndex,e=this._getWidthBeforeCursor(n,t),i=this._getIndexOnLine(n+1,e),this._textLines[n].slice(t).length+i+1+this.missingNewlineOffset(n))},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var e=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(e),n=i.lineIndex;return 0===n||t.metaKey||33===t.keyCode?-e:(t=i.charIndex,e=this._getWidthBeforeCursor(n,t),i=this._getIndexOnLine(n-1,e),e=this._textLines[n].slice(0,t),t=this.missingNewlineOffset(n-1),-this._textLines[n-1].length+i-e.length+(1-t))},_getIndexOnLine:function(t,e){for(var i=this._textLines[t],n=this._getLineLeftOffset(t),r=0,s=0,o=i.length;s<o;s++)if(e<(n+=c=this.__charBounds[t][s].width)){var a=!0,h=n,c=Math.abs(n-c-e),r=Math.abs(h-e)<c?s:s-1;break}return r=a?r:i.length-1},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){t=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(t):this.moveCursorWithoutShift(t),0!==t&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,i){var n;if(t.altKey)n=this["findWordBoundary"+i](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===i?-1:1,!0;n=this["findLineBoundary"+i](this[e])}if(void 0!==n&&this[e]!==n)return this[e]=n,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){t="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?t+="Shift":t+="outShift",this[t](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){this.removeStyleFromTo(t,e=void 0===e?t+1:e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,i,n){i<(n=void 0===n?i:n)&&this.removeStyleFromTo(i,n);t=z.util.string.graphemeSplit(t);this.insertNewStyleBlock(t,i,e),this._text=[].concat(this._text.slice(0,i),t,this._text.slice(n)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),b=z.util.toFixed,nt=/  +/g,z.util.object.extend(z.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var i,n=[],r=[],s=t;this._setSVGBg(r);for(var o=0,a=this._textLines.length;o<a;o++)i=this._getLineLeftOffset(o),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(r,o,e+i,s),this._setSVGTextLineText(n,o,e+i,s),s+=this.getHeightOfLine(o);return{textSpans:n,textBgRects:r}},_createTextCharSpan:function(t,e,i,n){var r=t!==t.trim()||t.match(nt),r=this.getSvgSpanStyles(e,r),r=r?'style="'+r+'"':"",e=e.deltaY,s="",o=z.Object.NUM_FRACTION_DIGITS;return e&&(s=' dy="'+b(e,o)+'" '),['<tspan x="',b(i,o),'" y="',b(n,o),'" ',s,r,">",z.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,i,n){var r,s,o,a,h=this.getHeightOfLine(e),c=-1!==this.textAlign.indexOf("justify"),l="",u=0,f=this._textLines[e];n+=h*(1-this._fontSizeFraction)/this.lineHeight;for(var d=0,g=f.length-1;d<=g;d++)a=d===g||this.charSpacing,l+=f[d],o=this.__charBounds[e][d],0===u?(i+=o.kernedWidth-o.width,u+=o.width):u+=o.kernedWidth,(a=c&&!a&&this._reSpaceAndTab.test(f[d])?!0:a)||(r=r||this.getCompleteStyleDeclaration(e,d),s=this.getCompleteStyleDeclaration(e,d+1),a=z.util.hasStyleChanged(r,s,!0)),a&&(o=this._getStyleDeclaration(e,d)||{},t.push(this._createTextCharSpan(l,o,i,n)),l="",r=s,i+=u,u=0)},_pushTextBgRect:function(t,e,i,n,r,s){var o=z.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(e),' x="',b(i,o),'" y="',b(n,o),'" width="',b(r,o),'" height="',b(s,o),'"></rect>\n')},_setSVGTextLineBg:function(t,e,i,n){for(var r,s,o=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,h=0,c=0,l=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),u=0,f=o.length;u<f;u++)r=this.__charBounds[e][u],(s=this.getValueOfPropertyAt(e,u,"textBackgroundColor"))!==l?(l&&this._pushTextBgRect(t,l,i+c,n,h,a),c=r.left,h=r.width,l=s):h+=r.kernedWidth;s&&this._pushTextBgRect(t,s,i+c,n,h,a)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new z.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,i=0,n=0;n<t;n++)i+=this.getHeightOfLine(n);return e=this.getHeightOfLine(n),{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return z.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}}),function(t){"use strict";var y=t.fabric||(t.fabric={});y.Textbox=y.util.createClass(y.IText,y.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:y.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,i=0,n=0,r={},s=0;s<t.graphemeLines.length;s++)"\n"===t.graphemeText[n]&&0<s?(i=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&0<s&&(i++,n++),r[s]={line:e,offset:i},n+=t.graphemeLines[s].length,i+=t.graphemeLines[s].length;return r},styleHas:function(t,e){var i;return this._styleMap&&!this.isWrapping&&(i=this._styleMap[e])&&(e=i.line),y.Text.prototype.styleHas.call(this,t,e)},isEmptyStyles:function(t){if(this.styles){var e,i,n,r=0,s=!1,o=this._styleMap[t],a=this._styleMap[t+1];for(n in o&&(t=o.line,r=o.offset),a&&(s=a.line===t,e=a.offset),i=void 0===t?this.styles:{line:this.styles[t]})for(var h in i[n])if(r<=h&&(!s||h<e))for(var c in i[n][h])return!1}return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[t];if(!i)return null;t=i.line,e=i.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,i){var n=this._styleMap[t];t=n.line,e=n.offset+e,this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){var i=this._styleMap[t];t=i.line,e=i.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){t=this._styleMap[t];return!!this.styles[t.line]},_setLineStyle:function(t){t=this._styleMap[t];this.styles[t.line]={}},_wrapText:function(t,e){var i,n=[];for(this.isWrapping=!0,i=0;i<t.length;i++)n=n.concat(this._wrapLine(t[i],i,e));return this.isWrapping=!1,n},_measureWord:function(t,e,i){var n,r=0;i=i||0;for(var s=0,o=t.length;s<o;s++)r+=this._getGraphemeBox(t[s],e,s+i,n,!0).kernedWidth,n=t[s];return r},_wrapLine:function(t,e,i,n){var r,s,o=0,a=this.splitByGrapheme,h=[],c=[],l=a?y.util.string.graphemeSplit(t):t.split(this._wordJoiners),u=0,f=a?"":" ",d=0,g=0,p=!0,m=this._getWidthOfCharSpacing(),n=n||0;0===l.length&&l.push([]),i-=n;for(var v=0;v<l.length;v++)r=a?l[v]:y.util.string.graphemeSplit(l[v]),s=this._measureWord(r,e,u),u+=r.length,i<(o+=d+s-m)&&!p?(h.push(c),c=[],o=s,p=!0):o+=m,p||a||c.push(f),c=c.concat(r),d=a?0:this._measureWord([f],e,u),u++,p=!1,g<s&&(g=s);return v&&h.push(c),g+n>this.dynamicMinWidth&&(this.dynamicMinWidth=g-m+n),h},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return!this.splitByGrapheme||this.isEndOfWrapping(t)?1:0},_splitTextIntoLines:function(t){for(var t=y.Text.prototype._splitTextIntoLines.call(this,t),e=this._wrapText(t.lines,this.width),i=new Array(e.length),n=0;n<e.length;n++)i[n]=e[n].join("");return t.lines=i,t.graphemeLines=e,t},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t,e={};for(t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(t in this.styles)e[t]||delete this.styles[t]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),y.Textbox.fromObject=function(t,e){var i=y.util.stylesFromArray(t.styles,t.text),t=Object.assign({},t,{styles:i});return y.Object._fromObject("Textbox",t,e,"text")}}(i),t=z.controlsUtils,C=t.scaleSkewCursorStyleHandler,S=t.scaleCursorStyleHandler,T=t.scalingEqually,rt=t.scalingYOrSkewingX,w=t.scalingXOrSkewingY,O=t.scaleOrSkewActionName,(A=z.Object.prototype.controls).ml=new z.Control({x:-.5,y:0,cursorStyleHandler:C,actionHandler:w,getActionName:O}),A.mr=new z.Control({x:.5,y:0,cursorStyleHandler:C,actionHandler:w,getActionName:O}),A.mb=new z.Control({x:0,y:.5,cursorStyleHandler:C,actionHandler:rt,getActionName:O}),A.mt=new z.Control({x:0,y:-.5,cursorStyleHandler:C,actionHandler:rt,getActionName:O}),A.tl=new z.Control({x:-.5,y:-.5,cursorStyleHandler:S,actionHandler:T}),A.tr=new z.Control({x:.5,y:-.5,cursorStyleHandler:S,actionHandler:T}),A.bl=new z.Control({x:-.5,y:.5,cursorStyleHandler:S,actionHandler:T}),A.br=new z.Control({x:.5,y:.5,cursorStyleHandler:S,actionHandler:T}),A.mtr=new z.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),z.Textbox&&((w=z.Textbox.prototype.controls={}).mtr=A.mtr,w.tr=A.tr,w.br=A.br,w.tl=A.tl,w.bl=A.bl,w.mt=A.mt,w.mb=A.mb,w.mr=new z.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:C,actionName:"resizing"}),w.ml=new z.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:C,actionName:"resizing"}))},"./src/assets/scss/style.scss":function(t,e,i){"use strict";i.r(e);var n=i("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),n=i.n(n),r=i("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),r=i.n(r),s=i("./node_modules/style-loader/dist/runtime/insertBySelector.js"),s=i.n(s),o=i("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),o=i.n(o),a=i("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),a=i.n(a),h=i("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),h=i.n(h),i=i("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/assets/scss/style.scss"),c={};c.styleTagTransform=h(),c.setAttributes=o(),c.insert=s().bind(null,"head"),c.domAPI=r(),c.insertStyleElement=a(),n()(i.default,c);e.default=i.default&&i.default.locals?i.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function(t){"use strict";var c=[];function l(t){for(var e=-1,i=0;i<c.length;i++)if(c[i].identifier===t){e=i;break}return e}function a(t,e){for(var i={},n=[],r=0;r<t.length;r++){var s=t[r],o=e.base?s[0]+e.base:s[0],a=i[o]||0,h="".concat(o," ").concat(a),o=(i[o]=a+1,l(h)),a={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};-1!==o?(c[o].references++,c[o].updater(a)):(s=function(e,t){var i=t.domAPI(t);return i.update(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer||i.update(e=t):i.remove()}}(a,e),e.byIndex=r,c.splice(r,0,{identifier:h,updater:s,references:1})),n.push(h)}return n}t.exports=function(t,s){var o=a(t=t||[],s=s||{});return function(t){t=t||[];for(var e=0;e<o.length;e++){var i=l(o[e]);c[i].references--}for(var t=a(t,s),n=0;n<o.length;n++){var r=l(o[n]);0===c[r].references&&(c[r].updater(),c.splice(r,1))}o=t}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":function(t){"use strict";var i={};t.exports=function(t,e){if(!(t=function(t){if(void 0===i[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}i[t]=e}return i[t]}(t)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":function(t){"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":function(t,e,i){"use strict";t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":function(t){"use strict";t.exports=function(s){var o=s.insertStyleElement(s);return{update:function(t){var e,i,n,r;e=o,i=s,n="",(t=t).supports&&(n+="@supports (".concat(t.supports,") {")),t.media&&(n+="@media ".concat(t.media," {")),(r=void 0!==t.layer)&&(n+="@layer".concat(0<t.layer.length?" ".concat(t.layer):""," {")),n+=t.css,r&&(n+="}"),t.media&&(n+="}"),t.supports&&(n+="}"),(r=t.sourceMap)&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),i.styleTagTransform(n,e,i.options)},remove:function(){var t;null!==(t=o).parentNode&&t.parentNode.removeChild(t)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":function(t){"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},"./src/assets/images/body.png":function(t,e,i){"use strict";t.exports=i.p+"35b32ed6411905f2346e.png"},"./src/assets/images/frame.png":function(t,e,i){"use strict";t.exports=i.p+"39d41d234bdb376db4af.png"},"./src/assets/images/sample1.jpg":function(t,e,i){"use strict";t.exports=i.p+"50eae45c8c4c208932b7.jpg"},"./src/assets/images/sample2.png":function(t,e,i){"use strict";t.exports=i.p+"2fa3fd5984ce78fb58bf.png"},"?7b10":function(){},"?6799":function(){},"?9748":function(){}},n={};function f(t){var e=n[t];return void 0!==e||(e=n[t]={id:t,exports:{}},i[t](e,e.exports,f)),e.exports}f.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return f.d(e,{a:e}),e},f.d=function(t,e){for(var i in e)f.o(e,i)&&!f.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),f.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},f.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},f.g.importScripts&&(t=f.g.location+"");var t,e=f.g.document;if(t||!e||(t=e.currentScript?e.currentScript.src:t)||(e=e.getElementsByTagName("script")).length&&(t=e[e.length-1].src),!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),f.p=t,f.nc=void 0;var d={};!function(){"use strict";f.r(d);function t(t,e){return"normal_canvas"==e?new r.fabric.Canvas(t,{width:h,height:c}):"static_canvas"==e?new r.fabric.StaticCanvas(t,{width:h,height:c}):void 0}var e,i,n,r=f("./node_modules/fabric/dist/fabric.js"),s=(f("./src/assets/scss/style.scss"),f("./src/assets/images/body.png")),o=f("./src/assets/images/frame.png"),a=f("./src/assets/images/sample1.jpg"),h=(f("./src/assets/images/sample2.png"),260),c=550,l=t("body_canvas","normal_canvas"),u=t("frame_canvas","static_canvas");e=l,r.fabric.Image.fromURL(s,function(t){t.set({left:0,top:0,selectable:!1,evented:!1}),e.setBackgroundImage(t),e.renderAll()});i=u,n={left:20,top:20,width:150,height:150},r.fabric.Image.fromURL(o,function(t){t.set({top:n.top,left:n.left,selectable:!1,evented:!1}),t.scaleToWidth(n.width),t.scaleToHeight(n.height),i.setBackgroundImage(t),i.renderAll()}),window.cmdAddText=function(){var t="Type Here",e=l;t=new r.fabric.Textbox(t,{fontSize:24,left:50,top:50,width:150}),e.add(t)},window.cmdAddImage=function(){var e;e=l,r.fabric.Image.fromURL(a,function(t){t.set({left:50,top:50}),t.scaleToWidth(100),t.scaleToHeight(100),e.add(t)})},document.getElementById("btn_generate_canvas").addEventListener("click",function(t){this.href=l.toDataURL({format:"png"}),this.download="canvas.png"},!1)}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7aVNBR0lBLFNBQTBCLEVBQTRCLEdBQXFDLEVBRS9GQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLDYxQ0FBZzJDLEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLDBDQUEwQyxNQUFRLEdBQUcsU0FBVyx1cEJBQXVwQixlQUFpQixDQUFDLDQrQ0FBOCtDLFdBQWEsRUFBRSxFQUFFLEVBRTVvSCxzRkNEQUQsRUFBT0UsUUFBVSxTQUFVQyxHQUN6QixJQUFJQyxFQUFPLEdBNkZYLE9BM0ZBQSxFQUFLQyxTQUFXLFdBQ2QsT0FBT0MsS0FBS0MsSUFBSSxTQUFVQyxHQUN4QixJQUFJQyxFQUFVLEdBQ1ZDLEVBQStCLFNBQVpGLEVBQUssR0E0QjVCLE9BMUJJQSxFQUFLLEtBQ1BDLEdBQVcsY0FBY0UsT0FBT0gsRUFBSyxHQUFJLEtBQUssR0FHNUNBLEVBQUssS0FDUEMsR0FBVyxVQUFVRSxPQUFPSCxFQUFLLEdBQUksSUFBSSxHQUd2Q0UsSUFDRkQsR0FBVyxTQUFTRSxPQUF3QixFQUFqQkgsRUFBSyxHQUFHSSxPQUFhLElBQUlELE9BQU9ILEVBQUssRUFBRSxFQUFJLEdBQUksSUFBSSxHQUdoRkMsR0FBV04sRUFBdUJLLENBQUksRUFFbENFLElBQ0ZELEdBQVcsS0FHVEQsRUFBSyxLQUNQQyxHQUFXLEtBR1RELEVBQUssS0FDUEMsR0FBVyxLQUdOQSxDQUNULENBQUMsRUFBRUksS0FBSyxFQUFFLENBQ1osRUFHQVQsRUFBS1UsRUFBSSxTQUFXQyxFQUFTQyxFQUFPQyxFQUFRQyxFQUFVQyxHQUM3QixVQUFuQixPQUFPSixJQUNUQSxFQUFVLENBQUMsQ0FBQyxLQUFNQSxFQUFTSyxLQUFBQSxLQUc3QixJQUFJQyxFQUF5QixHQUU3QixHQUFJSixFQUNGLElBQUssSUFBSUssRUFBSSxFQUFHQSxFQUFJaEIsS0FBS00sT0FBUVUsQ0FBQyxHQUFJLENBQ3BDLElBQUlyQixFQUFLSyxLQUFLZ0IsR0FBRyxHQUVQLE1BQU5yQixJQUNGb0IsRUFBdUJwQixHQUFNLEdBRWpDLENBR0YsSUFBSyxJQUFJc0IsRUFBSyxFQUFHQSxFQUFLUixFQUFRSCxPQUFRVyxDQUFFLEdBQUksQ0FDMUMsSUFBSWYsRUFBTyxHQUFHRyxPQUFPSSxFQUFRUSxFQUFHLEVBRTVCTixHQUFVSSxFQUF1QmIsRUFBSyxNQUlyQixTQUFWVyxJQUNjLFNBQVpYLEVBQUssS0FHZEEsRUFBSyxHQUFLLFNBQVNHLE9BQXdCLEVBQWpCSCxFQUFLLEdBQUdJLE9BQWEsSUFBSUQsT0FBT0gsRUFBSyxFQUFFLEVBQUksR0FBSSxJQUFJLEVBQUVHLE9BQU9ILEVBQUssR0FBSSxHQUFHLEdBQ2xHQSxFQUFLLEdBQUtXLEdBSVZILElBQ0dSLEVBQUssS0FHUkEsRUFBSyxHQUFLLFVBQVVHLE9BQU9ILEVBQUssR0FBSSxJQUFJLEVBQUVHLE9BQU9ILEVBQUssR0FBSSxHQUFHLEdBRjdEQSxFQUFLLEdBQUtRLEdBT1ZFLElBQ0dWLEVBQUssSUFHUkEsRUFBSyxHQUFLLGNBQWNHLE9BQU9ILEVBQUssR0FBSSxLQUFLLEVBQUVHLE9BQU9ILEVBQUssR0FBSSxHQUFHLEVBQ2xFQSxFQUFLLEdBQUtVLEdBSFZWLEVBQUssR0FBSyxHQUFHRyxPQUFPTyxDQUFRLEdBT2hDZCxFQUFLTCxLQUFLUyxDQUFJLEVBQ2hCLENBQ0YsRUFFT0osQ0FDVCxtRkNuR0FKLEVBQU9FLFFBQVUsU0FBVU0sR0FDekIsSUFXTWdCLEVBWEZmLEVBQVVELEVBQUssR0FDZmlCLEVBQWFqQixFQUFLLEdBRXRCLE9BQUtpQixHQUllLFlBQWhCLE9BQU9DLE1BQ0xDLEVBQVNELEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVU4sQ0FBVSxDQUFDLENBQUMsQ0FBQyxFQUN0RU8sRUFBTywrREFBK0RyQixPQUFPZ0IsQ0FBTSxFQUNuRk0sRUFBZ0IsT0FBT3RCLE9BQU9xQixFQUFNLEtBQUssRUFDekNSLEVBQWFDLEVBQVdTLFFBQVEzQixJQUFJLFNBQVU0QixHQUNoRCxNQUFPLGlCQUFpQnhCLE9BQU9jLEVBQVdXLFlBQWMsRUFBRSxFQUFFekIsT0FBT3dCLEVBQVEsS0FBSyxDQUNsRixDQUFDLEVBQ00sQ0FBQzFCLEdBQVNFLE9BQU9hLENBQVUsRUFBRWIsT0FBTyxDQUFDc0IsRUFBYyxHQUdyRCxDQUFDeEIsSUFIc0RJLEtBQUssSUFBSSxFQVY5REosQ0FjWCwwRENsQkEsSUE0bUJVNEIsRUFFSkMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUE4eUNBQyxFQUNBQyxFQVdBQyxFQW96QkFDLEVBNlJBQSxFQUVBQyxFQW1IQUMsRUFDQUMsRUFvRkFDLEVBRUFDLEVBR0FDLEVBcVpBQyxFQUNBQyxFQTROQUMsRUFTQUMsRUEwaklBRixFQTB4SkFHLEVBQ0FDLEVBRUFDLEVBNjhCQUMsRUFDQUMsRUFxOUVBQyxFQUNBQyxFQUtBQyxFQW9RQUMsRUFDQUgsR0FDQUksRUFDQUMsRUFzd0JBQyxFQWlQQWYsR0FDQWdCLEVBNEdBUCxHQTIyVUFSLEVBODNEQWMsRUFDQUUsR0Frc0JBQyxFQUNBQyxFQUNBQyxFQUNBQyxHQUNBQyxFQUNBQyxFQUNBQyxFQXAyOEJGQyxFQUFTQSxHQUFVLENBQUVDLFFBQVMsT0FBUSxFQXdOeEMsU0FBU0MsR0FBcUJDLEVBQVdDLEdBQ2xDNUUsS0FBSzZFLGlCQUFpQkYsS0FHdkJHLEVBQWdCOUUsS0FBSzZFLGlCQUFpQkYsR0FDdENDLEVBQ0ZFLEVBQWNBLEVBQWNDLFFBQVFILENBQU8sR0FBSyxHQUdoREosRUFBT2IsS0FBS3FCLE1BQU1DLEtBQUtILEVBQWUsRUFBSyxFQUUvQyxDQThCQSxTQUFTSSxHQUFNUCxFQUFXQyxHQUN4QixJQUFJTyxFQUFXLFdBQ2JQLEVBQVFRLE1BQU1wRixLQUFNcUYsU0FBUyxFQUM3QnJGLEtBQUtzRixJQUFJWCxFQUFXUSxDQUFRLENBQzlCLEVBQUVJLEtBQUt2RixJQUFJLEVBQ1hBLEtBQUt3RixHQUFHYixFQUFXUSxDQUFRLENBQzdCLENBZ3NEQSxTQUFTTSxHQUFjQyxFQUFLQyxFQUFLQyxFQUFJQyxFQUFJQyxFQUFPQyxFQUFPQyxHQTZDckQsSUE1Q0EsSUF4QnVCQyxFQUFLQyxFQUFLQyxFQUFPQyxFQUFPUixFQUFJQyxFQUFJUSxFQUFLQyxFQUFLQyxFQUFJQyxFQUFPQyxFQUN4RUMsRUFFQUMsRUFxQkFDLEVBQUtDLEtBQUtELEdBQUlFLEVBQUtkLEVBQVVZLEVBQUssSUFDbENSLEVBQVE1QixFQUFPYixLQUFLb0QsSUFBSUQsQ0FBRSxFQUMxQlgsRUFBUTNCLEVBQU9iLEtBQUtxRCxJQUFJRixDQUFFLEVBQzFCTixFQUFRLEVBQUdDLEVBQVEsRUFLbkJRLEVBQUssQ0FBQ2QsRUFBUVQsRUFBTSxHQUFNVSxFQUFRVCxFQUFNLEdBQ3hDdUIsRUFBSyxDQUFDZixFQUFRUixFQUFNLEdBQU1TLEVBQVFWLEVBQU0sR0FDeEN5QixHQUxKdkIsRUFBS2lCLEtBQUtPLElBQUl4QixDQUFFLEdBS0RBLEVBQUl5QixHQUpuQnhCLEVBQUtnQixLQUFLTyxJQUFJdkIsQ0FBRSxHQUljQSxFQUFJeUIsRUFBTUosRUFBS0EsRUFBSUssRUFBTU4sRUFBS0EsRUFDeERPLEVBQUtMLEVBQU1FLEVBQU1GLEVBQU1HLEVBQU1ELEVBQU1FLEVBQ25DRSxFQUFPLEVBWVBDLEdBVkFGLEVBQUssR0FFUDVCLEdBREkrQixFQUFJZCxLQUFLN0UsS0FBSyxFQUFJd0YsR0FBTUwsRUFBTUUsRUFBSSxFQUV0Q3hCLEdBQU04QixHQUdORixHQUFRM0IsSUFBVUMsRUFBUSxDQUFDLEVBQU0sR0FDekJjLEtBQUs3RSxLQUFNd0YsR0FBTUwsRUFBTUcsRUFBTUQsRUFBTUUsRUFBSSxFQUd4Q0UsRUFBTzdCLEVBQUtzQixFQUFLckIsR0FDdEIrQixFQUFLLENBQUNILEVBQU81QixFQUFLb0IsRUFBS3JCLEVBQ3ZCUyxFQUFNRixFQUFRdUIsRUFBS3RCLEVBQVF3QixFQUFXLEdBQU5sQyxFQUNoQ1ksRUFBTUYsRUFBUXNCLEVBQUt2QixFQUFReUIsRUFBVyxHQUFOakMsRUFDaENrQyxFQUFTQyxHQUFnQixFQUFHLEdBQUliLEVBQUtTLEdBQU05QixHQUFLc0IsRUFBS1UsR0FBTS9CLENBQUUsRUFDN0RrQyxFQUFTRCxJQUFpQmIsRUFBS1MsR0FBTTlCLEdBQUtzQixFQUFLVSxHQUFNL0IsR0FBSyxDQUFDb0IsRUFBS1MsR0FBTTlCLEdBQUssQ0FBQ3NCLEVBQUtVLEdBQU0vQixDQUFFLEVBVXpGbUMsR0FSVSxJQUFWakMsR0FBd0IsRUFBVGdDLEVBQ2pCQSxHQUFVLEVBQUluQixFQUVHLElBQVZiLEdBQWVnQyxFQUFTLElBQy9CQSxHQUFVLEVBQUluQixHQUlEQyxLQUFLb0IsS0FBS3BCLEtBQUtPLElBQUlXLEVBQVNuQixFQUFLLENBQUMsQ0FBQyxHQUM5Q3NCLEVBQVMsR0FBSUMsRUFBU0osRUFBU0MsRUFDL0J6QixFQUFLLEVBQUksRUFBSU0sS0FBS0UsSUFBSW9CLEVBQVMsQ0FBQyxFQUFJdEIsS0FBS0UsSUFBSW9CLEVBQVMsQ0FBQyxFQUFJdEIsS0FBS0UsSUFBSW9CLEVBQVMsQ0FBQyxFQUM5RWpDLEVBQU0yQixFQUFTTSxFQUVWM0gsRUFBSSxFQUFHQSxFQUFJd0gsRUFBVXhILENBQUMsR0FDN0IwSCxFQUFPMUgsSUFyRWN5RixFQXFFTzRCLEVBckVGM0IsRUFxRVVBLEVBckVMQyxFQXFFVUEsRUFyRUhDLEVBcUVVQSxFQXJFSFIsRUFxRVVBLEVBckVOQyxFQXFFVUEsRUFyRU5RLEVBcUVVQSxFQXJFTEMsRUFxRVVBLEVBckVMQyxFQXFFVUEsRUFyRU5DLEVBcUVVQSxFQXJFSEMsRUFxRVVBLEVBbEVsRkUsRUFGQUQsRUFBQUEsS0FBQUEsRUFBQUEsRUFBU2xDLEVBQU9iLEtBQUtxRCxJQUFJZixDQUFHLEVBQzVCbUMsRUFBUzVELEVBQU9iLEtBQUtvRCxJQUFJZCxDQUFHLEVBQzVCVSxFQUFTbkMsRUFBT2IsS0FBS3FELElBQUlkLENBQUcsRUFDNUJtQyxFQUFTN0QsRUFBT2IsS0FBS29ELElBQUliLENBQUcsRUFRekIsQ0FBQyxJQUxHTSxFQUFRRCxHQUFPLENBQUNKLEVBQVFQLEVBQUt3QyxFQUFTaEMsRUFBUVAsRUFBS2EsR0FDbkRELEVBQVFGLEdBQU8sQ0FBQ0gsRUFBUVIsRUFBS3dDLEVBQVNqQyxFQUFRTixFQUFLYSxJQUNuRGhCLEVBSkRTLEVBQVFQLEVBQUtlLEVBQVNQLEVBQVFQLEVBQUt3QyxFQUFTaEMsR0FJckNFLEdBQU9KLEVBQVFQLEVBQUt5QyxFQUFTakMsRUFBUVAsRUFBS2MsSUFDaERoQixFQUpEUyxFQUFRUixFQUFLZSxFQUFTUixFQUFRTixFQUFLd0MsRUFBUy9CLEdBSXJDQyxHQUFPSCxFQUFRUixFQUFLeUMsRUFBU2xDLEVBQVFOLEVBQUtjLEdBS3pEakIsRUFBS0MsSUF1RExhLEVBQVEwQixFQUFPMUgsR0FBRyxHQUNsQmlHLEVBQVF5QixFQUFPMUgsR0FBRyxHQUNsQnFILEVBQVMzQixFQUNUQSxHQUFPaUMsRUFFVCxPQUFPRCxDQUNULENBS0EsU0FBU0osR0FBZ0JRLEVBQUlDLEVBQUlDLEVBQUlDLEdBQy9CQyxFQUFLN0IsS0FBSzVFLE1BQU1zRyxFQUFJRCxDQUFFLEVBQ3RCSyxFQUFLOUIsS0FBSzVFLE1BQU13RyxFQUFJRCxDQUFFLEVBQzFCLE9BQVVFLEdBQU5DLEVBQ0tBLEVBQUtELEVBR0wsRUFBSTdCLEtBQUtELElBQU04QixFQUFLQyxFQUUvQixDQWlUQSxTQUFTQyxFQUFlQyxFQUFJQyxFQUFJQyxFQUFJQyxHQUNsQyxPQUFPbkMsS0FBSzdFLE1BQU0rRyxFQUFLRixJQUFPRSxFQUFLRixJQUFPRyxFQUFLRixJQUFPRSxFQUFLRixFQUFHLENBQ2hFLENBd0VBLFNBQVNHLEdBQWFDLEVBQVVMLEVBQUlDLEdBRWxDLElBREEsSUFBOEJLLEVBQTFCQyxFQUFRLENBQUVDLEVBQUdSLEVBQUlTLEVBQUdSLENBQUcsRUFBTVMsRUFBUyxFQUNyQ0MsRUFBTyxFQUFHQSxHQUFRLElBQUtBLEdBQVEsRUFDbENMLEVBQUlELEVBQVNNLEVBQU8sR0FBRyxFQUN2QkQsR0FBVVgsRUFBZVEsRUFBTUMsRUFBR0QsRUFBTUUsRUFBR0gsRUFBRUUsRUFBR0YsRUFBRUcsQ0FBQyxFQUNuREYsRUFBUUQsRUFFVixPQUFPSSxDQUNULENBVUEsU0FBU0UsR0FBMEJDLEVBQVNDLEdBSzFDLElBSkEsSUFDSVIsRUFBR1MsRUFBNkRDLEVBRGhFTCxFQUFPLEVBQUdELEVBQVMsRUFBR0wsRUFBV1EsRUFBUVIsU0FBVUUsRUFBUSxDQUFFQyxFQUFHSyxFQUFRTCxFQUFHQyxFQUFHSSxFQUFRSixDQUFFLEVBQzVFUSxFQUFXLElBQU1DLEVBQWNMLEVBQVFLLFlBR2hEUixFQUFTSSxHQUF1QixLQUFYRyxHQUMxQlgsRUFBSUQsRUFBU00sQ0FBSSxFQUNqQkssRUFBV0wsRUFHY0csR0FGekJDLEVBQVVoQixFQUFlUSxFQUFNQyxFQUFHRCxFQUFNRSxFQUFHSCxFQUFFRSxFQUFHRixFQUFFRyxDQUFDLEdBRXBDQyxHQUViQyxHQUFRTSxFQUNSQSxHQUFZLElBR1pWLEVBQVFELEVBQ1JLLEdBQVFNLEVBQ1JQLEdBQVVLLEdBSWQsT0FEQVQsRUFBRWEsTUFBUUQsRUFBWUYsQ0FBUSxFQUN2QlYsQ0FDVCxDQVFBLFNBQVNjLEdBQW9CQyxHQUszQixJQUpBLElBQXdDQyxFQUdPakIsRUFBVWtCLEVBQVVMLEVBSC9ETSxFQUFjLEVBQUdDLEVBQU1KLEVBQUs1SixPQUc1QnVJLEVBQUssRUFBR0MsRUFBSyxFQUFHQyxFQUFLLEVBQUdDLEVBQUssRUFBR3VCLEVBQU8sR0FDbEMvSixFQUFJLEVBQUdBLEVBQUk4SixFQUFLOUosQ0FBQyxHQUFJLENBTzVCLE9BTEE0SixFQUFXLENBQ1RmLEVBQUdSLEVBQ0hTLEVBQUdSLEVBQ0gwQixTQUpGTCxFQUFVRCxFQUFLMUosSUFJSSxFQUNuQixFQUNRMkosRUFBUSxJQUNkLElBQUssSUFDSEMsRUFBUzlKLE9BQVMsRUFDbEJ5SSxFQUFLRixFQUFLc0IsRUFBUSxHQUNsQm5CLEVBQUtGLEVBQUtxQixFQUFRLEdBQ2xCLE1BQ0YsSUFBSyxJQUNIQyxFQUFTOUosT0FBU3NJLEVBQWVDLEVBQUlDLEVBQUlxQixFQUFRLEdBQUlBLEVBQVEsRUFBRSxFQUMvRHRCLEVBQUtzQixFQUFRLEdBQ2JyQixFQUFLcUIsRUFBUSxHQUNiLE1BQ0YsSUFBSyxJQUNIakIsRUFoSVIsU0FBdUN1QixFQUFLQyxFQUFLQyxFQUFLQyxFQUFLQyxFQUFLQyxFQUFLQyxFQUFLQyxHQUN4RSxPQUFPLFNBQVNDLEdBQ2QsSUFBSUMsRUFBU0QsRUFBQUEsRUFBQUEsRUFBTUUsRUFYZCxFQVd1QkYsRUFBQUEsR0FYVixFQVdVQSxHQUFNRyxFQVI3QixFQVFzQ0gsR0FSN0IsRUFRNkJBLElBUm5CLEVBUW1CQSxHQUFNSSxHQUwzQyxFQUtvREosSUFMMUMsRUFLMENBLElBTGhDLEVBS2dDQSxHQUMxRCxNQUFPLENBQ0w1QixFQUFHMEIsRUFBTUcsRUFBS0wsRUFBTU0sRUFBS1IsRUFBTVMsRUFBS1gsRUFBTVksRUFDMUMvQixFQUFHMEIsRUFBTUUsRUFBS0osRUFBTUssRUFBS1AsRUFBTVEsRUFBS1YsRUFBTVcsQ0FDNUMsQ0FDRixDQUNGLEVBeUhVeEMsRUFDQUMsRUFDQXFCLEVBQVEsR0FDUkEsRUFBUSxHQUNSQSxFQUFRLEdBQ1JBLEVBQVEsR0FDUkEsRUFBUSxHQUNSQSxFQUFRLEVBQ1YsRUFDQUosRUFoSVIsU0FBaUNVLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtDLEdBQ2xFLE9BQU8sU0FBVUMsR0FDZixJQUFJSyxFQUFPLEVBQUlMLEVBS2YsT0FBT3BFLEtBQUs1RSxNQUZJLEVBQUlxSixFQUFPQSxHQUFRVixFQUFNRixHQUFTLEVBQUlZLEVBQU9MLEdBQU9ILEVBQU1GLEdBQ3JFLEVBQUlLLEVBQU1BLEdBQU9ELEVBQU1GLEdBSFosRUFBSVEsRUFBT0EsR0FBUVgsRUFBTUYsR0FBUyxFQUFJYSxFQUFPTCxHQUFPSixFQUFNRixHQUNyRSxFQUFJTSxFQUFNQSxHQUFPRixFQUFNRixFQUdRLENBQ3RDLENBQ0YsRUF3SFVoQyxFQUNBQyxFQUNBcUIsRUFBUSxHQUNSQSxFQUFRLEdBQ1JBLEVBQVEsR0FDUkEsRUFBUSxHQUNSQSxFQUFRLEdBQ1JBLEVBQVEsRUFDVixFQUNBQyxFQUFTbEIsU0FBV0EsRUFDcEJrQixFQUFTTCxZQUFjQSxFQUN2QkssRUFBUzlKLE9BQVMySSxHQUFhQyxFQUFVTCxFQUFJQyxDQUFFLEVBQy9DRCxFQUFLc0IsRUFBUSxHQUNickIsRUFBS3FCLEVBQVEsR0FDYixNQUNGLElBQUssSUFDSGpCLEVBMUhSLFNBQTJDdUIsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsR0FDbEUsT0FBTyxTQUFTRyxHQUNkLElBQUlDLEVBQVNELEVBQUFBLEVBQU1FLEVBVGQsRUFTdUJGLEdBVGQsRUFTY0EsR0FBTUcsR0FMNUIsRUFLcUNILElBTDNCLEVBSzJCQSxHQUMzQyxNQUFPLENBQ0w1QixFQUFHd0IsRUFBTUssRUFBS1AsRUFBTVEsRUFBS1YsRUFBTVcsRUFDL0I5QixFQUFHd0IsRUFBTUksRUFBS04sRUFBTU8sRUFBS1QsRUFBTVUsQ0FDakMsQ0FDRixDQUNGLEVBbUhVdkMsRUFDQUMsRUFDQXFCLEVBQVEsR0FDUkEsRUFBUSxHQUNSQSxFQUFRLEdBQ1JBLEVBQVEsRUFDVixFQUNBSixFQXhIUixTQUFxQ1UsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsR0FDNUQsT0FBTyxTQUFVRyxHQUNmLElBQUlLLEVBQU8sRUFBSUwsRUFHZixPQUFPcEUsS0FBSzVFLE1BREksRUFBSXFKLEdBQVFWLEVBQU1GLEdBQVMsRUFBSU8sR0FBT0gsRUFBTUYsR0FENUMsRUFBSVUsR0FBUVgsRUFBTUYsR0FBUyxFQUFJUSxHQUFPSixFQUFNRixFQUV4QixDQUN0QyxDQUNGLEVBa0hVOUIsRUFDQUMsRUFDQXFCLEVBQVEsR0FDUkEsRUFBUSxHQUNSQSxFQUFRLEdBQ1JBLEVBQVEsRUFDVixFQUNBQyxFQUFTbEIsU0FBV0EsRUFDcEJrQixFQUFTTCxZQUFjQSxFQUN2QkssRUFBUzlKLE9BQVMySSxHQUFhQyxFQUFVTCxFQUFJQyxDQUFFLEVBQy9DRCxFQUFLc0IsRUFBUSxHQUNickIsRUFBS3FCLEVBQVEsR0FDYixNQUNGLElBQUssSUFDTCxJQUFLLElBRUhDLEVBQVNtQixNQUFReEMsRUFDakJxQixFQUFTb0IsTUFBUXhDLEVBQ2pCb0IsRUFBUzlKLE9BQVNzSSxFQUFlQyxFQUFJQyxFQUFJQyxFQUFJQyxDQUFFLEVBQy9DSCxFQUFLRSxFQUNMRCxFQUFLRSxDQUVULENBQ0FxQixHQUFlRCxFQUFTOUosT0FDeEJpSyxFQUFLOUssS0FBSzJLLENBQVEsQ0FDcEIsQ0FFQSxPQURBRyxFQUFLOUssS0FBSyxDQUFFYSxPQUFRK0osRUFBYWhCLEVBQUdSLEVBQUlTLEVBQUdSLENBQUcsQ0FBQyxFQUN4Q3lCLENBQ1QsQ0EyUUEsU0FBU2tCLEdBQUt6RyxFQUFPMEcsRUFBWUMsR0FDL0IsR0FBSzNHLEdBQTBCLElBQWpCQSxFQUFNMUUsT0FBcEIsQ0FJQSxJQUFJRSxFQUFJd0UsRUFBTTFFLE9BQVMsRUFDbkI0SCxFQUFTd0QsRUFBYTFHLEVBQU14RSxHQUFHa0wsR0FBYzFHLEVBQU14RSxHQUN2RCxHQUFJa0wsRUFDRixLQUFPbEwsQ0FBQyxJQUNGbUwsRUFBVTNHLEVBQU14RSxHQUFHa0wsR0FBYXhELENBQU0sSUFDeENBLEVBQVNsRCxFQUFNeEUsR0FBR2tMLFNBS3RCLEtBQU9sTCxDQUFDLElBQ0ZtTCxFQUFVM0csRUFBTXhFLEdBQUkwSCxDQUFNLElBQzVCQSxFQUFTbEQsRUFBTXhFLElBSXJCLE9BQU8wSCxDQWxCUCxDQW1CRixDQTZCQSxTQUFTbkYsRUFBTzZJLEVBQWEvSixFQUFRZ0ssR0FJbkMsR0FBSUEsRUFDRixHQUFJLENBQUNySCxFQUFPc0gsY0FBZ0JqSyxhQUFrQmtLLFFBRTVDSCxFQUFjL0osT0FFWCxHQUFJQSxhQUFrQm1LLE1BQU8sQ0FDaENKLEVBQWMsR0FDZCxJQUFLLElBQUlwTCxFQUFJLEVBQUc4SixFQUFNekksRUFBT3ZCLE9BQVFFLEVBQUk4SixFQUFLOUosQ0FBQyxHQUM3Q29MLEVBQVlwTCxHQUFLdUMsRUFBTyxHQUFLbEIsRUFBT3JCLEdBQUlxTCxDQUFJLENBRWhELE1BQ0ssR0FBSWhLLEdBQTRCLFVBQWxCLE9BQU9BLEVBQ3hCLElBQUssSUFBSW9LLEtBQVlwSyxFQUNGLFdBQWJvSyxHQUFzQyxVQUFiQSxFQUczQkwsRUFBWUssR0FBWSxLQUVqQnBLLEVBQU9xSyxlQUFlRCxDQUFRLElBQ3JDTCxFQUFZSyxHQUFZbEosRUFBTyxHQUFLbEIsRUFBT29LLEdBQVdKLENBQUksUUFNOURELEVBQWMvSixPQUloQixJQUFLLElBQUlvSyxLQUFZcEssRUFDbkIrSixFQUFZSyxHQUFZcEssRUFBT29LLEdBR25DLE9BQU9MLENBQ1QsQ0EySW1ELFNBQWhCTyxNQWdEbkMsU0FBU0MsTUFFVCxTQUFTQyxHQUFVQyxHQUtqQixJQUpBLElBQUlDLEVBQWUsS0FDZkMsRUFBUXhNLEtBR0x3TSxFQUFNQyxZQUFZQyxZQUFZLENBQ25DLElBQUlDLEVBQW1CSCxFQUFNQyxZQUFZQyxXQUFXRSxVQUFVTixHQUM5RCxHQUFJRSxFQUFNRixLQUFnQkssRUFBa0IsQ0FDMUNKLEVBQWVJLEVBQ2YsS0FDRixDQUVBSCxFQUFRQSxFQUFNQyxZQUFZQyxXQUFXRSxTQUN2QyxDQUVBLE9BQUtMLEVBSXNCLEVBQW5CbEgsVUFBVS9FLE9BQ2RpTSxFQUFhbkgsTUFBTXBGLEtBQU13QyxFQUFNcUssS0FBS3hILFVBQVcsQ0FBQyxDQUFDLEVBQ2pEa0gsRUFBYU0sS0FBSzdNLElBQUksRUFMakI4TSxRQUFRQyxJQUFJLHNCQUF3QlQsRUFBYSx3Q0FBeUN0TSxJQUFJLENBTXpHLENBbmtHQUosRUFBUTRFLE9BQVNBLEVBT0ssYUFBcEIsT0FBT3dJLFVBQThDLGFBQWxCLE9BQU9DLFFBQ3hDRCxvQkFBNkMsYUFBeEIsT0FBT0UsYUFBK0JBLGFBQWVDLFVBQzVFM0ksRUFBT3dJLFNBQVdBLFNBR2xCeEksRUFBT3dJLFNBQVdBLFNBQVNJLGVBQWVDLG1CQUFtQixFQUFFLEVBRWpFN0ksRUFBT3lJLE9BQVNBLFNBS1pLLEVBQWdCLElBRFIsRUFBUSxPQUFPLEVBQ0dDLE9BQzVCQyxtQkFBbUIsNEZBQTRGLEVBQy9HLENBQ0VDLFNBQVUsQ0FDUkMsdUJBQXdCLENBQUMsTUFDM0IsRUFDQUMsVUFBVyxRQUNiLENBQUMsRUFBRVYsT0FDTHpJLEVBQU93SSxTQUFXTSxFQUFjTixTQUNoQ3hJLEVBQU9vSixvQkFBc0IsMEJBQzdCcEosRUFBT3FKLFdBQWEsa0JBQ3BCckosRUFBT3lJLE9BQVNLLEVBQ2hCUSxVQUFZdEosRUFBT3lJLE9BQU9hLFdBTzVCdEosRUFBT3VKLGlCQUFtQixpQkFBa0J2SixFQUFPeUksUUFBVSxpQkFBa0J6SSxFQUFPd0ksVUFDbkZ4SSxFQUFPeUksUUFBVXpJLEVBQU95SSxPQUFPZSxXQUFzRCxFQUF6Q3hKLEVBQU95SSxPQUFPZSxVQUFVQyxlQU12RXpKLEVBQU9zSCxhQUFpQyxhQUFsQixPQUFPb0MsUUFDVyxhQUFsQixPQUFPakIsT0FPN0J6SSxFQUFPMkosa0JBQW9CLENBQ3pCLFVBQ0EsWUFDQSxPQUFRLGVBQWdCLFlBQ3hCLFVBQ0EsU0FBVSxtQkFBb0IsaUJBQWtCLG9CQUNoRCxrQkFBbUIsb0JBQ25CLGlCQUFrQixlQUNsQixLQUFNLGNBQWUsZ0JBQ3JCLHNCQUF1QixhQU96QjNKLEVBQU80SixJQUFNLEdBQ2I1SixFQUFPNkosTUFBUSxrREFDZjdKLEVBQU84SixTQUFXLHVCQUNsQjlKLEVBQU8rSixjQUFnQix5REFDdkIvSixFQUFPZ0ssVUFBWSxpQkFDbkJoSyxFQUFPaUssVUFBWSxHQUNuQmpLLEVBQU9rSyxRQUFVLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2pDbEssRUFBT21LLE1BQVEsNkJBUWZuSyxFQUFPb0ssbUJBQXFCLFFBUTVCcEssRUFBT3FLLGtCQUFvQixLQVEzQnJLLEVBQU9zSyxrQkFBb0IsSUFLM0J0SyxFQUFPdUssZ0JBQWtCLEdBU3pCdkssRUFBT3dLLFlBQWMsS0FTckJ4SyxFQUFPeUssc0JBQXdCLEdBVS9CekssRUFBTzBLLGtCQUFvQixHQU0zQjFLLEVBQU8ySyxpQkFBbUIzSyxFQUFPeUksT0FBT2tDLGtCQUNkM0ssRUFBT3lJLE9BQU9tQyx3QkFDZDVLLEVBQU95SSxPQUFPb0MscUJBQ2QsRUFlMUI3SyxFQUFPOEssMEJBQTRCLEVBTW5DOUssRUFBTytLLG1CQUFxQixHQVU1Qi9LLEVBQU9nTCxtQkFBcUIsR0FNNUJoTCxFQUFPaUwsb0JBQXNCLEdBUzdCakwsRUFBT2tMLG9CQUFzQixHQUU3QmxMLEVBQU9tTCxrQkFBb0IsV0FDekIsT0FBSW5MLEVBQU8wSyxtQkFBcUIxSyxFQUFPb0wsa0JBQW9CcEwsRUFBT29MLGlCQUFpQnBMLEVBQU93SyxXQUFXLEdBQ25HbEMsUUFBUUMsSUFBSSxxQkFBdUJ2SSxFQUFPcUwsY0FBYyxFQUNqRCxJQUFLckwsRUFBT3NMLG1CQUFtQixDQUFFQyxTQUFVdkwsRUFBT3dLLFdBQVksQ0FBRSxHQUVoRXhLLEVBQU93TCxzQkFDUCxJQUFLeEwsRUFBT3dMLHNCQURoQixNQUdQLEVBR3dCLGFBQXBCLE9BQU9oRCxVQUE4QyxhQUFsQixPQUFPQyxTQUU1Q0EsT0FBT3pJLE9BQVNBLEdBMEloQkEsRUFBT3lMLFdBQWEsQ0FDbEJDLEtBekJGLFNBQWN2TCxFQUFXd0wsR0FDdkIsR0FBS25RLEtBQUs2RSxpQkFBVixDQUlBLElBQUl1TCxFQUFvQnBRLEtBQUs2RSxpQkFBaUJGLEdBQzlDLEdBQUt5TCxFQUFMLENBSUEsSUFBSyxJQUFJNVAsRUFBSSxFQUFHOEosRUFBTThGLEVBQWtCOVAsT0FBUUUsRUFBSThKLEVBQUs5SixDQUFDLEdBQ3hENFAsRUFBa0I1UCxJQUFNNFAsRUFBa0I1UCxHQUFHcU0sS0FBSzdNLEtBQU1tUSxHQUFXLEVBQUcsRUFFeEVuUSxLQUFLNkUsaUJBQWlCRixHQUFheUwsRUFBa0JDLE9BQU8sU0FBU0MsR0FDbkUsTUFBaUIsS0FBVkEsQ0FDVCxDQUFDLENBUEQsQ0FMQSxDQWFBLE9BQU90USxJQUNULEVBU0V3RixHQTNHRixTQUFZYixFQUFXQyxHQUtyQixHQUpLNUUsS0FBSzZFLG1CQUNSN0UsS0FBSzZFLGlCQUFtQixJQUdELElBQXJCUSxVQUFVL0UsT0FDWixJQUFLLElBQUlpUSxLQUFRNUwsRUFDZjNFLEtBQUt3RixHQUFHK0ssRUFBTTVMLEVBQVU0TCxFQUFLLE9BSTFCdlEsS0FBSzZFLGlCQUFpQkYsS0FDekIzRSxLQUFLNkUsaUJBQWlCRixHQUFhLElBRXJDM0UsS0FBSzZFLGlCQUFpQkYsR0FBV2xGLEtBQUttRixDQUFPLEVBRS9DLE9BQU81RSxJQUNULEVBMkZFd1EsS0FqRkYsU0FBYzdMLEVBQVdDLEdBRXZCLEdBQXlCLElBQXJCUyxVQUFVL0UsT0FDWixJQUFLLElBQUlpUSxLQUFRNUwsRUFDZk8sR0FBTTJILEtBQUs3TSxLQUFNdVEsRUFBTTVMLEVBQVU0TCxFQUFLLE9BSXhDckwsR0FBTTJILEtBQUs3TSxLQUFNMkUsRUFBV0MsQ0FBTyxFQUVyQyxPQUFPNUUsSUFDVCxFQXVFRXNGLElBM0RGLFNBQWFYLEVBQVdDLEdBQ3RCLEdBQUs1RSxLQUFLNkUsaUJBS1YsR0FBeUIsSUFBckJRLFVBQVUvRSxPQUNaLElBQUtxRSxLQUFhM0UsS0FBSzZFLGlCQUNyQkgsR0FBcUJtSSxLQUFLN00sS0FBTTJFLENBQVMsT0FJeEMsR0FBeUIsSUFBckJVLFVBQVUvRSxRQUF3QyxVQUF4QixPQUFPK0UsVUFBVSxHQUNsRCxJQUFLLElBQUlrTCxLQUFRNUwsRUFDZkQsR0FBcUJtSSxLQUFLN00sS0FBTXVRLEVBQU01TCxFQUFVNEwsRUFBSyxPQUl2RDdMLEdBQXFCbUksS0FBSzdNLEtBQU0yRSxFQUFXQyxDQUFPLEVBRXBELE9BQU81RSxJQUNULENBdUNBLEVBT0Z3RSxFQUFPaU0sV0FBYSxDQUVsQkMsU0FBVSxHQWNWQyxJQUFLLFdBRUgsR0FEQTNRLEtBQUswUSxTQUFTalIsS0FBSzJGLE1BQU1wRixLQUFLMFEsU0FBVXJMLFNBQVMsRUFDN0NyRixLQUFLNFEsZUFDUCxJQUFLLElBQUlwUSxFQUFJLEVBQUdGLEVBQVMrRSxVQUFVL0UsT0FBUUUsRUFBSUYsRUFBUUUsQ0FBQyxHQUN0RFIsS0FBSzRRLGVBQWV2TCxVQUFVN0UsRUFBRSxFQUlwQyxPQURBUixLQUFLNlEsbUJBQXFCN1EsS0FBSzhRLGlCQUFpQixFQUN6QzlRLElBQ1QsRUFjQStRLFNBQVUsU0FBVUMsRUFBUUMsRUFBT0MsR0FDakMsSUFBSUMsRUFBVW5SLEtBQUswUSxTQVNuQixPQVJJUSxFQUNGQyxFQUFRRixHQUFTRCxFQUdqQkcsRUFBUUMsT0FBT0gsRUFBTyxFQUFHRCxDQUFNLEVBRWpDaFIsS0FBSzRRLGdCQUFrQjVRLEtBQUs0USxlQUFlSSxDQUFNLEVBQ2pEaFIsS0FBSzZRLG1CQUFxQjdRLEtBQUs4USxpQkFBaUIsRUFDekM5USxJQUNULEVBUUFxUixPQUFRLFdBSU4sSUFIQSxJQUNJSixFQURBRSxFQUFVblIsS0FBSzBRLFNBQ1JZLEVBQW1CLEdBRXJCOVEsRUFBSSxFQUFHRixFQUFTK0UsVUFBVS9FLE9BQVFFLEVBQUlGLEVBQVFFLENBQUMsR0FJeEMsQ0FBQyxLQUhmeVEsRUFBUUUsRUFBUXBNLFFBQVFNLFVBQVU3RSxFQUFFLEtBSWxDOFEsRUFBbUIsR0FDbkJILEVBQVFDLE9BQU9ILEVBQU8sQ0FBQyxFQUN2QmpSLEtBQUt1UixrQkFBb0J2UixLQUFLdVIsaUJBQWlCbE0sVUFBVTdFLEVBQUUsR0FLL0QsT0FEQVIsS0FBSzZRLG1CQUFxQlMsR0FBb0J0UixLQUFLOFEsaUJBQWlCLEVBQzdEOVEsSUFDVCxFQWNBd1IsY0FBZSxTQUFTQyxFQUFVQyxHQUVoQyxJQURBLElBQUlQLEVBQVVuUixLQUFLMlIsV0FBVyxFQUNyQm5SLEVBQUksRUFBRzhKLEVBQU02RyxFQUFRN1EsT0FBUUUsRUFBSThKLEVBQUs5SixDQUFDLEdBQzlDaVIsRUFBUzVFLEtBQUs2RSxFQUFTUCxFQUFRM1EsR0FBSUEsRUFBRzJRLENBQU8sRUFFL0MsT0FBT25SLElBQ1QsRUFTQTJSLFdBQVksU0FBU0MsR0FDbkIsT0FBb0IsU0FBVEEsRUFDRjVSLEtBQUswUSxTQUFTclEsT0FBTyxFQUV2QkwsS0FBSzBRLFNBQVNMLE9BQU8sU0FBU3dCLEdBQ25DLE9BQU9BLEVBQUVELE9BQVNBLENBQ3BCLENBQUMsQ0FDSCxFQU9BMVIsS0FBTSxTQUFVK1EsR0FDZCxPQUFPalIsS0FBSzBRLFNBQVNPLEVBQ3ZCLEVBTUFhLFFBQVMsV0FDUCxPQUFnQyxJQUF6QjlSLEtBQUswUSxTQUFTcFEsTUFDdkIsRUFNQXlSLEtBQU0sV0FDSixPQUFPL1IsS0FBSzBRLFNBQVNwUSxNQUN2QixFQVFBMFIsU0FBVSxTQUFVaEIsRUFBUW5GLEdBQzFCLE1BQW9DLENBQUMsRUFBakM3TCxLQUFLMFEsU0FBUzNMLFFBQVFpTSxDQUFNLEdBR3ZCbkYsQ0FBQUEsQ0FBQUEsR0FDQTdMLEtBQUswUSxTQUFTdUIsS0FBSyxTQUFVQyxHQUNsQyxNQUErQixZQUF4QixPQUFPQSxFQUFJRixVQUEyQkUsRUFBSUYsU0FBU2hCLEVBQVEsRUFBSSxDQUN4RSxDQUFDLENBR0wsRUFNQW1CLFdBQVksV0FDVixPQUFPblMsS0FBSzBRLFNBQVMwQixPQUFPLFNBQVVDLEVBQU1sSSxHQUUxQyxPQURBa0ksR0FBUWxJLEVBQVFnSSxXQUFhaEksRUFBUWdJLFdBQVcsRUFBSSxDQUV0RCxFQUFHLENBQUMsQ0FDTixDQUNGLEVBTUEzTixFQUFPOE4sY0FBZ0IsQ0FNckJDLFlBQWEsU0FBU3BDLEdBQ3BCLElBQUssSUFBSUksS0FBUUosRUFDZm5RLEtBQUt3UyxJQUFJakMsRUFBTUosRUFBUUksRUFBSyxDQUVoQyxFQU9Ba0MsY0FBZSxTQUFTQyxFQUFRekcsR0FDMUJ5RyxDQUFBQSxHQUFVQSxDQUFBQSxFQUFPQyxZQUFnQkQsYUFBa0JsTyxFQUFPb08sVUFDNUQ1UyxLQUFLd1MsSUFBSXZHLEVBQVUsSUFBSXpILEVBQU9vTyxTQUFTRixDQUFNLENBQUMsQ0FFbEQsRUFRQUcsYUFBYyxTQUFTSCxFQUFRekcsRUFBVXdGLEdBQ25DaUIsQ0FBQUEsR0FBVUEsQ0FBQUEsRUFBTzdRLFFBQVk2USxhQUFrQmxPLEVBQU9zTyxRQUl4RHJCLEdBQVlBLEVBQVMsRUFIckJ6UixLQUFLd1MsSUFBSXZHLEVBQVUsSUFBSXpILEVBQU9zTyxRQUFRSixFQUFRakIsQ0FBUSxDQUFDLENBSzNELEVBS0FzQixXQUFZLFNBQVNiLEdBQ25CLElBQUssSUFBSTNCLEtBQVEyQixFQUNmbFMsS0FBS2dULEtBQUt6QyxFQUFNMkIsRUFBSTNCLEVBQUssQ0FFN0IsRUFTQWlDLElBQUssU0FBU1MsRUFBSzNDLEdBT2pCLE1BTm1CLFVBQWYsT0FBTzJDLEVBQ1RqVCxLQUFLK1MsV0FBV0UsQ0FBRyxFQUduQmpULEtBQUtnVCxLQUFLQyxFQUFLM0MsQ0FBSyxFQUVmdFEsSUFDVCxFQUVBZ1QsS0FBTSxTQUFTQyxFQUFLM0MsR0FDbEJ0USxLQUFLaVQsR0FBTzNDLENBQ2QsRUFRQTRDLE9BQVEsU0FBU2pILEdBQ2YsSUFBSXFFLEVBQVF0USxLQUFLbVQsSUFBSWxILENBQVEsRUFJN0IsTUFIcUIsV0FBakIsT0FBT3FFLEdBQ1R0USxLQUFLd1MsSUFBSXZHLEVBQVUsQ0FBQ3FFLENBQUssRUFFcEJ0USxJQUNULEVBT0FtVCxJQUFLLFNBQVNsSCxHQUNaLE9BQU9qTSxLQUFLaU0sRUFDZCxDQUNGLEVBR1VsSyxFQWd6QzBCbkMsRUE5eUM5Qm9DLEVBQU82RSxLQUFLN0UsS0FDWkMsRUFBUTRFLEtBQUs1RSxNQUNiQyxFQUFNMkUsS0FBSzNFLElBQ1hDLEVBQVUwRSxLQUFLRCxHQUFLLElBQ3BCeEUsRUFBUXlFLEtBQUtELEdBQUssRUFLdEJwQyxFQUFPYixLQUFPLENBU1pxRCxJQUFLLFNBQVNnRCxHQUNaLEdBQWMsSUFBVkEsRUFBZSxPQUFPLEVBTTFCLFFBSEVBLEVBRkVBLEVBQVEsRUFFRixDQUFDQSxFQUVNQSxHQUFRNUgsR0FFdkIsS0FBSyxFQUFHLEtBQUssRUFBRyxPQUFPLEVBQ3ZCLEtBQUssRUFBRyxNQUFPLENBQUMsQ0FDbEIsQ0FDQSxPQUFPeUUsS0FBS0csSUFBSWdELENBQUssQ0FDdkIsRUFTQWpELElBQUssU0FBU2lELEdBQ1osR0FBYyxJQUFWQSxFQUFlLE9BQU8sRUFDMUIsSUFBZ0NvSixFQUM1QnBKLEVBQVEsRUFFSCxDQUFDLEVBSDZCLEVBS3ZDLE9BTGlCQSxFQUFRNUgsR0FNdkIsS0FBSyxFQUFHLE9BQU9nUixFQUNmLEtBQUssRUFBRyxPQUFPLEVBQ2YsS0FBSyxFQUFHLE1BQU8sQ0FBQ0EsQ0FDbEIsQ0FDQSxPQUFPdk0sS0FBS0UsSUFBSWlELENBQUssQ0FDdkIsRUFXQXFKLGdCQUFpQixTQUFTck8sRUFBT3NMLEdBQzNCZ0QsRUFBTXRPLEVBQU1ELFFBQVF1TCxDQUFLLEVBSTdCLE1BSFksQ0FBQyxJQUFUZ0QsR0FDRnRPLEVBQU1vTSxPQUFPa0MsRUFBSyxDQUFDLEVBRWR0TyxDQUNULEVBVUF1TyxhQUFjLFNBQVNqUSxFQUFLQyxHQUMxQixPQUFPc0QsS0FBSzJNLE1BQU0zTSxLQUFLNE0sT0FBTyxHQUFLbFEsRUFBTUQsRUFBTSxFQUFFLEVBQUlBLENBQ3ZELEVBU0FFLGlCQUFrQixTQUFTa1EsR0FDekIsT0FBT0EsRUFBVXZSLENBQ25CLEVBU0F3UixpQkFBa0IsU0FBU0MsR0FDekIsT0FBT0EsRUFBVXpSLENBQ25CLEVBV0EwUixZQUFhLFNBQVNDLEVBQU9DLEVBQVFILEdBQy9CSSxFQUFXLElBQUl4UCxFQUFPeVAsTUFBTUgsRUFBTXpLLEVBQUkwSyxFQUFPMUssRUFBR3lLLEVBQU14SyxFQUFJeUssRUFBT3pLLENBQUMsRUFDbEU0SyxFQUFJMVAsRUFBT2IsS0FBS3dRLGFBQWFILEVBQVVKLENBQU8sRUFDbEQsT0FBTyxJQUFJcFAsRUFBT3lQLE1BQU1DLEVBQUU3SyxFQUFHNkssRUFBRTVLLENBQUMsRUFBRThLLFVBQVVMLENBQU0sQ0FDcEQsRUFVQUksYUFBYyxTQUFTRSxFQUFRVCxHQUM3QixJQUFJN00sRUFBTXZDLEVBQU9iLEtBQUtvRCxJQUFJNk0sQ0FBTyxFQUM3QjVNLEVBQU14QyxFQUFPYixLQUFLcUQsSUFBSTRNLENBQU8sRUFHakMsTUFBTyxDQUNMdkssRUFIT2dMLEVBQU9oTCxFQUFJckMsRUFBTXFOLEVBQU8vSyxFQUFJdkMsRUFJbkN1QyxFQUhPK0ssRUFBT2hMLEVBQUl0QyxFQUFNc04sRUFBTy9LLEVBQUl0QyxDQUlyQyxDQUNGLEVBZUFzTixhQUFjLFNBQVVDLEVBQU1DLEdBQzVCLE9BQU8sSUFBSWhRLEVBQU95UCxNQUFNTyxFQUFHbkwsRUFBSWtMLEVBQUtsTCxFQUFHbUwsRUFBR2xMLEVBQUlpTCxFQUFLakwsQ0FBQyxDQUN0RCxFQVVBbUwsd0JBQXlCLFNBQVVDLEVBQUdDLEdBQ3BDLE9BQU85TixLQUFLK04sTUFBTUYsRUFBRXJMLEVBQUlzTCxFQUFFdEwsRUFBSXFMLEVBQUVwTCxFQUFJcUwsRUFBRXJMLElBQU16QyxLQUFLZ08sTUFBTUgsRUFBRXJMLEVBQUdxTCxFQUFFcEwsQ0FBQyxFQUFJekMsS0FBS2dPLE1BQU1GLEVBQUV0TCxFQUFHc0wsRUFBRXJMLENBQUMsRUFBRSxDQUMxRixFQVFBd0wsYUFBYyxTQUFVWixHQUN0QixPQUFPLElBQUkxUCxFQUFPeVAsTUFBTUMsRUFBRTdLLEVBQUc2SyxFQUFFNUssQ0FBQyxFQUFFeUwsU0FBUyxFQUFJbE8sS0FBS2dPLE1BQU1YLEVBQUU3SyxFQUFHNkssRUFBRTVLLENBQUMsQ0FBQyxDQUNyRSxFQVVBMEwsWUFBYSxTQUFVQyxFQUFHQyxFQUFHQyxHQUN2QkMsRUFBSzVRLEVBQU9iLEtBQUsyUSxhQUFhVyxFQUFHQyxDQUFDLEVBQUdHLEVBQUs3USxFQUFPYixLQUFLMlEsYUFBYVcsRUFBR0UsQ0FBQyxFQUN2RUcsRUFBUTlRLEVBQU9iLEtBQUs4USx3QkFBd0JXLEVBQUlDLENBQUUsRUFFbERFLEVBQUsvUSxFQUFPYixLQUFLOFEsd0JBQXdCalEsRUFBT2IsS0FBS3dRLGFBQWFpQixFQUFJRSxDQUFLLEVBQUdELENBQUUsRUFFcEYsTUFBTyxDQUNMaEIsT0FBUTdQLEVBQU9iLEtBQUttUixhQUFhdFEsRUFBT2IsS0FBS3dRLGFBQWFpQixFQUZsREUsR0FBZ0IsSUFBUEMsRUFBVyxFQUFJLENBQUMsR0FBSyxDQUUyQixDQUFDLEVBQ2xFdkwsTUFBT3NMLENBQ1QsQ0FDRixFQXFCQUUsc0JBQXVCLFNBQVVDLEVBQVF0RixFQUFTdUYsR0FJdkIsU0FBckJDLEVBQStCekIsR0FDN0IsSUFBSTBCLEVBQVNqTyxFQUFLZCxLQUFLZ08sTUFBTVgsRUFBRTdLLEVBQUc2SyxFQUFFNUssQ0FBRSxFQUN0QyxPQUFPLElBQUk5RSxFQUFPeVAsTUFBTUMsRUFBRTdLLEVBQUl1TSxFQUFTQyxFQUFvQnhNLEVBQUc2SyxFQUFFNUssRUFBSXNNLEVBQVNDLEVBQW9Cdk0sQ0FBQyxDQUNwRyxDQU5KLElBQUl3TSxFQUFTLEdBQUluTyxFQUFJd0ksRUFBUTRGLFlBQWMsRUFDdkNGLEVBQXNCMUYsRUFBUTZGLGNBQzVCLElBQUl4UixFQUFPeVAsTUFBTSxFQUFJOUQsRUFBUThGLE9BQVEsRUFBSTlGLEVBQVErRixNQUFNLEVBQUksSUFBSTFSLEVBQU95UCxNQUFNLEVBQUcsQ0FBQyxFQTZDdEYsT0F4Q0l3QixFQUFPblYsUUFBVSxHQUNyQm1WLEVBQU9VLFFBQVEsU0FBVWhOLEVBQUc4SCxHQUMxQixJQWdCSTJFLEVBQ0FRLEVBakJBbkIsRUFBSSxJQUFJelEsRUFBT3lQLE1BQU05SyxFQUFFRSxFQUFHRixFQUFFRyxDQUFDLEVBYTdCK00sR0FaVSxJQUFWcEYsR0FDRmtFLEVBQUlNLEVBQU94RSxFQUFRLEdBQ25CaUUsRUFBSVEsRUFBV0MsRUFBbUJuUixFQUFPYixLQUFLMlEsYUFBYWEsRUFBR0YsQ0FBQyxDQUFDLEVBQUViLFVBQVVhLENBQUMsRUFBSVEsRUFBT0EsRUFBT25WLE9BQVMsSUFJeEc2VSxFQUZPbEUsSUFBVXdFLEVBQU9uVixPQUFTLEdBQ2pDNFUsRUFBSU8sRUFBT3hFLEVBQVEsR0FDZnlFLEVBQVdDLEVBQW1CblIsRUFBT2IsS0FBSzJRLGFBQWFZLEVBQUdELENBQUMsQ0FBQyxFQUFFYixVQUFVYSxDQUFDLEVBQUlRLEVBQU8sS0FHeEZQLEVBQUlPLEVBQU94RSxFQUFRLEdBQ2Z3RSxFQUFPeEUsRUFBUSxJQUVOek0sRUFBT2IsS0FBS3FSLFlBQVlDLEVBQUdDLEVBQUdDLENBQUMsR0FDMUNtQixFQUFpQkQsRUFBU2hDLE9BQzFCaUIsRUFBUWUsRUFBU3JNLE1BR1UsVUFBM0JtRyxFQUFRb0csaUJBQ1ZYLEVBQVMsQ0FBQ2pPLEVBQUlkLEtBQUtFLElBQUl1TyxFQUFRLENBQUMsRUFDaENjLEVBQWMsSUFBSTVSLEVBQU95UCxNQUN2QnFDLEVBQWVqTixFQUFJdU0sRUFBU0MsRUFBb0J4TSxFQUNoRGlOLEVBQWVoTixFQUFJc00sRUFBU0MsRUFBb0J2TSxDQUNsRCxFQUNJekMsS0FBS2dPLE1BQU11QixFQUFZL00sRUFBRytNLEVBQVk5TSxDQUFDLEVBQUkzQixHQUFLd0ksRUFBUXFHLG9CQU05RFosRUFBUyxDQUFDak8sRUFBSWQsS0FBSzRQLE1BQ25CTCxFQUFjLElBQUk1UixFQUFPeVAsTUFDdkJxQyxFQUFlak4sRUFBSXVNLEVBQVNDLEVBQW9CeE0sRUFDaERpTixFQUFlaE4sRUFBSXNNLEVBQVNDLEVBQW9Cdk0sQ0FDbEQsR0FDQXdNLEVBQU9yVyxLQUFLd1YsRUFBRXRFLElBQUl5RixDQUFXLENBQUMsRUFDOUJOLEVBQU9yVyxLQUFLd1YsRUFBRXlCLFNBQVNOLENBQVcsQ0FBQyxDQUNyQyxDQUFDLEVBQ01OLENBQ1QsRUFXQWpTLGVBQWdCLFNBQVNzRixFQUFHd04sRUFBR0MsR0FDN0IsT0FBSUEsRUFDSyxJQUFJcFMsRUFBT3lQLE1BQ2hCMEMsRUFBRSxHQUFLeE4sRUFBRUUsRUFBSXNOLEVBQUUsR0FBS3hOLEVBQUVHLEVBQ3RCcU4sRUFBRSxHQUFLeE4sRUFBRUUsRUFBSXNOLEVBQUUsR0FBS3hOLEVBQUVHLENBQ3hCLEVBRUssSUFBSTlFLEVBQU95UCxNQUNoQjBDLEVBQUUsR0FBS3hOLEVBQUVFLEVBQUlzTixFQUFFLEdBQUt4TixFQUFFRyxFQUFJcU4sRUFBRSxHQUM1QkEsRUFBRSxHQUFLeE4sRUFBRUUsRUFBSXNOLEVBQUUsR0FBS3hOLEVBQUVHLEVBQUlxTixFQUFFLEVBQzlCLENBQ0YsRUFRQUUsMEJBQTJCLFNBQVNwQixFQUFRcUIsR0FDMUMsR0FBSUEsRUFDRixJQUFLLElBQUl0VyxFQUFJLEVBQUdBLEVBQUlpVixFQUFPblYsT0FBUUUsQ0FBQyxHQUNsQ2lWLEVBQU9qVixHQUFLZ0UsRUFBT2IsS0FBS0UsZUFBZTRSLEVBQU9qVixHQUFJc1csQ0FBUyxFQUcvRCxJQUFJQyxFQUFVLENBQUN0QixFQUFPLEdBQUdwTSxFQUFHb00sRUFBTyxHQUFHcE0sRUFBR29NLEVBQU8sR0FBR3BNLEVBQUdvTSxFQUFPLEdBQUdwTSxHQUM1RDJOLEVBQU94UyxFQUFPYixLQUFLcUIsTUFBTTFCLElBQUl5VCxDQUFPLEVBRXBDRSxFQURPelMsRUFBT2IsS0FBS3FCLE1BQU16QixJQUFJd1QsQ0FBTyxFQUNyQkMsRUFDZkUsRUFBVSxDQUFDekIsRUFBTyxHQUFHbk0sRUFBR21NLEVBQU8sR0FBR25NLEVBQUdtTSxFQUFPLEdBQUduTSxFQUFHbU0sRUFBTyxHQUFHbk0sR0FDNUQ2TixFQUFPM1MsRUFBT2IsS0FBS3FCLE1BQU0xQixJQUFJNFQsQ0FBTyxFQUl4QyxNQUFPLENBQ0xFLEtBQU1KLEVBQ05LLElBQUtGLEVBQ0xGLE1BQU9BLEVBQ1BLLE9BUFM5UyxFQUFPYixLQUFLcUIsTUFBTXpCLElBQUkyVCxDQUFPLEVBQ3BCQyxDQU9wQixDQUNGLEVBU0FJLGdCQUFpQixTQUFTWixHQUN4QixJQUFJakMsRUFBSSxHQUFLaUMsRUFBRSxHQUFLQSxFQUFFLEdBQUtBLEVBQUUsR0FBS0EsRUFBRSxJQUNoQ2EsRUFBSSxDQUFDOUMsRUFBSWlDLEVBQUUsR0FBSSxDQUFDakMsRUFBSWlDLEVBQUUsR0FBSSxDQUFDakMsRUFBSWlDLEVBQUUsR0FBSWpDLEVBQUlpQyxFQUFFLElBQzNDOUUsRUFBSXJOLEVBQU9iLEtBQUtFLGVBQWUsQ0FBRXdGLEVBQUdzTixFQUFFLEdBQUlyTixFQUFHcU4sRUFBRSxFQUFHLEVBQUdhLEVBQUcsRUFBSSxFQUdoRSxPQUZBQSxFQUFFLEdBQUssQ0FBQzNGLEVBQUV4SSxFQUNWbU8sRUFBRSxHQUFLLENBQUMzRixFQUFFdkksRUFDSGtPLENBQ1QsRUFVQTFULFFBQVMsU0FBUzJULEVBQVFDLEdBQ3hCLE9BQU9DLFdBQVdDLE9BQU9ILENBQU0sRUFBRTNULFFBQVE0VCxDQUFjLENBQUMsQ0FDMUQsRUFTQUcsVUFBVyxTQUFTdkgsRUFBT3dILEdBQ3pCLElBQUlDLEVBQU8sV0FBV0MsS0FBSzFILENBQUssRUFDNUJtSCxFQUFTRSxXQUFXckgsQ0FBSyxFQUk3QixPQUhLd0gsRUFBQUEsR0FDUXRULEVBQU95VCxLQUFLQyxzQkFFakJILEVBQUssSUFDWCxJQUFLLEtBQ0gsT0FBT04sRUFBU2pULEVBQU80SixJQUFNLEtBRS9CLElBQUssS0FDSCxPQUFPcUosRUFBU2pULEVBQU80SixJQUFNLEtBRS9CLElBQUssS0FDSCxPQUFPcUosRUFBU2pULEVBQU80SixJQUV6QixJQUFLLEtBQ0gsT0FBT3FKLEVBQVNqVCxFQUFPNEosSUFBTSxHQUUvQixJQUFLLEtBQ0gsT0FBT3FKLEVBQVNqVCxFQUFPNEosSUFBTSxHQUFLLEdBRXBDLElBQUssS0FDSCxPQUFPcUosRUFBU0ssRUFFbEIsUUFDRSxPQUFPTCxDQUNYLENBQ0YsRUFRQVUsY0FBZSxXQUNiLE1BQU8sRUFDVCxFQVNBQyxTQUFVLFNBQVN4RyxFQUFNeUcsR0FHdkIsT0FEQXpHLEVBQU9wTixFQUFPYixLQUFLMlUsT0FBT0MsU0FBUzNHLEVBQUs0RyxPQUFPLENBQUMsRUFBRUMsWUFBWSxFQUFJN0csRUFBS3BQLE1BQU0sQ0FBQyxDQUFDLEVBQ3hFZ0MsRUFBT2IsS0FBSytVLGlCQUFpQkwsQ0FBUyxFQUFFekcsRUFDakQsRUFRQStHLGlCQUFrQixTQUFTL0csR0FDekIsSUFBSWdILEVBQWEsQ0FDZixzQkFDQSxRQUNBLEtBQ0EsU0FFRixPQUFRaEgsR0FDTixJQUFLLGlCQUNIZ0gsRUFBYUEsRUFBV3ZZLE9BQU8sQ0FBQyxLQUFNLEtBQU0sS0FBTSxLQUFNLGdCQUFpQixvQkFBb0IsRUFDN0YsTUFDRixJQUFLLGlCQUNIdVksRUFBYUEsRUFBV3ZZLE9BQU8sQ0FBQyxnQkFBaUIsb0JBQXFCLEtBQU0sS0FBTSxJQUFLLEtBQU0sS0FBTSxLQUFLLEVBQ3hHLE1BQ0YsSUFBSyxPQUNIdVksRUFBYUEsRUFBV3ZZLE9BQU8sQ0FBQyxTQUFVLGFBQWMsZUFBZSxDQUUzRSxDQUNBLE9BQU91WSxDQUNULEVBUUFGLGlCQUFrQixTQUFTTCxHQUN6QixHQUFJLENBQUNBLEVBQ0gsT0FBTzdULEVBT1QsSUFKQSxJQUFJcVUsRUFBUVIsRUFBVVMsTUFBTSxHQUFHLEVBQzNCeE8sRUFBTXVPLEVBQU12WSxPQUNaNFIsRUFBTW5RLEdBQVV5QyxFQUFPeUksT0FFdEJ6TSxFQUFJLEVBQUdBLEVBQUk4SixFQUFLLEVBQUU5SixFQUNyQjBSLEVBQU1BLEVBQUkyRyxFQUFNclksSUFHbEIsT0FBTzBSLENBQ1QsRUFVQTZHLFVBQVcsU0FBU0MsRUFBS3ZILEVBQVVDLEVBQVN1SCxHQUMxQyxJQUtJQyxFQUdBQyxFQVJDSCxJQUtERSxFQUFNMVUsRUFBT2IsS0FBS3lWLFlBQVksR0FROUJDLE9BTEFGLEVBQWlCLFdBQ25CMUgsR0FBWUEsRUFBUzVFLEtBQUs2RSxFQUFTd0gsRUFBSyxFQUFLLEVBQzdDQSxFQUFNQSxFQUFJRyxPQUFTSCxFQUFJSSxRQUFVLElBQ25DLEVBSUFKLEVBQUlJLFFBQVUsV0FDWjlVLEVBQU91SSxJQUFJLGlCQUFtQm1NLEVBQUlLLEdBQUcsRUFDckM5SCxHQUFZQSxFQUFTNUUsS0FBSzZFLEVBQVMsS0FBTSxFQUFJLEVBQzdDd0gsRUFBTUEsRUFBSUcsT0FBU0gsRUFBSUksUUFBVSxJQUNuQyxFQU80QixJQUF4Qk4sRUFBSWpVLFFBQVEsTUFBTSxHQUFsQmlVLE1BQ0ZDLElBRUFDLEVBQUlELFlBQWNBLEdBTVEsbUJBQXhCRCxFQUFJUSxVQUFVLEVBQUUsRUFBRSxJQUNwQk4sRUFBSUcsT0FBUyxLQUNiN1UsRUFBT2IsS0FBSzhWLGVBQWVQLEVBQUtDLENBQWMsR0FHaERELEVBQUlLLElBQU1QLEdBdkNSdkgsR0FBWUEsRUFBUzVFLEtBQUs2RSxFQUFTc0gsQ0FBRyxDQXdDMUMsRUFTQVMsZUFBZ0IsU0FBU1AsRUFBS0MsR0FDNUIsSUFBSU8sRUFBTWxWLEVBQU93SSxTQUFTMk0sY0FBYyxLQUFLLEVBQzdDRCxFQUFJRSxNQUFNM0MsTUFBUXlDLEVBQUlFLE1BQU10QyxPQUFTLE1BQ3JDb0MsRUFBSUUsTUFBTXhDLEtBQU9zQyxFQUFJRSxNQUFNdkMsSUFBTSxRQUNqQ3FDLEVBQUlFLE1BQU1DLFNBQVcsV0FDckJILEVBQUlJLFlBQVlaLENBQUcsRUFDbkIxVSxFQUFPd0ksU0FBUytNLGNBQWMsTUFBTSxFQUFFRCxZQUFZSixDQUFHLEVBTXJEUixFQUFJRyxPQUFTLFdBQ1hGLEVBQWUsRUFDZk8sRUFBSU0sV0FBV0MsWUFBWVAsQ0FBRyxFQUM5QkEsRUFBTSxJQUNSLENBQ0YsRUFZQVEsZUFBZ0IsU0FBUy9JLEVBQVNNLEVBQVU0RyxFQUFXOEIsR0FHckQsSUFBSUMsRUFBbUIsR0FDbkJDLEVBQW1CLEVBQ25CQyxHQUpKbkosRUFBVUEsR0FBVyxJQUlTN1EsT0FFOUIsU0FBU2lhLElBQ0gsRUFBRUYsSUFBcUJDLEdBQ3pCN0ksR0FBWUEsRUFBUzJJLEVBQWlCL0osT0FBTyxTQUFTNkIsR0FFcEQsT0FBT0EsQ0FDVCxDQUFDLENBQUMsQ0FFTixDQUVLb0ksRUFLTG5KLEVBQVFnRixRQUFRLFNBQVV0RSxFQUFHWixHQUV0QlksR0FBTUEsRUFBRUQsS0FJRHBOLEVBQU9iLEtBQUt5VSxTQUFTdkcsRUFBRUQsS0FBTXlHLENBQVMsRUFDNUNtQyxXQUFXM0ksRUFBRyxTQUFVSyxFQUFLdUksR0FDakNBLElBQVVMLEVBQWlCbkosR0FBU2lCLEdBQ3BDaUksR0FBV0EsRUFBUXRJLEVBQUdLLEVBQUt1SSxDQUFLLEVBQ2hDRixFQUFTLENBQ1gsQ0FBQyxFQVJDQSxFQUFTLENBU2IsQ0FBQyxFQWhCQzlJLEdBQVlBLEVBQVMySSxDQUFnQixDQWlCekMsRUFTQU0sd0JBQXlCLFNBQVUxSixFQUFRVSxFQUFTRCxHQUNsRCxJQUFJa0osRUFBZW5XLEVBQU9vVyxPQUFPQyxjQUFjeEssT0FBTyxTQUFVNEMsR0FBTyxNQUFPLENBQUMsQ0FBQ2pDLEVBQU9pQyxFQUFNLENBQUMsRUFDOUZ6TyxFQUFPYixLQUFLdVcsZUFBZVMsRUFBYTFhLElBQUksU0FBVWdULEdBQU8sT0FBT2pDLEVBQU9pQyxFQUFNLENBQUMsRUFBRyxTQUFVNkgsR0FDN0YsSUFBSTNKLEVBQVUsR0FDZHdKLEVBQWF4RSxRQUFRLFNBQVVsRCxFQUFLaEMsR0FDbENFLEVBQVE4QixHQUFPNkgsRUFBYTdKLEdBQzVCUyxJQUFZQSxFQUFRdUIsR0FBTzZILEVBQWE3SixHQUMxQyxDQUFDLEVBQ0RRLEdBQVlBLEVBQVNOLENBQU8sQ0FDOUIsQ0FBQyxDQUNILEVBVUE0SixnQkFBaUIsU0FBU0MsRUFBVXZKLEdBR2xDLFNBQVM4SSxJQUNILEVBQUVVLElBQXNCQyxHQUMxQnpKLEdBQVlBLEVBQVMwSixDQUFpQixDQUUxQyxDQUVBLElBQUlBLEVBQW9CLEdBQ3BCRixFQUFvQixFQUNwQkMsR0FWSkYsRUFBV0EsR0FBWSxJQVVJMWEsT0FFdEI0YSxFQUtMRixFQUFTN0UsUUFBUSxTQUFVaE4sRUFBRzhILEdBQ3hCOUgsR0FBS0EsRUFBRXRILE9BQ1QsSUFBSTJDLEVBQU9zTyxRQUFRM0osRUFBRyxTQUFTaVMsR0FDN0JELEVBQWtCbEssR0FBU21LLEVBQzNCYixFQUFTLENBQ1gsQ0FBQyxHQUdEWSxFQUFrQmxLLEdBQVM5SCxFQUMzQm9SLEVBQVMsRUFFYixDQUFDLEVBZkM5SSxHQUFZQSxFQUFTMEosQ0FBaUIsQ0FnQjFDLEVBV0FFLGlCQUFrQixTQUFTQyxFQUFVbkwsRUFBU2pHLEdBRTVDLE9BQUlvUixHQUFnQyxJQUFwQkEsRUFBU2hiLFFBQ0gsU0FBVDRKLElBQ1RvUixFQUFTLEdBQUdDLFdBQWFyUixHQUVwQm9SLEVBQVMsS0FFZG5MLElBQ0VBLEVBQVE4RyxPQUFTOUcsRUFBUW1ILE9BQzNCbkgsRUFBUXFMLFlBQWMsQ0FDcEJuUyxFQUFHOEcsRUFBUThHLE1BQVEsRUFDbkIzTixFQUFHNkcsRUFBUW1ILE9BQVMsQ0FDdEIsR0FHQSxPQUFPbkgsRUFBUThHLE1BQ2YsT0FBTzlHLEVBQVFtSCxTQUduQnRHLEVBQVMsSUFBSXhNLEVBQU9pWCxNQUFNSCxFQUFVbkwsQ0FBTyxFQUN2QixTQUFUakcsSUFDVDhHLEVBQU91SyxXQUFhclIsR0FFZjhHLEVBQ1QsRUFVQTBLLHVCQUF3QixTQUFTN1osRUFBUStKLEVBQWErUCxHQUNwRCxHQUFJQSxHQUFjM1AsTUFBTTRQLFFBQVFELENBQVUsRUFDeEMsSUFBSyxJQUFJbmIsRUFBSSxFQUFHOEosRUFBTXFSLEVBQVdyYixPQUFRRSxFQUFJOEosRUFBSzlKLENBQUMsR0FDN0NtYixFQUFXbmIsS0FBTXFCLElBQ25CK0osRUFBWStQLEVBQVduYixJQUFNcUIsRUFBTzhaLEVBQVduYixJQUl2RCxFQVFBcWIsb0JBQXFCLFdBQ25CLE9BQU9yWCxFQUFPd0ksU0FBUzJNLGNBQWMsUUFBUSxDQUMvQyxFQVNBbUMsa0JBQW1CLFNBQVNDLEdBQzFCLElBQUlDLEVBQVl4WCxFQUFPYixLQUFLa1ksb0JBQW9CLEVBSWhELE9BSEFHLEVBQVUvRSxNQUFROEUsRUFBTzlFLE1BQ3pCK0UsRUFBVTFFLE9BQVN5RSxFQUFPekUsT0FDMUIwRSxFQUFVQyxXQUFXLElBQUksRUFBRUMsVUFBVUgsRUFBUSxFQUFHLENBQUMsRUFDMUNDLENBQ1QsRUFXQUcsVUFBVyxTQUFTQyxFQUFVQyxFQUFRQyxHQUNwQyxPQUFPRixFQUFTRCxVQUFVLFNBQVdFLEVBQVFDLENBQU8sQ0FDdEQsRUFRQWxELFlBQWEsV0FDWCxPQUFPNVUsRUFBT3dJLFNBQVMyTSxjQUFjLEtBQUssQ0FDNUMsRUFXQTRDLDBCQUEyQixTQUFTN0gsRUFBR0MsRUFBRzZILEdBRXhDLE1BQU8sQ0FDTDlILEVBQUUsR0FBS0MsRUFBRSxHQUFLRCxFQUFFLEdBQUtDLEVBQUUsR0FDdkJELEVBQUUsR0FBS0MsRUFBRSxHQUFLRCxFQUFFLEdBQUtDLEVBQUUsR0FDdkJELEVBQUUsR0FBS0MsRUFBRSxHQUFLRCxFQUFFLEdBQUtDLEVBQUUsR0FDdkJELEVBQUUsR0FBS0MsRUFBRSxHQUFLRCxFQUFFLEdBQUtDLEVBQUUsR0FDdkI2SCxFQUFRLEVBQUk5SCxFQUFFLEdBQUtDLEVBQUUsR0FBS0QsRUFBRSxHQUFLQyxFQUFFLEdBQUtELEVBQUUsR0FDMUM4SCxFQUFRLEVBQUk5SCxFQUFFLEdBQUtDLEVBQUUsR0FBS0QsRUFBRSxHQUFLQyxFQUFFLEdBQUtELEVBQUUsR0FFOUMsRUFTQStILFlBQWEsU0FBUy9ILEdBQ3BCLElBQUkxSyxFQUFRL0gsRUFBTXlTLEVBQUUsR0FBSUEsRUFBRSxFQUFFLEVBQ3hCZ0ksRUFBUXhhLEVBQUl3UyxFQUFFLEdBQUksQ0FBQyxFQUFJeFMsRUFBSXdTLEVBQUUsR0FBSSxDQUFDLEVBQ2xDdUIsRUFBU2pVLEVBQUswYSxDQUFLLEVBQ25CeEcsR0FBVXhCLEVBQUUsR0FBS0EsRUFBRSxHQUFLQSxFQUFFLEdBQUtBLEVBQUUsSUFBTXVCLEVBQ3ZDMEcsRUFBUTFhLEVBQU15UyxFQUFFLEdBQUtBLEVBQUUsR0FBS0EsRUFBRSxHQUFLQSxFQUFHLEdBQUlnSSxDQUFLLEVBQ25ELE1BQU8sQ0FDTDFTLE1BQU9BLEVBQVE3SCxFQUNmOFQsT0FBUUEsRUFDUkMsT0FBUUEsRUFDUnlHLE1BQU9BLEVBQVF4YSxFQUNmeWEsTUFBTyxFQUNQQyxXQUFZbkksRUFBRSxHQUNkb0ksV0FBWXBJLEVBQUUsRUFDaEIsQ0FDRixFQVlBcUksaUJBQWtCLFNBQVM1TSxHQUN6QixJQUlJbkosRUFKSixPQUFLbUosRUFBUW5HLE9BR1RnVCxFQUFReFksRUFBT2IsS0FBS0gsaUJBQWlCMk0sRUFBUW5HLEtBQUssRUFHL0MsQ0FGSGhELEVBQU14QyxFQUFPYixLQUFLcUQsSUFBSWdXLENBQUssRUFDM0JqVyxFQUFNdkMsRUFBT2IsS0FBS29ELElBQUlpVyxDQUFLLEVBQ2IsQ0FBQ2pXLEVBQUtDLEVBQUssRUFBRyxJQUx2QnhDLEVBQU9rSyxRQUFRck8sT0FBTyxDQU1qQyxFQW1CQTRjLHFCQUFzQixTQUFTOU0sR0FDN0IsSUFBSThGLEVBQW1DLFNBQW5COUYsRUFBUThGLE9BQXlCLEVBQUk5RixFQUFROEYsT0FDN0RDLEVBQW1DLFNBQW5CL0YsRUFBUStGLE9BQXlCLEVBQUkvRixFQUFRK0YsT0FDN0RnSCxFQUFjLENBQ1ovTSxFQUFRZ04sTUFBUSxDQUFDbEgsRUFBU0EsRUFDMUIsRUFDQSxFQUNBOUYsRUFBUWlOLE1BQVEsQ0FBQ2xILEVBQVNBLEVBQzFCLEVBQ0EsR0FDRm5CLEVBQVd2USxFQUFPYixLQUFLNFksMEJBQ3ZCL1ksRUFBbUJnQixFQUFPYixLQUFLSCxpQkFhbkMsT0FaSTJNLEVBQVF3TSxRQUNWTyxFQUFjbkksRUFDWm1JLEVBQ0EsQ0FBQyxFQUFHLEVBQUdyVyxLQUFLd1csSUFBSTdaLEVBQWlCMk0sRUFBUXdNLEtBQUssQ0FBQyxFQUFHLEdBQ2xELEVBQUksR0FHTk8sRUFERS9NLEVBQVF5TSxNQUNJN0gsRUFDWm1JLEVBQ0EsQ0FBQyxFQUFHclcsS0FBS3dXLElBQUk3WixFQUFpQjJNLEVBQVF5TSxLQUFLLENBQUMsRUFBRyxFQUFHLEdBQ2xELEVBQUksRUFFRE0sQ0FDVCxFQW9CQUksY0FBZSxTQUFTbk4sR0FDdEIsSUFBSW9OLEVBQVMsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHcE4sRUFBUTBNLFlBQWMsRUFBRzFNLEVBQVEyTSxZQUFjLEdBQ3JFL0gsRUFBV3ZRLEVBQU9iLEtBQUs0WSwwQkFRM0IsT0FQSXBNLEVBQVFuRyxRQUNWdVQsRUFBU3hJLEVBQVN3SSxFQUFRL1ksRUFBT2IsS0FBS29aLGlCQUFpQjVNLENBQU8sQ0FBQyxHQUkvRG9OLEVBRnFCLElBQW5CcE4sRUFBUThGLFFBQW1DLElBQW5COUYsRUFBUStGLFFBQ2hDL0YsRUFBUXdNLE9BQVN4TSxFQUFReU0sT0FBU3pNLEVBQVFnTixPQUFTaE4sRUFBUWlOLE1BQ3BEckksRUFBU3dJLEVBQVEvWSxFQUFPYixLQUFLc1oscUJBQXFCOU0sQ0FBTyxDQUFDLEVBRTlEb04sQ0FDVCxFQVFBQyxxQkFBc0IsU0FBVUMsR0FDOUJBLEVBQU94SCxPQUFTLEVBQ2hCd0gsRUFBT3ZILE9BQVMsRUFDaEJ1SCxFQUFPZCxNQUFRLEVBQ2ZjLEVBQU9iLE1BQVEsRUFDZmEsRUFBT04sTUFBUSxHQUNmTSxFQUFPTCxNQUFRLEdBQ2ZLLEVBQU9DLE9BQU8sQ0FBQyxDQUNqQixFQVNBQyxvQkFBcUIsU0FBVUYsR0FDN0IsTUFBTyxDQUNMeEgsT0FBUXdILEVBQU94SCxPQUNmQyxPQUFRdUgsRUFBT3ZILE9BQ2Z5RyxNQUFPYyxFQUFPZCxNQUNkQyxNQUFPYSxFQUFPYixNQUNkNVMsTUFBT3lULEVBQU96VCxNQUNkb04sS0FBTXFHLEVBQU9yRyxLQUNiK0YsTUFBT00sRUFBT04sTUFDZEMsTUFBT0ssRUFBT0wsTUFDZC9GLElBQUtvRyxFQUFPcEcsR0FDZCxDQUNGLEVBVUF1RyxjQUFlLFNBQVNDLEVBQUt4VSxFQUFHQyxFQUFHd1UsR0FJakIsRUFBWkEsSUFDTUEsRUFBSnpVLEVBQ0ZBLEdBQUt5VSxFQUdMelUsRUFBSSxFQUVFeVUsRUFBSnhVLEVBQ0ZBLEdBQUt3VSxFQUdMeFUsRUFBSSxHQVNSLElBTEEsSUFBSXlVLEVBQWlCLEdBQ2pCQyxFQUFZSCxFQUFJSSxhQUFhNVUsRUFBR0MsRUFBZ0IsRUFBWndVLEdBQWtCLEVBQWdCLEVBQVpBLEdBQWtCLENBQUMsRUFDN0VJLEVBQUlGLEVBQVV0YyxLQUFLcEIsT0FHbEJFLEVBQUksRUFBR0EsRUFBSTBkLEdBR1MsS0FEdkJILEVBRE9DLEVBQVV0YyxLQUFLbEIsSUFDRyxHQUZSQSxHQUFLLEdBVXhCLE9BRkF3ZCxFQUFZLEtBRUxELENBQ1QsRUFPQUksa0NBQW1DLFNBQVNDLEdBQzFDLElBQzZDQyxFQUR6Q0MsRUFBYyxPQUNkQyxFQUFtQkgsRUFBVXRGLE1BQU0sR0FBRyxFQWUxQyxPQWJJeUYsR0FBb0JBLEVBQWlCamUsU0FFbkIsVUFEcEJnZSxFQUFjQyxFQUFpQkMsSUFBSSxJQUNXLFVBQWhCRixHQUM1QkQsRUFBUUMsRUFDUkEsRUFBYyxRQUVQQyxFQUFpQmplLFNBQ3hCK2QsRUFBUUUsRUFBaUJDLElBQUksSUFNMUIsQ0FDTEYsWUFBYUEsRUFDYkcsT0FKaUIsU0FBVkosRUFBbUJBLEVBQU03YixNQUFNLEVBQUcsQ0FBQyxFQUFJLE9BSzlDa2MsT0FKaUIsU0FBVkwsRUFBbUJBLEVBQU03YixNQUFNLEVBQUcsQ0FBQyxFQUFJLE1BS2hELENBQ0YsRUFjQW1jLHFCQUFzQixTQUFTQyxJQUM3QkEsR0FBY0EsR0FBYyxJQUFJQyxZQUFZLEdBSW5DcmEsRUFBT3VLLGdCQUFnQjZQLElBQzlCLE9BQU9wYSxFQUFPdUssZ0JBQWdCNlAsR0FIOUJwYSxFQUFPdUssZ0JBQWtCLEVBSzdCLEVBV0ErUCxnQkFBaUIsU0FBU0MsRUFBSUMsR0FDeEJDLEVBQWFwWSxLQUFLN0UsS0FBS2dkLEVBQWNELENBQUUsRUFDdkNHLEVBQWlCclksS0FBSzJNLE1BQU13TCxFQUFjQyxDQUFVLEVBQ3hELE1BQU8sQ0FBRTVWLEVBQUd4QyxLQUFLMk0sTUFBTXlMLENBQVUsRUFBRzNWLEVBQUc0VixDQUFlLENBQ3hELEVBRUFDLFNBQVUsU0FBUzdiLEVBQUtnTixFQUFPL00sR0FDN0IsT0FBT3NELEtBQUt0RCxJQUFJRCxFQUFLdUQsS0FBS3ZELElBQUlnTixFQUFPL00sQ0FBRyxDQUFDLENBQzNDLEVBZUE2YixlQUFnQixTQUFTdmQsRUFBUStKLEdBQy9CLE9BQU8vRSxLQUFLdkQsSUFBSXNJLEVBQVlxTCxNQUFRcFYsRUFBT29WLE1BQU9yTCxFQUFZMEwsT0FBU3pWLEVBQU95VixNQUFNLENBQ3RGLEVBZUErSCxpQkFBa0IsU0FBU3hkLEVBQVErSixHQUNqQyxPQUFPL0UsS0FBS3RELElBQUlxSSxFQUFZcUwsTUFBUXBWLEVBQU9vVixNQUFPckwsRUFBWTBMLE9BQVN6VixFQUFPeVYsTUFBTSxDQUN0RixFQVNBZ0ksWUFBYSxTQUFTeEksR0FDcEIsTUFBTyxVQUFZQSxFQUFVN1csSUFBSSxTQUFTcVEsR0FDeEMsT0FBTzlMLEVBQU9iLEtBQUtHLFFBQVF3TSxFQUFPOUwsRUFBT29XLE9BQU8yRSxtQkFBbUIsQ0FDckUsQ0FBQyxFQUFFaGYsS0FBSyxHQUFHLEVBQUksR0FDakIsRUFjQWlmLDBCQUEyQixTQUFTeE8sRUFBUThGLEdBQ3RDMkksRUFBV2piLEVBQU9iLEtBQUs0VCxnQkFBZ0JULENBQVMsRUFDaEQ0SSxFQUFpQmxiLEVBQU9iLEtBQUs0WSwwQkFBMEJrRCxFQUFVek8sRUFBTzJPLGNBQWMsQ0FBQyxFQUMzRm5iLEVBQU9iLEtBQUtpYyx1QkFBdUI1TyxFQUFRME8sQ0FBYyxDQUMzRCxFQVdBRyxxQkFBc0IsU0FBUzdPLEVBQVE4RixHQUNyQ3RTLEVBQU9iLEtBQUtpYyx1QkFDVjVPLEVBQ0F4TSxFQUFPYixLQUFLNFksMEJBQTBCekYsRUFBVzlGLEVBQU8yTyxjQUFjLENBQUMsQ0FDekUsQ0FDRixFQVFBQyx1QkFBd0IsU0FBUzVPLEVBQVE4RixHQUN2QyxJQUFJM0csRUFBVTNMLEVBQU9iLEtBQUs4WSxZQUFZM0YsQ0FBUyxFQUMzQ2dKLEVBQVMsSUFBSXRiLEVBQU95UCxNQUFNOUQsRUFBUTBNLFdBQVkxTSxFQUFRMk0sVUFBVSxFQUNwRTlMLEVBQU9tTSxNQUFRLEdBQ2ZuTSxFQUFPb00sTUFBUSxHQUNmcE0sRUFBT3dCLElBQUksU0FBVXJDLEVBQVE4RixNQUFNLEVBQ25DakYsRUFBT3dCLElBQUksU0FBVXJDLEVBQVErRixNQUFNLEVBQ25DbEYsRUFBTzJMLE1BQVF4TSxFQUFRd00sTUFDdkIzTCxFQUFPNEwsTUFBUXpNLEVBQVF5TSxNQUN2QjVMLEVBQU9oSCxNQUFRbUcsRUFBUW5HLE1BQ3ZCZ0gsRUFBTytPLG9CQUFvQkQsRUFBUSxTQUFVLFFBQVEsQ0FDdkQsRUFrQkFFLG1CQUFvQixTQUFTL0ksRUFBT0ssRUFBUW5ILEdBQ3RDOFAsR0FBZSxFQUFHQyxHQUFnQixFQUNsQ3pLLEVBQVMsQ0FDUCxDQUNFcE0sRUFBRyxDQUFDNFcsRUFDSjNXLEVBQUcsQ0FBQzRXLENBQ04sRUFDQSxDQUNFN1csRUFBRzRXLEVBQ0gzVyxFQUFHLENBQUM0VyxDQUNOLEVBQ0EsQ0FDRTdXLEVBQUcsQ0FBQzRXLEVBQ0ozVyxFQUFHNFcsQ0FDTCxFQUNBLENBQ0U3VyxFQUFHNFcsRUFDSDNXLEVBQUc0VyxDQUNMLEdBQ0ZDLEVBQWtCM2IsRUFBT2IsS0FBS3NaLHFCQUFxQjlNLENBQU8sRUFDMURpUSxFQUFPNWIsRUFBT2IsS0FBS2tULDBCQUEwQnBCLEVBQVEwSyxDQUFlLEVBQ3hFLE1BQU8sQ0FDTDlXLEVBQUcrVyxFQUFLbkosTUFDUjNOLEVBQUc4VyxFQUFLOUksTUFDVixDQUNGLEVBcUJBK0ksZUFBZ0IsU0FBVW5WLEVBQUlDLEdBQzVCLElBQUl1SixFQUFJeEosRUFBSXlKLEVBQUl4SixFQWVac1UsR0FkQS9LLEVBQUUrSyxVQUFZLENBQUM5SyxFQUFFOEssV0FFbkIvSyxFQUFJdkosRUFDSndKLEVBQUl6SixHQUdOMUcsRUFBT2IsS0FBS2ljLHVCQUNWakwsRUFDQW5RLEVBQU9iLEtBQUs0WSwwQkFDVi9YLEVBQU9iLEtBQUs0VCxnQkFBZ0I3QyxFQUFFNEwsb0JBQW9CLENBQUMsRUFDbkQzTCxFQUFFMkwsb0JBQW9CLENBQ3hCLENBQ0YsRUFFZTVMLEVBQUUrSyxVQUFZOUssRUFBRThLLFVBSy9CLE9BSklBLElBRUYvSyxFQUFFK0ssU0FBVzlLLEVBQUU4SyxTQUFXLElBRXJCLElBQUlqYixFQUFPaVgsTUFBTSxDQUFDL0csR0FBSSxDQUFFNkwsU0FBVTVMLEVBQUc4SyxTQUFVQSxDQUFTLENBQUMsQ0FDbEUsRUFTQWUsZ0JBQWlCLFNBQVNDLEVBQVdDLEVBQVdDLEdBRTlDLE9BREFBLEVBQWVBLEdBQWdCLEdBQ3ZCRixFQUFVeGIsT0FBU3liLEVBQVV6YixNQUM3QndiLEVBQVVHLFNBQVdGLEVBQVVFLFFBQy9CSCxFQUFVMUssY0FBZ0IySyxFQUFVM0ssYUFDcEMwSyxFQUFVM0ksV0FBYTRJLEVBQVU1SSxVQUNqQzJJLEVBQVU3QixhQUFlOEIsRUFBVTlCLFlBQ25DNkIsRUFBVUksYUFBZUgsRUFBVUcsWUFDbkNKLEVBQVVLLFlBQWNKLEVBQVVJLFdBQ2xDTCxFQUFVTSxTQUFXTCxFQUFVSyxRQUM5QkosSUFDRUYsRUFBVU8sV0FBYU4sRUFBVU0sVUFDbENQLEVBQVVRLFlBQWNQLEVBQVVPLFdBQ2xDUixFQUFVUyxjQUFnQlIsRUFBVVEsWUFDaEQsRUFXQUMsY0FBZSxTQUFTQyxFQUFRQyxHQU05QixJQUpBLElBQUlELEVBQVM1YyxFQUFPYixLQUFLcU4sT0FBT2hPLE1BQU1vZSxFQUFRLEVBQUksRUFDOUNFLEVBQVlELEVBQUt2SSxNQUFNLElBQUksRUFDM0J5SSxFQUFZLENBQUMsRUFBR2QsRUFBWSxHQUFJZSxFQUFjLEdBRXpDaGhCLEVBQUksRUFBR0EsRUFBSThnQixFQUFVaGhCLE9BQVFFLENBQUMsR0FDckMsR0FBSzRnQixFQUFPNWdCLEdBTVosSUFBSyxJQUFJaWhCLEVBQUksRUFBR0EsRUFBSUgsRUFBVTlnQixHQUFHRixPQUFRbWhCLENBQUMsR0FBSSxDQUM1Q0YsQ0FBUyxHQUNULElBQUliLEVBQVlVLEVBQU81Z0IsR0FBR2loQixHQUV0QmYsSUFDaUJsYyxFQUFPYixLQUFLNmMsZ0JBQWdCQyxFQUFXQyxFQUFXLEVBQUksRUFFdkVjLEVBQVkvaEIsS0FBSyxDQUNmaWlCLE1BQU9ILEVBQ1BJLElBQUtKLEVBQVksRUFDakIzSCxNQUFPOEcsQ0FDVCxDQUFDLEVBSURjLEVBQVlBLEVBQVlsaEIsT0FBUyxHQUFHcWhCLEdBQUcsSUFHM0NsQixFQUFZQyxHQUFhLEVBQzNCLE1BdkJFYSxHQUFhRCxFQUFVOWdCLEdBQUdGLE9BeUI5QixPQUFPa2hCLENBQ1QsRUFXQUksZ0JBQWlCLFNBQVNSLEVBQVFDLEdBQ2hDLEdBQUksQ0FBQ3JWLE1BQU00UCxRQUFRd0YsQ0FBTSxFQUN2QixPQUFPQSxFQUtULElBSEEsSUFBSUUsRUFBWUQsRUFBS3ZJLE1BQU0sSUFBSSxFQUMzQnlJLEVBQVksQ0FBQyxFQUFHTSxFQUFhLEVBQUdDLEVBQWUsR0FFMUN0aEIsRUFBSSxFQUFHQSxFQUFJOGdCLEVBQVVoaEIsT0FBUUUsQ0FBQyxHQUVyQyxJQUFLLElBQUlpaEIsRUFBSSxFQUFHQSxFQUFJSCxFQUFVOWdCLEdBQUdGLE9BQVFtaEIsQ0FBQyxHQUN4Q0YsQ0FBUyxHQUVMSCxFQUFPUyxJQUNOVCxFQUFPUyxHQUFZSCxPQUFTSCxHQUM1QkEsRUFBWUgsRUFBT1MsR0FBWUYsTUFFbENHLEVBQWF0aEIsR0FBS3NoQixFQUFhdGhCLElBQU0sR0FFckNzaEIsRUFBYXRoQixHQUFHaWhCLEdBQUs3RyxPQUFPbUgsT0FBTyxHQUFJWCxFQUFPUyxHQUFZakksS0FBSyxFQUUzRDJILElBQWNILEVBQU9TLEdBQVlGLElBQU0sR0FDekNFLENBQVUsSUFLbEIsT0FBT0MsQ0FDVCxDQUNGLEVBS0l6ZixFQUFRMkosTUFBTVksVUFBVXJNLEtBQ3hCK0IsRUFBaUIsQ0FDZjBmLEVBQUcsRUFDSDlELEVBQUcsRUFDSCtELEVBQUcsRUFDSC9OLEVBQUcsRUFDSHVOLEVBQUcsRUFDSDlaLEVBQUcsRUFDSHVhLEVBQUcsRUFDSHZMLEVBQUcsRUFDSGpDLEVBQUcsQ0FDTCxFQUNBblMsRUFBbUIsQ0FDakJ5ZixFQUFHLElBQ0hHLEVBQUcsR0FDTCxFQWt5QkozZCxFQUFPYixLQUFLeWUsU0FBVyxTQUFTQyxHQUM5QixPQUFPQSxFQUFTcGlCLElBQUksU0FBVXFpQixHQUFXLE9BQU9BLEVBQVEvaEIsS0FBSyxHQUFHLENBQUcsQ0FBQyxFQUFFQSxLQUFLLEdBQUcsQ0FDaEYsRUFDQWlFLEVBQU9iLEtBQUs0ZSxVQWxKWixTQUFtQkMsR0FDakIsSUFFSUMsRUFDQUMsRUFRQUMsRUFYQXphLEVBQVMsR0FDVDROLEVBQVMsR0FHVDhNLEVBQUtwZSxFQUFPK0osY0FDWnNVLEVBQVUsc0RBQ1ZDLEVBQWtCLElBQU1ELEVBQVUsSUFBTXJlLEVBQU84SixTQUMvQ3lVLEVBQWdCLFNBQVd2ZSxFQUFPOEosU0FBVyxJQUc3QzBVLEVBQXlCLElBQUlDLE9BRm5CSCxFQUFrQixJQUFNQSxFQUFrQixJQUFNQSxFQUFrQkMsRUFBZ0JBLEVBQzFGRCxFQUFrQixLQUFPRCxFQUFVLElBQ1EsR0FBRyxFQUtwRCxHQUFLTCxHQUFlQSxFQUFXRyxNQUsvQixJQUFLLElBRkx6WSxFQUVTMUosRUFBSSxFQUFpQjhKLEdBQU1KLEVBRjdCc1ksRUFBV0csTUFBTSw4QkFBOEIsR0FFYnJpQixPQUFRRSxFQUFJOEosRUFBSzlKLENBQUMsR0FBSSxDQU03RCxJQUtXMGlCLEVBUlhDLEdBRkFWLEVBQWN2WSxFQUFLMUosSUFFS2dDLE1BQU0sQ0FBQyxFQUFFNGdCLEtBQUssRUFHbEM1WSxFQUFVaVksRUFBWWpLLE9BRjFCMUMsRUFBT3hWLE9BQVMsQ0FFa0IsRUFDbEMraUIsRUFBZSxDQUFDN1ksR0FFaEIsR0FBOEIsTUFBMUJBLEVBQVFxVSxZQUFZLEVBRXRCLEtBQWdCcUUsRUFBT0YsRUFBdUJoTCxLQUFLbUwsQ0FBUyxHQUMxRCxJQUFLLElBQUlHLEVBQUksRUFBR0EsRUFBSUosRUFBSzVpQixPQUFRZ2pCLENBQUMsR0FDaEN4TixFQUFPclcsS0FBS3lqQixFQUFLSSxFQUFFLE9BS3ZCLEtBQVFYLEVBQVFDLEVBQUc1SyxLQUFLbUwsQ0FBUyxHQUMvQnJOLEVBQU9yVyxLQUFLa2pCLEVBQU0sRUFBRSxFQUl4QixJQUFLLElBQUlXLEVBQUksRUFBR0MsRUFBT3pOLEVBQU94VixPQUFRZ2pCLEVBQUlDLEVBQU1ELENBQUMsR0FDL0NaLEVBQVMvSyxXQUFXN0IsRUFBT3dOLEVBQUUsRUFDeEJFLE1BQU1kLENBQU0sR0FDZlcsRUFBYTVqQixLQUFLaWpCLENBQU0sRUFJNUIsSUFBSWUsRUFBZ0JuaEIsRUFBZWtJLEVBQVFxVSxZQUFZLEdBQ25ENkUsRUFBa0JuaEIsRUFBaUJpSSxJQUFZQSxFQUVuRCxHQUE4QmlaLEVBQTFCSixFQUFhL2lCLE9BQVMsRUFDeEIsSUFBSyxJQUFJVSxFQUFJLEVBQUcyaUIsRUFBT04sRUFBYS9pQixPQUFRVSxFQUFJMmlCLEVBQU0zaUIsR0FBS3lpQixFQUN6RHZiLEVBQU96SSxLQUFLLENBQUMrSyxHQUFTbkssT0FBT2dqQixFQUFhN2dCLE1BQU14QixFQUFHQSxFQUFJeWlCLENBQWEsQ0FBQyxDQUFDLEVBQ3RFalosRUFBVWtaLE9BSVp4YixFQUFPekksS0FBSzRqQixDQUFZLENBRTVCLENBRUEsT0FBT25iLENBQ1QsRUFpRkExRCxFQUFPYixLQUFLaWdCLGdCQXhrQlosU0FBeUIxWixHQVl2QixJQVJBLElBSW9CQyxFQUFZMFosRUFHTkMsRUFBVUMsRUFBVUMsRUFQMUMzYSxFQUFJLEVBQUdDLEVBQUksRUFBR2dCLEVBQU1KLEVBQUs1SixPQUl6QnVJLEVBQUssRUFBR0MsRUFBSyxFQUdibWIsRUFBa0IsR0FDakJ6akIsRUFBSSxFQUFHQSxFQUFJOEosRUFBSyxFQUFFOUosRUFBRyxDQUd4QixPQUZBcWpCLEVBQVksSUFDWjFaLEVBQVVELEVBQUsxSixHQUFHZ0MsTUFBTSxDQUFDLEdBQ1QsSUFDZCxJQUFLLElBQ0gySCxFQUFRLEdBQUssSUFDYkEsRUFBUSxJQUFNZCxFQUNkYyxFQUFRLElBQU1iLEVBRWhCLElBQUssSUFDSEQsRUFBSWMsRUFBUSxHQUNaYixFQUFJYSxFQUFRLEdBQ1osTUFDRixJQUFLLElBQ0hBLEVBQVEsSUFBTWQsRUFFaEIsSUFBSyxJQUNIYyxFQUFRLEdBQUssSUFDYkEsRUFBUSxHQUFLYixFQUNiRCxFQUFJYyxFQUFRLEdBQ1osTUFDRixJQUFLLElBQ0hBLEVBQVEsSUFBTWIsRUFFaEIsSUFBSyxJQUNIYSxFQUFRLEdBQUssSUFDYmIsRUFBSWEsRUFBUSxHQUNaQSxFQUFRLEdBQUtkLEVBQ2JjLEVBQVEsR0FBS2IsRUFDYixNQUNGLElBQUssSUFDSGEsRUFBUSxHQUFLLElBQ2JBLEVBQVEsSUFBTWQsRUFDZGMsRUFBUSxJQUFNYixFQUVoQixJQUFLLElBQ0hELEVBQUljLEVBQVEsR0FDWmIsRUFBSWEsRUFBUSxHQUNadEIsRUFBS3NCLEVBQVEsR0FDYnJCLEVBQUtxQixFQUFRLEdBQ2IsTUFDRixJQUFLLElBQ0hBLEVBQVEsR0FBSyxJQUNiQSxFQUFRLElBQU1kLEVBQ2RjLEVBQVEsSUFBTWIsRUFDZGEsRUFBUSxJQUFNZCxFQUNkYyxFQUFRLElBQU1iLEVBQ2RhLEVBQVEsSUFBTWQsRUFDZGMsRUFBUSxJQUFNYixFQUVoQixJQUFLLElBQ0h5YSxFQUFXNVosRUFBUSxHQUNuQjZaLEVBQVc3WixFQUFRLEdBQ25CZCxFQUFJYyxFQUFRLEdBQ1piLEVBQUlhLEVBQVEsR0FDWixNQUNGLElBQUssSUFDSEEsRUFBUSxHQUFLLElBQ2JBLEVBQVEsSUFBTWQsRUFDZGMsRUFBUSxJQUFNYixFQUNkYSxFQUFRLElBQU1kLEVBQ2RjLEVBQVEsSUFBTWIsRUFFaEIsSUFBSyxJQUtEMGEsRUFIZSxNQUFiRixHQUVGQyxFQUFXLEVBQUkxYSxFQUFJMGEsRUFDUixFQUFJemEsRUFBSTBhLElBS25CRCxFQUFXMWEsRUFDQUMsR0FFYkQsRUFBSWMsRUFBUSxHQUNaYixFQUFJYSxFQUFRLEdBQ1pBLEVBQVEsR0FBSyxJQUNiQSxFQUFRLEdBQUtBLEVBQVEsR0FDckJBLEVBQVEsR0FBS0EsRUFBUSxHQUNyQkEsRUFBUSxHQUFLQSxFQUFRLEdBQ3JCQSxFQUFRLEdBQUtBLEVBQVEsR0FDckJBLEVBQVEsR0FBSzRaLEVBQ2I1WixFQUFRLEdBQUs2WixFQUdiRCxFQUFXNVosRUFBUSxHQUNuQjZaLEVBQVc3WixFQUFRLEdBQ25CLE1BQ0YsSUFBSyxJQUNIQSxFQUFRLEdBQUssSUFDYkEsRUFBUSxJQUFNZCxFQUNkYyxFQUFRLElBQU1iLEVBQ2RhLEVBQVEsSUFBTWQsRUFDZGMsRUFBUSxJQUFNYixFQUVoQixJQUFLLElBQ0h5YSxFQUFXNVosRUFBUSxHQUNuQjZaLEVBQVc3WixFQUFRLEdBQ25CZCxFQUFJYyxFQUFRLEdBQ1piLEVBQUlhLEVBQVEsR0FDWixNQUNGLElBQUssSUFDSEEsRUFBUSxHQUFLLElBQ2JBLEVBQVEsSUFBTWQsRUFDZGMsRUFBUSxJQUFNYixFQUVoQixJQUFLLElBSUQwYSxFQUhlLE1BQWJGLEdBRUZDLEVBQVcsRUFBSTFhLEVBQUkwYSxFQUNSLEVBQUl6YSxFQUFJMGEsSUFLbkJELEVBQVcxYSxFQUNBQyxHQUViYSxFQUFRLEdBQUssSUFDYmQsRUFBSWMsRUFBUSxHQUNaYixFQUFJYSxFQUFRLEdBQ1pBLEVBQVEsR0FBSzRaLEVBQ2I1WixFQUFRLEdBQUs2WixFQUNiN1osRUFBUSxHQUFLZCxFQUNiYyxFQUFRLEdBQUtiLEVBQ2IsTUFDRixJQUFLLElBQ0hhLEVBQVEsR0FBSyxJQUNiQSxFQUFRLElBQU1kLEVBQ2RjLEVBQVEsSUFBTWIsRUFFaEIsSUFBSyxJQUNIdWEsRUFBWSxHQUNaSSxFQUFrQkEsRUFBZ0I1akIsT0EvSzFDLFNBQTBCNmpCLEVBQUlDLEVBQUlyTyxHQVVoQyxJQVRBLElBQUlsUSxFQUFLa1EsRUFBTyxHQUNaalEsRUFBS2lRLEVBQU8sR0FDWnNPLEVBQU10TyxFQUFPLEdBQ2JoUSxFQUFRZ1EsRUFBTyxHQUNmL1AsRUFBUStQLEVBQU8sR0FHZnVPLEVBQVc1ZSxHQUZOcVEsRUFBTyxHQUVrQm9PLEVBRHpCcE8sRUFBTyxHQUMyQnFPLEVBQUl2ZSxFQUFJQyxFQUFJQyxFQUFPQyxFQUFPcWUsQ0FBRyxFQUUvRDVqQixFQUFJLEVBQUc4SixFQUFNK1osRUFBUy9qQixPQUFRRSxFQUFJOEosRUFBSzlKLENBQUMsR0FDL0M2akIsRUFBUzdqQixHQUFHLElBQU0wakIsRUFDbEJHLEVBQVM3akIsR0FBRyxJQUFNMmpCLEVBQ2xCRSxFQUFTN2pCLEdBQUcsSUFBTTBqQixFQUNsQkcsRUFBUzdqQixHQUFHLElBQU0yakIsRUFDbEJFLEVBQVM3akIsR0FBRyxJQUFNMGpCLEVBQ2xCRyxFQUFTN2pCLEdBQUcsSUFBTTJqQixFQUVwQixPQUFPRSxDQUNULEVBNEprRWhiLEVBQUdDLEVBQUdhLENBQU8sQ0FBQyxFQUN4RWQsRUFBSWMsRUFBUSxHQUNaYixFQUFJYSxFQUFRLEdBQ1osTUFDRixJQUFLLElBQ0wsSUFBSyxJQUNIZCxFQUFJUixFQUNKUyxFQUFJUixDQUdSLENBQ0srYSxHQUNISSxFQUFnQnhrQixLQUFLMEssQ0FBTyxFQUU5QjJaLEVBQVczWixFQUFRLEVBQ3JCLENBQ0EsT0FBTzhaLENBQ1QsRUFxYUF6ZixFQUFPYixLQUFLMmdCLHdCQXpFWixTQUFpQzdPLEVBQVE4TyxHQUN2QyxJQUFlL2pCLEVBYVBna0IsRUFiSnRhLEVBQU8sR0FDUHVhLEVBQUssSUFBSWpnQixFQUFPeVAsTUFBTXdCLEVBQU8sR0FBR3BNLEVBQUdvTSxFQUFPLEdBQUduTSxDQUFDLEVBQzlDb2IsRUFBSyxJQUFJbGdCLEVBQU95UCxNQUFNd0IsRUFBTyxHQUFHcE0sRUFBR29NLEVBQU8sR0FBR25NLENBQUMsRUFDOUNnQixFQUFNbUwsRUFBT25WLE9BQVFxa0IsRUFBWSxFQUFHQyxFQUFZLEVBQUdDLEVBQW1CLEVBQU52YSxFQVFwRSxJQUxJdWEsSUFDRkYsRUFBWWxQLEVBQU8sR0FBR3BNLEVBQUlxYixFQUFHcmIsRUFBSSxDQUFDLEVBQUlvTSxFQUFPLEdBQUdwTSxJQUFNcWIsRUFBR3JiLEVBQUksRUFBSSxFQUNqRXViLEVBQVluUCxFQUFPLEdBQUduTSxFQUFJb2IsRUFBR3BiLEVBQUksQ0FBQyxFQUFJbU0sRUFBTyxHQUFHbk0sSUFBTW9iLEVBQUdwYixFQUFJLEVBQUksR0FFbkVZLEVBQUt6SyxLQUFLLENBQUMsSUFBS2dsQixFQUFHcGIsRUFBSXNiLEdBTnZCSixFQUFhQSxHQUFjLEdBTW9CRSxFQUFHbmIsRUFBSXNiLEVBQVlMLEVBQVcsRUFDeEUvakIsRUFBSSxFQUFHQSxFQUFJOEosRUFBSzlKLENBQUMsR0FDZmlrQixFQUFHSyxHQUFHSixDQUFFLElBQ1BGLEVBQVdDLEVBQUdNLGFBQWFMLENBQUUsRUFJakN4YSxFQUFLekssS0FBSyxDQUFDLElBQUtnbEIsRUFBR3BiLEVBQUdvYixFQUFHbmIsRUFBR2tiLEVBQVNuYixFQUFHbWIsRUFBU2xiLEVBQUUsR0FFckRtYixFQUFLaFAsRUFBT2pWLEdBQ1BBLEVBQUksRUFBS2lWLEVBQU9uVixTQUNuQm9rQixFQUFLalAsRUFBT2pWLEVBQUksSUFRcEIsT0FMSXFrQixJQUNGRixFQUFZRixFQUFHcGIsRUFBSW9NLEVBQU9qVixFQUFJLEdBQUc2SSxFQUFJLEVBQUlvYixFQUFHcGIsSUFBTW9NLEVBQU9qVixFQUFJLEdBQUc2SSxFQUFJLEVBQUksQ0FBQyxFQUN6RXViLEVBQVlILEVBQUduYixFQUFJbU0sRUFBT2pWLEVBQUksR0FBRzhJLEVBQUksRUFBSW1iLEVBQUduYixJQUFNbU0sRUFBT2pWLEVBQUksR0FBRzhJLEVBQUksRUFBSSxDQUFDLEdBRTNFWSxFQUFLekssS0FBSyxDQUFDLElBQUtnbEIsRUFBR3BiLEVBQUlzYixFQUFZSixFQUFZRSxFQUFHbmIsRUFBSXNiLEVBQVlMLEVBQVcsRUFDdEVyYSxDQUNULEVBMkNBMUYsRUFBT2IsS0FBS3NHLG9CQUFzQkEsR0FDbEN6RixFQUFPYixLQUFLcWhCLGlCQS9yQlosU0FBMEJDLEVBQUlDLEVBQUlyYyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJbWMsRUFBSUMsR0FDcEQsSUFBSUMsRUFDSixHQUFJN2dCLEVBQU9pTCxzQkFDVDRWLEVBQWFoakIsRUFBTXdLLEtBQUt4SCxTQUFTLEVBQzdCYixFQUFPZ0wsbUJBQW1CNlYsSUFDNUIsT0FBTzdnQixFQUFPZ0wsbUJBQW1CNlYsR0FjckMsSUFWQSxJQUlhMU8sRUFBTzJPLEVBQVVDLEVBSjFCdmpCLEVBQU82RSxLQUFLN0UsS0FDWnNCLEVBQU11RCxLQUFLdkQsSUFBS0MsRUFBTXNELEtBQUt0RCxJQUMzQjZELEVBQU1QLEtBQUtPLElBQUtvZSxFQUFVLEdBQzFCQyxFQUFTLENBQUMsR0FBSSxJQUdsQjlRLEVBQUksRUFBSXNRLEVBQUssR0FBS3BjLEVBQUssRUFBSUUsRUFDM0IyTCxFQUFJLENBQUMsRUFBSXVRLEVBQUssRUFBSXBjLEVBQUssRUFBSUUsRUFBSyxFQUFJb2MsRUFDcEMxRCxFQUFJLEVBQUk1WSxFQUFLLEVBQUlvYyxFQUVSemtCLEVBQUksRUFBR0EsRUFBSSxFQUFHLEVBQUVBLEVBQ2YsRUFBSkEsSUFDRm1VLEVBQUksRUFBSXVRLEVBQUssR0FBS3BjLEVBQUssRUFBSUUsRUFDM0IwTCxFQUFJLENBQUMsRUFBSXdRLEVBQUssRUFBSXBjLEVBQUssRUFBSUUsRUFBSyxFQUFJb2MsRUFDcEMzRCxFQUFJLEVBQUkzWSxFQUFLLEVBQUlvYyxHQUdmOWQsRUFBSXNOLENBQUMsRUFBSSxNQUNQdE4sRUFBSXVOLENBQUMsRUFBSSxPQUlULEdBREpnQyxFQUFJLENBQUM4SyxFQUFJOU0sSUFDSWdDLEVBQUksR0FDZjZPLEVBQVEvbEIsS0FBS2tYLENBQUMsR0FJbEIrTyxFQUFPL1EsRUFBSUEsRUFBSSxFQUFJOE0sRUFBSS9NLEdBQ1osSUFLUCxHQURKaVIsR0FBTSxDQUFDaFIsR0FEUDRRLEVBQVd2akIsRUFBSzBqQixDQUFJLEtBQ0ksRUFBSWhSLEtBQ2RpUixFQUFLLEdBQ2pCSCxFQUFRL2xCLEtBQUtrbUIsQ0FBRSxFQUdiLEdBREpMLEdBQU0sQ0FBQzNRLEVBQUk0USxJQUFhLEVBQUk3USxLQUNkNFEsRUFBSyxHQUNqQkUsRUFBUS9sQixLQUFLNmxCLENBQUUsR0FLbkIsSUFEQSxJQUF3Q00sRUFBOUJ0QyxFQUFJa0MsRUFBUWxsQixPQUFRaWpCLEVBQU9ELEVBQzlCQSxDQUFDLElBSU5tQyxFQUFPLEdBQUduQyxJQUZWc0MsRUFBSyxHQURMalAsRUFBSTZPLEVBQVFsQyxLQUVGc0MsRUFBS0EsRUFBS1gsRUFBTyxFQUFJVyxFQUFLQSxFQUFLalAsRUFBSTlOLEVBQU8sRUFBSStjLEVBQUtqUCxFQUFJQSxFQUFJNU4sRUFBTzROLEVBQUlBLEVBQUlBLEVBQUl3TyxFQUl4Rk0sRUFBTyxHQUFHbkMsR0FETHNDLEVBQUtBLEVBQUtBLEVBQUtWLEVBQU8sRUFBSVUsRUFBS0EsRUFBS2pQLEVBQUk3TixFQUFPLEVBQUk4YyxFQUFLalAsRUFBSUEsRUFBSTNOLEVBQU8yTixFQUFJQSxFQUFJQSxFQUFJeU8sRUFxQjFGLE9BakJBSyxFQUFPLEdBQUdsQyxHQUFRMEIsRUFDbEJRLEVBQU8sR0FBR2xDLEdBQVEyQixFQUNsQk8sRUFBTyxHQUFHbEMsRUFBTyxHQUFLNEIsRUFDdEJNLEVBQU8sR0FBR2xDLEVBQU8sR0FBSzZCLEVBQ2xCbGQsRUFBUyxDQUNYLENBQ0VtQixFQUFHL0YsRUFBSThCLE1BQU0sS0FBTXFnQixFQUFPLEVBQUUsRUFDNUJuYyxFQUFHaEcsRUFBSThCLE1BQU0sS0FBTXFnQixFQUFPLEVBQUUsQ0FDOUIsRUFDQSxDQUNFcGMsRUFBRzlGLEVBQUk2QixNQUFNLEtBQU1xZ0IsRUFBTyxFQUFFLEVBQzVCbmMsRUFBRy9GLEVBQUk2QixNQUFNLEtBQU1xZ0IsRUFBTyxFQUFFLENBQzlCLEdBRUVqaEIsRUFBT2lMLHNCQUNUakwsRUFBT2dMLG1CQUFtQjZWLEdBQWNuZCxHQUVuQ0EsQ0FDVCxFQWduQkExRCxFQUFPYixLQUFLa2lCLGVBek1aLFNBQXdCM2IsRUFBTVAsRUFBVW1jLEdBQ2pDQSxFQUFBQSxHQUNLN2IsR0FBb0JDLENBQUksRUFHbEMsSUFEQSxJQUFJMUosRUFBSSxFQUM2QixFQUE3Qm1KLEVBQVdtYyxFQUFNdGxCLEdBQUdGLFFBQWVFLEVBQUtzbEIsRUFBTXhsQixPQUFTLEdBQzdEcUosR0FBWW1jLEVBQU10bEIsR0FBR0YsT0FDckJFLENBQUMsR0FHSCxJQUNrRCtKLEVBRDlDYixFQUFVb2MsRUFBTXRsQixHQUFJdWxCLEVBQWFwYyxFQUFXRCxFQUFRcEosT0FDcERrSyxFQUFVZCxFQUFRYyxRQUFTOFgsRUFBVXBZLEVBQUsxSixHQUU5QyxPQUFRZ0ssR0FDTixJQUFLLElBQ0gsTUFBTyxDQUFFbkIsRUFBR0ssRUFBUUwsRUFBR0MsRUFBR0ksRUFBUUosRUFBR1UsTUFBTyxDQUFFLEVBQ2hELElBQUssSUFDTCxJQUFLLElBTUgsT0FMQU8sRUFBTyxJQUFJL0YsRUFBT3lQLE1BQU12SyxFQUFRTCxFQUFHSyxFQUFRSixDQUFDLEVBQUUwYyxLQUM1QyxJQUFJeGhCLEVBQU95UCxNQUFNdkssRUFBUTZCLE1BQU83QixFQUFROEIsS0FBSyxFQUM3Q3VhLENBQ0YsR0FDSy9iLE1BQVFuRCxLQUFLNUUsTUFBTXlILEVBQVE4QixNQUFROUIsRUFBUUosRUFBR0ksRUFBUTZCLE1BQVE3QixFQUFRTCxDQUFDLEVBQ3JFa0IsRUFDVCxJQUFLLElBTUgsT0FMQUEsRUFBTyxJQUFJL0YsRUFBT3lQLE1BQU12SyxFQUFRTCxFQUFHSyxFQUFRSixDQUFDLEVBQUUwYyxLQUM1QyxJQUFJeGhCLEVBQU95UCxNQUFNcU8sRUFBUSxHQUFJQSxFQUFRLEVBQUUsRUFDdkN5RCxDQUNGLEdBQ0svYixNQUFRbkQsS0FBSzVFLE1BQU1xZ0IsRUFBUSxHQUFLNVksRUFBUUosRUFBR2daLEVBQVEsR0FBSzVZLEVBQVFMLENBQUMsRUFDL0RrQixFQUNULElBQUssSUFFTCxJQUFLLElBQ0gsT0FBT2QsR0FBMEJDLEVBQVNDLENBQVEsQ0FDdEQsQ0FDRixFQXNLQW5GLEVBQU9iLEtBQUtzaUIsY0FsQ1osU0FBdUIvYixFQUFNNE0sRUFBV29QLEdBT3RDLE9BTklBLElBQ0ZwUCxFQUFZdFMsRUFBT2IsS0FBSzRZLDBCQUN0QnpGLEVBQ0EsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLENBQUNvUCxFQUFXN2MsRUFBRyxDQUFDNmMsRUFBVzVjLEVBQzFDLEdBRUtZLEVBQUtqSyxJQUFJLFNBQVNrbUIsR0FFdkIsSUFEQSxJQUFJQyxFQUFhRCxFQUFZM2pCLE1BQU0sQ0FBQyxFQUFHc1IsRUFBUSxHQUN0Q3RULEVBQUksRUFBR0EsRUFBSTJsQixFQUFZN2xCLE9BQVMsRUFBR0UsR0FBSyxFQUMvQ3NULEVBQU16SyxFQUFJOGMsRUFBWTNsQixHQUN0QnNULEVBQU14SyxFQUFJNmMsRUFBWTNsQixFQUFJLEdBQzFCc1QsRUFBUXRQLEVBQU9iLEtBQUtFLGVBQWVpUSxFQUFPZ0QsQ0FBUyxFQUNuRHNQLEVBQVc1bEIsR0FBS3NULEVBQU16SyxFQUN0QitjLEVBQVc1bEIsRUFBSSxHQUFLc1QsRUFBTXhLLEVBRTVCLE9BQU84YyxDQUNULENBQUMsQ0FDSCxFQXNCSTVqQixFQUFRd0osTUFBTVksVUFBVXBLLE1Bb0Y1QmdDLEVBQU9iLEtBQUtxQixNQUFRLENBQ2xCQyxLQXZDRixTQUFjRCxFQUFPc0wsR0FFbkIsSUFEQSxJQUFJdFAsRUFBSWdFLEVBQU0xRSxPQUNQVSxDQUFDLElBQ05nRSxFQUFNaEUsR0FBS3NQLEVBRWIsT0FBT3RMLENBQ1QsRUFrQ0VxaEIsT0E3RUYsU0FBZ0JyaEIsRUFBT3NoQixHQUVyQixJQURBLElBQUlwRCxFQUFPMWdCLEVBQU1xSyxLQUFLeEgsVUFBVyxDQUFDLEVBQUc2QyxFQUFTLEdBQ3JDMUgsRUFBSSxFQUFHOEosRUFBTXRGLEVBQU0xRSxPQUFRRSxFQUFJOEosRUFBSzlKLENBQUMsR0FDNUMwSCxFQUFPMUgsR0FBSzBpQixFQUFLNWlCLE9BQVMwRSxFQUFNeEUsR0FBRzhsQixHQUFRbGhCLE1BQU1KLEVBQU14RSxHQUFJMGlCLENBQUksRUFBSWxlLEVBQU14RSxHQUFHOGxCLEdBQVF6WixLQUFLN0gsRUFBTXhFLEVBQUUsRUFFbkcsT0FBTzBILENBQ1QsRUF3RUU1RSxJQWxERixTQUFhMEIsRUFBTzBHLEdBQ2xCLE9BQU9ELEdBQUt6RyxFQUFPMEcsRUFBWSxTQUFTNmEsRUFBUUMsR0FDOUMsT0FBT0QsRUFBU0MsQ0FDbEIsQ0FBQyxDQUNILEVBK0NFampCLElBaEVGLFNBQWF5QixFQUFPMEcsR0FDbEIsT0FBT0QsR0FBS3pHLEVBQU8wRyxFQUFZLFNBQVM2YSxFQUFRQyxHQUM5QyxPQUFpQkEsR0FBVkQsQ0FDVCxDQUFDLENBQ0gsQ0E2REEsRUEwRUEvaEIsRUFBT2IsS0FBS3FOLE9BQVMsQ0FDbkJqTyxPQUFRQSxFQUNSQyxNQVBGLFNBQWVnTyxFQUFRbkYsR0FDckIsT0FBTzlJLEVBQU8sR0FBS2lPLEVBQVFuRixDQUFJLENBQ2pDLENBTUEsRUFDQXJILEVBQU9iLEtBQUtxTixPQUFPak8sT0FBT3lCLEVBQU9iLEtBQU1hLEVBQU95TCxVQUFVLEVBMkd4RHpMLEVBQU9iLEtBQUsyVSxPQUFTLENBQ25CQyxTQWhHRixTQUFrQkQsR0FDaEIsT0FBT0EsRUFBT21PLFFBQVEsVUFBVyxTQUFTOUQsRUFBTytELEdBQy9DLE9BQU9BLEVBQVlBLEVBQVVqTyxZQUFZLEVBQUksRUFDL0MsQ0FBQyxDQUNILEVBNkZFa08sV0FsRkYsU0FBb0JyTyxFQUFRc08sR0FDMUIsT0FBT3RPLEVBQU9FLE9BQU8sQ0FBQyxFQUFFQyxZQUFZLEdBQ2pDbU8sRUFBa0J0TyxFQUFPOVYsTUFBTSxDQUFDLEVBQUk4VixFQUFPOVYsTUFBTSxDQUFDLEVBQUVxYyxZQUFZLEVBQ3JFLEVBZ0ZFZ0ksVUF4RUYsU0FBbUJ2TyxHQUNqQixPQUFPQSxFQUFPbU8sUUFBUSxLQUFNLE9BQU8sRUFDaENBLFFBQVEsS0FBTSxRQUFRLEVBQ3RCQSxRQUFRLEtBQU0sUUFBUSxFQUN0QkEsUUFBUSxLQUFNLE1BQU0sRUFDcEJBLFFBQVEsS0FBTSxNQUFNLENBQ3pCLEVBbUVFSyxjQTNERixTQUF1QkMsR0FFckIsSUFEQSxJQUFXQyxFQUFQeG1CLEVBQUksRUFBUXltQixFQUFZLEdBQ3ZCem1CLEVBQUksRUFBUUEsRUFBSXVtQixFQUFXem1CLE9BQVFFLENBQUMsR0FDSyxNQUF2Q3dtQixFQVNULFNBQXNCRSxFQUFLMW1CLEdBQ3pCLElBQUkybUIsRUFBT0QsRUFBSUUsV0FBVzVtQixDQUFDLEVBRTNCLEdBQUlnakIsTUFBTTJELENBQUksRUFDWixNQUFPLEdBRVQsR0FBSUEsRUFBTyxPQUFpQixNQUFQQSxFQUNuQixPQUFPRCxFQUFJMU8sT0FBT2hZLENBQUMsRUFLckIsR0FBSSxPQUFVMm1CLEdBQVFBLEdBQVEsTUFBUSxDQUNwQyxHQUFJRCxFQUFJNW1CLFFBQVdFLEVBQUksRUFDckIsS0FBTSxpREFFSjZtQixFQUFPSCxFQUFJRSxXQUFXNW1CLEVBQUksQ0FBQyxFQUMvQixHQUFhNm1CLEVBQVQsT0FBd0IsTUFBUEEsRUFDbkIsS0FBTSxpREFFUixPQUFPSCxFQUFJMU8sT0FBT2hZLENBQUMsRUFBSTBtQixFQUFJMU8sT0FBT2hZLEVBQUksQ0FBQyxDQUN6QyxDQUVBLEdBQVUsSUFBTkEsRUFDRixLQUFNLGlEQUVKOG1CLEVBQU9KLEVBQUlFLFdBQVc1bUIsRUFBSSxDQUFDLEVBSS9CLEdBQWE4bUIsRUFBVCxPQUF3QixNQUFQQSxFQUNuQixLQUFNLGlEQUlSLE1BQU8sRUFDVCxFQTdDNEJQLEVBQVl2bUIsQ0FBQyxJQUdyQ3ltQixFQUFVeG5CLEtBQUt1bkIsQ0FBRyxFQUVwQixPQUFPQyxDQUNULENBbURBLEVBTUl6a0IsRUFBUXdKLE1BQU1ZLFVBQVVwSyxNQUV4QkMsRUFBb0IsV0FDbEIsSUFBSyxJQUFJMEcsSUFBSyxDQUFFcEosU0FBVSxDQUFFLEVBQzFCLEdBQVUsYUFBTm9KLEVBQ0YsTUFBTyxHQUdYLE1BQU8sRUFDUixFQUFFLEVBc0dQM0UsRUFBT2IsS0FBSzRqQixZQTlCWixXQUNFLElBQUlDLEVBQVMsS0FDVDdMLEVBQWFuWixFQUFNcUssS0FBS3hILFVBQVcsQ0FBQyxFQUt4QyxTQUFTb2lCLElBQ1B6bkIsS0FBSzBuQixXQUFXdGlCLE1BQU1wRixLQUFNcUYsU0FBUyxDQUN2QyxDQUw2QixZQUF6QixPQUFPc1csRUFBVyxLQUNwQjZMLEVBQVM3TCxFQUFXZ00sTUFBTSxHQU01QkYsRUFBTS9hLFdBQWE4YSxFQUNuQkMsRUFBTUcsV0FBYSxHQUVmSixJQUNGcGIsR0FBU1EsVUFBWTRhLEVBQU81YSxVQUM1QjZhLEVBQU03YSxVQUFZLElBQUlSLEdBQ3RCb2IsRUFBT0ksV0FBV25vQixLQUFLZ29CLENBQUssR0FFOUIsSUFBSyxJQUFJam5CLEVBQUksRUFBR0YsRUFBU3FiLEVBQVdyYixPQUFRRSxFQUFJRixFQUFRRSxDQUFDLEdBQ3ZEcW5CLENBekZhLFNBQVNKLEVBQU81bEIsRUFBUTJsQixHQUNuQyxJQUFLLElBQUl2YixLQUFZcEssRUFFZm9LLEtBQVl3YixFQUFNN2EsV0FDbUIsWUFBckMsT0FBTzZhLEVBQU03YSxVQUFVWCxJQUN3QixDQUFDLEdBQS9DcEssRUFBT29LLEdBQVksSUFBSWxILFFBQVEsV0FBVyxFQUU3QzBpQixFQUFNN2EsVUFBVVgsR0FBWSxTQUFVQSxHQUNwQyxPQUFPLFdBRUwsSUFBSVMsRUFBYTFNLEtBQUt5TSxZQUFZQyxXQUU5Qm9iLEdBREo5bkIsS0FBS3lNLFlBQVlDLFdBQWE4YSxFQUNaM2xCLEVBQU9vSyxHQUFVN0csTUFBTXBGLEtBQU1xRixTQUFTLEdBR3hELEdBRkFyRixLQUFLeU0sWUFBWUMsV0FBYUEsRUFFYixlQUFiVCxFQUNGLE9BQU82YixDQUVYLENBQ0QsRUFBRTdiLENBQVEsRUFHWHdiLEVBQU03YSxVQUFVWCxHQUFZcEssRUFBT29LLEdBR2pDeEosSUFDRVosRUFBTzlCLFdBQWE2YSxPQUFPaE8sVUFBVTdNLFdBQ3ZDMG5CLEVBQU03YSxVQUFVN00sU0FBVzhCLEVBQU85QixVQUVoQzhCLEVBQU9rbUIsVUFBWW5OLE9BQU9oTyxVQUFVbWIsVUFDdENOLEVBQU03YSxVQUFVbWIsUUFBVWxtQixFQUFPa21CLFNBSXpDLEVBdURXTixFQUFPOUwsRUFBV25iLEdBQUlnbkIsQ0FBTSxFQU96QyxPQUxLQyxFQUFNN2EsVUFBVThhLGFBQ25CRCxFQUFNN2EsVUFBVThhLFdBQWF2YixLQUUvQnNiLEVBQU03YSxVQUFVSCxZQUFjZ2IsR0FDeEI3YSxVQUFVUCxVQUFZQSxHQUNyQm9iLENBQ1QsRUFRSS9rQixFQUFzQixDQUFDLENBQUM4QixFQUFPd0ksU0FBUzJNLGNBQWMsS0FBSyxFQUFFcU8sWUFDN0RybEIsRUFBYyxDQUFDLGFBQWMsWUFBYSxZQVM5QzZCLEVBQU9iLEtBQUtSLFlBQWMsU0FBUzhrQixFQUFTdGpCLEVBQVdDLEVBQVN1TCxHQUM5RDhYLEdBQVdBLEVBQVFDLGlCQUFpQnZqQixFQUFXQyxFQUFTbEMsQ0FBQUEsR0FBOEJ5TixDQUFPLENBQy9GLEVBVUEzTCxFQUFPYixLQUFLUCxlQUFpQixTQUFTNmtCLEVBQVN0akIsRUFBV0MsRUFBU3VMLEdBQ2pFOFgsR0FBV0EsRUFBUUUsb0JBQW9CeGpCLEVBQVdDLEVBQVNsQyxDQUFBQSxHQUE4QnlOLENBQU8sQ0FDbEcsRUFVQTNMLEVBQU9iLEtBQUt5a0IsV0FBYSxTQUFTQyxHQUNoQyxJQUFJSixFQUFVSSxFQUFNNUssT0FDaEI2SyxFQUFTOWpCLEVBQU9iLEtBQUs0a0IsaUJBQWlCTixDQUFPLEVBQzdDTyxHQVZBQyxHQURnQkosRUFXSUEsR0FWRkssaUJBQ0xELEVBQVUsR0FDbEJBLEVBQVUsR0FFWkosRUFPUCxNQUFPLENBQ0xoZixFQUFHbWYsRUFBS0csUUFBVUwsRUFBT2xSLEtBQ3pCOU4sRUFBR2tmLEVBQUtJLFFBQVVOLEVBQU9qUixHQUMzQixDQUNGLEVBRUE3UyxFQUFPYixLQUFLa2xCLGFBQWUsU0FBU1IsR0FDbEMsTUFBeUMsQ0FBQyxFQUFuQzFsQixFQUFZb0MsUUFBUXNqQixFQUFNelcsSUFBSSxHQUFnQyxVQUF0QnlXLEVBQU1TLFdBQ3ZELEVBc0NJQyxFQUFVdmtCLEVBQU93SSxTQUFTMk0sY0FBYyxLQUFLLEVBQzdDL1csRUFBbUQsVUFBakMsT0FBT21tQixFQUFRblAsTUFBTW9QLFFBQ3ZDQyxFQUFrRCxVQUFoQyxPQUFPRixFQUFRblAsTUFBTXZKLE9BQ3ZDeE4sRUFBWSx3Q0FHWkMsRUFBYSxTQUFVbWxCLEdBQVcsT0FBT0EsQ0FBUyxFQUVsRHJsQixFQUVGRSxFQUFhLFNBQVNtbEIsRUFBUzNYLEdBRTdCLE9BREEyWCxFQUFRck8sTUFBTW9QLFFBQVUxWSxFQUNqQjJYLENBQ1QsRUFFT2dCLElBRVBubUIsRUFBYSxTQUFTbWxCLEVBQVMzWCxHQUM3QixJQUFJNFksRUFBS2pCLEVBQVFyTyxNQVdqQixPQVZJcU8sRUFBUWtCLGNBQWdCLENBQUNsQixFQUFRa0IsYUFBYUMsWUFDaERGLEVBQUdHLEtBQU8sR0FFUnhtQixFQUFVeW1CLEtBQUtKLEVBQUc3WSxNQUFNLEVBRTFCNlksRUFBRzdZLE9BQVM2WSxFQUFHN1ksT0FBT29XLFFBQVE1akIsRUFEOUJ5TixFQUFpQixPQUFUQSxFQUFrQixHQUFNLGlCQUE0QixJQUFSQSxFQUFlLEdBQ3JCLEVBRzlDNFksRUFBRzdZLFFBQVUsa0JBQTZCLElBQVJDLEVBQWUsSUFFNUMyWCxDQUNULEdBR0Z6akIsRUFBT2IsS0FBSzRsQixTQTFEWixTQUFrQnRCLEVBQVM3RyxHQUN6QixJQWVRb0ksRUFmSkMsRUFBZXhCLEVBQVFyTyxNQUMzQixHQUFLNlAsRUFBTCxDQUdBLEdBQXNCLFVBQWxCLE9BQU9ySSxFQUVULE9BREE2RyxFQUFRck8sTUFBTThQLFNBQVcsSUFBTXRJLEVBQ0ksQ0FBQyxFQUE3QkEsRUFBT3JjLFFBQVEsU0FBUyxFQUMzQmpDLEVBQVdtbEIsRUFBUzdHLEVBQU91QixNQUFNLHdCQUF3QixFQUFFLEVBQUUsRUFDN0RzRixFQUVOLElBQUssSUFBSWhjLEtBQVltVixFQUNGLFlBQWJuVixFQUNGbkosRUFBV21sQixFQUFTN0csRUFBT25WLEVBQVMsR0FHaEN1ZCxFQUFtQyxVQUFidmQsR0FBcUMsYUFBYkEsRUFDVixTQUE1QndkLEVBQWFFLFdBQTZCLFdBQWEsYUFDL0QxZCxFQUNKd2QsRUFBYUcsWUFBWUosRUFBb0JwSSxFQUFPblYsRUFBUyxFQWZqRSxDQWtCQSxPQUFPZ2MsQ0FDVCxFQTBDQSxJQXFMSTRCLEdBa0JFalEsRUFDQWtRLEVBeE1GQyxHQUFTL2QsTUFBTVksVUFBVXBLLE1BbUJ6QnduQixFQUFVLFNBQVNDLEdBQ2pCLE9BQU9GLEdBQU9sZCxLQUFLb2QsRUFBVyxDQUFDLENBQ2pDLEVBRUosSUFDRUMsRUFBMkJGLEVBQVF4bEIsRUFBT3dJLFNBQVNtZCxVQUFVLFlBQWFuZSxLQUU5RCxDQUFkLE1BQU9vZSxJQW1CUCxTQUFTQyxHQUFZQyxFQUFTMVIsR0FDNUIsSUFDU3JJLEVBRExnYSxFQUFLL2xCLEVBQU93SSxTQUFTMk0sY0FBYzJRLENBQU8sRUFDOUMsSUFBUy9aLEtBQVFxSSxFQUNGLFVBQVRySSxFQUNGZ2EsRUFBR0MsVUFBWTVSLEVBQVdySSxHQUVWLFFBQVRBLEVBQ1BnYSxFQUFHRSxRQUFVN1IsRUFBV3JJLEdBR3hCZ2EsRUFBR0csYUFBYW5hLEVBQU1xSSxFQUFXckksRUFBSyxFQUcxQyxPQUFPZ2EsQ0FDVCxDQXVDQSxTQUFTaEMsR0FBaUJOLEdBYXhCLElBWEEsSUFBSTdRLEVBQU8sRUFDUEMsRUFBTSxFQUNOc1QsRUFBYW5tQixFQUFPd0ksU0FBUzRkLGdCQUM3QkMsRUFBT3JtQixFQUFPd0ksU0FBUzZkLE1BQVEsQ0FDN0JDLFdBQVksRUFBR0MsVUFBVyxDQUM1QixFQU1HOUMsSUFBWUEsRUFBUWpPLFlBQWNpTyxFQUFRK0MsU0FHL0MvQyxFQUFVQSxFQUFRak8sWUFBY2lPLEVBQVErQyxRQUV4QnhtQixFQUFPd0ksVUFDckJvSyxFQUFPeVQsRUFBS0MsWUFBY0gsRUFBV0csWUFBYyxFQUNuRHpULEVBQU13VCxFQUFLRSxXQUFjSixFQUFXSSxXQUFhLElBR2pEM1QsR0FBUTZRLEVBQVE2QyxZQUFjLEVBQzlCelQsR0FBTzRRLEVBQVE4QyxXQUFhLEdBR0wsSUFBckI5QyxFQUFRZ0QsVUFBNkMsVUFBM0JoRCxFQUFRck8sTUFBTUMsWUFLOUMsTUFBTyxDQUFFekMsS0FBTUEsRUFBTUMsSUFBS0EsQ0FBSSxDQUNoQyxDQStLQSxTQUFTNlQsTUE4TFQsU0FBU0MsS0FDUCxNQUFPLEVBQ1QsQ0FFQSxTQUFTQyxHQUFjelUsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDOUIsTUFBTyxDQUFDNUosRUFBSTVhLEtBQUtHLElBQUkyUCxFQUFJMFUsR0FBS3hrQixLQUFLRCxHQUFLLEVBQUUsRUFBSTZhLEVBQUk5TSxDQUNwRCxDQTRHQSxTQUFTMlcsS0FDUCxPQUFPcm9CLEVBQWtCbUMsTUFBTVosRUFBT3lJLE9BQVE1SCxTQUFTLENBQ3pELENBaUJBLFNBQVNrbUIsR0FBZUMsRUFBTzdKLEVBQUs4SixHQUNsQyxJQUFJQyxFQUFRLFFBQ05DLFNBQVVILEVBQU0sR0FBS0MsR0FBTzlKLEVBQUksR0FBSzZKLEVBQU0sSUFBTSxFQUFFLEVBQUksSUFDdkRHLFNBQVVILEVBQU0sR0FBS0MsR0FBTzlKLEVBQUksR0FBSzZKLEVBQU0sSUFBTSxFQUFFLEVBQUksSUFDdkRHLFNBQVVILEVBQU0sR0FBS0MsR0FBTzlKLEVBQUksR0FBSzZKLEVBQU0sSUFBTSxFQUFFLEVBSXpELE9BRkFFLEdBQVMsS0FBT0YsR0FBUzdKLEVBQU1oSyxXQUFXNlQsRUFBTSxHQUFLQyxHQUFPOUosRUFBSSxHQUFLNkosRUFBTSxHQUFHLEVBQUksSUFDekUsR0FFWCxDQWlFQSxTQUFTSSxHQUFVbFgsRUFBRytNLEVBQUd0WSxFQUFHeEIsR0FjMUIsT0FYRUEsRUFGRStNLEVBQUk3TixLQUFLTyxJQUFJcWEsQ0FBQyxHQUNoQi9NLEVBQUkrTSxFQUNBdFksRUFBSSxHQUlFLElBQU5zWSxHQUFpQixJQUFOL00sRUFDVHZMLEdBQUssRUFBSXRDLEtBQUtELElBQU1DLEtBQUtnbEIsS0FBSyxDQUFDLEVBRy9CMWlCLEdBQUssRUFBSXRDLEtBQUtELElBQU1DLEtBQUtnbEIsS0FBS3BLLEVBQUkvTSxDQUFDLEVBR3BDLENBQUVBLEVBQUdBLEVBQUcrTSxFQUFHQSxFQUFHdFksRUFBR0EsRUFBR3hCLEVBQUdBLENBQUUsQ0FDbEMsQ0FFQSxTQUFTbWtCLEdBQVFDLEVBQU1wVixFQUFHMFUsR0FDeEIsT0FBT1UsRUFBS3JYLEVBQ1Y3TixLQUFLM0UsSUFBSSxFQUFHLEdBQUssRUFBQ3lVLENBQU8sRUFDekI5UCxLQUFLRSxLQUFNNFAsRUFBSTBVLEVBQUlVLEVBQUtwa0IsSUFBTSxFQUFJZCxLQUFLRCxJQUFNbWxCLEVBQUs1aUIsQ0FBRSxDQUN4RCxDQTZRQSxTQUFTNmlCLEdBQWFyVixFQUFHaEMsRUFBRzhNLEVBQUc0SixHQUM3QixPQUFPNUosRUFBSXdLLEdBQWVaLEVBQUkxVSxFQUFHLEVBQUc4SyxFQUFHNEosQ0FBQyxFQUFJMVcsQ0FDOUMsQ0FNQSxTQUFTc1gsR0FBY3RWLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBQzlCLE9BQUsxVSxHQUFLMFUsR0FBTSxFQUFJLEtBQ1g1SixHQUFLLE9BQVM5SyxFQUFJQSxHQUFLaEMsRUFFdkJnQyxFQUFLLEVBQUksS0FDVDhLLEdBQUssUUFBVTlLLEdBQU0sSUFBTSxNQUFTQSxFQUFJLEtBQVFoQyxFQUVoRGdDLEVBQUssSUFBTSxLQUNYOEssR0FBSyxRQUFVOUssR0FBTSxLQUFPLE1BQVNBLEVBQUksT0FBVWhDLEVBR25EOE0sR0FBSyxRQUFVOUssR0FBTSxNQUFRLE1BQVNBLEVBQUksU0FBWWhDLENBRWpFLENBMTlCS3VWLElBQ0hGLEVBQVUsU0FBU0MsR0FFakIsSUFEQSxJQUFJaUMsRUFBTSxJQUFJbGdCLE1BQU1pZSxFQUFVM3BCLE1BQU0sRUFBR0UsRUFBSXlwQixFQUFVM3BCLE9BQzlDRSxDQUFDLElBQ04wckIsRUFBSTFyQixHQUFLeXBCLEVBQVV6cEIsR0FFckIsT0FBTzByQixDQUNULEdBb0pBckMsR0FERXJsQixFQUFPd0ksU0FBU21mLGFBQWUzbkIsRUFBT3dJLFNBQVNtZixZQUFZQyxpQkFDM0MsU0FBU25FLEVBQVNvRSxHQUM5QnpTLEVBQVFwVixFQUFPd0ksU0FBU21mLFlBQVlDLGlCQUFpQm5FLEVBQVMsSUFBSSxFQUN0RSxPQUFPck8sRUFBUUEsRUFBTXlTLEdBQVF2ckIsS0FBQUEsQ0FDL0IsRUFHa0IsU0FBU21uQixFQUFTb0UsR0FDbEMsSUFBSS9iLEVBQVEyWCxFQUFRck8sTUFBTXlTLEdBSTFCLE9BRkUvYixFQURFLENBQUNBLEdBQVMyWCxFQUFRa0IsYUFDWmxCLEVBQVFrQixhQUFha0QsR0FFeEIvYixDQUNULEVBSUlzSixFQUFRcFYsRUFBT3dJLFNBQVM0ZCxnQkFBZ0JoUixNQUN4Q2tRLEVBQWEsZUFBZ0JsUSxFQUN6QixhQUNBLGtCQUFtQkEsRUFDakIsZ0JBQ0EscUJBQXNCQSxFQUNwQixtQkFDQSxvQkFBcUJBLEVBQ25CLGtCQUNBLEdBd0NkcFYsRUFBT2IsS0FBSzJvQix3QkFoQ1osU0FBaUNyRSxHQVUvQixPQVRxQyxTQUExQkEsRUFBUXNFLGdCQUNqQnRFLEVBQVFzRSxjQUFnQi9uQixFQUFPYixLQUFLd1UsZUFFbEMyUixFQUNGN0IsRUFBUXJPLE1BQU1rUSxHQUFjLE9BRVcsVUFBaEMsT0FBTzdCLEVBQVF1RSxlQUN0QnZFLEVBQVF1RSxhQUFlLE1BRWxCdkUsQ0FDVCxFQXNCQXpqQixFQUFPYixLQUFLOG9CLHNCQWRaLFNBQStCeEUsR0FVN0IsT0FUcUMsU0FBMUJBLEVBQVFzRSxnQkFDakJ0RSxFQUFRc0UsY0FBZ0IsTUFFdEJ6QyxFQUNGN0IsRUFBUXJPLE1BQU1rUSxHQUFjLEdBRVcsVUFBaEMsT0FBTzdCLEVBQVF1RSxlQUN0QnZFLEVBQVF1RSxhQUFlLElBRWxCdkUsQ0FDVCxFQXdDRnpqQixFQUFPYixLQUFLK29CLGtCQWRaLFNBQTJCN08sRUFBS3ZOLEdBQzlCdU4sRUFBSThPLHNCQUF3QjlPLEVBQUk4Tyx1QkFBeUI5TyxFQUFJK08sNkJBQ3hEL08sRUFBSWdQLDBCQUE0QmhQLEVBQUlpUCx5QkFBMkJqUCxFQUFJa1AsdUJBQ3hFbFAsRUFBSThPLHNCQUF3QnJjLENBQzlCLEVBV0E5TCxFQUFPYixLQUFLcXBCLFFBdlJaLFNBQWlCcnRCLEdBQ2YsTUFBcUIsVUFBZCxPQUFPQSxFQUFrQjZFLEVBQU93SSxTQUFTaWdCLGVBQWV0dEIsQ0FBRSxFQUFJQSxDQUN2RSxFQXNSQTZFLEVBQU9iLEtBQUtxbUIsUUFBVUEsRUFDdEJ4bEIsRUFBT2IsS0FBS3VwQixTQTlOWixTQUFrQmpGLEVBQVN1QyxHQUNyQnZDLEdBQThFLENBQUMsS0FBbkUsSUFBTUEsRUFBUXVDLFVBQVksS0FBS3psQixRQUFRLElBQU15bEIsRUFBWSxHQUFHLElBQzFFdkMsRUFBUXVDLFlBQWN2QyxFQUFRdUMsVUFBWSxJQUFNLElBQU1BLEVBRTFELEVBMk5BaG1CLEVBQU9iLEtBQUswbUIsWUFBY0EsR0FDMUI3bEIsRUFBT2IsS0FBS3dwQixZQWxOWixTQUFxQmxGLEVBQVNtRixFQUFTeFUsR0FRckMsTUFQdUIsVUFBbkIsT0FBT3dVLElBQ1RBLEVBQVUvQyxHQUFZK0MsRUFBU3hVLENBQVUsR0FFdkNxUCxFQUFRak8sWUFDVmlPLEVBQVFqTyxXQUFXcVQsYUFBYUQsRUFBU25GLENBQU8sRUFFbERtRixFQUFRdFQsWUFBWW1PLENBQU8sRUFDcEJtRixDQUNULEVBME1BNW9CLEVBQU9iLEtBQUs0a0IsaUJBQW1CQSxHQUMvQi9qQixFQUFPYixLQUFLMnBCLGlCQXpKWixTQUEwQnJGLEdBQ3hCLElBSUlzRixFQVlLbEIsRUFmTG1CLEVBQU12RixHQUFXQSxFQUFRd0YsY0FDekJDLEVBQU0sQ0FBRXRXLEtBQU0sRUFBR0MsSUFBSyxDQUFFLEVBQ3hCc1csRUFBUyxDQUFFdlcsS0FBTSxFQUFHQyxJQUFLLENBQUUsRUFFM0J1VyxFQUFtQixDQUNqQkMsZ0JBQWlCLE9BQ2pCQyxlQUFpQixNQUNqQkMsWUFBaUIsT0FDakJDLFdBQWlCLEtBQ25CLEVBRUosR0FBSSxDQUFDUixFQUNILE9BQU9HLEVBR1QsSUFBU3RCLEtBQVF1QixFQUNmRCxFQUFPQyxFQUFpQnZCLEtBQVVWLFNBQVM5QixHQUFnQjVCLEVBQVNvRSxDQUFJLEVBQUcsRUFBRSxHQUFLLEVBVXBGLE9BUEE0QixFQUFVVCxFQUFJNUMsZ0JBQ2dDLFNBQWxDM0MsRUFBUWlHLHdCQUNsQlIsRUFBTXpGLEVBQVFpRyxzQkFBc0IsR0FHdENYLEVBQWdCaEYsR0FBaUJOLENBQU8sRUFFakMsQ0FDTDdRLEtBQU1zVyxFQUFJdFcsS0FBT21XLEVBQWNuVyxNQUFRNlcsRUFBUUUsWUFBYyxHQUFLUixFQUFPdlcsS0FDekVDLElBQUtxVyxFQUFJclcsSUFBTWtXLEVBQWNsVyxLQUFPNFcsRUFBUUcsV0FBYSxHQUFNVCxFQUFPdFcsR0FDeEUsQ0FDRixFQTBIQTdTLEVBQU9iLEtBQUswcUIsY0ExQ1osU0FBdUJwRyxHQUVyQixPQURJcUcsRUFBTzlwQixFQUFPb0osb0JBQW9CcWEsQ0FBTyxHQUNqQ3NHLFNBQVdELEVBQUtFLE1BQzlCLEVBd0NBaHFCLEVBQU9iLEtBQUs4cUIsaUJBdENaLFNBQTBCeEcsR0FDbkJ6akIsQ0FBQUEsRUFBT3NILGVBR1J3aUIsRUFBTzlwQixFQUFPb0osb0JBQW9CcWEsQ0FBTyxLQUUzQ3FHLEVBQUtFLE9BQVMsS0FDZEYsRUFBS0MsUUFBVSxLQUVmRCxFQUFLSSxZQUFjLEtBQ25CSixFQUFLSyxZQUFjLEtBQ25CTCxFQUFLTSxXQUFhLEtBRXRCLEVBa0ZBcHFCLEVBQU9iLEtBQUtrckIsUUFqQ1osU0FBaUI3VixFQUFLN0ksR0FHcEIsSUFwQnFCNkksRUFvQmpCc04sR0FGSm5XLEVBQUFBLEdBQXNCLElBRURtVyxPQUFTblcsRUFBUW1XLE9BQU83TixZQUFZLEVBQUksTUFDekRxVyxFQUFhM2UsRUFBUTJlLFlBQWMsYUFDbkNDLEVBQU0sSUFBSXZxQixFQUFPeUksT0FBTytoQixlQUN4Qm5FLEVBQU8xYSxFQUFRMGEsTUFBUTFhLEVBQVE4ZSxXQXdCbkMsT0FyQkFGLEVBQUlHLG1CQUFxQixXQUNBLElBQW5CSCxFQUFJSSxhQUNOTCxFQUFXQyxDQUFHLEVBQ2RBLEVBQUlHLG1CQUFxQmhFLEdBRTdCLEVBRWUsUUFBWDVFLElBQ0Z1RSxFQUFPLEtBQzJCLFVBQTlCLE9BQU8xYSxFQUFROGUsYUFuQ0FqVyxFQW9DR0EsRUFwQ0VvVyxFQW9DR2pmLEVBQVE4ZSxXQUFqQ2pXLEVBbkNHQSxHQUFPLEtBQUtzUSxLQUFLdFEsQ0FBRyxFQUFJLElBQU0sS0FBT29XLElBdUM1Q0wsRUFBSU0sS0FBSy9JLEVBQVF0TixFQUFLLEVBQUksRUFFWCxTQUFYc04sR0FBZ0MsUUFBWEEsR0FDdkJ5SSxFQUFJTyxpQkFBaUIsZUFBZ0IsbUNBQW1DLEVBRzFFUCxFQUFJUSxLQUFLMUUsQ0FBSSxFQUNOa0UsQ0FDVCxFQVVGdnFCLEVBQU91SSxJQUFNRCxRQUFRQyxJQU1yQnZJLEVBQU9nckIsS0FBTzFpQixRQUFRMGlCLEtBS2hCenNCLEVBQVN5QixFQUFPYixLQUFLcU4sT0FBT2pPLE9BQzVCQyxFQUFRd0IsRUFBT2IsS0FBS3FOLE9BQU9oTyxNQTJDM0J5c0IsRUFBcUIsR0FDekJqckIsRUFBT2IsS0FBS3FOLE9BQU9qTyxPQUFPMHNCLEVBQW9CLENBTTVDQyxVQUFXLFdBQ1QsSUFBSUMsRUFBYTN2QixLQUFLb1IsT0FBTyxDQUFDLEVBSTlCLE9BSEF1ZSxFQUFXeFosUUFBUSxTQUFVeVosR0FDM0JBLEVBQVVDLE9BQU8sQ0FDbkIsQ0FBQyxFQUNNRixDQUNULEVBT0FHLGVBQWdCLFNBQVUvVCxHQUN4QixJQUdJZ1UsRUFISixPQUFLaFUsSUFHRGdVLEVBQVkvdkIsS0FBS3FRLE9BQU8sU0FBVXVmLEdBQ3BDLE1BQW1DLFVBQTVCLE9BQU9BLEVBQVVuUyxRQUF1Qm1TLEVBQVVuUyxPQUFPMUIsU0FBV0EsQ0FDN0UsQ0FBQyxHQUNTNUYsUUFBUSxTQUFVeVosR0FDMUJBLEVBQVVDLE9BQU8sQ0FDbkIsQ0FBQyxFQUNNRSxHQVJFLEVBU1gsRUFPQUMsZUFBZ0IsU0FBVXZTLEdBQ3BCc1MsRUFBWS92QixLQUFLaXdCLHVCQUF1QnhTLENBQU0sRUFJbEQsT0FIQXNTLEVBQVU1WixRQUFRLFNBQVV5WixHQUMxQkEsRUFBVUMsT0FBTyxDQUNuQixDQUFDLEVBQ01FLENBQ1QsRUFPQUcsbUJBQW9CLFNBQVVDLEdBQzVCLE9BQU9ud0IsS0FBSytFLFFBQVEvRSxLQUFLb3dCLGNBQWNELENBQVUsQ0FBQyxDQUNwRCxFQU9BQyxjQUFlLFNBQVVELEdBQ3ZCLE9BQU9ud0IsS0FBS3lMLEtBQUssU0FBVW1rQixHQUN6QixPQUFPQSxFQUFVQyxTQUFXTSxDQUM5QixDQUFDLENBQ0gsRUFPQUYsdUJBQXdCLFNBQVV4UyxHQUNoQyxPQUFLQSxFQUdFemQsS0FBS3FRLE9BQU8sU0FBVXVmLEdBQzNCLE9BQU9BLEVBQVVuUyxTQUFXQSxDQUM5QixDQUFDLEVBSlEsRUFLWCxDQUNGLENBQUMsRUFrR0d4YSxFQUFvQnVCLEVBQU95SSxPQUFPb2pCLHVCQUNkN3JCLEVBQU95SSxPQUFPcWpCLDZCQUNkOXJCLEVBQU95SSxPQUFPc2pCLDBCQUNkL3JCLEVBQU95SSxPQUFPdWpCLHdCQUNkaHNCLEVBQU95SSxPQUFPd2pCLHlCQUNkLFNBQVNoZixHQUNQLE9BQU9qTixFQUFPeUksT0FBT3lqQixXQUFXamYsRUFBVSxJQUFPLEVBQUUsQ0FDckQsRUFFcEJ2TyxFQUFtQnNCLEVBQU95SSxPQUFPMGpCLHNCQUF3Qm5zQixFQUFPeUksT0FBTzJqQixhQWlCM0Vwc0IsRUFBT2IsS0FBS2t0QixRQXhHWixTQUFpQjFnQixHQUlVLFNBQXJCMmdCLElBQ0UsSUFBSTdmLEVBQVF6TSxFQUFPdXNCLGtCQUFrQmhzQixRQUFRMk0sQ0FBTyxFQUNwRCxNQUFlLENBQUMsRUFBVFQsR0FBY3pNLEVBQU91c0Isa0JBQWtCM2YsT0FBT0gsRUFBTyxDQUFDLEVBQUUsRUFDakUsQ0FMSixJQUFJNGUsRUFBUyxHQU9ibmUsRUFBVTNPLEVBQU9DLEVBUmpCbU4sRUFBQUEsR0FBc0IsRUFRUSxFQUFHLENBQy9CMGYsT0FBUSxXQUVOLE9BREFBLEVBQVMsR0FDRmlCLEVBQW1CLENBQzVCLEVBQ0FFLGFBQWMsZUFBZ0I3Z0IsRUFBVUEsRUFBUThnQixXQUFhLEVBQzdEQyxlQUFnQixFQUNoQkMsYUFBYyxDQUNoQixDQUFDLEVBMERELE9BekRBM3NCLEVBQU91c0Isa0JBQWtCdHhCLEtBQUtpUyxDQUFPLEVBRXJDNFosR0FBaUIsU0FBUzhGLEdBQ3hCLElBRStCQyxFQUYzQjNQLEVBQVEwUCxHQUFhLENBQUMsSUFBSUUsS0FDMUJDLEVBQVdwaEIsRUFBUW9oQixVQUFZLElBQy9CQyxFQUFTOVAsRUFBUTZQLEVBQ2pCRSxFQUFXdGhCLEVBQVFzaEIsVUFBWXRHLEdBQy9CdUcsRUFBUXZoQixFQUFRdWhCLE9BQVN2RyxHQUN6QjJELEVBQWEzZSxFQUFRMmUsWUFBYzNELEdBQ25Dd0csRUFBU3hoQixFQUFRd2hCLFFBQVV2RyxHQUMzQndHLEVBQVMsZUFBZ0J6aEIsR0FBc0MsRUFBNUJBLEVBQVE4Z0IsV0FBVzN3QixPQUN0RDJ3QixFQUFhLGVBQWdCOWdCLEVBQVVBLEVBQVE4Z0IsV0FBYSxFQUM1RFksRUFBVyxhQUFjMWhCLEVBQVVBLEVBQVEwaEIsU0FBVyxJQUN0REMsRUFBVTNoQixFQUFRMmhCLFVBQVlGLEVBQVNYLEVBQVdoeEIsSUFBSSxTQUFTcVEsRUFBTzlQLEdBQ3BFLE9BQU9xeEIsRUFBU3J4QixHQUFLeXdCLEVBQVd6d0IsRUFDbEMsQ0FBQyxFQUFJcXhCLEVBQVdaLEdBRXBCOWdCLEVBQVE0aEIsU0FBVzVoQixFQUFRNGhCLFFBQVEsRUFFbkMsU0FBVUMsRUFBS0MsR0FDYlosRUFBT1ksR0FBWSxDQUFDLElBQUlYLEtBQ3hCLElBQUlZLEVBQXFCVixFQUFQSCxFQUFnQkUsRUFBWUYsRUFBTzNQLEVBQ2pEeVEsRUFBV0QsRUFBY1gsRUFDekJwbkIsRUFBVXluQixFQUFTWCxFQUFXaHhCLElBQUksU0FBU215QixFQUFRNXhCLEdBQ2pELE9BQU9teEIsRUFBT08sRUFBYWpCLEVBQVd6d0IsR0FBSXN4QixFQUFRdHhCLEdBQUkrd0IsQ0FBUSxDQUNoRSxDQUFDLEVBQUlJLEVBQU9PLEVBQWFqQixFQUFZYSxFQUFTUCxDQUFRLEVBQ3REYyxFQUFZVCxFQUFTL3FCLEtBQUtPLEtBQUsrQyxFQUFRLEdBQUs4bUIsRUFBVyxJQUFNYSxFQUFRLEVBQUUsRUFDbkVqckIsS0FBS08sS0FBSytDLEVBQVU4bUIsR0FBY2EsQ0FBTyxFQUVqRHBnQixFQUFRc2YsYUFBZVksRUFBU3puQixFQUFRM0gsTUFBTSxFQUFJMkgsRUFDbER1SCxFQUFRd2YsZUFBaUJtQixFQUN6QjNnQixFQUFReWYsYUFBZWdCLEVBQ25CdEMsSUFHQTZCLEVBQU12bkIsRUFBU2tvQixFQUFXRixDQUFRLEVBQ3BDckIsRUFBbUIsRUFHVlUsRUFBUEgsR0FFRjNmLEVBQVFzZixhQUFlWSxFQUFTQyxFQUFTcnZCLE1BQU0sRUFBSXF2QixFQUNuRG5nQixFQUFRd2YsZUFBaUIsRUFDekJ4ZixFQUFReWYsYUFBZSxFQUV2Qk0sRUFBU0csRUFBU0MsRUFBU3J2QixNQUFNLEVBQUlxdkIsRUFBVSxFQUFHLENBQUMsRUFDbkQvQyxFQUFXK0MsRUFBVSxFQUFHLENBQUMsRUFDekJmLEVBQW1CLElBSW5CVyxFQUFTdG5CLEVBQVNrb0IsRUFBV0YsQ0FBUSxFQUNyQzdHLEdBQWlCMEcsQ0FBSSxHQUV4QixFQUFFdFEsQ0FBSyxDQUNWLENBQUMsRUFFTWhRLEVBQVFtZSxNQUNqQixFQTZCQXJyQixFQUFPYixLQUFLMm5CLGlCQUFtQkEsR0FDL0I5bUIsRUFBT2IsS0FBSzJ1QixnQkFOWixXQUNFLE9BQU9wdkIsRUFBaUJrQyxNQUFNWixFQUFPeUksT0FBUTVILFNBQVMsQ0FDeEQsRUFLQWIsRUFBT3VzQixrQkFBb0J0QixFQTJFM0JqckIsRUFBT2IsS0FBSzR1QixhQTNDWixTQUFzQkMsRUFBV0MsRUFBU2xCLEVBQVVwaEIsR0FDbEQsSUFBSXVpQixFQUFhLElBQUlsdUIsRUFBT211QixNQUFNSCxDQUFTLEVBQUVJLFVBQVUsRUFDbkRDLEVBQVcsSUFBSXJ1QixFQUFPbXVCLE1BQU1GLENBQU8sRUFBRUcsVUFBVSxFQUMvQ0UsRUFBcUIzaUIsRUFBUTJlLFdBQzdCaUUsRUFBbUI1aUIsRUFBUXNoQixTQUcvQixPQUZBdGhCLEVBQVVBLEdBQVcsR0FFZDNMLEVBQU9iLEtBQUtrdEIsUUFBUXJzQixFQUFPYixLQUFLcU4sT0FBT2pPLE9BQU9vTixFQUFTLENBQzVEb2hCLFNBQVVBLEdBQVksSUFDdEJOLFdBQVl5QixFQUNaYixTQUFVZ0IsRUFDVmYsUUFBU2UsRUFDVGxCLE9BQVEsU0FBVU8sRUFBYWpCLEVBQVlhLEVBQVNQLEdBSWxELE9BQU9oRyxHQUFlMEYsRUFBWWEsRUFIbkIzaEIsRUFBUTZpQixZQUNuQjdpQixFQUFRNmlCLFlBQVlkLEVBQWFYLENBQVEsRUFDekMsRUFBSTFxQixLQUFLRyxJQUFJa3JCLEVBQWNYLEdBQVkxcUIsS0FBS0QsR0FBSyxFQUFFLENBQ0osQ0FDckQsRUFFQWtvQixXQUFZLFNBQVMza0IsRUFBU2tvQixFQUFXRixHQUN2QyxHQUFJVyxFQUNGLE9BQU9BLEVBQ0x2SCxHQUFlc0gsRUFBVUEsRUFBVSxDQUFDLEVBQ3BDUixFQUNBRixDQUNGLENBRUosRUFDQVYsU0FBVSxTQUFTdG5CLEVBQVNrb0IsRUFBV0YsR0FDckMsR0FBSVksRUFBa0IsQ0FDcEIsR0FBSS9tQixNQUFNNFAsUUFBUXpSLENBQU8sRUFDdkIsT0FBTzRvQixFQUNMeEgsR0FBZXBoQixFQUFTQSxFQUFTLENBQUMsRUFDbENrb0IsRUFDQUYsQ0FDRixFQUVGWSxFQUFpQjVvQixFQUFTa29CLEVBQVdGLENBQVEsQ0FDL0MsQ0FDRixDQUNGLENBQUMsQ0FBQyxDQUNKLEVBa1ZBM3RCLEVBQU9iLEtBQUtzdkIsS0FBTyxDQU1qQkMsV0FBWSxTQUFTdmMsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDNUIsT0FBTzVKLEdBQUs5SyxHQUFLMFUsR0FBSzFVLEVBQUloQyxDQUM1QixFQU1Bd2UsWUFBYSxTQUFTeGMsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDN0IsTUFBTyxDQUFDNUosR0FBSzlLLEdBQUswVSxJQUFNMVUsRUFBSSxHQUFLaEMsQ0FDbkMsRUFNQXllLGNBQWUsU0FBU3pjLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBRS9CLE9BREExVSxHQUFNMFUsRUFBSSxHQUNGLEVBQ0M1SixFQUFJLEVBQUk5SyxFQUFJQSxFQUFJaEMsRUFFbEIsQ0FBQzhNLEVBQUksR0FBSyxFQUFHOUssR0FBTUEsRUFBSSxHQUFLLEdBQUtoQyxDQUMxQyxFQU1BMGUsWUFBYSxTQUFTMWMsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDN0IsT0FBTzVKLEdBQUs5SyxHQUFLMFUsR0FBSzFVLEVBQUlBLEVBQUloQyxDQUNoQyxFQUVBMmUsYUFwVkYsU0FBc0IzYyxFQUFHaEMsRUFBRzhNLEVBQUc0SixHQUM3QixPQUFPNUosSUFBTTlLLEVBQUlBLEVBQUkwVSxFQUFJLEdBQUsxVSxFQUFJQSxFQUFJLEdBQUtoQyxDQUM3QyxFQW1WRTRlLGVBN1VGLFNBQXdCNWMsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FFL0IsT0FEQTFVLEdBQUswVSxFQUFJLEdBQ0QsRUFDQzVKLEVBQUksRUFBSTlLLEVBQUlBLEVBQUlBLEVBQUloQyxFQUV0QjhNLEVBQUksSUFBTTlLLEdBQUssR0FBS0EsRUFBSUEsRUFBSSxHQUFLaEMsQ0FDMUMsRUF3VUU2ZSxZQWxVRixTQUFxQjdjLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBQzVCLE9BQU81SixHQUFLOUssR0FBSzBVLEdBQUsxVSxFQUFJQSxFQUFJQSxFQUFJaEMsQ0FDcEMsRUFpVUU4ZSxhQTNURixTQUFzQjljLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBQzdCLE1BQU8sQ0FBQzVKLElBQU05SyxFQUFJQSxFQUFJMFUsRUFBSSxHQUFLMVUsRUFBSUEsRUFBSUEsRUFBSSxHQUFLaEMsQ0FDbEQsRUEwVEUrZSxlQXBURixTQUF3Qi9jLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBRS9CLE9BREExVSxHQUFLMFUsRUFBSSxHQUNELEVBQ0M1SixFQUFJLEVBQUk5SyxFQUFJQSxFQUFJQSxFQUFJQSxFQUFJaEMsRUFFMUIsQ0FBQzhNLEVBQUksSUFBTTlLLEdBQUssR0FBS0EsRUFBSUEsRUFBSUEsRUFBSSxHQUFLaEMsQ0FDL0MsRUErU0VnZixZQXpTRixTQUFxQmhkLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBQzVCLE9BQU81SixHQUFLOUssR0FBSzBVLEdBQUsxVSxFQUFJQSxFQUFJQSxFQUFJQSxFQUFJaEMsQ0FDeEMsRUF3U0VpZixhQWxTRixTQUFzQmpkLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBQzdCLE9BQU81SixJQUFNOUssRUFBSUEsRUFBSTBVLEVBQUksR0FBSzFVLEVBQUlBLEVBQUlBLEVBQUlBLEVBQUksR0FBS2hDLENBQ3JELEVBaVNFa2YsZUEzUkYsU0FBd0JsZCxFQUFHaEMsRUFBRzhNLEVBQUc0SixHQUUvQixPQURBMVUsR0FBSzBVLEVBQUksR0FDRCxFQUNDNUosRUFBSSxFQUFJOUssRUFBSUEsRUFBSUEsRUFBSUEsRUFBSUEsRUFBSWhDLEVBRTlCOE0sRUFBSSxJQUFNOUssR0FBSyxHQUFLQSxFQUFJQSxFQUFJQSxFQUFJQSxFQUFJLEdBQUtoQyxDQUNsRCxFQXNSRW1mLFdBaFJGLFNBQW9CbmQsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDM0IsTUFBTyxDQUFDNUosRUFBSTVhLEtBQUtHLElBQUkyUCxFQUFJMFUsR0FBS3hrQixLQUFLRCxHQUFLLEVBQUUsRUFBSTZhLEVBQUk5TSxDQUNwRCxFQStRRW9mLFlBelFGLFNBQXFCcGQsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDNUIsT0FBTzVKLEVBQUk1YSxLQUFLRSxJQUFJNFAsRUFBSTBVLEdBQUt4a0IsS0FBS0QsR0FBSyxFQUFFLEVBQUkrTixDQUMvQyxFQXdRRXFmLGNBbFFGLFNBQXVCcmQsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDOUIsTUFBTyxDQUFDNUosRUFBSSxHQUFLNWEsS0FBS0csSUFBSUgsS0FBS0QsR0FBSytQLEVBQUkwVSxDQUFDLEVBQUksR0FBSzFXLENBQ3BELEVBaVFFc2YsV0EzUEYsU0FBb0J0ZCxFQUFHaEMsRUFBRzhNLEVBQUc0SixHQUMzQixPQUFjLElBQU4xVSxFQUFXaEMsRUFBSThNLEVBQUk1YSxLQUFLM0UsSUFBSSxFQUFHLElBQU15VSxFQUFJMFUsRUFBSSxFQUFFLEVBQUkxVyxDQUM3RCxFQTBQRXVmLFlBcFBGLFNBQXFCdmQsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDNUIsT0FBUTFVLElBQU0wVSxFQUFLMVcsRUFBSThNLEVBQUlBLEdBQWlDLEVBQTNCNWEsS0FBSzNFLElBQUksRUFBRyxDQUFDLEdBQUt5VSxFQUFJMFUsQ0FBQyxHQUFTMVcsQ0FDbkUsRUFtUEV3ZixjQTdPRixTQUF1QnhkLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBQzlCLE9BQVUsSUFBTjFVLEVBQ0toQyxFQUVMZ0MsSUFBTTBVLEVBQ0QxVyxFQUFJOE0sR0FFYjlLLEdBQUswVSxFQUFJLEdBQ0QsRUFDQzVKLEVBQUksRUFBSTVhLEtBQUszRSxJQUFJLEVBQUcsSUFBTXlVLEVBQUksRUFBRSxFQUFJaEMsRUFFdEM4TSxFQUFJLEdBQStCLEVBQXpCNWEsS0FBSzNFLElBQUksRUFBRyxDQUFDLEdBQUssRUFBRXlVLENBQUMsR0FBU2hDLENBQ2pELEVBa09FeWYsV0E1TkYsU0FBb0J6ZCxFQUFHaEMsRUFBRzhNLEVBQUc0SixHQUMzQixNQUFPLENBQUM1SixHQUFLNWEsS0FBSzdFLEtBQUssR0FBSzJVLEdBQUswVSxHQUFLMVUsQ0FBQyxFQUFJLEdBQUtoQyxDQUNsRCxFQTJORTBmLFlBck5GLFNBQXFCMWQsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDNUIsT0FBTzVKLEVBQUk1YSxLQUFLN0UsS0FBSyxHQUFLMlUsRUFBSUEsRUFBSTBVLEVBQUksR0FBSzFVLENBQUMsRUFBSWhDLENBQ2xELEVBb05FMmYsY0E5TUYsU0FBdUIzZCxFQUFHaEMsRUFBRzhNLEVBQUc0SixHQUU5QixPQURBMVUsR0FBSzBVLEVBQUksR0FDRCxFQUNDLENBQUM1SixFQUFJLEdBQUs1YSxLQUFLN0UsS0FBSyxFQUFJMlUsRUFBSUEsQ0FBQyxFQUFJLEdBQUtoQyxFQUV4QzhNLEVBQUksR0FBSzVhLEtBQUs3RSxLQUFLLEdBQUsyVSxHQUFLLEdBQUtBLENBQUMsRUFBSSxHQUFLaEMsQ0FDckQsRUF5TUU0ZixjQW5NRixTQUF1QjVkLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBQzlCLElBQWlCbGlCLEVBQUksRUFDckIsT0FBVSxJQUFOd04sRUFDS2hDLEVBR0MsS0FEVmdDLEdBQUswVSxHQUVJMVcsRUFBSThNLEVBTU4sQ0FBQ3FLLEdBREdGLEdBWGlCbkssRUFXSkEsRUFBR3RZLEVBSHRCQSxHQUNLLEdBQUpraUIsRUFURSxPQVd1QixFQUNUMVUsRUFBRzBVLENBQUMsRUFBSTFXLENBQ2hDLEVBc0xFNmYsZUFoTEYsU0FBd0I3ZCxFQUFHaEMsRUFBRzhNLEVBQUc0SixHQUMvQixJQUFpQmxpQixFQUFJLEVBQ3JCLE9BQVUsSUFBTndOLEVBQ0toQyxFQUdDLEtBRFZnQyxHQUFLMFUsR0FFSTFXLEVBQUk4TSxHQUtUc0ssRUFBT0gsR0FYaUJuSyxFQVdKQSxFQUFHdFksRUFIdEJBLEdBQ0ssR0FBSmtpQixFQVRFLE9BV3VCLEdBQ25CM1csRUFBSTdOLEtBQUszRSxJQUFJLEVBQUcsQ0FBQyxHQUFLeVUsQ0FBQyxFQUFJOVAsS0FBS0UsS0FBSzRQLEVBQUkwVSxFQUFJVSxFQUFLcGtCLElBQU0sRUFBSWQsS0FBS0QsSUFBTW1sQixFQUFLNWlCLENBQUUsRUFBSTRpQixFQUFLdEssRUFBSTlNLENBQ3pHLEVBbUtFOGYsaUJBN0pGLFNBQTBCOWQsRUFBR2hDLEVBQUc4TSxFQUFHNEosR0FDakMsSUFBaUJsaUIsRUFBSSxFQUNyQixPQUFVLElBQU53TixFQUNLaEMsRUFHQyxLQURWZ0MsR0FBSzBVLEVBQUksR0FFQTFXLEVBQUk4TSxHQUtUc0ssRUFBT0gsR0FYaUJuSyxFQVdKQSxFQUFHdFksRUFIdEJBLEdBQ0NraUIsR0FBSyxHQUFNLEtBVFQsT0FXdUIsRUFDM0IxVSxFQUFJLEVBQ0MsQ0FBQyxHQUFNbVYsR0FBUUMsRUFBTXBWLEVBQUcwVSxDQUFDLEVBQUkxVyxFQUUvQm9YLEVBQUtyWCxFQUFJN04sS0FBSzNFLElBQUksRUFBRyxDQUFDLEdBQUssRUFBQ3lVLENBQU8sRUFDeEM5UCxLQUFLRSxLQUFLNFAsRUFBSTBVLEVBQUlVLEVBQUtwa0IsSUFBTSxFQUFJZCxLQUFLRCxJQUFNbWxCLEVBQUs1aUIsQ0FBRSxFQUFJLEdBQU00aUIsRUFBS3RLLEVBQUk5TSxFQUMxRSxFQTRJRStmLFdBdElGLFNBQW9CL2QsRUFBR2hDLEVBQUc4TSxFQUFHNEosRUFBRzFqQixHQUk5QixPQUFPOFosR0FBSzlLLEdBQUswVSxHQUFLMVUsS0FGcEJoUCxFQURRN0csS0FBQUEsSUFBTjZHLEVBQ0UsUUFFc0JBLEdBQUksR0FBS2dQLEVBQUloUCxHQUFLZ04sQ0FDaEQsRUFrSUVnZ0IsWUE1SEYsU0FBcUJoZSxFQUFHaEMsRUFBRzhNLEVBQUc0SixFQUFHMWpCLEdBSS9CLE9BQU84WixJQUFNOUssRUFBSUEsRUFBSTBVLEVBQUksR0FBSzFVLEtBRjVCaFAsRUFEUTdHLEtBQUFBLElBQU42RyxFQUNFLFFBRThCQSxHQUFJLEdBQUtnUCxFQUFJaFAsR0FBSyxHQUFLZ04sQ0FDN0QsRUF3SEVpZ0IsY0FsSEYsU0FBdUJqZSxFQUFHaEMsRUFBRzhNLEVBQUc0SixFQUFHMWpCLEdBS2pDLE9BSlU3RyxLQUFBQSxJQUFONkcsSUFDRkEsRUFBSSxVQUVOZ1AsR0FBSzBVLEVBQUksR0FDRCxFQUNDNUosRUFBSSxHQUFLOUssRUFBSUEsSUFBdUIsR0FBaEJoUCxHQUFLLFFBQWdCZ1AsRUFBSWhQLElBQU1nTixFQUVyRDhNLEVBQUksSUFBTTlLLEdBQUssR0FBS0EsSUFBdUIsR0FBaEJoUCxHQUFLLFFBQWdCZ1AsRUFBSWhQLEdBQUssR0FBS2dOLENBQ3ZFLEVBMEdFcVgsYUFBY0EsR0FDZEMsY0FBZUEsR0FDZjRJLGdCQTNFRixTQUF5QmxlLEVBQUdoQyxFQUFHOE0sRUFBRzRKLEdBQ2hDLE9BQUkxVSxFQUFJMFUsRUFBSSxFQUM2QixHQUFoQ1csR0FBa0IsRUFBSnJWLEVBQU8sRUFBRzhLLEVBQUc0SixDQUFDLEVBQVUxVyxFQUVKLEdBQXBDc1gsR0FBa0IsRUFBSnRWLEVBQVEwVSxFQUFHLEVBQUc1SixFQUFHNEosQ0FBQyxFQUFjLEdBQUo1SixFQUFVOU0sQ0FDN0QsQ0F1RUEsRUFLRixTQUFVNVMsR0FFUixhQU9BLElBeU9NMk0sRUFLQUosRUF5QkF3SSxFQWNBZ2UsRUFHQUMsRUF4UkZ2d0IsRUFBU3pDLEVBQU95QyxTQUFXekMsRUFBT3lDLE9BQVMsSUFDM0N6QixFQUFTeUIsRUFBT2IsS0FBS3FOLE9BQU9qTyxPQUM1QkMsRUFBUXdCLEVBQU9iLEtBQUtxTixPQUFPaE8sTUFDM0JjLEVBQVVVLEVBQU9iLEtBQUtHLFFBQ3RCK1QsRUFBWXJULEVBQU9iLEtBQUtrVSxVQUN4QjBFLEVBQTRCL1gsRUFBT2IsS0FBSzRZLDBCQVF4Q3lZLEVBQWdCLENBQ2R0dEIsR0FBc0IsT0FDdEIyQixFQUFzQixPQUN0Qm1PLEVBQXNCLFNBQ3RCNVAsR0FBc0IsTUFDdEIwQixFQUFzQixNQUN0QjJyQixRQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJwZSxVQUFzQixrQkFDdEIsZUFBc0IsY0FDdEIsWUFBc0IsV0FDdEIsY0FBc0IsYUFDdEIsWUFBc0IsV0FDdEIsYUFBc0IsWUFDdEIsY0FBc0IsYUFDdEIsaUJBQXNCLGNBQ3RCLGNBQXNCLGFBQ3RCLG1CQUFzQixrQkFDdEIsb0JBQXNCLG1CQUN0QixpQkFBc0IsZ0JBQ3RCLGtCQUFzQixpQkFDdEIsb0JBQXNCLG1CQUN0QixpQkFBc0IsZ0JBQ3RCLGVBQXNCLGNBQ3RCLGtCQUFzQixpQkFDdEIsY0FBc0IsYUFDdEJrUyxRQUFzQixVQUN0QixZQUFzQixXQUN0QixZQUFzQixXQUN0QixnQkFBc0IsZ0JBQ3RCLGtCQUFzQixnQkFDeEIsRUFFQW1NLEVBQWtCLENBQ2hCdlUsT0FBUSxnQkFDUjNiLEtBQVEsYUFDVixFQUVBbXdCLEVBQVEsWUFBYUMsRUFBUSxZQTRGakMsU0FBU0MsRUFBWXBKLEdBQ25CLE9BQU8sSUFBSWpKLE9BQU8sS0FBT2lKLEVBQUkzckIsS0FBSyxHQUFHLEVBQUksT0FBUSxHQUFHLENBQ3RELENBaUNBLFNBQVNnMUIsRUFBa0IvSCxFQUFLZ0ksR0FFOUIsSUFEQSxJQUE4QkMsRUFBaEJDLEVBQVksR0FDckJsMUIsRUFBSSxFQUFHOEosRUFBTWtyQixFQUFVbDFCLE9BQVFFLEVBQUk4SixFQUFLOUosQ0FBQyxHQUM1Q20xQixFQUFXSCxFQUFVaDFCLEdBQ3JCaTFCLEVBQVdqSSxFQUFJb0kscUJBQXFCRCxDQUFRLEVBQzVDRCxFQUFZQSxFQUFVcjFCLE9BQU8yTCxNQUFNWSxVQUFVcEssTUFBTXFLLEtBQUs0b0IsQ0FBUSxDQUFDLEVBRW5FLE9BQU9DLENBQ1QsQ0FtQ0UsU0FBU0csRUFBV3RZLEVBQVEyRixFQUFNdUksR0FDaENsTyxFQUFPa08sR0FBTzVrQixLQUFLd1csSUFBSTdZLEVBQU9iLEtBQUtILGlCQUFpQjBmLEVBQUssRUFBRSxDQUFDLENBQzlELENBd0pGLFNBQVM0UyxFQUEwQjdOLEVBQVM4TixHQUMxQyxJQUNTQyxFQURMNVUsRUFBUyxHQUNiLElBQVM0VSxLQUFReHhCLEVBQU95eEIsU0FBU0YsR0FDL0IsR0FZSixTQUE0QjlOLEVBQVNpTyxHQUNuQyxJQUFJQyxFQUFlQyxFQUFpQixJQUVwQ0QsRUFBZ0JFLEVBQWdCcE8sRUFBU2lPLEVBQVUxWCxJQUFJLENBQUMsSUFDbkMwWCxFQUFVNTFCLFNBQzdCODFCLEVBS0osU0FBNkJuTyxFQUFTaU8sR0FDcEMsSUFBSUksRUFBVUYsRUFBaUIsR0FDL0IsS0FBT25PLEVBQVFqTyxZQUE4QyxJQUFoQ2lPLEVBQVFqTyxXQUFXaVIsVUFBa0JpTCxFQUFVNTFCLFFBQ3RFODFCLElBQ0ZFLEVBQVdKLEVBQVUxWCxJQUFJLEdBRTNCeUosRUFBVUEsRUFBUWpPLFdBQ2xCb2MsRUFBaUJDLEVBQWdCcE8sRUFBU3FPLENBQVEsRUFFcEQsT0FBNEIsSUFBckJKLEVBQVU1MUIsTUFDbkIsRUFmeUMybkIsRUFBU2lPLENBQVMsR0FFekQsT0FBT0MsR0FBaUJDLEdBQXdDLElBQXJCRixFQUFVNTFCLE1BQ3ZELEVBcEIyQjJuQixFQUFTK04sRUFBS2xkLE1BQU0sR0FBRyxDQUFDLEVBQzdDLElBQUssSUFBSTdNLEtBQVl6SCxFQUFPeXhCLFNBQVNGLEdBQVFDLEdBQzNDNVUsRUFBT25WLEdBQVl6SCxFQUFPeXhCLFNBQVNGLEdBQVFDLEdBQU0vcEIsR0FJdkQsT0FBT21WLENBQ1QsQ0E4QkEsU0FBU2lWLEVBQWdCcE8sRUFBU3FPLEdBQ2hDLElBRThDOTFCLEVBRjFDbTFCLEVBQVcxTixFQUFRME4sU0FDbkJZLEVBQWF0TyxFQUFRdU8sYUFBYSxPQUFPLEVBQ3pDNzJCLEVBQUtzb0IsRUFBUXVPLGFBQWEsSUFBSSxFQUdsQ0MsRUFBVSxJQUFJeFQsT0FBTyxJQUFNMFMsRUFBVSxHQUFHLEVBTXhDLEdBTEFXLEVBQVdBLEVBQVM3UCxRQUFRZ1EsRUFBUyxFQUFFLEVBQ25DOTJCLEdBQU0yMkIsRUFBU2gyQixTQUNqQm0yQixFQUFVLElBQUl4VCxPQUFPLElBQU10akIsRUFBSyxtQkFBb0IsR0FBRyxFQUN2RDIyQixFQUFXQSxFQUFTN1AsUUFBUWdRLEVBQVMsRUFBRSxHQUVyQ0YsR0FBY0QsRUFBU2gyQixPQUV6QixJQUFLRSxHQURMKzFCLEVBQWFBLEVBQVd6ZCxNQUFNLEdBQUcsR0FDYnhZLE9BQVFFLENBQUMsSUFDM0JpMkIsRUFBVSxJQUFJeFQsT0FBTyxNQUFRc1QsRUFBVy8xQixHQUFLLG1CQUFvQixHQUFHLEVBQ3BFODFCLEVBQVdBLEVBQVM3UCxRQUFRZ1EsRUFBUyxFQUFFLEVBRzNDLE9BQTJCLElBQXBCSCxFQUFTaDJCLE1BQ2xCLENBTUEsU0FBU28yQixFQUFZbEosRUFBSzd0QixHQUN4QixJQUFJNHFCLEVBRUosR0FEdUJBLEVBQXZCaUQsRUFBSVAsZUFBd0JPLEVBQUlQLGVBQWV0dEIsQ0FBRSxFQUM3QzRxQixFQUNGLE9BQU9BLEVBR1QsSUFEQSxJQUFJb00sRUFBY0MsRUFBV3BKLEVBQUlvSSxxQkFBcUIsR0FBRyxFQUNwRHAxQixFQUFJLEVBQUc4SixFQUFNc3NCLEVBQVN0MkIsT0FBUUUsRUFBSThKLEVBQUs5SixDQUFDLEdBRTNDLEdBQUliLEtBREpnM0IsRUFBT0MsRUFBU3AyQixJQUNBZzJCLGFBQWEsSUFBSSxFQUMvQixPQUFPRyxDQUdiLENBalpBbnlCLEVBQU9xeUIsc0JBQXdCdkIsRUE5Q1IsQ0FBQyxPQUFRLFNBQVUsVUFBVyxXQUFZLFVBQVcsT0FBUSxPQUM5RSxRQUFTLE9BNkM0QyxFQUMzRDl3QixFQUFPc3lCLHdCQUEwQnhCLEVBN0NSLENBQUMsU0FBVSxRQUFTLFNBQVUsVUFBVyxPQUFRLE1BNkNYLEVBQy9EOXdCLEVBQU91eUIseUJBQTJCekIsRUE3Q1IsQ0FBQyxVQUFXLE9BQVEsU0FBVSxXQUFZLFdBQVksT0FBUSxPQTZDdkIsRUFDakU5d0IsRUFBT3d5QixxQkFBdUIxQixFQTdDUixDQUFDLFNBQVUsSUFBSyxJQUFLLE1BQU8sV0FBWSxPQTZDTCxFQUV6RDl3QixFQUFPeXhCLFNBQVcsR0FDbEJ6eEIsRUFBT3l5QixhQUFlLEdBQ3RCenlCLEVBQU8weUIsVUFBWSxHQXdJbkIxeUIsRUFBTzJ5Qix5QkFxQ0R6b0IsRUFBVWxLLEVBQU9rSyxRQUdqQitJLEVBQVNqVCxFQUFPNkosTUFFaEJDLEVBQVc5SixFQUFPOEosU0F5QmxCd0ksRUFBWSxPQVRILDBCQUNPVyxFQUFTLElBQU1uSixFQUNyQixJQUFNbUosRUFBUyxJQUFNbkosRUFDckIsSUFBTW1KLEVBQVMsSUFBTW5KLEVBQ3JCLElBQU1tSixFQUFTLElBQU1uSixFQUNyQixJQUFNbUosRUFBUyxJQUFNbkosRUFDckIsSUFBTW1KLEVBQ04sYUFHVyxLQWJULDZCQUErQkEsRUFBUyxPQUN4Q25KLEVBQVcsSUFBTW1KLEVBQVMsZUFhZCxLQWpCaEIseUJBQTJCQSxFQUFTLE9BQ2hDbkosRUFBVyxJQUFNbUosRUFBUyxlQWlCbEIsS0F0QlgsMEJBQTRCQSxFQUFTLE9BQ2xDbkosRUFBVyxJQUFNbUosRUFBUyxJQUMxQm5KLEVBQVcsSUFBTW1KLEVBQVMsZUFxQmpCLEtBM0JiLHlCQUEyQkEsRUFBUyxhQTRCeEIsS0ExQloseUJBQTJCQSxFQUFTLGFBNEJoQyxJQU9acWQsRUFBa0IsSUFBSTdSLE9BSE4sWUFGSCxNQUFRbk0sRUFBWSxNQUFReEksRUFBVyxJQUFNd0ksRUFBbUIsT0FFbkMsU0FHQSxFQUcxQ2llLEVBQWMsSUFBSTlSLE9BQU9uTSxFQUFXLEdBQUcsRUFFcEMsU0FBU3NnQixHQUdkLElBQUk3WixFQUFTN08sRUFBUXJPLE9BQU8sRUFDeEJnM0IsRUFBVyxHQUlmLEdBQUksQ0FBQ0QsR0FBcUMsQ0FBQ3RDLEVBQWdCeEwsS0FBSzhOLENBQWMsRUFDNUUsT0FBTzdaLEVBR1Q2WixFQUFlM1EsUUFBUXNPLEVBQWEsU0FBU3BTLEdBRTNDLElBbEdFM2IsRUFBZ0NELEVBQ2hDc0MsRUFBT0MsRUEwQllpVSxFQUFRMkYsRUF1RXpCbEIsRUFBSSxJQUFJaUIsT0FBT25NLENBQVMsRUFBRWtCLEtBQUsySyxDQUFLLEVBQUV0UyxPQUFPLFNBQVVzUyxHQUVyRCxNQUFPLENBQUUsQ0FBQ0EsQ0FDWixDQUFDLEVBQ0QyVSxFQUFZdFYsRUFBRSxHQUNka0IsRUFBT2xCLEVBQUV4ZixNQUFNLENBQUMsRUFBRXZDLElBQUkwWCxVQUFVLEVBRXBDLE9BQVEyZixHQUNOLElBQUssWUEvRXNCcFUsRUFnRkRBLEdBaEZQM0YsRUFnRkRBLEdBL0VmLEdBQUsyRixFQUFLLEdBQ0csSUFBaEJBLEVBQUs1aUIsU0FDUGlkLEVBQU8sR0FBSzJGLEVBQUssSUE4RWIsTUFDRixJQUFLLFNBQ0hBLEVBQUssR0FBSzFlLEVBQU9iLEtBQUtILGlCQUFpQjBmLEVBQUssRUFBRSxFQS9HaEMzRixFQWdIREEsRUFoSFMyRixFQWdIREEsRUEvR3ZCbGMsRUFBTXhDLEVBQU9iLEtBQUtxRCxJQUFJa2MsRUFBSyxFQUFFLEVBQUduYyxFQUFNdkMsRUFBT2IsS0FBS29ELElBQUltYyxFQUFLLEVBQUUsRUFDdEQ1WixFQUFQRCxFQUFJLEVBQ1ksSUFBaEI2WixFQUFLNWlCLFNBQ1ArSSxFQUFJNlosRUFBSyxHQUNUNVosRUFBSTRaLEVBQUssSUFHWDNGLEVBQU8sR0FBS3ZXLEVBQ1p1VyxFQUFPLEdBQUt4VyxFQUNad1csRUFBTyxHQUFLLENBQUN4VyxFQUNid1csRUFBTyxHQUFLdlcsRUFDWnVXLEVBQU8sR0FBS2xVLEdBQUtyQyxFQUFNcUMsRUFBSXRDLEVBQU11QyxHQUNqQ2lVLEVBQU8sR0FBS2pVLEdBQUt2QyxFQUFNc0MsRUFBSXJDLEVBQU1zQyxHQW9HM0IsTUFDRixJQUFLLFFBbEdVaVUsRUFtR0RBLEVBbEdkZ2EsR0FEdUJyVSxFQW1HREEsR0FsR0gsR0FDbkJzVSxFQUErQixJQUFoQnRVLEVBQUs1aUIsT0FBZ0I0aUIsRUFBSyxHQUFLQSxFQUFLLEdBRXZEM0YsRUFBTyxHQUFLZ2EsRUFDWmhhLEVBQU8sR0FBS2lhLEVBK0ZOLE1BQ0YsSUFBSyxRQUNIM0IsRUFBV3RZLEVBQVEyRixFQUFNLENBQUMsRUFDMUIsTUFDRixJQUFLLFFBQ0gyUyxFQUFXdFksRUFBUTJGLEVBQU0sQ0FBQyxFQUMxQixNQUNGLElBQUssU0FDSDNGLEVBQVMyRixDQUViLENBR0FtVSxFQUFTNTNCLEtBQUs4ZCxFQUFPbGQsT0FBTyxDQUFDLEVBRTdCa2QsRUFBUzdPLEVBQVFyTyxPQUFPLENBQzFCLENBQUMsRUFHRCxJQURBLElBQUlvM0IsRUFBaUJKLEVBQVMsR0FDTCxFQUFsQkEsRUFBUy8yQixRQUNkKzJCLEVBQVMxUCxNQUFNLEVBQ2Y4UCxFQUFpQmp6QixFQUFPYixLQUFLNFksMEJBQTBCa2IsRUFBZ0JKLEVBQVMsRUFBRSxFQUVwRixPQUFPSSxDQUNULEdBMkxGLElBQUlDLEVBQXFCLElBQUl6VSxPQUMzQixTQUNVemUsRUFBTzZKLE1BQ2pCLGdCQUFVN0osRUFBTzZKLE1BQ2pCLGdCQUFVN0osRUFBTzZKLE1BQ2pCLGdCQUFVN0osRUFBTzZKLE1BQ2pCLFNBQ0YsRUFLQSxTQUFTc3BCLEVBQXNCMVAsR0FDN0IsR0FBSSxDQUFDempCLEVBQU9zeUIsd0JBQXdCeE4sS0FBS3JCLEVBQVEwTixRQUFRLEVBQ3ZELE1BQU8sR0FFVCxJQUtJaUMsRUFBNkJyYSxFQUFRZ04sRUFMckNzTixFQUFjNVAsRUFBUXVPLGFBQWEsU0FBUyxFQUM1Q3ZnQixFQUFTLEVBQ1RDLEVBQVMsRUFJVDRoQixFQUFZN1AsRUFBUXVPLGFBQWEsT0FBTyxFQUN4Q3VCLEVBQWE5UCxFQUFRdU8sYUFBYSxRQUFRLEVBQzFDbnRCLEVBQUk0ZSxFQUFRdU8sYUFBYSxHQUFHLEdBQUssRUFDakNsdEIsRUFBSTJlLEVBQVF1TyxhQUFhLEdBQUcsR0FBSyxFQUNqQ3dCLEVBQXNCL1AsRUFBUXVPLGFBQWEscUJBQXFCLEdBQUssR0FDckV5QixFQUFrQixDQUFDSixHQUFlLEVBQUVBLEVBQWNBLEVBQVlsVixNQUFNK1UsQ0FBa0IsR0FDdEZRLEVBQWtCLENBQUNKLEdBQWEsQ0FBQ0MsR0FBNEIsU0FBZEQsR0FBdUMsU0FBZkMsRUFDdkVJLEVBQWFGLEdBQWtCQyxFQUMvQkUsRUFBWSxHQUFLQyxFQUFrQixHQUFJQyxFQUFZLEVBQUdDLEVBQWEsRUFnQnZFLEdBZEFILEVBQVVuaEIsTUFBUSxFQUNsQm1oQixFQUFVOWdCLE9BQVMsRUFDbkI4Z0IsRUFBVUQsV0FBYUEsRUFFbkJGLElBQ0k1dUIsR0FBS0MsSUFBTTJlLEVBQVFqTyxZQUE4QyxjQUFoQ2lPLEVBQVFqTyxXQUFXMmIsV0FDeEQwQyxFQUFrQixjQUFnQnhnQixFQUFVeE8sQ0FBQyxFQUFJLElBQU13TyxFQUFVdk8sQ0FBQyxFQUFJLEtBQ3RFaVUsR0FBVTBLLEVBQVF1TyxhQUFhLFdBQVcsR0FBSyxJQUFNNkIsRUFDckRwUSxFQUFReUMsYUFBYSxZQUFhbk4sQ0FBTSxFQUN4QzBLLEVBQVF1USxnQkFBZ0IsR0FBRyxFQUMzQnZRLEVBQVF1USxnQkFBZ0IsR0FBRyxHQUkzQkwsQ0FBQUEsRUFJSixHQUFJRixFQUNGRyxFQUFVbmhCLE1BQVFZLEVBQVVpZ0IsQ0FBUyxFQUNyQ00sRUFBVTlnQixPQUFTTyxFQUFVa2dCLENBQVUsT0FtRHpDLEdBL0NBL2dCLEVBQU8sQ0FBQ1csV0FBV2tnQixFQUFZLEVBQUUsRUFDakMxZ0IsRUFBTyxDQUFDUSxXQUFXa2dCLEVBQVksRUFBRSxFQUNqQ0QsRUFBZWpnQixXQUFXa2dCLEVBQVksRUFBRSxFQUN4Q1ksRUFBZ0I5Z0IsV0FBV2tnQixFQUFZLEVBQUUsRUFDekNPLEVBQVVwaEIsS0FBT0EsRUFDakJvaEIsRUFBVWpoQixLQUFPQSxFQUNqQmloQixFQUFVUixhQUFlQSxFQUN6QlEsRUFBVUssY0FBZ0JBLEVBQ3JCUCxHQU9IRSxFQUFVbmhCLE1BQVEyZ0IsRUFDbEJRLEVBQVU5Z0IsT0FBU21oQixJQVBuQkwsRUFBVW5oQixNQUFRWSxFQUFVaWdCLENBQVMsRUFDckNNLEVBQVU5Z0IsT0FBU08sRUFBVWtnQixDQUFVLEVBQ3ZDOWhCLEVBQVNtaUIsRUFBVW5oQixNQUFRMmdCLEVBQzNCMWhCLEVBQVNraUIsRUFBVTlnQixPQUFTbWhCLEdBU0ssVUFEbkNULEVBQXNCeHpCLEVBQU9iLEtBQUt3YSxrQ0FBa0M2WixDQUFtQixHQUMvRHZaLFNBRWtCLFNBQXBDdVosRUFBb0IxWixjQUN0QnBJLEVBQVNELEVBQW1CQyxFQUFURCxFQUFrQkMsRUFBU0QsR0FHUixVQUFwQytoQixFQUFvQjFaLGNBQ3RCcEksRUFBU0QsRUFBbUJDLEVBQVRELEVBQWtCQSxFQUFTQyxHQUdoRG9pQixFQUFZRixFQUFVbmhCLE1BQVEyZ0IsRUFBZTNoQixFQUM3Q3NpQixFQUFhSCxFQUFVOWdCLE9BQVNtaEIsRUFBZ0J4aUIsRUFDYixRQUEvQitoQixFQUFvQnZaLFNBQ3RCNlosR0FBYSxHQUVvQixRQUEvQk4sRUFBb0J0WixTQUN0QjZaLEdBQWMsR0FFbUIsUUFBL0JQLEVBQW9CdlosU0FDdEI2WixFQUFZLEdBRXFCLFFBQS9CTixFQUFvQnRaLFNBQ3RCNlosRUFBYSxJQUlGLElBQVh0aUIsR0FBMkIsSUFBWEMsR0FBeUIsR0FBVGMsR0FBdUIsR0FBVEcsR0FBb0IsSUFBTjlOLEdBQWlCLElBQU5DLEVBQTNFLENBZUEsR0FSQWlVLEdBSEU4YSxHQURHaHZCLEdBQUtDLElBQXNDLGNBQWhDMmUsRUFBUWpPLFdBQVcyYixTQUNmLGNBQWdCOWQsRUFBVXhPLENBQUMsRUFBSSxJQUFNd08sRUFBVXZPLENBQUMsRUFBSSxLQUcvRCt1QixHQUFrQixXQUFhcGlCLEVBRTFCLFFBQ0FDLEVBQVMsS0FDUmMsRUFBT2YsRUFBU3FpQixHQUFhLEtBQzdCbmhCLEVBQU9qQixFQUFTcWlCLEdBQWMsS0FHcEIsUUFBckJ0USxFQUFRME4sU0FBb0IsQ0FHOUIsSUFGQXBMLEVBQUt0QyxFQUFRd0YsY0FBY2lMLGdCQUFnQmwwQixFQUFPbUssTUFBTyxHQUFHLEVBRXJEc1osRUFBUTBRLFlBQ2JwTyxFQUFHelEsWUFBWW1PLEVBQVEwUSxVQUFVLEVBRW5DMVEsRUFBUW5PLFlBQVl5USxDQUFFLENBQ3hCLE1BRUVBLEVBQUt0QyxHQUNGdVEsZ0JBQWdCLEdBQUcsRUFDdEJqTyxFQUFHaU8sZ0JBQWdCLEdBQUcsRUFDdEJqYixFQUFTZ04sRUFBR2lNLGFBQWEsV0FBVyxFQUFJalosRUFFMUNnTixFQUFHRyxhQUFhLFlBQWFuTixDQUFNLENBM0JuQyxDQTRCQSxPQUFPNmEsQ0FDVCxDQXdCQTV6QixFQUFPbzBCLGlCQUFtQixTQUFTcEwsRUFBSy9iLEVBQVUwSSxFQUFTMGUsR0FDekQsR0FBS3JMLEVBQUwsQ0FJQXNMLENBcE9GLFNBQTRCdEwsR0FFMUIsSUFEQSxJQUFJb0osRUFBV3JCLEVBQWtCL0gsRUFBSyxDQUFDLE1BQU8sVUFBVSxFQUFHaHRCLEVBQUksRUFDeERvMkIsRUFBU3QyQixRQUFVRSxFQUFJbzJCLEVBQVN0MkIsUUFBUSxDQUM3QyxJQUFJaXFCLEVBQUtxTSxFQUFTcDJCLEdBQ2R1NEIsRUFBaUJ4TyxFQUFHaU0sYUFBYSxZQUFZLEdBQUtqTSxFQUFHaU0sYUFBYSxNQUFNLEVBRTVFLEdBQXVCLE9BQW5CdUMsRUFDRixPQUdGLElBTWlDMU0sRUFON0IyTSxFQUFRRCxFQUFldjJCLE1BQU0sQ0FBQyxFQUM5QjZHLEVBQUlraEIsRUFBR2lNLGFBQWEsR0FBRyxHQUFLLEVBQzVCbHRCLEVBQUlpaEIsRUFBR2lNLGFBQWEsR0FBRyxHQUFLLEVBQzVCeUMsRUFBTXZDLEVBQVlsSixFQUFLd0wsQ0FBSyxFQUFFRSxVQUFVLEVBQUksRUFDNUNDLEdBQWdCRixFQUFJekMsYUFBYSxXQUFXLEdBQUssSUFBTSxjQUFnQm50QixFQUFJLEtBQU9DLEVBQUksSUFFdEY4dkIsRUFBWXhDLEVBQVN0MkIsT0FJckIrWCxFQUFZN1QsRUFBT21LLE1BR3ZCLEdBREFncEIsRUFBc0JzQixDQUFHLEVBQ3JCLFNBQVMzUCxLQUFLMlAsRUFBSXRELFFBQVEsRUFBRyxDQUUvQixJQURBLElBQ1kwRCxFQURSQyxFQUFNTCxFQUFJeEwsY0FBY2lMLGdCQUFnQnJnQixFQUFXLEdBQUcsRUFDckRpTCxFQUFJLEVBQTJCaFosR0FBTSt1QixFQUF0QkosRUFBSXJnQixZQUF3QnRZLE9BQVFnakIsRUFBSWhaLEVBQUtnWixDQUFDLEdBQ2hFK0ksRUFBT2dOLEVBQU1uNUIsS0FBS29qQixDQUFDLEVBQ25CZ1csRUFBSUMsZUFBZWxoQixFQUFXZ1UsRUFBS3NKLFNBQVV0SixFQUFLbU4sU0FBUyxFQUc3RCxLQUFPUCxFQUFJTixZQUNUVyxFQUFJeGYsWUFBWW1mLEVBQUlOLFVBQVUsRUFFaENNLEVBQU1LLENBQ1IsQ0FFQSxJQUFLaFcsRUFBSSxFQUEwQmhaLEdBQXZCK3VCLEVBQVE5TyxFQUFHM1IsWUFBd0J0WSxPQUFRZ2pCLEVBQUloWixFQUFLZ1osQ0FBQyxHQUV6QyxPQUR0QitJLEVBQU9nTixFQUFNbjVCLEtBQUtvakIsQ0FBQyxHQUNWcVMsVUFBc0MsTUFBbEJ0SixFQUFLc0osVUFDZCxlQUFsQnRKLEVBQUtzSixVQUErQyxTQUFsQnRKLEVBQUtzSixXQUluQixjQUFsQnRKLEVBQUtzSixTQUNQd0QsRUFBZTlNLEVBQUttTixVQUFZLElBQU1MLEVBR3RDRixFQUFJdk8sYUFBYTJCLEVBQUtzSixTQUFVdEosRUFBS21OLFNBQVMsR0FJbERQLEVBQUl2TyxhQUFhLFlBQWF5TyxDQUFZLEVBQzFDRixFQUFJdk8sYUFBYSxzQkFBdUIsR0FBRyxFQUMzQ3VPLEVBQUlULGdCQUFnQixJQUFJLEVBQ1hqTyxFQUFHdlEsV0FDTHFULGFBQWE0TCxFQUFLMU8sQ0FBRSxFQUUzQnFNLEVBQVN0MkIsU0FBVzg0QixHQUN0QjU0QixDQUFDLEVBRUwsQ0FDRixFQXVLcUJndEIsQ0FBRyxFQUV0QixJQUFJdUksRUFBVXZ4QixFQUFPb1csT0FBTzZlLEtBQUssR0FDN0J0cEIsRUFBVXduQixFQUFzQm5LLENBQUcsRUFDbkNrTSxFQUFjbDFCLEVBQU9iLEtBQUtxbUIsUUFBUXdELEVBQUlvSSxxQkFBcUIsR0FBRyxDQUFDLEVBSW5FLEdBSEF6bEIsRUFBUThJLFlBQWM0ZixHQUFrQkEsRUFBZTVmLFlBQ3ZEOUksRUFBUTRsQixPQUFTQSxFQUVVLElBQXZCMkQsRUFBWXA1QixRQUFnQmtFLEVBQU9zSCxhQUFjLENBS25ELElBREEsSUFBSW9nQixFQUFNLEdBQ0wxckIsRUFBSSxFQUFHOEosR0FBTW92QixFQUZKbE0sRUFBSW1NLFlBQVkscUJBQXFCLEdBRXJCcjVCLE9BQVFFLEVBQUk4SixFQUFLOUosQ0FBQyxHQUM5QzByQixFQUFJMXJCLEdBQUtrNUIsRUFBWWw1QixHQUV2Qms1QixFQUFjeE4sQ0FDaEIsQ0FFQSxJQVNJZ0wsRUFUQTViLEVBQVdvZSxFQUFZcnBCLE9BQU8sU0FBU2thLEdBRXpDLE9BREFvTixFQUFzQnBOLENBQUUsRUFDakIvbEIsRUFBT3F5QixzQkFBc0J2TixLQUFLaUIsRUFBR29MLFNBQVNsUCxRQUFRLE9BQVEsRUFBRSxDQUFDLEdBQ2xFLENBakRWLFNBQWlDd0IsRUFBUzBOLEdBQ3hDLEtBQU8xTixFQUFBQSxHQUFzQkEsRUFBUWpPLFlBQ25DLEdBQUlpTyxFQUFRME4sVUFBWUEsRUFBU3JNLEtBQUtyQixFQUFRME4sU0FBU2xQLFFBQVEsT0FBUSxFQUFFLENBQUMsR0FDckUsQ0FBQ3dCLEVBQVF1TyxhQUFhLHFCQUFxQixFQUM5QyxPQUFPLENBSWIsRUF5Q21Dak0sRUFBSS9sQixFQUFPdXlCLHdCQUF3QixDQUNwRSxDQUFDLEVBQ0l6YixHQUEwQkEsRUFBU2hiLFFBSXBDNDJCLEVBQVksR0FDaEJ3QyxFQUFZcnBCLE9BQU8sU0FBU2thLEdBQzFCLE1BQTJDLGFBQXBDQSxFQUFHb0wsU0FBU2xQLFFBQVEsT0FBUSxFQUFFLENBQ3ZDLENBQUMsRUFBRXRRLFFBQVEsU0FBU29VLEdBQ2xCLElBQUk1cUIsRUFBSzRxQixFQUFHaU0sYUFBYSxJQUFJLEVBQzdCVSxFQUFVdjNCLEdBQU02RSxFQUFPYixLQUFLcW1CLFFBQVFPLEVBQUdxTCxxQkFBcUIsR0FBRyxDQUFDLEVBQUV2bEIsT0FBTyxTQUFTa2EsR0FDaEYsT0FBTy9sQixFQUFPcXlCLHNCQUFzQnZOLEtBQUtpQixFQUFHb0wsU0FBU2xQLFFBQVEsT0FBUSxFQUFFLENBQUMsQ0FDMUUsQ0FBQyxDQUNILENBQUMsRUFDRGppQixFQUFPeXlCLGFBQWFsQixHQUFVdnhCLEVBQU9vMUIsZ0JBQWdCcE0sQ0FBRyxFQUN4RGhwQixFQUFPeXhCLFNBQVNGLEdBQVV2eEIsRUFBT3ExQixZQUFZck0sQ0FBRyxFQUNoRGhwQixFQUFPMHlCLFVBQVVuQixHQUFVbUIsRUFFM0IxeUIsRUFBT3MxQixjQUFjeGUsRUFBVSxTQUFTeWUsRUFBV3plLEdBQzdDN0osSUFDRkEsRUFBU3NvQixFQUFXNXBCLEVBQVNtTCxFQUFVb2UsQ0FBVyxFQUNsRCxPQUFPbDFCLEVBQU95eUIsYUFBYWxCLEdBQzNCLE9BQU92eEIsRUFBT3l4QixTQUFTRixHQUN2QixPQUFPdnhCLEVBQU8weUIsVUFBVW5CLEdBRTVCLEVBQUcveUIsRUFBTW1OLENBQU8sRUFBR2dLLEVBQVMwZSxDQUFjLEdBdkJ4Q3BuQixHQUFZQSxFQUFTLEdBQUksRUFBRSxDQTNCN0IsQ0FtREYsRUF3QkEsSUFBSXVvQixFQUFvQixJQUFJL1csT0FDMUIscUhBRUV6ZSxFQUFPNkosTUFDVCwyQ0FBNkM3SixFQUFPNkosTUFBUSxhQUFhLEVBRTNFdEwsRUFBT3lCLEVBQVEsQ0FTYnkxQixxQkFBc0IsU0FBUzNwQixFQUFPNHBCLEdBQ3BDLElBS0lwWixFQUdBRCxFQUNBL0ksRUFDQXFpQixFQVZBeFgsRUFBUXJTLEVBQU1xUyxNQUFNcVgsQ0FBaUIsRUFFcENyWCxJQUdEN0IsRUFBWTZCLEVBQU0sR0FHbEI5QixFQUFhOEIsRUFBTSxHQUNuQjdLLEVBQVc2SyxFQUFNLEdBQ2pCd1gsRUFBYXhYLEVBQU0sR0FDbkIvRCxFQUFhK0QsRUFBTSxHQUVuQjdCLElBQ0ZvWixFQUFPcFosVUFBWUEsR0FFakJELElBQ0ZxWixFQUFPclosV0FBYTJDLE1BQU03TCxXQUFXa0osQ0FBVSxDQUFDLEVBQUlBLEVBQWFsSixXQUFXa0osQ0FBVSxHQUVwRi9JLElBQ0ZvaUIsRUFBT3BpQixTQUFXRCxFQUFVQyxDQUFRLEdBRWxDOEcsSUFDRnNiLEVBQU90YixXQUFhQSxHQUVsQnViLElBQ0ZELEVBQU9DLFdBQTRCLFdBQWZBLEVBQTBCLEVBQUlBLEdBRXRELEVBVUFQLGdCQUFpQixTQUFTcE0sR0FTeEIsSUFSQSxJQU1JakQsRUFEQTZQLEVBQVM3RSxFQUFrQi9ILEVBTGhCLENBQ1QsaUJBQ0EsaUJBQ0EscUJBQ0EscUJBQ3NDLEVBQ3BDbEssRUFBSSxFQUFHMlQsRUFBZSxHQUM5QjNULEVBQUk4VyxFQUFPOTVCLE9BQ0pnakIsQ0FBQyxLQUNOaUgsRUFBSzZQLEVBQU85VyxJQUNMa1QsYUFBYSxZQUFZLEdBQzlCNkQsQ0F4RlIsU0FBU0EsRUFBK0I3TSxFQUFLOE0sR0FDM0MsSUFDSUMsRUFBWSxhQUVaQyxFQUFxQjlELEVBQVlsSixFQUR6QjhNLEVBQVM5RCxhQUFhK0QsQ0FBUyxFQUFFLzNCLE1BQU0sQ0FBQyxDQUNMLEVBUy9DLEdBUklnNEIsR0FBc0JBLEVBQW1CaEUsYUFBYStELENBQVMsR0FDakVGLEVBQStCN00sRUFBS2dOLENBQWtCLEVBTG5DLENBQUMsb0JBQXFCLEtBQU0sS0FBTSxLQUFNLEtBQU0sZ0JBQWlCLEtBQU0sS0FBTSxJQUFLLEtBQU0sTUFPNUZya0IsUUFBUSxTQUFTa1csR0FDMUJtTyxHQUFzQixDQUFDRixFQUFTRyxhQUFhcE8sQ0FBSSxHQUFLbU8sRUFBbUJDLGFBQWFwTyxDQUFJLEdBQzVGaU8sRUFBUzVQLGFBQWEyQixFQUFNbU8sRUFBbUJoRSxhQUFhbkssQ0FBSSxDQUFDLENBRXJFLENBQUMsRUFDRyxDQUFDaU8sRUFBU0ksU0FBU3A2QixPQUVyQixJQURBLElBQUlxNkIsRUFBaUJILEVBQW1CdEIsVUFBVSxFQUFJLEVBQy9DeUIsRUFBZWhDLFlBQ3BCMkIsRUFBU3hnQixZQUFZNmdCLEVBQWVoQyxVQUFVLEVBR2xEMkIsRUFBUzlCLGdCQUFnQitCLENBQVMsQ0FDcEMsRUFvRXVDL00sRUFBS2pELENBQUUsRUFFeEMwTSxFQUFhMU0sRUFBR2lNLGFBQWEsSUFBSSxHQUFLak0sRUFFeEMsT0FBTzBNLENBQ1QsRUFXQTJELGdCQUFpQixTQUFTM1MsRUFBU3JQLEVBQVltZCxHQUU3QyxHQUFLOU4sRUFBTCxDQUlBLElBQUkzWCxFQUVBd0gsRUFEQStpQixFQUFtQixHQVduQkMsR0FSa0IsU0FBWC9FLElBQ1RBLEVBQVM5TixFQUFRdU8sYUFBYSxRQUFRLEdBR3BDdk8sRUFBUWpPLFlBQWN4VixFQUFPd3lCLHFCQUFxQjFOLEtBQUtyQixFQUFRak8sV0FBVzJiLFFBQVEsSUFDcEZrRixFQUFtQnIyQixFQUFPbzJCLGdCQUFnQjNTLEVBQVFqTyxXQUFZcEIsRUFBWW1kLENBQU0sR0FHOURuZCxFQUFXeEcsT0FBTyxTQUFTQyxFQUFNZ2EsR0FLbkQsT0FKQS9iLEVBQVEyWCxFQUFRdU8sYUFBYW5LLENBQUksS0FFL0JoYSxFQUFLZ2EsR0FBUS9iLEdBRVIrQixDQUNULEVBQUcsRUFBRyxHQUdGMG9CLEVBQVdoNEIsRUFDYit5QixFQUEwQjdOLEVBQVM4TixDQUFNLEVBQ3pDdnhCLEVBQU93MkIsb0JBQW9CL1MsQ0FBTyxDQUNwQyxFQUNBNlMsRUFBZ0IvM0IsRUFDZCszQixFQUNBQyxDQUNGLEVBQ0lBLEVBQVMxRixJQUNYcE4sRUFBUXlDLGFBQWEySyxFQUFPMEYsRUFBUzFGLEVBQU0sRUFFN0N2ZCxFQUFXbWpCLEVBQWlCSixFQUFpQi9pQixVQUFZdFQsRUFBT3lULEtBQUtDLHNCQUNqRTRpQixFQUFjMUYsS0FFaEIwRixFQUFjMUYsR0FBU3RkLEVBQVdELEVBQVVpakIsRUFBYzFGLEdBQVE2RixDQUFjLEdBR2xGLElBQW9CQyxFQUNYN08sRUF6ekJVQSxFQXd6QmtCOE8sRUFBa0IsR0FDdkQsSUFBUzlPLEtBQVF5TyxFQUVmSSxFQW56Qk4sU0FBd0I3TyxFQUFNL2IsRUFBT3VxQixFQUFrQi9pQixHQUNyRCxJQUFvQzRLLEVBQWhDOUcsRUFBVTVQLE1BQU00UCxRQUFRdEwsQ0FBSyxFQUVqQyxHQUFjLFNBQVQrYixHQUE0QixXQUFUQSxHQUFnQyxTQUFWL2IsRUFHekMsSUFBYSxrQkFBVCtiLEVBQ1AsTUFBa0IsdUJBQVYvYixFQUVMLEdBQWEsb0JBQVQrYixFQUVML2IsRUFEWSxTQUFWQSxFQUNNLEtBR0FBLEVBQU1tVyxRQUFRLEtBQU0sR0FBRyxFQUFFM04sTUFBTSxLQUFLLEVBQUU3WSxJQUFJMFgsVUFBVSxPQUczRCxHQUFhLG9CQUFUMFUsRUFFTC9iLEVBREV1cUIsR0FBb0JBLEVBQWlCMWEsZ0JBQy9CNUQsRUFDTnNlLEVBQWlCMWEsZ0JBQWlCM2IsRUFBTzJ5Qix3QkFBd0I3bUIsQ0FBSyxDQUFDLEVBR2pFOUwsRUFBTzJ5Qix3QkFBd0I3bUIsQ0FBSyxPQUczQyxHQUFhLFlBQVQrYixFQUNQL2IsRUFBa0IsU0FBVkEsR0FBOEIsV0FBVkEsRUFFeEJ1cUIsR0FBaUQsS0FBN0JBLEVBQWlCTyxVQUN2QzlxQixFQUFRLFNBR1AsR0FBYSxZQUFUK2IsRUFDUC9iLEVBQVFxSCxXQUFXckgsQ0FBSyxFQUNwQnVxQixHQUF3RCxTQUE3QkEsRUFBaUI3UixVQUM5QzFZLEdBQVN1cUIsRUFBaUI3UixjQUd6QixHQUFhLGVBQVRxRCxFQUNQL2IsRUFBa0IsVUFBVkEsRUFBb0IsT0FBbUIsUUFBVkEsRUFBa0IsUUFBVSxjQUU5RCxHQUFhLGdCQUFUK2IsRUFFUDNKLEVBQVM3SyxFQUFVdkgsRUFBT3dILENBQVEsRUFBSUEsRUFBVyxTQUU5QyxHQUFhLGVBQVR1VSxFQUF1QixDQUM5QixJQUFJZ1AsRUFBWS9xQixFQUFNdkwsUUFBUSxNQUFNLEVBQ2hDdTJCLEVBQWNockIsRUFBTXZMLFFBQVEsUUFBUSxFQUNwQ3VMLEVBQVEsUUFDSSxDQUFDLEVBQWIrcUIsR0FBZ0MsQ0FBQyxFQUFmQyxHQUFvQkEsRUFBY0QsR0FHakMsQ0FBQyxJQUFmQSxHQUFrQyxDQUFDLEVBQWZDLEtBQzNCaHJCLEVBQVEsU0FFWixLQUNLLElBQWEsU0FBVCtiLEdBQTRCLGVBQVRBLEdBQWtDLFNBQVRBLEVBQ25ELE9BQU8vYixFQUVKLEdBQWEsbUJBQVQrYixFQUNQLE1BQWtCLG9CQUFWL2IsRUFHUm9TLEVBQVM5RyxFQUFVdEwsRUFBTXJRLElBQUk0WCxDQUFTLEVBQUlBLEVBQVV2SCxFQUFPd0gsQ0FBUSxDQUNyRSxPQTdERXhILEVBQVEsR0ErRFYsTUFBUSxDQUFDc0wsR0FBVzRILE1BQU1kLENBQU0sRUFBSXBTLEVBQVFvUyxDQUM5QyxFQTh1Qk02WSxHQTF6QmlCbFAsRUEwekJjQSxLQXh6QnZCMkksRUFDSEEsRUFBYzNJLEdBRWhCQSxFQXN6QjhDeU8sRUFBY3pPLEdBQU93TyxFQUFrQi9pQixDQUFRLEVBQ2hHcWpCLEVBQWdCSSxHQUFrQkwsRUFFaENDLEdBQW1CQSxFQUFnQkssTUFDckNoM0IsRUFBT3kxQixxQkFBcUJrQixFQUFnQkssS0FBTUwsQ0FBZSxFQUVuRSxJQXR0Qkl6UCxFQXN0QkErUCxFQUFjMTRCLEVBQU84M0IsRUFBa0JNLENBQWUsRUFDbkQzMkIsR0FBQUEsRUFBT3d5QixxQkFBcUIxTixLQUFLckIsRUFBUTBOLFFBQVEsRUFBSThGLE9BQUFBLEVBQWNDLElBeHVCbkVyUCxFQURvQnpULEVBeXVCcUU2aUIsRUF4dUJsRyxJQUFTcFAsS0FBUThJLEVBRWYsR0FBaUQsU0FBdEN2YyxFQUFXdWMsRUFBZ0I5SSxLQUErQyxLQUFyQnpULEVBQVd5VCxHQUEzRSxDQUlBLEdBQWdDLFNBQXJCelQsRUFBV3lULEdBQXVCLENBQzNDLEdBQUksQ0FBQzduQixFQUFPb1csT0FBT2hPLFVBQVV5ZixHQUMzQixTQUVGelQsRUFBV3lULEdBQVE3bkIsRUFBT29XLE9BQU9oTyxVQUFVeWYsRUFDN0MsQ0FFeUMsSUFBckN6VCxFQUFXeVQsR0FBTXRuQixRQUFRLE1BQU0sSUFJL0IybUIsRUFBUSxJQUFJbG5CLEVBQU9tdUIsTUFBTS9aLEVBQVd5VCxFQUFLLEVBQzdDelQsRUFBV3lULEdBQVFYLEVBQU1pUSxTQUFTNzNCLEVBQVE0bkIsRUFBTWtRLFNBQVMsRUFBSWhqQixFQUFXdWMsRUFBZ0I5SSxJQUFRLENBQUMsQ0FBQyxFQUFFd1AsT0FBTyxFQWQzRyxDQWdCRixPQUFPampCLENBa3FCTCxDQW1ERixFQVdBa2hCLGNBQWUsU0FBU3hlLEVBQVU3SixFQUFVdEIsRUFBU2dLLEVBQVMwZSxHQUM1RCxJQUFJcjBCLEVBQU9zM0IsZUFBZXhnQixFQUFVN0osRUFBVXRCLEVBQVNnSyxFQUFTMGUsQ0FBYyxFQUFFa0QsTUFBTSxDQUN4RixFQVNBZixvQkFBcUIsU0FBUy9TLEdBQzVCLElBamtCNkJpUyxFQUMzQjdOLEVBQU0vYixFQWdrQko0cEIsRUFBUyxHQUNUdGdCLEVBQVFxTyxFQUFRdU8sYUFBYSxPQUFPLEVBRXhDLEdBQUs1YyxFQUlMLEdBQXFCLFVBQWpCLE9BQU9BLEVBeGtCa0JzZ0IsRUF5a0JIQSxFQUFQdGdCLEVBdmtCZjZNLFFBQVEsUUFBUyxFQUFFLEVBQUUzTixNQUFNLEdBQUcsRUFBRTNDLFFBQVEsU0FBVTZsQixHQUNsREMsRUFBT0QsRUFBTWxqQixNQUFNLEdBQUcsRUFFMUJ1VCxFQUFPNFAsRUFBSyxHQUFHN1ksS0FBSyxFQUFFdkUsWUFBWSxFQUNsQ3ZPLEVBQVMyckIsRUFBSyxHQUFHN1ksS0FBSyxFQUV0QjhXLEVBQU83TixHQUFRL2IsQ0FDakIsQ0FBQyxNQWtrQk0sQ0FDSDRyQixJQTVqQkE3UCxFQUFNL2IsRUFDREMsRUFGZXFKLEVBNmpCSEEsRUE3akJVc2dCLEVBNmpCSEEsRUEzakI1QixJQUFTM3BCLEtBQVFxSixFQUNZLFNBQWhCQSxFQUFNckosS0FJakI4YixFQUFPOWIsRUFBS3NPLFlBQVksRUFDeEJ2TyxFQUFRc0osRUFBTXJKLEdBRWQycEIsRUFBTzdOLEdBQVEvYixFQW9qQmYsQ0FFQSxPQUFPNHBCLENBQ1QsRUFTQWlDLHFCQUFzQixTQUFTMW1CLEdBRzdCLEdBQUksQ0FBQ0EsRUFDSCxPQUFPLEtBU1QsSUFGQSxJQUFJMm1CLEVBQWUsR0FFZDU3QixFQUFJLEVBQUc4SixHQUhabUwsR0FGQUEsRUFBU0EsRUFBT2dSLFFBQVEsS0FBTSxHQUFHLEVBQUVyRCxLQUFLLEdBRXhCdEssTUFBTSxLQUFLLEdBR0Z4WSxPQUFRRSxFQUFJOEosRUFBSzlKLEdBQUssRUFDN0M0N0IsRUFBYTM4QixLQUFLLENBQ2hCNEosRUFBR3NPLFdBQVdsQyxFQUFPalYsRUFBRSxFQUN2QjhJLEVBQUdxTyxXQUFXbEMsRUFBT2pWLEVBQUksRUFBRSxDQUM3QixDQUFDLEVBUUgsT0FBTzQ3QixDQUNULEVBVUF2QyxZQUFhLFNBQVNyTSxHQUtwQixJQUpBLElBQUlwTSxFQUFTb00sRUFBSW9JLHFCQUFxQixPQUFPLEVBQ3pDeUcsRUFBVyxHQUdWNzdCLEVBQUksRUFBRzhKLEVBQU04VyxFQUFPOWdCLE9BQVFFLEVBQUk4SixFQUFLOUosQ0FBQyxHQUFJLENBQzdDLElBQUk4N0IsRUFBZ0JsYixFQUFPNWdCLEdBQUcrN0IsWUFJRCxNQUF6QkQsRUFEWUEsRUFBYzdWLFFBQVEsb0JBQXFCLEVBQUUsR0FDM0NyRCxLQUFLLEdBS2ZrWixFQUFjeGpCLE1BQU0sR0FBRyxFQUVqQnpJLE9BQU8sU0FBUzJsQixHQUFRLE9BQU9BLEVBQUs1UyxLQUFLLENBQUcsQ0FBQyxFQUdyRGpOLFFBQVEsU0FBUzZmLEdBRXJCLElBQUlyVCxFQUFRcVQsRUFBS2xkLE1BQU0sR0FBRyxFQUN0QjBqQixFQUFVLEdBQ1ZDLEVBRDZCOVosRUFBTSxHQUFHUyxLQUFLLEVBQ1Z0SyxNQUFNLEdBQUcsRUFBRXpJLE9BQU8sU0FBUzRyQixHQUFRLE9BQU9BLEVBQUs3WSxLQUFLLENBQUcsQ0FBQyxFQUU3RixJQUFLNWlCLEVBQUksRUFBRzhKLEVBQU1teUIsRUFBbUJuOEIsT0FBUUUsRUFBSThKLEVBQUs5SixDQUFDLEdBQUksQ0FDekQsSUFBSXk3QixFQUFPUSxFQUFtQmo4QixHQUFHc1ksTUFBTSxHQUFHLEVBQ3RDN00sRUFBV2d3QixFQUFLLEdBQUc3WSxLQUFLLEVBQ3hCOVMsRUFBUTJyQixFQUFLLEdBQUc3WSxLQUFLLEVBQ3pCb1osRUFBUXZ3QixHQUFZcUUsQ0FDdEIsRUFDQTBsQixFQUFPclQsRUFBTSxHQUFHUyxLQUFLLEdBQ2hCdEssTUFBTSxHQUFHLEVBQUUzQyxRQUFRLFNBQVN1bUIsR0FFakIsTUFEZEEsRUFBUUEsRUFBTWpXLFFBQVEsUUFBUyxFQUFFLEVBQUVyRCxLQUFLLEtBSXBDaVosRUFBU0ssR0FDWGw0QixFQUFPYixLQUFLcU4sT0FBT2pPLE9BQU9zNUIsRUFBU0ssR0FBUUYsQ0FBTyxFQUdsREgsRUFBU0ssR0FBU2w0QixFQUFPYixLQUFLcU4sT0FBT2hPLE1BQU13NUIsQ0FBTyxFQUV0RCxDQUFDLENBQ0gsQ0FBQyxDQUNILENBQ0EsT0FBT0gsQ0FDVCxFQVlBTSxlQUFnQixTQUFTM2pCLEVBQUt2SCxFQUFVMEksRUFBU2hLLEdBRS9DNkksRUFBTUEsRUFBSXlOLFFBQVEsU0FBVSxFQUFFLEVBQUVyRCxLQUFLLEVBQ3JDLElBQUk1ZSxFQUFPYixLQUFLa3JCLFFBQVE3VixFQUFLLENBQzNCc04sT0FBUSxNQUNSd0ksV0FHRixTQUFvQnRYLEdBRWRvbEIsRUFBTXBsQixFQUFFcWxCLFlBQ1osR0FBSSxDQUFDRCxHQUFPLENBQUNBLEVBQUloUyxnQkFFZixPQURBblosR0FBWUEsRUFBUyxJQUFJLEVBQ2xCLEdBR1RqTixFQUFPbzBCLGlCQUFpQmdFLEVBQUloUyxnQkFBaUIsU0FBVWtTLEVBQVNDLEVBQVV6aEIsRUFBVTBoQixHQUNsRnZyQixHQUFZQSxFQUFTcXJCLEVBQVNDLEVBQVV6aEIsRUFBVTBoQixDQUFXLENBQy9ELEVBQUc3aUIsRUFBU2hLLENBQU8sQ0FDckIsQ0FiQSxDQUFDLENBY0gsRUFXQThzQixrQkFBbUIsU0FBUzNrQixFQUFRN0csRUFBVTBJLEVBQVNoSyxHQUVqRHFkLEdBRFMsSUFBSWhwQixFQUFPeUksT0FBT2EsV0FDZG92QixnQkFBZ0I1a0IsRUFBTzhLLEtBQUssRUFBRyxVQUFVLEVBQzFENWUsRUFBT28wQixpQkFBaUJwTCxFQUFJNUMsZ0JBQWlCLFNBQVVrUyxFQUFTQyxFQUFVemhCLEVBQVUwaEIsR0FDbEZ2ckIsRUFBU3FyQixFQUFTQyxFQUFVemhCLEVBQVUwaEIsQ0FBVyxDQUNuRCxFQUFHN2lCLEVBQVNoSyxDQUFPLENBQ3JCLENBQ0YsQ0FBQyxDQUVGLEVBQW1DdlEsQ0FBYyxFQUdsRDRFLEVBQU9zM0IsZUFBaUIsU0FBU3hnQixFQUFVN0osRUFBVXRCLEVBQVNnSyxFQUFTMGUsRUFBZ0JyTCxHQUNyRnh0QixLQUFLc2IsU0FBV0EsRUFDaEJ0YixLQUFLeVIsU0FBV0EsRUFDaEJ6UixLQUFLbVEsUUFBVUEsRUFDZm5RLEtBQUttYSxRQUFVQSxFQUNmbmEsS0FBSysxQixPQUFVNWxCLEdBQVdBLEVBQVE0bEIsUUFBVyxFQUM3Qy8xQixLQUFLNjRCLGVBQWlCQSxFQUN0Qjc0QixLQUFLbTlCLFNBQVcsK0JBQ2hCbjlCLEtBQUt3dEIsSUFBTUEsQ0FDYixHQUVVNFAsRUE0SVA1NEIsRUFBT3MzQixlQUFlbHZCLFdBM0lqQm12QixNQUFRLFdBQ1ovN0IsS0FBSys1QixVQUFZLElBQUkvdEIsTUFBTWhNLEtBQUtzYixTQUFTaGIsTUFBTSxFQUMvQ04sS0FBS3E5QixZQUFjcjlCLEtBQUtzYixTQUFTaGIsT0FDakNOLEtBQUtzOUIsY0FBYyxDQUNyQixFQUVBRixFQUFNRSxjQUFnQixXQUNwQixJQUFJOXdCLEVBQVF4TSxLQUNaQSxLQUFLc2IsU0FBU25GLFFBQVEsU0FBUzhSLEVBQVN6bkIsR0FDdEN5bkIsRUFBUXlDLGFBQWEsU0FBVWxlLEVBQU11cEIsTUFBTSxFQUMzQ3ZwQixFQUFNK3dCLGFBQWF0VixFQUFTem5CLENBQUMsQ0FDL0IsQ0FBQyxDQUNILEVBRUE0OEIsRUFBTUksUUFBVSxTQUFTalQsR0FDdkIsT0FBTy9sQixFQUFPQSxFQUFPYixLQUFLMlUsT0FBT3FPLFdBQVc0RCxFQUFHRCxRQUFRN0QsUUFBUSxPQUFRLEVBQUUsQ0FBQyxFQUM1RSxFQUVBMlcsRUFBTUcsYUFBZSxTQUFTaFQsRUFBSXRaLEdBQ2hDLElBQUl3VyxFQUFRem5CLEtBQUt3OUIsUUFBUWpULENBQUUsRUFDM0IsR0FBSTlDLEdBQVNBLEVBQU1nVyxZQUNqQixJQUNFaFcsRUFBTWdXLFlBQVlsVCxFQUFJdnFCLEtBQUswOUIsZUFBZXpzQixFQUFPc1osQ0FBRSxFQUFHdnFCLEtBQUttUSxPQUFPLENBSXBFLENBRkEsTUFBT2lhLEdBQ0w1bEIsRUFBT3VJLElBQUlxZCxDQUFHLENBQ2hCLE1BR0FwcUIsS0FBSzI5QixZQUFZLENBRXJCLEVBRUFQLEVBQU1NLGVBQWlCLFNBQVN6c0IsRUFBT3NaLEdBQ3JDLElBQUkvZCxFQUFReE0sS0FDWixPQUFPLFNBQVNrUyxHQUNkLElBQUk2cUIsRUFDSnZ3QixFQUFNb3hCLGdCQUFnQjFyQixFQUFLcVksRUFBSSxNQUFNLEVBQ3JDL2QsRUFBTW94QixnQkFBZ0IxckIsRUFBS3FZLEVBQUksUUFBUSxFQUNuQ3JZLGFBQWUxTixFQUFPcTVCLE9BQVMzckIsRUFBSTRyQixtQkFDckNmLEVBQVc3cUIsRUFBSWlNLGtDQUFrQ29NLENBQUUsR0FFckRyWSxFQUFJNnJCLHVCQUF1QmhCLENBQVEsRUFDbkN2d0IsRUFBTXd4QixnQkFBZ0I5ckIsRUFBS3FZLENBQUUsRUFDN0IvZCxFQUFNMk4sU0FBVzNOLEVBQU0yTixRQUFRb1EsRUFBSXJZLENBQUcsRUFDdEMxRixFQUFNdXRCLFVBQVU5b0IsR0FBU2lCLEVBQ3pCMUYsRUFBTW14QixZQUFZLENBQ3BCLENBQ0YsRUFFQVAsRUFBTWEsMEJBQTRCLFNBQVMvckIsRUFBS2pHLEVBQVVpeUIsR0FDeEQsSUFBSTV0QixFQUFRNEIsRUFBSWpHLEdBQVdreUIsRUFBUW4rQixLQUFLbTlCLFNBQ3hDLEdBQUtnQixFQUFNN1UsS0FBS2haLENBQUssRUFNckIsT0FIQTZ0QixFQUFNQyxVQUFZLEVBQ2R6K0IsRUFBS3crQixFQUFNbm1CLEtBQUsxSCxDQUFLLEVBQUUsR0FDM0I2dEIsRUFBTUMsVUFBWSxFQUNYNTVCLEVBQU8wNUIsR0FBU2wrQixLQUFLKzFCLFFBQVFwMkIsRUFDdEMsRUFFQXk5QixFQUFNUSxnQkFBa0IsU0FBUzFyQixFQUFLcVksRUFBSXRlLEdBQ3hDLElBQUlveUIsRUFBY3IrQixLQUFLaStCLDBCQUEwQi9yQixFQUFLakcsRUFBVSxjQUFjLEVBQzFFb3lCLElBQ0VDLEVBQWMvVCxFQUFHaU0sYUFBYXZxQixFQUFXLFVBQVUsRUFDbkRxdUIsRUFBVzkxQixFQUFPb08sU0FBUzZxQixZQUFZWSxFQUFhbnNCLEVBQUtvc0IsRUFBYXQrQixLQUFLbVEsT0FBTyxFQUN0RitCLEVBQUlNLElBQUl2RyxFQUFVcXVCLENBQVEsRUFFOUIsRUFFQThDLEVBQU1tQix1QkFBeUIsU0FBU3JzQixFQUFLc3NCLEdBQzNDLE9BQU8sU0FBU0MsR0FDZEEsRUFBUVYsdUJBQXVCLEVBQy9CVSxFQUFRQyxTQUFXRCxFQUFRRSxTQUMzQkgsRUFBVS8rQixLQUFLZy9CLENBQU8sQ0FDeEIsQ0FDRixFQUVBckIsRUFBTVksZ0JBQWtCLFNBQVM5ckIsRUFBSzBzQixHQUNwQyxJQUNJM1csRUFEQTFILEVBQVd2Z0IsS0FBS2krQiwwQkFBMEIvckIsRUFBSyxXQUFZLFdBQVcsRUFFMUUsR0FBSXFPLEVBQVUsQ0FNWixJQUZBLElBSEFpZSxFQUFZLEdBQ1pLLEVBQWtCcjZCLEVBQU9iLEtBQUs0VCxnQkFBZ0JyRixFQUFJb08sb0JBQW9CLENBQUMsRUFFbkV3ZSxFQUFjdmUsRUFBUyxHQUFHdkcsV0FDMUIra0IsRUFBZ0JILEVBQ2JHLEVBQWMva0IsWUFBYytrQixFQUFjdkksYUFBYSxXQUFXLElBQU10a0IsRUFBSXFPLFVBQ2pGd2UsRUFBZ0JBLEVBQWMva0IsV0FFaEMra0IsRUFBYy9rQixXQUFXRixZQUFZZ2xCLENBQVcsRUFDaEQsSUFBSyxJQUFJdCtCLEVBQUksRUFBR0EsRUFBSStmLEVBQVNqZ0IsT0FBUUUsQ0FBQyxHQUNwQ3luQixFQUFVMUgsRUFBUy9mLEdBQ1hSLEtBQUt3OUIsUUFBUXZWLENBQU8sRUFDdEJ3VixZQUNKeFYsRUFDQWpvQixLQUFLdStCLHVCQUF1QnJzQixFQUFLc3NCLENBQVMsRUFDMUN4K0IsS0FBS21RLE9BQ1AsRUFHQW9RLEVBRHVCLElBQXJCaWUsRUFBVWwrQixPQUNEaytCLEVBQVUsR0FHVixJQUFJaDZCLEVBQU9pWCxNQUFNK2lCLENBQVMsRUFFdkNRLEVBQWF4NkIsRUFBT2IsS0FBSzRZLDBCQUN2QnNpQixFQUNBdGUsRUFBU0Qsb0JBQW9CLENBQy9CLEVBQ0lDLEVBQVNBLFVBQ1h2Z0IsS0FBS2crQixnQkFBZ0J6ZCxFQUFVd2UsQ0FBYSxFQUUxQzV1QixFQUFVM0wsRUFBT2IsS0FBSzhZLFlBQVl1aUIsQ0FBVSxFQUNoRHplLEVBQVNwRCxNQUFRLEdBQ2pCb0QsRUFBU25ELE1BQVEsR0FDakJtRCxFQUFTL04sSUFBSSxTQUFVckMsRUFBUThGLE1BQU0sRUFDckNzSyxFQUFTL04sSUFBSSxTQUFVckMsRUFBUStGLE1BQU0sRUFDckNxSyxFQUFTdlcsTUFBUW1HLEVBQVFuRyxNQUN6QnVXLEVBQVM1RCxNQUFReE0sRUFBUXdNLE1BQ3pCNEQsRUFBUzNELE1BQVEsRUFDakIyRCxFQUFTUixvQkFBb0IsQ0FBRTFXLEVBQUc4RyxFQUFRME0sV0FBWXZULEVBQUc2RyxFQUFRMk0sVUFBVyxFQUFHLFNBQVUsUUFBUSxFQUNqRzVLLEVBQUlxTyxTQUFXQSxDQUNqQixNQUdFLE9BQU9yTyxFQUFJcU8sUUFFZixFQUVBNmMsRUFBTU8sWUFBYyxXQUNTLEdBQXZCLEVBQUUzOUIsS0FBS3E5QixjQUNUcjlCLEtBQUsrNUIsVUFBWS81QixLQUFLKzVCLFVBQVUxcEIsT0FBTyxTQUFTa2EsR0FFOUMsT0FBYSxNQUFOQSxDQUNULENBQUMsRUFDRHZxQixLQUFLeVIsU0FBU3pSLEtBQUsrNUIsVUFBVy81QixLQUFLc2IsUUFBUSxFQUUvQyxFQUlGLFNBQVV2WixHQUVSLGFBSUl5QyxFQUFTekMsRUFBT3lDLFNBQVd6QyxFQUFPeUMsT0FBUyxJQWtCL0MsU0FBU3lQLEVBQU01SyxFQUFHQyxHQUNoQnRKLEtBQUtxSixFQUFJQSxFQUNUckosS0FBS3NKLEVBQUlBLENBQ1gsQ0FuQkk5RSxFQUFPeVAsTUFDVHpQLEVBQU9nckIsS0FBSyxpQ0FBaUMsR0FJL0NockIsRUFBT3lQLE1BQVFBLEdBZ0JUckgsVUFBaUQsQ0FFckRnRixLQUFNLFFBRU5uRixZQUFhd0gsRUFPYnRELElBQUssU0FBVXN1QixHQUNiLE9BQU8sSUFBSWhyQixFQUFNalUsS0FBS3FKLEVBQUk0MUIsRUFBSzUxQixFQUFHckosS0FBS3NKLEVBQUkyMUIsRUFBSzMxQixDQUFDLENBQ25ELEVBUUE4SyxVQUFXLFNBQVU2cUIsR0FHbkIsT0FGQWovQixLQUFLcUosR0FBSzQxQixFQUFLNTFCLEVBQ2ZySixLQUFLc0osR0FBSzIxQixFQUFLMzFCLEVBQ1J0SixJQUNULEVBT0FrL0IsVUFBVyxTQUFVdHBCLEdBQ25CLE9BQU8sSUFBSTNCLEVBQU1qVSxLQUFLcUosRUFBSXVNLEVBQVE1VixLQUFLc0osRUFBSXNNLENBQU0sQ0FDbkQsRUFRQXVwQixnQkFBaUIsU0FBVXZwQixHQUd6QixPQUZBNVYsS0FBS3FKLEdBQUt1TSxFQUNWNVYsS0FBS3NKLEdBQUtzTSxFQUNINVYsSUFDVCxFQU9BMFcsU0FBVSxTQUFVdW9CLEdBQ2xCLE9BQU8sSUFBSWhyQixFQUFNalUsS0FBS3FKLEVBQUk0MUIsRUFBSzUxQixFQUFHckosS0FBS3NKLEVBQUkyMUIsRUFBSzMxQixDQUFDLENBQ25ELEVBUUE4MUIsZUFBZ0IsU0FBVUgsR0FHeEIsT0FGQWovQixLQUFLcUosR0FBSzQxQixFQUFLNTFCLEVBQ2ZySixLQUFLc0osR0FBSzIxQixFQUFLMzFCLEVBQ1J0SixJQUNULEVBT0FxL0IsZUFBZ0IsU0FBVXpwQixHQUN4QixPQUFPLElBQUkzQixFQUFNalUsS0FBS3FKLEVBQUl1TSxFQUFRNVYsS0FBS3NKLEVBQUlzTSxDQUFNLENBQ25ELEVBUUEwcEIscUJBQXNCLFNBQVUxcEIsR0FHOUIsT0FGQTVWLEtBQUtxSixHQUFLdU0sRUFDVjVWLEtBQUtzSixHQUFLc00sRUFDSDVWLElBQ1QsRUFRQStVLFNBQVUsU0FBVWEsR0FDbEIsT0FBTyxJQUFJM0IsRUFBTWpVLEtBQUtxSixFQUFJdU0sRUFBUTVWLEtBQUtzSixFQUFJc00sQ0FBTSxDQUNuRCxFQVNBMnBCLGVBQWdCLFNBQVUzcEIsR0FHeEIsT0FGQTVWLEtBQUtxSixHQUFLdU0sRUFDVjVWLEtBQUtzSixHQUFLc00sRUFDSDVWLElBQ1QsRUFRQXcvQixPQUFRLFNBQVU1cEIsR0FDaEIsT0FBTyxJQUFJM0IsRUFBTWpVLEtBQUtxSixFQUFJdU0sRUFBUTVWLEtBQUtzSixFQUFJc00sQ0FBTSxDQUNuRCxFQVNBNnBCLGFBQWMsU0FBVTdwQixHQUd0QixPQUZBNVYsS0FBS3FKLEdBQUt1TSxFQUNWNVYsS0FBS3NKLEdBQUtzTSxFQUNINVYsSUFDVCxFQU9BOGtCLEdBQUksU0FBVW1hLEdBQ1osT0FBUWovQixLQUFLcUosSUFBTTQxQixFQUFLNTFCLEdBQUtySixLQUFLc0osSUFBTTIxQixFQUFLMzFCLENBQy9DLEVBT0FvMkIsR0FBSSxTQUFVVCxHQUNaLE9BQVFqL0IsS0FBS3FKLEVBQUk0MUIsRUFBSzUxQixHQUFLckosS0FBS3NKLEVBQUkyMUIsRUFBSzMxQixDQUMzQyxFQU9BcTJCLElBQUssU0FBVVYsR0FDYixPQUFRai9CLEtBQUtxSixHQUFLNDFCLEVBQUs1MUIsR0FBS3JKLEtBQUtzSixHQUFLMjFCLEVBQUszMUIsQ0FDN0MsRUFRQXMyQixHQUFJLFNBQVVYLEdBQ1osT0FBUWovQixLQUFLcUosRUFBSTQxQixFQUFLNTFCLEdBQUtySixLQUFLc0osRUFBSTIxQixFQUFLMzFCLENBQzNDLEVBT0F1MkIsSUFBSyxTQUFVWixHQUNiLE9BQVFqL0IsS0FBS3FKLEdBQUs0MUIsRUFBSzUxQixHQUFLckosS0FBS3NKLEdBQUsyMUIsRUFBSzMxQixDQUM3QyxFQVFBMGMsS0FBTSxTQUFVaVosRUFBTXRvQixHQUtwQixPQUppQixTQUFOQSxJQUNUQSxFQUFJLElBRU5BLEVBQUk5UCxLQUFLdEQsSUFBSXNELEtBQUt2RCxJQUFJLEVBQUdxVCxDQUFDLEVBQUcsQ0FBQyxFQUN2QixJQUFJMUMsRUFBTWpVLEtBQUtxSixHQUFLNDFCLEVBQUs1MUIsRUFBSXJKLEtBQUtxSixHQUFLc04sRUFBRzNXLEtBQUtzSixHQUFLMjFCLEVBQUszMUIsRUFBSXRKLEtBQUtzSixHQUFLcU4sQ0FBQyxDQUNqRixFQU9BbXBCLGFBQWMsU0FBVWIsR0FDdEIsSUFBSWMsRUFBSy8vQixLQUFLcUosRUFBSTQxQixFQUFLNTFCLEVBQ25CMjJCLEVBQUtoZ0MsS0FBS3NKLEVBQUkyMUIsRUFBSzMxQixFQUN2QixPQUFPekMsS0FBSzdFLEtBQUsrOUIsRUFBS0EsRUFBS0MsRUFBS0EsQ0FBRSxDQUNwQyxFQU9BamIsYUFBYyxTQUFVa2EsR0FDdEIsT0FBT2ovQixLQUFLZ21CLEtBQUtpWixDQUFJLENBQ3ZCLEVBT0EzN0IsSUFBSyxTQUFVMjdCLEdBQ2IsT0FBTyxJQUFJaHJCLEVBQU1wTixLQUFLdkQsSUFBSXRELEtBQUtxSixFQUFHNDFCLEVBQUs1MUIsQ0FBQyxFQUFHeEMsS0FBS3ZELElBQUl0RCxLQUFLc0osRUFBRzIxQixFQUFLMzFCLENBQUMsQ0FBQyxDQUNyRSxFQU9BL0YsSUFBSyxTQUFVMDdCLEdBQ2IsT0FBTyxJQUFJaHJCLEVBQU1wTixLQUFLdEQsSUFBSXZELEtBQUtxSixFQUFHNDFCLEVBQUs1MUIsQ0FBQyxFQUFHeEMsS0FBS3RELElBQUl2RCxLQUFLc0osRUFBRzIxQixFQUFLMzFCLENBQUMsQ0FBQyxDQUNyRSxFQU1BdkosU0FBVSxXQUNSLE9BQU9DLEtBQUtxSixFQUFJLElBQU1ySixLQUFLc0osQ0FDN0IsRUFRQTIyQixNQUFPLFNBQVU1MkIsRUFBR0MsR0FHbEIsT0FGQXRKLEtBQUtxSixFQUFJQSxFQUNUckosS0FBS3NKLEVBQUlBLEVBQ0Z0SixJQUNULEVBT0FrZ0MsS0FBTSxTQUFVNzJCLEdBRWQsT0FEQXJKLEtBQUtxSixFQUFJQSxFQUNGckosSUFDVCxFQU9BbWdDLEtBQU0sU0FBVTcyQixHQUVkLE9BREF0SixLQUFLc0osRUFBSUEsRUFDRnRKLElBQ1QsRUFPQW9nQyxhQUFjLFNBQVVuQixHQUd0QixPQUZBai9CLEtBQUtxSixFQUFJNDFCLEVBQUs1MUIsRUFDZHJKLEtBQUtzSixFQUFJMjFCLEVBQUszMUIsRUFDUHRKLElBQ1QsRUFNQXFnQyxLQUFNLFNBQVVwQixHQUNkLElBQUk1MUIsRUFBSXJKLEtBQUtxSixFQUNUQyxFQUFJdEosS0FBS3NKLEVBQ2J0SixLQUFLcUosRUFBSTQxQixFQUFLNTFCLEVBQ2RySixLQUFLc0osRUFBSTIxQixFQUFLMzFCLEVBQ2QyMUIsRUFBSzUxQixFQUFJQSxFQUNUNDFCLEVBQUszMUIsRUFBSUEsQ0FDWCxFQU1BdEcsTUFBTyxXQUNMLE9BQU8sSUFBSWlSLEVBQU1qVSxLQUFLcUosRUFBR3JKLEtBQUtzSixDQUFDLENBQ2pDLENBQ0YsQ0FFRCxFQUFtQzFKLENBQWMsRUFHbEQsU0FBVW1DLEdBRVIsYUFHQSxJQUFJeUMsRUFBU3pDLEVBQU95QyxTQUFXekMsRUFBT3lDLE9BQVMsSUFhL0MsU0FBUzg3QixFQUFhQyxHQUNwQnZnQyxLQUFLdWdDLE9BQVNBLEVBQ2R2Z0MsS0FBS3lWLE9BQVMsRUFDaEIsQ0FkSWpSLEVBQU84N0IsYUFDVDk3QixFQUFPZ3JCLEtBQUssd0NBQXdDLEdBZXREaHJCLEVBQU84N0IsYUFBZUEsRUFFdEI5N0IsRUFBTzg3QixhQUFhMXpCLFVBQXdELENBRTFFSCxZQUFhNnpCLEVBUWJFLFlBQWEsU0FBVTFzQixHQUVyQixPQURBOVQsS0FBS3lWLE9BQU9oVyxLQUFLcVUsQ0FBSyxFQUNmOVQsSUFDVCxFQVFBeWdDLGFBQWMsU0FBVWhyQixHQUV0QixPQURBelYsS0FBS3lWLE9BQVN6VixLQUFLeVYsT0FBT3BWLE9BQU9vVixDQUFNLEVBQ2hDelYsSUFDVCxDQUNGLEVBWUF3RSxFQUFPODdCLGFBQWFJLGtCQUFvQixTQUFVQyxFQUFJQyxFQUFJQyxFQUFJQyxHQUM1RCxJQUFJNTRCLEVBQ0E2NEIsR0FBT0QsRUFBR3ozQixFQUFJdzNCLEVBQUd4M0IsSUFBTXMzQixFQUFHcjNCLEVBQUl1M0IsRUFBR3YzQixJQUFNdzNCLEVBQUd4M0IsRUFBSXUzQixFQUFHdjNCLElBQU1xM0IsRUFBR3QzQixFQUFJdzNCLEVBQUd4M0IsR0FDakUyM0IsR0FBT0osRUFBR3YzQixFQUFJczNCLEVBQUd0M0IsSUFBTXMzQixFQUFHcjNCLEVBQUl1M0IsRUFBR3YzQixJQUFNczNCLEVBQUd0M0IsRUFBSXEzQixFQUFHcjNCLElBQU1xM0IsRUFBR3QzQixFQUFJdzNCLEVBQUd4M0IsR0FDakU0M0IsR0FBTUgsRUFBR3gzQixFQUFJdTNCLEVBQUd2M0IsSUFBTXMzQixFQUFHdjNCLEVBQUlzM0IsRUFBR3QzQixJQUFNeTNCLEVBQUd6M0IsRUFBSXczQixFQUFHeDNCLElBQU11M0IsRUFBR3QzQixFQUFJcTNCLEVBQUdyM0IsR0FvQnBFLE9BbkJXLEdBQVAyM0IsR0FFRUMsRUFBS0YsRUFBTUMsRUFDWCxJQUZBRSxFQUFLSixFQUFNRSxJQUVBRSxHQUFNLEdBQUssR0FBS0QsR0FBTUEsR0FBTSxHQUN6Q2g1QixFQUFTLElBQUlvNEIsRUFBYSxjQUFjLEdBQ2pDRSxZQUFZLElBQUloOEIsRUFBT3lQLE1BQU0wc0IsRUFBR3QzQixFQUFJODNCLEdBQU1QLEVBQUd2M0IsRUFBSXMzQixFQUFHdDNCLEdBQUlzM0IsRUFBR3IzQixFQUFJNjNCLEdBQU1QLEVBQUd0M0IsRUFBSXEzQixFQUFHcjNCLEVBQUUsQ0FBQyxFQUd6RnBCLEVBQVMsSUFBSW80QixHQUticDRCLEVBQVMsSUFBSW80QixFQURILEdBQVJTLEdBQXFCLEdBQVJDLEVBQ1csYUFHQSxVQUhZLEVBTW5DOTRCLENBQ1QsRUFZQTFELEVBQU84N0IsYUFBYWMscUJBQXVCLFNBQVNULEVBQUlDLEVBQUluckIsR0FLMUQsSUFKQSxJQUVRcXJCLEVBQUlPLEVBRlJuNUIsRUFBUyxJQUFJbzRCLEVBQ2JoZ0MsRUFBU21WLEVBQU9uVixPQUdmRSxFQUFJLEVBQUdBLEVBQUlGLEVBQVFFLENBQUMsR0FDdkJxZ0MsRUFBS3ByQixFQUFPalYsR0FDWnNnQyxFQUFLcnJCLEdBQVFqVixFQUFJLEdBQUtGLEdBQ3RCK2dDLEVBQVFmLEVBQWFJLGtCQUFrQkMsRUFBSUMsRUFBSUMsRUFBSUMsQ0FBRSxFQUVyRDU0QixFQUFPdTRCLGFBQWFZLEVBQU01ckIsTUFBTSxFQUtsQyxPQUgyQixFQUF2QnZOLEVBQU91TixPQUFPblYsU0FDaEI0SCxFQUFPcTRCLE9BQVMsZ0JBRVhyNEIsQ0FDVCxFQVNBMUQsRUFBTzg3QixhQUFhZ0Isd0JBQTBCLFNBQVVDLEVBQVNDLEdBSS9ELElBSEEsSUFBSXQ1QixFQUFTLElBQUlvNEIsRUFDYmhnQyxFQUFTaWhDLEVBQVFqaEMsT0FFaEJFLEVBQUksRUFBR0EsRUFBSUYsRUFBUUUsQ0FBQyxHQUFJLENBQzNCLElBQUltZ0MsRUFBS1ksRUFBUS9nQyxHQUNib2dDLEVBQUtXLEdBQVMvZ0MsRUFBSSxHQUFLRixHQUN2QitnQyxFQUFRZixFQUFhYyxxQkFBcUJULEVBQUlDLEVBQUlZLENBQU8sRUFFN0R0NUIsRUFBT3U0QixhQUFhWSxFQUFNNXJCLE1BQU0sQ0FDbEMsQ0FJQSxPQUgyQixFQUF2QnZOLEVBQU91TixPQUFPblYsU0FDaEI0SCxFQUFPcTRCLE9BQVMsZ0JBRVhyNEIsQ0FDVCxFQVVBMUQsRUFBTzg3QixhQUFhbUIsMEJBQTRCLFNBQVVoc0IsRUFBUWlzQixFQUFJQyxHQUNwRSxJQUFJcitCLEVBQU1vK0IsRUFBR3ArQixJQUFJcStCLENBQUUsRUFDZnArQixFQUFNbStCLEVBQUduK0IsSUFBSW8rQixDQUFFLEVBQ2ZDLEVBQVcsSUFBSXA5QixFQUFPeVAsTUFBTTFRLEVBQUk4RixFQUFHL0YsRUFBSWdHLENBQUMsRUFDeEN1NEIsRUFBYSxJQUFJcjlCLEVBQU95UCxNQUFNM1EsRUFBSStGLEVBQUc5RixFQUFJK0YsQ0FBQyxFQUMxQ3c0QixFQUFTeEIsRUFBYWMscUJBQXFCOTlCLEVBQUtzK0IsRUFBVW5zQixDQUFNLEVBQ2hFc3NCLEVBQVN6QixFQUFhYyxxQkFBcUJRLEVBQVVyK0IsRUFBS2tTLENBQU0sRUFDaEV1c0IsRUFBUzFCLEVBQWFjLHFCQUFxQjc5QixFQUFLcytCLEVBQVlwc0IsQ0FBTSxFQUNsRXdzQixFQUFTM0IsRUFBYWMscUJBQXFCUyxFQUFZditCLEVBQUttUyxDQUFNLEVBQ2xFdk4sRUFBUyxJQUFJbzRCLEVBVWpCLE9BUkFwNEIsRUFBT3U0QixhQUFhcUIsRUFBT3JzQixNQUFNLEVBQ2pDdk4sRUFBT3U0QixhQUFhc0IsRUFBT3RzQixNQUFNLEVBQ2pDdk4sRUFBT3U0QixhQUFhdUIsRUFBT3ZzQixNQUFNLEVBQ2pDdk4sRUFBT3U0QixhQUFhd0IsRUFBT3hzQixNQUFNLEVBRU4sRUFBdkJ2TixFQUFPdU4sT0FBT25WLFNBQ2hCNEgsRUFBT3E0QixPQUFTLGdCQUVYcjRCLENBQ1QsRUFFRCxFQUFtQ3RJLENBQWMsRUFHbEQsU0FBVW1DLEdBRVIsYUFFQSxJQUFJeUMsRUFBU3pDLEVBQU95QyxTQUFXekMsRUFBT3lDLE9BQVMsSUFpQi9DLFNBQVNtdUIsRUFBTWpILEdBQ1JBLEVBSUgxckIsS0FBS2tpQyxpQkFBaUJ4VyxDQUFLLEVBSDNCMXJCLEtBQUttaUMsVUFBVSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUUsQ0FLL0IsQ0FxYkEsU0FBU0MsRUFBUWo1QixFQUFHK1ksRUFBR3ZMLEdBT3JCLE9BTklBLEVBQUksSUFDTkEsR0FBSyxHQUVDLEVBQUpBLEdBQ0ZBLEVBQUFBLEVBRUVBLEVBQUksRUFBSSxFQUNIeE4sRUFBYyxHQUFUK1ksRUFBSS9ZLEdBQVN3TixFQUV2QkEsRUFBSSxHQUNDdUwsRUFFTHZMLEVBQUksRUFBSSxFQUNIeE4sR0FBSytZLEVBQUkvWSxJQUFNLEVBQUksRUFBSXdOLEdBQUssRUFFOUJ4TixDQUNULENBNWRJM0UsRUFBT211QixNQUNUbnVCLEVBQU9nckIsS0FBSyxrQ0FBa0MsR0F1QmhEaHJCLEVBQU9tdUIsTUFBUUEsRUFFZm51QixFQUFPbXVCLE1BQU0vbEIsVUFBaUQsQ0FNNURzMUIsaUJBQWtCLFNBQVN4VyxHQUN6QixJQUFJN3BCLEdBbUJDQSxHQUhBQSxHQUhBQSxHQUhBQSxHQUhIQSxFQURZLGlCQUhaNnBCLEVBREVBLEtBQVNpSCxFQUFNMFAsYUFDVDFQLEVBQU0wUCxhQUFhM1csR0FHekJBLEdBQ08sQ0FBQyxJQUFLLElBQUssSUFBSyxHQUd0QjdwQixJQUNNOHdCLEVBQU0yUCxjQUFjNVcsQ0FBSyxJQUd6QmlILEVBQU00UCxjQUFjN1csQ0FBSyxJQUd6QmlILEVBQU02UCxjQUFjOVcsQ0FBSyxJQUl6QixDQUFDLEVBQUcsRUFBRyxFQUFHLEtBR25CMXJCLEtBQUttaUMsVUFBVXRnQyxDQUFNLENBRXpCLEVBVUE0Z0MsVUFBVyxTQUFTanJCLEVBQUdrckIsRUFBRy90QixHQUd4QixJQUFJc04sRUFDQTFlLEVBQU1pQixFQUFPYixLQUFLcUIsTUFBTXpCLElBQUksQ0FIaENpVSxHQUFLLElBQUtrckIsR0FBSyxJQUFLL3RCLEdBQUssSUFHZ0IsRUFDckNyUixFQUFNa0IsRUFBT2IsS0FBS3FCLE1BQU0xQixJQUFJLENBQUNrVSxFQUFHa3JCLEVBQUcvdEIsRUFBRSxFQUV6Q3VKLEdBQUszYSxFQUFNRCxHQUFPLEVBRWxCLEdBQUlDLElBQVFELEVBQ1YyZSxFQUFJdGEsRUFBSSxNQUVMLENBQ0gsSUFBSTBqQixFQUFJOW5CLEVBQU1ELEVBQ2RxRSxFQUFRLEdBQUp1VyxFQUFVbU4sR0FBSyxFQUFJOW5CLEVBQU1ELEdBQU8rbkIsR0FBSzluQixFQUFNRCxHQUMvQyxPQUFRQyxHQUNOLEtBQUtpVSxFQUNIeUssR0FBS3lnQixFQUFJL3RCLEdBQUswVyxHQUFLcVgsRUFBSS90QixFQUFJLEVBQUksR0FDL0IsTUFDRixLQUFLK3RCLEVBQ0h6Z0IsR0FBS3ROLEVBQUk2QyxHQUFLNlQsRUFBSSxFQUNsQixNQUNGLEtBQUsxVyxFQUNIc04sR0FBS3pLLEVBQUlrckIsR0FBS3JYLEVBQUksQ0FFdEIsQ0FDQXBKLEdBQUssQ0FDUCxDQUVBLE1BQU8sQ0FDTHBiLEtBQUs4N0IsTUFBVSxJQUFKMWdCLENBQU8sRUFDbEJwYixLQUFLODdCLE1BQVUsSUFBSmg3QixDQUFPLEVBQ2xCZCxLQUFLODdCLE1BQVUsSUFBSnprQixDQUFPLEVBRXRCLEVBTUEwVSxVQUFXLFdBQ1QsT0FBTzV5QixLQUFLNGlDLE9BQ2QsRUFNQVQsVUFBVyxTQUFTdGdDLEdBQ2xCN0IsS0FBSzRpQyxRQUFVL2dDLENBQ2pCLEVBTUFnaEMsTUFBTyxXQUNMLElBQUloaEMsRUFBUzdCLEtBQUs0eUIsVUFBVSxFQUM1QixNQUFPLE9BQVMvd0IsRUFBTyxHQUFLLElBQU1BLEVBQU8sR0FBSyxJQUFNQSxFQUFPLEdBQUssR0FDbEUsRUFNQWc2QixPQUFRLFdBQ04sSUFBSWg2QixFQUFTN0IsS0FBSzR5QixVQUFVLEVBQzVCLE1BQU8sUUFBVS93QixFQUFPLEdBQUssSUFBTUEsRUFBTyxHQUFLLElBQU1BLEVBQU8sR0FBSyxJQUFNQSxFQUFPLEdBQUssR0FDckYsRUFNQWloQyxNQUFPLFdBQ0wsSUFBSWpoQyxFQUFTN0IsS0FBSzR5QixVQUFVLEVBQ3hCbVEsRUFBTS9pQyxLQUFLeWlDLFVBQVU1Z0MsRUFBTyxHQUFJQSxFQUFPLEdBQUlBLEVBQU8sRUFBRSxFQUV4RCxNQUFPLE9BQVNraEMsRUFBSSxHQUFLLElBQU1BLEVBQUksR0FBSyxLQUFPQSxFQUFJLEdBQUssSUFDMUQsRUFNQUMsT0FBUSxXQUNOLElBQUluaEMsRUFBUzdCLEtBQUs0eUIsVUFBVSxFQUN4Qm1RLEVBQU0vaUMsS0FBS3lpQyxVQUFVNWdDLEVBQU8sR0FBSUEsRUFBTyxHQUFJQSxFQUFPLEVBQUUsRUFFeEQsTUFBTyxRQUFVa2hDLEVBQUksR0FBSyxJQUFNQSxFQUFJLEdBQUssS0FBT0EsRUFBSSxHQUFLLEtBQU9saEMsRUFBTyxHQUFLLEdBQzlFLEVBTUFvaEMsTUFBTyxXQUNMLElBQWtDUCxFQUE5QjdnQyxFQUFTN0IsS0FBSzR5QixVQUFVLEVBRTVCcGIsRUFBSTNWLEVBQU8sR0FBRzlCLFNBQVMsRUFBRSxFQVN6QixPQVJBeVgsRUFBa0IsSUFBYkEsRUFBRWxYLE9BQWlCLElBQU1rWCxFQUFLQSxFQUduQ2tyQixFQUFrQixLQURsQkEsRUFBSTdnQyxFQUFPLEdBQUc5QixTQUFTLEVBQUUsR0FDbEJPLE9BQWlCLElBQU1vaUMsRUFBS0EsRUFHbkMvdEIsRUFBa0IsS0FEbEJBLEVBQUk5UyxFQUFPLEdBQUc5QixTQUFTLEVBQUUsR0FDbEJPLE9BQWlCLElBQU1xVSxFQUFLQSxFQUU1QjZDLEVBQUVpQixZQUFZLEVBQUlpcUIsRUFBRWpxQixZQUFZLEVBQUk5RCxFQUFFOEQsWUFBWSxDQUMzRCxFQU1BeXFCLE9BQVEsV0FDTixJQUFJcmhDLEVBQVM3QixLQUFLNHlCLFVBQVUsRUFFNUJsZSxFQUFJN04sS0FBSzg3QixNQUFrQixJQUFaOWdDLEVBQU8sRUFBUSxFQUk5QixPQUZBNlMsRUFBa0IsS0FEbEJBLEVBQUlBLEVBQUUzVSxTQUFTLEVBQUUsR0FDVk8sT0FBaUIsSUFBTW9VLEVBQUtBLEVBRTVCMVUsS0FBS2lqQyxNQUFNLEVBQUl2dUIsRUFBRStELFlBQVksQ0FDdEMsRUFNQW1qQixTQUFVLFdBQ1IsT0FBTzU3QixLQUFLNHlCLFVBQVUsRUFBRSxFQUMxQixFQU9BK0ksU0FBVSxTQUFTcm1CLEdBQ2pCLElBQUl6VCxFQUFTN0IsS0FBSzR5QixVQUFVLEVBRzVCLE9BRkEvd0IsRUFBTyxHQUFLeVQsRUFDWnRWLEtBQUttaUMsVUFBVXRnQyxDQUFNLEVBQ2Q3QixJQUNULEVBTUFtakMsWUFBYSxXQUNYLElBQUl0aEMsRUFBUzdCLEtBQUs0eUIsVUFBVSxFQUN4QndRLEVBQVV6WCxVQUFzQixHQUFaOXBCLEVBQU8sR0FBdUIsSUFBWkEsRUFBTyxHQUF3QixJQUFaQSxFQUFPLElBQVdpQyxRQUFRLENBQUMsRUFBRyxFQUFFLEVBQ3pGdS9CLEVBQWV4aEMsRUFBTyxHQUUxQixPQURBN0IsS0FBS21pQyxVQUFVLENBQUNpQixFQUFTQSxFQUFTQSxFQUFTQyxFQUFhLEVBQ2pEcmpDLElBQ1QsRUFPQXNqQyxhQUFjLFNBQVNDLEdBQ3JCLElBQUkxaEMsRUFBUzdCLEtBQUs0eUIsVUFBVSxFQUN4QndRLEdBQXVCLEdBQVp2aEMsRUFBTyxHQUF1QixJQUFaQSxFQUFPLEdBQXdCLElBQVpBLEVBQU8sSUFBV2lDLFFBQVEsQ0FBQyxFQUMzRXUvQixFQUFleGhDLEVBQU8sR0FNMUIsT0FKQTBoQyxFQUFZQSxHQUFhLElBRXpCSCxFQUFXeHJCLE9BQU93ckIsQ0FBTyxFQUFJeHJCLE9BQU8yckIsQ0FBUyxFQUFLLEVBQUksSUFDdER2akMsS0FBS21pQyxVQUFVLENBQUNpQixFQUFTQSxFQUFTQSxFQUFTQyxFQUFhLEVBQ2pEcmpDLElBQ1QsRUFPQXdqQyxZQUFhLFNBQVNDLEdBQ2RBLGFBQXNCOVEsSUFDMUI4USxFQUFhLElBQUk5USxFQUFNOFEsQ0FBVSxHQVNuQyxJQU5BLElBQUl2N0IsRUFBUyxHQUNUb04sRUFBUXRWLEtBQUs0N0IsU0FBUyxFQUV0Qi81QixFQUFTN0IsS0FBSzR5QixVQUFVLEVBQ3hCOFEsRUFBY0QsRUFBVzdRLFVBQVUsRUFFbENweUIsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLENBQUMsR0FDbEIwSCxFQUFPekksS0FBS29ILEtBQUs4N0IsTUFBbUIsR0FBWjlnQyxFQUFPckIsR0FMaEIsR0FLMENrakMsRUFBWWxqQyxFQUFnQixDQUFDLEVBS3hGLE9BRkEwSCxFQUFPLEdBQUtvTixFQUNadFYsS0FBS21pQyxVQUFVajZCLENBQU0sRUFDZGxJLElBQ1QsQ0FDRixFQVNBd0UsRUFBT211QixNQUFNZ1IsT0FBUyxvSUFRdEJuL0IsRUFBT211QixNQUFNaVIsT0FBUyxnR0FRdEJwL0IsRUFBT211QixNQUFNa1IsTUFBUSx5REFTckJyL0IsRUFBT211QixNQUFNMFAsYUFBZSxDQUMxQnlCLFVBQXNCLFVBQ3RCQyxhQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsTUFBc0IsVUFDdEJDLE9BQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsZUFBc0IsVUFDdEJDLEtBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsTUFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsZUFBc0IsVUFDdEJDLFNBQXNCLFVBQ3RCQyxRQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLFNBQXNCLFVBQ3RCQyxTQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLFNBQXNCLFVBQ3RCQyxTQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsZUFBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsUUFBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxhQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLGNBQXNCLFVBQ3RCQyxjQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxTQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLFFBQXNCLFVBQ3RCQyxRQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLFFBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLEtBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLEtBQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLFNBQXNCLFVBQ3RCQyxRQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLE9BQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsTUFBc0IsVUFDdEJDLFNBQXNCLFVBQ3RCQyxjQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLGFBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxxQkFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLGFBQXNCLFVBQ3RCQyxlQUFzQixVQUN0QkMsZUFBc0IsVUFDdEJDLGVBQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsS0FB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RSxpQkFDbkIsUUFDQSxTQUFVeW5CLEdBQ1QzdkMsS0FBSzQwRyxLQUFPNzRGLEVBQU9JLFVBQVUsQ0FDNUJFLE9BQVEsS0FDVCxDQUFDLEVBRURyYyxLQUFLNjBHLFNBQVcsWUFDakIsRUFDQSxFQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay8uL3NyYy9hc3NldHMvc2Nzcy9zdHlsZS5zY3NzIiwid2VicGFjazovL3dlYnBhY2svLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3dlYnBhY2svLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vbm9kZV9tb2R1bGVzL2ZhYnJpYy9kaXN0L2ZhYnJpYy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vc3JjL2Fzc2V0cy9zY3NzL3N0eWxlLnNjc3M/YzU3YyIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3dlYnBhY2svLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL3dlYnBhY2svLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL3dlYnBhY2svd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VicGFjay93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly93ZWJwYWNrL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJwYWNrL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vd2VicGFjay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYnBhY2svd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly93ZWJwYWNrL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYnBhY2svd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL3dlYnBhY2svLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIqIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5ib2R5IHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUm9ib3RvXFxcIiwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIGNvbG9yOiAjMzMzO1xcbiAgbGluZS1oZWlnaHQ6IDEuNTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuLmNvdmVyX2FyZWEge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uY292ZXJfYXJlYSAuY2FudmFzLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxufVxcbi5jb3Zlcl9hcmVhICNib2R5X2NhbnZhcyB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDAwO1xcbn1cXG4uY292ZXJfYXJlYSAjZnJhbWVfY2FudmFzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICB6LWluZGV4OiA5OTk7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxufVxcblxcbi5yZXN1bHQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5jb250cm9sc193cmFwcGVyIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGJhc2VsaW5lO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdpZHRoOiAyNTBweDtcXG4gIG1heC13aWR0aDogMzAwcHg7XFxuICBoZWlnaHQ6IDEwMHZoO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG59XFxuLmNvbnRyb2xzX3dyYXBwZXIgLnRpdGxlIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgZm9udC1zaXplOiAyMHB4O1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxufVxcbi5jb250cm9sc193cmFwcGVyIGEsXFxuLmNvbnRyb2xzX3dyYXBwZXIgYnV0dG9uIHtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxuICB3aWR0aDogMjAwcHg7XFxuICBoZWlnaHQ6IDMycHg7XFxuICB6LWluZGV4OiAxO1xcbiAgY29sb3I6ICNmZmY7XFxuICBwYWRkaW5nOiA1cHggMTBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDI1cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0ZWFsO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Fzc2V0cy9zY3NzL3N0eWxlLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDQyxTQUFBO0VBQ0EsVUFBQTtFQUNBLHNCQUFBO0FBQ0Q7O0FBQ0E7RUFDQyxpQ0FBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQkFBQTtBQUVEOztBQUNBO0VBQ0Msa0JBQUE7QUFFRDtBQURDO0VBQ0MsNkJBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtBQUdGO0FBREM7RUFDQyxzQkFBQTtBQUdGO0FBREM7RUFDQyxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7QUFHRjs7QUFDQTtFQUNDLGtCQUFBO0VBQ0EsY0FBQTtBQUVEOztBQUNBO0VBQ0MsZUFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7QUFFRDtBQURDO0VBQ0MsV0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FBR0Y7QUFEQzs7RUFFQyxtQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLGVBQUE7QUFHRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXHJcXG5cXHRtYXJnaW46IDA7XFxyXFxuXFx0cGFkZGluZzogMDtcXHJcXG5cXHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbn1cXHJcXG5ib2R5IHtcXHJcXG5cXHRmb250LWZhbWlseTogXFxcIlJvYm90b1xcXCIsIHNhbnMtc2VyaWY7XFxyXFxuXFx0Zm9udC1zaXplOiAxNnB4O1xcclxcblxcdGNvbG9yOiAjMzMzO1xcclxcblxcdGxpbmUtaGVpZ2h0OiAxLjU7XFxyXFxuXFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG5cXHRhbGlnbi1jb250ZW50OiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5jb3Zlcl9hcmVhIHtcXHJcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuXFx0LmNhbnZhcy1jb250YWluZXIge1xcclxcblxcdFxcdHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xcclxcblxcdFxcdHRvcDogMDtcXHJcXG5cXHRcXHRsZWZ0OiAwO1xcclxcblxcdH1cXHJcXG5cXHQjYm9keV9jYW52YXMge1xcclxcblxcdFxcdGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XFxyXFxuXFx0fVxcclxcblxcdCNmcmFtZV9jYW52YXMge1xcclxcblxcdFxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG5cXHRcXHR0b3A6IDA7XFxyXFxuXFx0XFx0bGVmdDogMDtcXHJcXG5cXHRcXHR6LWluZGV4OiA5OTk7XFxyXFxuXFx0XFx0cG9pbnRlci1ldmVudHM6IG5vbmU7XFxyXFxuXFx0XFx0Ym9yZGVyOiAxcHggc29saWQgI2NjYztcXHJcXG5cXHR9XFxyXFxufVxcclxcblxcclxcbi5yZXN1bHQge1xcclxcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG5cXHRkaXNwbGF5OiBibG9jaztcXHJcXG59XFxyXFxuXFxyXFxuLmNvbnRyb2xzX3dyYXBwZXIge1xcclxcblxcdHBvc2l0aW9uOiBmaXhlZDtcXHJcXG5cXHR0b3A6IDA7XFxyXFxuXFx0bGVmdDogMDtcXHJcXG5cXHRwYWRkaW5nOiAxMHB4O1xcclxcblxcdGRpc3BsYXk6IGZsZXg7XFxyXFxuXFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG5cXHRqdXN0aWZ5LWNvbnRlbnQ6IGJhc2VsaW5lO1xcclxcblxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFx0d2lkdGg6IDI1MHB4O1xcclxcblxcdG1heC13aWR0aDogMzAwcHg7XFxyXFxuXFx0aGVpZ2h0OiAxMDB2aDtcXHJcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcclxcblxcdC50aXRsZSB7XFxyXFxuXFx0XFx0Y29sb3I6ICNmZmY7XFxyXFxuXFx0XFx0Zm9udC1zaXplOiAyMHB4O1xcclxcblxcdFxcdGZvbnQtd2VpZ2h0OiA3MDA7XFxyXFxuXFx0XFx0bWFyZ2luLWJvdHRvbTogMjBweDtcXHJcXG5cXHR9XFxyXFxuXFx0YSxcXHJcXG5cXHRidXR0b24ge1xcclxcblxcdFxcdG1hcmdpbi1ib3R0b206IDIwcHg7XFxyXFxuXFx0XFx0d2lkdGg6IDIwMHB4O1xcclxcblxcdFxcdGhlaWdodDogMzJweDtcXHJcXG5cXHRcXHR6LWluZGV4OiAxO1xcclxcblxcdFxcdGNvbG9yOiAjZmZmO1xcclxcblxcdFxcdHBhZGRpbmc6IDVweCAxMHB4O1xcclxcblxcdFxcdGJvcmRlci1yYWRpdXM6IDI1cHg7XFxyXFxuXFx0XFx0YmFja2dyb3VuZC1jb2xvcjogdGVhbDtcXHJcXG5cXHRcXHRib3JkZXI6IG5vbmU7XFxyXFxuXFx0XFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRcXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG5cXHRcXHRhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcdFxcdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG5cXHRcXHRmb250LXNpemU6IDE0cHg7XFxyXFxuXFx0fVxcclxcbn1cXHJcXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKlxyXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XHJcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cclxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xyXG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XHJcblxyXG4gICAgICBpZiAoaXRlbVs0XSkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGl0ZW1bMl0pIHtcclxuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobmVlZExheWVyKSB7XHJcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XHJcblxyXG4gICAgICBpZiAobmVlZExheWVyKSB7XHJcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGl0ZW1bMl0pIHtcclxuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXRlbVs0XSkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfSkuam9pbihcIlwiKTtcclxuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cclxuXHJcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cclxuICAgIGlmIChkZWR1cGUpIHtcclxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcclxuXHJcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcclxuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcclxuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xyXG5cclxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcclxuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtZWRpYSkge1xyXG4gICAgICAgIGlmICghaXRlbVsyXSkge1xyXG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcclxuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdXBwb3J0cykge1xyXG4gICAgICAgIGlmICghaXRlbVs0XSkge1xyXG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcclxuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxpc3QucHVzaChpdGVtKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4gbGlzdDtcclxufTsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XHJcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xyXG5cclxuICBpZiAoIWNzc01hcHBpbmcpIHtcclxuICAgIHJldHVybiBjb250ZW50O1xyXG4gIH1cclxuXHJcbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcclxuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcclxuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xyXG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcclxuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xyXG59OyIsIi8qIGJ1aWxkOiBgbm9kZSBidWlsZC5qcyBtb2R1bGVzPUFMTCBleGNsdWRlPWdlc3R1cmVzLGFjY2Vzc29ycyxlcmFzaW5nIHJlcXVpcmVqcyBtaW5pZmllcj11Z2xpZnlqc2AgKi9cbi8qISBGYWJyaWMuanMgQ29weXJpZ2h0IDIwMDgtMjAxNSwgUHJpbnRpbyAoSnVyaXkgWmF5dHNldiwgTWF4aW0gQ2hlcm55YWspICovXG5cbnZhciBmYWJyaWMgPSBmYWJyaWMgfHwgeyB2ZXJzaW9uOiAnNS4yLjQnIH07XG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gIGV4cG9ydHMuZmFicmljID0gZmFicmljO1xufVxuLyogX0FNRF9TVEFSVF8gKi9cbmVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFicmljOyB9KTtcbn1cbi8qIF9BTURfRU5EXyAqL1xuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgaWYgKGRvY3VtZW50IGluc3RhbmNlb2YgKHR5cGVvZiBIVE1MRG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gSFRNTERvY3VtZW50IDogRG9jdW1lbnQpKSB7XG4gICAgZmFicmljLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gIH1cbiAgZWxzZSB7XG4gICAgZmFicmljLmRvY3VtZW50ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKTtcbiAgfVxuICBmYWJyaWMud2luZG93ID0gd2luZG93O1xufVxuZWxzZSB7XG4gIC8vIGFzc3VtZSB3ZSdyZSBydW5uaW5nIHVuZGVyIG5vZGUuanMgd2hlbiBkb2N1bWVudC93aW5kb3cgYXJlIG5vdCBwcmVzZW50XG4gIHZhciBqc2RvbSA9IHJlcXVpcmUoJ2pzZG9tJyk7XG4gIHZhciB2aXJ0dWFsV2luZG93ID0gbmV3IGpzZG9tLkpTRE9NKFxuICAgIGRlY29kZVVSSUNvbXBvbmVudCgnJTNDIURPQ1RZUEUlMjBodG1sJTNFJTNDaHRtbCUzRSUzQ2hlYWQlM0UlM0MlMkZoZWFkJTNFJTNDYm9keSUzRSUzQyUyRmJvZHklM0UlM0MlMkZodG1sJTNFJyksXG4gICAge1xuICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgRmV0Y2hFeHRlcm5hbFJlc291cmNlczogWydpbWcnXVxuICAgICAgfSxcbiAgICAgIHJlc291cmNlczogJ3VzYWJsZSdcbiAgICB9KS53aW5kb3c7XG4gIGZhYnJpYy5kb2N1bWVudCA9IHZpcnR1YWxXaW5kb3cuZG9jdW1lbnQ7XG4gIGZhYnJpYy5qc2RvbUltcGxGb3JXcmFwcGVyID0gcmVxdWlyZSgnanNkb20vbGliL2pzZG9tL2xpdmluZy9nZW5lcmF0ZWQvdXRpbHMnKS5pbXBsRm9yV3JhcHBlcjtcbiAgZmFicmljLm5vZGVDYW52YXMgPSByZXF1aXJlKCdqc2RvbS9saWIvanNkb20vdXRpbHMnKS5DYW52YXM7XG4gIGZhYnJpYy53aW5kb3cgPSB2aXJ0dWFsV2luZG93O1xuICBET01QYXJzZXIgPSBmYWJyaWMud2luZG93LkRPTVBhcnNlcjtcbn1cblxuLyoqXG4gKiBUcnVlIHdoZW4gaW4gZW52aXJvbm1lbnQgdGhhdCBzdXBwb3J0cyB0b3VjaCBldmVudHNcbiAqIEB0eXBlIGJvb2xlYW5cbiAqL1xuZmFicmljLmlzVG91Y2hTdXBwb3J0ZWQgPSAnb250b3VjaHN0YXJ0JyBpbiBmYWJyaWMud2luZG93IHx8ICdvbnRvdWNoc3RhcnQnIGluIGZhYnJpYy5kb2N1bWVudCB8fFxuICAoZmFicmljLndpbmRvdyAmJiBmYWJyaWMud2luZG93Lm5hdmlnYXRvciAmJiBmYWJyaWMud2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDApO1xuXG4vKipcbiAqIFRydWUgd2hlbiBpbiBlbnZpcm9ubWVudCB0aGF0J3MgcHJvYmFibHkgTm9kZS5qc1xuICogQHR5cGUgYm9vbGVhblxuICovXG5mYWJyaWMuaXNMaWtlbHlOb2RlID0gdHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJztcblxuLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuLyoqXG4gKiBBdHRyaWJ1dGVzIHBhcnNlZCBmcm9tIGFsbCBTVkcgZWxlbWVudHNcbiAqIEB0eXBlIGFycmF5XG4gKi9cbmZhYnJpYy5TSEFSRURfQVRUUklCVVRFUyA9IFtcbiAgJ2Rpc3BsYXknLFxuICAndHJhbnNmb3JtJyxcbiAgJ2ZpbGwnLCAnZmlsbC1vcGFjaXR5JywgJ2ZpbGwtcnVsZScsXG4gICdvcGFjaXR5JyxcbiAgJ3N0cm9rZScsICdzdHJva2UtZGFzaGFycmF5JywgJ3N0cm9rZS1saW5lY2FwJywgJ3N0cm9rZS1kYXNob2Zmc2V0JyxcbiAgJ3N0cm9rZS1saW5lam9pbicsICdzdHJva2UtbWl0ZXJsaW1pdCcsXG4gICdzdHJva2Utb3BhY2l0eScsICdzdHJva2Utd2lkdGgnLFxuICAnaWQnLCAncGFpbnQtb3JkZXInLCAndmVjdG9yLWVmZmVjdCcsXG4gICdpbnN0YW50aWF0ZWRfYnlfdXNlJywgJ2NsaXAtcGF0aCcsXG5dO1xuLyogX0ZST01fU1ZHX0VORF8gKi9cblxuLyoqXG4gKiBQaXhlbCBwZXIgSW5jaCBhcyBhIGRlZmF1bHQgdmFsdWUgc2V0IHRvIDk2LiBDYW4gYmUgY2hhbmdlZCBmb3IgbW9yZSByZWFsaXN0aWMgY29udmVyc2lvbi5cbiAqL1xuZmFicmljLkRQSSA9IDk2O1xuZmFicmljLnJlTnVtID0gJyg/OlstK10/KD86XFxcXGQrfFxcXFxkKlxcXFwuXFxcXGQrKSg/OltlRV1bLStdP1xcXFxkKyk/KSc7XG5mYWJyaWMuY29tbWFXc3AgPSAnKD86XFxcXHMrLD9cXFxccyp8LFxcXFxzKiknO1xuZmFicmljLnJlUGF0aENvbW1hbmQgPSAvKFstK10/KChcXGQrXFwuXFxkKyl8KChcXGQrKXwoXFwuXFxkKykpKSg/OltlRV1bLStdP1xcZCspPykvaWc7XG5mYWJyaWMucmVOb25Xb3JkID0gL1sgXFxuXFwuLDshXFw/XFwtXS87XG5mYWJyaWMuZm9udFBhdGhzID0geyB9O1xuZmFicmljLmlNYXRyaXggPSBbMSwgMCwgMCwgMSwgMCwgMF07XG5mYWJyaWMuc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuXG4vKipcbiAqIFBpeGVsIGxpbWl0IGZvciBjYWNoZSBjYW52YXNlcy4gMU1weCAsIDRNcHggc2hvdWxkIGJlIGZpbmUuXG4gKiBAc2luY2UgMS43LjE0XG4gKiBAdHlwZSBOdW1iZXJcbiAqIEBkZWZhdWx0XG4gKi9cbmZhYnJpYy5wZXJmTGltaXRTaXplVG90YWwgPSAyMDk3MTUyO1xuXG4vKipcbiAqIFBpeGVsIGxpbWl0IGZvciBjYWNoZSBjYW52YXNlcyB3aWR0aCBvciBoZWlnaHQuIElFIGZpeGVzIHRoZSBtYXhpbXVtIGF0IDUwMDBcbiAqIEBzaW5jZSAxLjcuMTRcbiAqIEB0eXBlIE51bWJlclxuICogQGRlZmF1bHRcbiAqL1xuZmFicmljLm1heENhY2hlU2lkZUxpbWl0ID0gNDA5NjtcblxuLyoqXG4gKiBMb3dlc3QgcGl4ZWwgbGltaXQgZm9yIGNhY2hlIGNhbnZhc2VzLCBzZXQgYXQgMjU2UFhcbiAqIEBzaW5jZSAxLjcuMTRcbiAqIEB0eXBlIE51bWJlclxuICogQGRlZmF1bHRcbiAqL1xuZmFicmljLm1pbkNhY2hlU2lkZUxpbWl0ID0gMjU2O1xuXG4vKipcbiAqIENhY2hlIE9iamVjdCBmb3Igd2lkdGhzIG9mIGNoYXJzIGluIHRleHQgcmVuZGVyaW5nLlxuICovXG5mYWJyaWMuY2hhcldpZHRoc0NhY2hlID0geyB9O1xuXG4vKipcbiAqIGlmIHdlYmdsIGlzIGVuYWJsZWQgYW5kIGF2YWlsYWJsZSwgdGV4dHVyZVNpemUgd2lsbCBkZXRlcm1pbmUgdGhlIHNpemVcbiAqIG9mIHRoZSBjYW52YXMgYmFja2VuZFxuICogQHNpbmNlIDIuMC4wXG4gKiBAdHlwZSBOdW1iZXJcbiAqIEBkZWZhdWx0XG4gKi9cbmZhYnJpYy50ZXh0dXJlU2l6ZSA9IDIwNDg7XG5cbi8qKlxuICogV2hlbiAndHJ1ZScsIHN0eWxlIGluZm9ybWF0aW9uIGlzIG5vdCByZXRhaW5lZCB3aGVuIGNvcHkvcGFzdGluZyB0ZXh0LCBtYWtpbmdcbiAqIHBhc3RlZCB0ZXh0IHVzZSBkZXN0aW5hdGlvbiBzdHlsZS5cbiAqIERlZmF1bHRzIHRvICdmYWxzZScuXG4gKiBAdHlwZSBCb29sZWFuXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMuZGlzYWJsZVN0eWxlQ29weVBhc3RlID0gZmFsc2U7XG5cbi8qKlxuICogRW5hYmxlIHdlYmdsIGZvciBmaWx0ZXJpbmcgcGljdHVyZSBpcyBhdmFpbGFibGVcbiAqIEEgZmlsdGVyaW5nIGJhY2tlbmQgd2lsbCBiZSBpbml0aWFsaXplZCwgdGhpcyB3aWxsIGJvdGggdGFrZSBtZW1vcnkgYW5kXG4gKiB0aW1lIHNpbmNlIGEgZGVmYXVsdCAyMDQ4eDIwNDggY2FudmFzIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGdsIGNvbnRleHRcbiAqIEBzaW5jZSAyLjAuMFxuICogQHR5cGUgQm9vbGVhblxuICogQGRlZmF1bHRcbiAqL1xuZmFicmljLmVuYWJsZUdMRmlsdGVyaW5nID0gdHJ1ZTtcblxuLyoqXG4gKiBEZXZpY2UgUGl4ZWwgUmF0aW9cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvc2FmYXJpL2RvY3VtZW50YXRpb24vQXVkaW9WaWRlby9Db25jZXB0dWFsL0hUTUwtY2FudmFzLWd1aWRlL1NldHRpbmdVcHRoZUNhbnZhcy9TZXR0aW5nVXB0aGVDYW52YXMuaHRtbFxuICovXG5mYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbyA9IGZhYnJpYy53aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93LndlYmtpdERldmljZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmFicmljLndpbmRvdy5tb3pEZXZpY2VQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDE7XG4vKipcbiAqIEJyb3dzZXItc3BlY2lmaWMgY29uc3RhbnQgdG8gYWRqdXN0IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5zaGFkb3dCbHVyIHZhbHVlLFxuICogd2hpY2ggaXMgdW5pdGxlc3MgYW5kIG5vdCByZW5kZXJlZCBlcXVhbGx5IGFjcm9zcyBicm93c2Vycy5cbiAqXG4gKiBWYWx1ZXMgdGhhdCB3b3JrIHF1aXRlIHdlbGwgKGFzIG9mIE9jdG9iZXIgMjAxNykgYXJlOlxuICogLSBDaHJvbWU6IDEuNVxuICogLSBFZGdlOiAxLjc1XG4gKiAtIEZpcmVmb3g6IDAuOVxuICogLSBTYWZhcmk6IDAuOTVcbiAqXG4gKiBAc2luY2UgMi4wLjBcbiAqIEB0eXBlIE51bWJlclxuICogQGRlZmF1bHQgMVxuICovXG5mYWJyaWMuYnJvd3NlclNoYWRvd0JsdXJDb25zdGFudCA9IDE7XG5cbi8qKlxuICogVGhpcyBvYmplY3QgY29udGFpbnMgdGhlIHJlc3VsdCBvZiBhcmMgdG8gYmV6aWVyIGNvbnZlcnNpb24gZm9yIGZhc3RlciByZXRyaWV2aW5nIGlmIHRoZSBzYW1lIGFyYyBuZWVkcyB0byBiZSBjb252ZXJ0ZWQgYWdhaW4uXG4gKiBJdCB3YXMgYW4gaW50ZXJuYWwgdmFyaWFibGUsIGlzIGFjY2Vzc2libGUgc2luY2UgdmVyc2lvbiAyLjMuNFxuICovXG5mYWJyaWMuYXJjVG9TZWdtZW50c0NhY2hlID0geyB9O1xuXG4vKipcbiAqIFRoaXMgb2JqZWN0IGtlZXBzIHRoZSByZXN1bHRzIG9mIHRoZSBib3VuZHNPZkN1cnZlIGNhbGN1bGF0aW9uIG1hcHBlZCBieSB0aGUgam9pbmVkIGFyZ3VtZW50cyBuZWNlc3NhcnkgdG8gY2FsY3VsYXRlIGl0LlxuICogSXQgZG9lcyBzcGVlZCB1cCBjYWxjdWxhdGlvbiwgaWYgeW91IHBhcnNlIGFuZCBhZGQgYWx3YXlzIHRoZSBzYW1lIHBhdGhzLCBidXQgaW4gY2FzZSBvZiBoZWF2eSB1c2FnZSBvZiBmcmVlZHJhd2luZ1xuICogeW91IGRvIG5vdCBnZXQgYW55IHNwZWVkIGJlbmVmaXQgYW5kIHlvdSBnZXQgYSBiaWcgb2JqZWN0IGluIG1lbW9yeS5cbiAqIFRoZSBvYmplY3Qgd2FzIGEgcHJpdmF0ZSB2YXJpYWJsZSBiZWZvcmUsIHdoaWxlIG5vdyBpcyBhcHBlbmRlZCB0byB0aGUgbGliIHNvIHRoYXQgeW91IGhhdmUgYWNjZXNzIHRvIGl0IGFuZCB5b3VcbiAqIGNhbiBldmVudHVhbGx5IGNsZWFyIGl0LlxuICogSXQgd2FzIGFuIGludGVybmFsIHZhcmlhYmxlLCBpcyBhY2Nlc3NpYmxlIHNpbmNlIHZlcnNpb24gMi4zLjRcbiAqL1xuZmFicmljLmJvdW5kc09mQ3VydmVDYWNoZSA9IHsgfTtcblxuLyoqXG4gKiBJZiBkaXNhYmxlZCBib3VuZHNPZkN1cnZlQ2FjaGUgaXMgbm90IHVzZWQuIEZvciBhcHBzIHRoYXQgbWFrZSBoZWF2eSB1c2FnZSBvZiBwZW5jaWwgZHJhd2luZyBwcm9iYWJseSBkaXNhYmxpbmcgaXQgaXMgYmV0dGVyXG4gKiBAZGVmYXVsdCB0cnVlXG4gKi9cbmZhYnJpYy5jYWNoZXNCb3VuZHNPZkN1cnZlID0gdHJ1ZTtcblxuLyoqXG4gKiBTa2lwIHBlcmZvcm1hbmNlIHRlc3Rpbmcgb2Ygc2V0dXBHTENvbnRleHQgYW5kIGZvcmNlIHRoZSB1c2Ugb2YgcHV0SW1hZ2VEYXRhIHRoYXQgc2VlbXMgdG8gYmUgdGhlIG9uZSB0aGF0IHdvcmtzIGJlc3Qgb25cbiAqIENocm9tZSArIG9sZCBoYXJkd2FyZS4gaWYgeW91ciB1c2VycyBhcmUgZXhwZXJpZW5jaW5nIGVtcHR5IGltYWdlcyBhZnRlciBmaWx0ZXJpbmcgeW91IG1heSB0cnkgdG8gZm9yY2UgdGhpcyB0byB0cnVlXG4gKiB0aGlzIGhhcyB0byBiZSBzZXQgYmVmb3JlIGluc3RhbnRpYXRpbmcgdGhlIGZpbHRlcmluZyBiYWNrZW5kICggYmVmb3JlIGZpbHRlcmluZyB0aGUgZmlyc3QgaW1hZ2UgKVxuICogQHR5cGUgQm9vbGVhblxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuZmFicmljLmZvcmNlR0xQdXRJbWFnZURhdGEgPSBmYWxzZTtcblxuZmFicmljLmluaXRGaWx0ZXJCYWNrZW5kID0gZnVuY3Rpb24oKSB7XG4gIGlmIChmYWJyaWMuZW5hYmxlR0xGaWx0ZXJpbmcgJiYgZmFicmljLmlzV2ViZ2xTdXBwb3J0ZWQgJiYgZmFicmljLmlzV2ViZ2xTdXBwb3J0ZWQoZmFicmljLnRleHR1cmVTaXplKSkge1xuICAgIGNvbnNvbGUubG9nKCdtYXggdGV4dHVyZSBzaXplOiAnICsgZmFicmljLm1heFRleHR1cmVTaXplKTtcbiAgICByZXR1cm4gKG5ldyBmYWJyaWMuV2ViZ2xGaWx0ZXJCYWNrZW5kKHsgdGlsZVNpemU6IGZhYnJpYy50ZXh0dXJlU2l6ZSB9KSk7XG4gIH1cbiAgZWxzZSBpZiAoZmFicmljLkNhbnZhczJkRmlsdGVyQmFja2VuZCkge1xuICAgIHJldHVybiAobmV3IGZhYnJpYy5DYW52YXMyZEZpbHRlckJhY2tlbmQoKSk7XG4gIH1cbn07XG5cblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy8gZW5zdXJlIGdsb2JhbGl0eSBldmVuIGlmIGVudGlyZSBsaWJyYXJ5IHdlcmUgZnVuY3Rpb24gd3JhcHBlZCAoYXMgaW4gTWV0ZW9yLmpzIHBhY2thZ2luZyBzeXN0ZW0pXG4gIHdpbmRvdy5mYWJyaWMgPSBmYWJyaWM7XG59XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIGZ1bmN0aW9uIF9yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGV2ZW50TGlzdGVuZXIgPSB0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICBpZiAoaGFuZGxlcikge1xuICAgICAgZXZlbnRMaXN0ZW5lcltldmVudExpc3RlbmVyLmluZGV4T2YoaGFuZGxlcildID0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmFicmljLnV0aWwuYXJyYXkuZmlsbChldmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9ic2VydmVzIHNwZWNpZmllZCBldmVudFxuICAgKiBAbWVtYmVyT2YgZmFicmljLk9ic2VydmFibGVcbiAgICogQGFsaWFzIG9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZXZlbnROYW1lIEV2ZW50IG5hbWUgKGVnLiAnYWZ0ZXI6cmVuZGVyJykgb3Igb2JqZWN0IHdpdGgga2V5L3ZhbHVlIHBhaXJzIChlZy4geydhZnRlcjpyZW5kZXInOiBoYW5kbGVyLCAnc2VsZWN0aW9uOmNsZWFyZWQnOiBoYW5kbGVyfSlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBGdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgbm90aWZpY2F0aW9uIHdoZW4gYW4gZXZlbnQgb2YgdGhlIHNwZWNpZmllZCB0eXBlIG9jY3Vyc1xuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9uKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5fX2V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9fZXZlbnRMaXN0ZW5lcnMgPSB7IH07XG4gICAgfVxuICAgIC8vIG9uZSBvYmplY3Qgd2l0aCBrZXkvdmFsdWUgcGFpcnMgd2FzIHBhc3NlZFxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGV2ZW50TmFtZSkge1xuICAgICAgICB0aGlzLm9uKHByb3AsIGV2ZW50TmFtZVtwcm9wXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgICB0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0ucHVzaChoYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiBfb25jZShldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICB2YXIgX2hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIF9oYW5kbGVyKTtcbiAgICB9LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbihldmVudE5hbWUsIF9oYW5kbGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uY2UoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgLy8gb25lIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlycyB3YXMgcGFzc2VkXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gZXZlbnROYW1lKSB7XG4gICAgICAgIF9vbmNlLmNhbGwodGhpcywgcHJvcCwgZXZlbnROYW1lW3Byb3BdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBfb25jZS5jYWxsKHRoaXMsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIGV2ZW50IG9ic2VydmluZyBmb3IgYSBwYXJ0aWN1bGFyIGV2ZW50IGhhbmRsZXIuIENhbGxpbmcgdGhpcyBtZXRob2RcbiAgICogd2l0aG91dCBhcmd1bWVudHMgcmVtb3ZlcyBhbGwgaGFuZGxlcnMgZm9yIGFsbCBldmVudHNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5PYnNlcnZhYmxlXG4gICAqIEBhbGlhcyBvZmZcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBldmVudE5hbWUgRXZlbnQgbmFtZSAoZWcuICdhZnRlcjpyZW5kZXInKSBvciBvYmplY3Qgd2l0aCBrZXkvdmFsdWUgcGFpcnMgKGVnLiB7J2FmdGVyOnJlbmRlcic6IGhhbmRsZXIsICdzZWxlY3Rpb246Y2xlYXJlZCc6IGhhbmRsZXJ9KVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIEZ1bmN0aW9uIHRvIGJlIGRlbGV0ZWQgZnJvbSBFdmVudExpc3RlbmVyc1xuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9mZihldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuX19ldmVudExpc3RlbmVycykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGFsbCBrZXkvdmFsdWUgcGFpcnMgKGV2ZW50IG5hbWUgLT4gZXZlbnQgaGFuZGxlcilcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZm9yIChldmVudE5hbWUgaW4gdGhpcy5fX2V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgIF9yZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcywgZXZlbnROYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gb25lIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlycyB3YXMgcGFzc2VkXG4gICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBldmVudE5hbWUpIHtcbiAgICAgICAgX3JlbW92ZUV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLCBwcm9wLCBldmVudE5hbWVbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIF9yZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcywgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgZXZlbnQgd2l0aCBhbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdFxuICAgKiBAbWVtYmVyT2YgZmFicmljLk9ic2VydmFibGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBFdmVudCBuYW1lIHRvIGZpcmVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIGZpcmUoZXZlbnROYW1lLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnNGb3JFdmVudCA9IHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgIGlmICghbGlzdGVuZXJzRm9yRXZlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnNGb3JFdmVudC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbGlzdGVuZXJzRm9yRXZlbnRbaV0gJiYgbGlzdGVuZXJzRm9yRXZlbnRbaV0uY2FsbCh0aGlzLCBvcHRpb25zIHx8IHsgfSk7XG4gICAgfVxuICAgIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdID0gbGlzdGVuZXJzRm9yRXZlbnQuZmlsdGVyKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT09IGZhbHNlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lc3BhY2UgZmFicmljLk9ic2VydmFibGVcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjZXZlbnRzfVxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2V2ZW50c3xFdmVudHMgZGVtb31cbiAgICovXG4gIGZhYnJpYy5PYnNlcnZhYmxlID0ge1xuICAgIGZpcmU6IGZpcmUsXG4gICAgb246IG9uLFxuICAgIG9uY2U6IG9uY2UsXG4gICAgb2ZmOiBvZmYsXG4gIH07XG59KSgpO1xuXG5cbi8qKlxuICogQG5hbWVzcGFjZSBmYWJyaWMuQ29sbGVjdGlvblxuICovXG5mYWJyaWMuQ29sbGVjdGlvbiA9IHtcblxuICBfb2JqZWN0czogW10sXG5cbiAgLyoqXG4gICAqIEFkZHMgb2JqZWN0cyB0byBjb2xsZWN0aW9uLCBDYW52YXMgb3IgR3JvdXAsIHRoZW4gcmVuZGVycyBjYW52YXNcbiAgICogKGlmIGByZW5kZXJPbkFkZFJlbW92ZWAgaXMgbm90IGBmYWxzZWApLlxuICAgKiBpbiBjYXNlIG9mIEdyb3VwIG5vIGNoYW5nZXMgdG8gYm91bmRpbmcgYm94IGFyZSBtYWRlLlxuICAgKiBPYmplY3RzIHNob3VsZCBiZSBpbnN0YW5jZXMgb2YgKG9yIGluaGVyaXQgZnJvbSkgZmFicmljLk9iamVjdFxuICAgKiBVc2Ugb2YgdGhpcyBmdW5jdGlvbiBpcyBoaWdobHkgZGlzY291cmFnZWQgZm9yIGdyb3Vwcy5cbiAgICogeW91IGNhbiBhZGQgYSBidW5jaCBvZiBvYmplY3RzIHdpdGggdGhlIGFkZCBtZXRob2QgYnV0IHRoZW4geW91IE5FRURcbiAgICogdG8gcnVuIGEgYWRkV2l0aFVwZGF0ZSBjYWxsIGZvciB0aGUgR3JvdXAgY2xhc3Mgb3IgcG9zaXRpb24vYmJveCB3aWxsIGJlIHdyb25nLlxuICAgKiBAcGFyYW0gey4uLmZhYnJpYy5PYmplY3R9IG9iamVjdCBaZXJvIG9yIG1vcmUgZmFicmljIGluc3RhbmNlc1xuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGFkZDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX29iamVjdHMucHVzaC5hcHBseSh0aGlzLl9vYmplY3RzLCBhcmd1bWVudHMpO1xuICAgIGlmICh0aGlzLl9vbk9iamVjdEFkZGVkKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuX29uT2JqZWN0QWRkZWQoYXJndW1lbnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogSW5zZXJ0cyBhbiBvYmplY3QgaW50byBjb2xsZWN0aW9uIGF0IHNwZWNpZmllZCBpbmRleCwgdGhlbiByZW5kZXJzIGNhbnZhcyAoaWYgYHJlbmRlck9uQWRkUmVtb3ZlYCBpcyBub3QgYGZhbHNlYClcbiAgICogQW4gb2JqZWN0IHNob3VsZCBiZSBhbiBpbnN0YW5jZSBvZiAob3IgaW5oZXJpdCBmcm9tKSBmYWJyaWMuT2JqZWN0XG4gICAqIFVzZSBvZiB0aGlzIGZ1bmN0aW9uIGlzIGhpZ2hseSBkaXNjb3VyYWdlZCBmb3IgZ3JvdXBzLlxuICAgKiB5b3UgY2FuIGFkZCBhIGJ1bmNoIG9mIG9iamVjdHMgd2l0aCB0aGUgaW5zZXJ0QXQgbWV0aG9kIGJ1dCB0aGVuIHlvdSBORUVEXG4gICAqIHRvIHJ1biBhIGFkZFdpdGhVcGRhdGUgY2FsbCBmb3IgdGhlIEdyb3VwIGNsYXNzIG9yIHBvc2l0aW9uL2Jib3ggd2lsbCBiZSB3cm9uZy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBJbmRleCB0byBpbnNlcnQgb2JqZWN0IGF0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gbm9uU3BsaWNpbmcgV2hlbiBgdHJ1ZWAsIG5vIHNwbGljaW5nIChzaGlmdGluZykgb2Ygb2JqZWN0cyBvY2N1cnNcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBpbnNlcnRBdDogZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgsIG5vblNwbGljaW5nKSB7XG4gICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzO1xuICAgIGlmIChub25TcGxpY2luZykge1xuICAgICAgb2JqZWN0c1tpbmRleF0gPSBvYmplY3Q7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgb2JqZWN0cy5zcGxpY2UoaW5kZXgsIDAsIG9iamVjdCk7XG4gICAgfVxuICAgIHRoaXMuX29uT2JqZWN0QWRkZWQgJiYgdGhpcy5fb25PYmplY3RBZGRlZChvYmplY3QpO1xuICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgb2JqZWN0cyBmcm9tIGEgY29sbGVjdGlvbiwgdGhlbiByZW5kZXJzIGNhbnZhcyAoaWYgYHJlbmRlck9uQWRkUmVtb3ZlYCBpcyBub3QgYGZhbHNlYClcbiAgICogQHBhcmFtIHsuLi5mYWJyaWMuT2JqZWN0fSBvYmplY3QgWmVybyBvciBtb3JlIGZhYnJpYyBpbnN0YW5jZXNcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvYmplY3RzID0gdGhpcy5fb2JqZWN0cyxcbiAgICAgICAgaW5kZXgsIHNvbWV0aGluZ1JlbW92ZWQgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGluZGV4ID0gb2JqZWN0cy5pbmRleE9mKGFyZ3VtZW50c1tpXSk7XG5cbiAgICAgIC8vIG9ubHkgY2FsbCBvbk9iamVjdFJlbW92ZWQgaWYgYW4gb2JqZWN0IHdhcyBhY3R1YWxseSByZW1vdmVkXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHNvbWV0aGluZ1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICBvYmplY3RzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuX29uT2JqZWN0UmVtb3ZlZCAmJiB0aGlzLl9vbk9iamVjdFJlbW92ZWQoYXJndW1lbnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHNvbWV0aGluZ1JlbW92ZWQgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGdpdmVuIGZ1bmN0aW9uIGZvciBlYWNoIG9iamVjdCBpbiB0aGlzIGdyb3VwXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqICAgICAgICAgICAgICAgICAgIENhbGxiYWNrIGludm9rZWQgd2l0aCBjdXJyZW50IG9iamVjdCBhcyBmaXJzdCBhcmd1bWVudCxcbiAgICogICAgICAgICAgICAgICAgICAgaW5kZXggLSBhcyBzZWNvbmQgYW5kIGFuIGFycmF5IG9mIGFsbCBvYmplY3RzIC0gYXMgdGhpcmQuXG4gICAqICAgICAgICAgICAgICAgICAgIENhbGxiYWNrIGlzIGludm9rZWQgaW4gYSBjb250ZXh0IG9mIEdsb2JhbCBPYmplY3QgKGUuZy4gYHdpbmRvd2ApXG4gICAqICAgICAgICAgICAgICAgICAgIHdoZW4gbm8gYGNvbnRleHRgIGFyZ3VtZW50IGlzIGdpdmVuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IENvbnRleHQgKGFrYSB0aGlzT2JqZWN0KVxuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGZvckVhY2hPYmplY3Q6IGZ1bmN0aW9uKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgdmFyIG9iamVjdHMgPSB0aGlzLmdldE9iamVjdHMoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY2FsbGJhY2suY2FsbChjb250ZXh0LCBvYmplY3RzW2ldLCBpLCBvYmplY3RzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgY2hpbGRyZW4gb2JqZWN0cyBvZiB0aGlzIGluc3RhbmNlXG4gICAqIFR5cGUgcGFyYW1ldGVyIGludHJvZHVjZWQgaW4gMS4zLjEwXG4gICAqIHNpbmNlIDIuMy41IHRoaXMgbWV0aG9kIHJldHVybiBhbHdheXMgYSBDT1BZIG9mIHRoZSBhcnJheTtcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt0eXBlXSBXaGVuIHNwZWNpZmllZCwgb25seSBvYmplY3RzIG9mIHRoaXMgdHlwZSBhcmUgcmV0dXJuZWRcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICBnZXRPYmplY3RzOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdHMuY29uY2F0KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9vYmplY3RzLmZpbHRlcihmdW5jdGlvbihvKSB7XG4gICAgICByZXR1cm4gby50eXBlID09PSB0eXBlO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG9iamVjdCBhdCBzcGVjaWZpZWQgaW5kZXhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICovXG4gIGl0ZW06IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3RzW2luZGV4XTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGNvbGxlY3Rpb24gY29udGFpbnMgbm8gb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGNvbGxlY3Rpb24gaXMgZW1wdHlcbiAgICovXG4gIGlzRW1wdHk6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5sZW5ndGggPT09IDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzaXplIG9mIGEgY29sbGVjdGlvbiAoaS5lOiBsZW5ndGggb2YgYW4gYXJyYXkgY29udGFpbmluZyBpdHMgb2JqZWN0cylcbiAgICogQHJldHVybiB7TnVtYmVyfSBDb2xsZWN0aW9uIHNpemVcbiAgICovXG4gIHNpemU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3RzLmxlbmd0aDtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGNvbGxlY3Rpb24gY29udGFpbnMgYW4gb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNoZWNrIGFnYWluc3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZGVlcD1mYWxzZV0gYHRydWVgIHRvIGNoZWNrIGFsbCBkZXNjZW5kYW50cywgYGZhbHNlYCB0byBjaGVjayBvbmx5IGBfb2JqZWN0c2BcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIGNvbGxlY3Rpb24gY29udGFpbnMgYW4gb2JqZWN0XG4gICAqL1xuICBjb250YWluczogZnVuY3Rpb24gKG9iamVjdCwgZGVlcCkge1xuICAgIGlmICh0aGlzLl9vYmplY3RzLmluZGV4T2Yob2JqZWN0KSA+IC0xKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGVlcCkge1xuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdHMuc29tZShmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqLmNvbnRhaW5zID09PSAnZnVuY3Rpb24nICYmIG9iai5jb250YWlucyhvYmplY3QsIHRydWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBudW1iZXIgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xsZWN0aW9uIGNvbXBsZXhpdHlcbiAgICogQHJldHVybiB7TnVtYmVyfSBjb21wbGV4aXR5XG4gICAqL1xuICBjb21wbGV4aXR5OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjdXJyZW50KSB7XG4gICAgICBtZW1vICs9IGN1cnJlbnQuY29tcGxleGl0eSA/IGN1cnJlbnQuY29tcGxleGl0eSgpIDogMDtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIDApO1xuICB9XG59O1xuXG5cbi8qKlxuICogQG5hbWVzcGFjZSBmYWJyaWMuQ29tbW9uTWV0aG9kc1xuICovXG5mYWJyaWMuQ29tbW9uTWV0aG9kcyA9IHtcblxuICAvKipcbiAgICogU2V0cyBvYmplY3QncyBwcm9wZXJ0aWVzIGZyb20gb3B0aW9uc1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBfc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5zZXQocHJvcCwgb3B0aW9uc1twcm9wXSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2ZpbGxlcl0gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0eV0gcHJvcGVydHkgdG8gc2V0IHRoZSBHcmFkaWVudCB0b1xuICAgKi9cbiAgX2luaXRHcmFkaWVudDogZnVuY3Rpb24oZmlsbGVyLCBwcm9wZXJ0eSkge1xuICAgIGlmIChmaWxsZXIgJiYgZmlsbGVyLmNvbG9yU3RvcHMgJiYgIShmaWxsZXIgaW5zdGFuY2VvZiBmYWJyaWMuR3JhZGllbnQpKSB7XG4gICAgICB0aGlzLnNldChwcm9wZXJ0eSwgbmV3IGZhYnJpYy5HcmFkaWVudChmaWxsZXIpKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZmlsbGVyXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnR5XSBwcm9wZXJ0eSB0byBzZXQgdGhlIFBhdHRlcm4gdG9cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgcGF0dGVybiBsb2FkXG4gICAqL1xuICBfaW5pdFBhdHRlcm46IGZ1bmN0aW9uKGZpbGxlciwgcHJvcGVydHksIGNhbGxiYWNrKSB7XG4gICAgaWYgKGZpbGxlciAmJiBmaWxsZXIuc291cmNlICYmICEoZmlsbGVyIGluc3RhbmNlb2YgZmFicmljLlBhdHRlcm4pKSB7XG4gICAgICB0aGlzLnNldChwcm9wZXJ0eSwgbmV3IGZhYnJpYy5QYXR0ZXJuKGZpbGxlciwgY2FsbGJhY2spKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRPYmplY3Q6IGZ1bmN0aW9uKG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICB0aGlzLl9zZXQocHJvcCwgb2JqW3Byb3BdKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgcHJvcGVydHkgdG8gYSBnaXZlbiB2YWx1ZS4gV2hlbiBjaGFuZ2luZyBwb3NpdGlvbi9kaW1lbnNpb24gLXJlbGF0ZWQgcHJvcGVydGllcyAobGVmdCwgdG9wLCBzY2FsZSwgYW5nbGUsIGV0Yy4pIGBzZXRgIGRvZXMgbm90IHVwZGF0ZSBwb3NpdGlvbiBvZiBvYmplY3QncyBib3JkZXJzL2NvbnRyb2xzLiBJZiB5b3UgbmVlZCB0byB1cGRhdGUgdGhvc2UsIGNhbGwgYHNldENvb3JkcygpYC5cbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBrZXkgUHJvcGVydHkgbmFtZSBvciBvYmplY3QgKGlmIG9iamVjdCwgaXRlcmF0ZSBvdmVyIHRoZSBvYmplY3QgcHJvcGVydGllcylcbiAgICogQHBhcmFtIHtPYmplY3R8RnVuY3Rpb259IHZhbHVlIFByb3BlcnR5IHZhbHVlIChpZiBmdW5jdGlvbiwgdGhlIHZhbHVlIGlzIHBhc3NlZCBpbnRvIGl0IGFuZCBpdHMgcmV0dXJuIHZhbHVlIGlzIHVzZWQgYXMgYSBuZXcgb25lKVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgdGhpcy5fc2V0T2JqZWN0KGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBfc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdGhpc1trZXldID0gdmFsdWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgc3BlY2lmaWVkIHByb3BlcnR5IGZyb20gYHRydWVgIHRvIGBmYWxzZWAgb3IgZnJvbSBgZmFsc2VgIHRvIGB0cnVlYFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdG8gdG9nZ2xlXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgdG9nZ2xlOiBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KHByb3BlcnR5KTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuc2V0KHByb3BlcnR5LCAhdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQmFzaWMgZ2V0dGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAqIEByZXR1cm4geyp9IHZhbHVlIG9mIGEgcHJvcGVydHlcbiAgICovXG4gIGdldDogZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XG4gIH1cbn07XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gIHZhciBzcXJ0ID0gTWF0aC5zcXJ0LFxuICAgICAgYXRhbjIgPSBNYXRoLmF0YW4yLFxuICAgICAgcG93ID0gTWF0aC5wb3csXG4gICAgICBQaUJ5MTgwID0gTWF0aC5QSSAvIDE4MCxcbiAgICAgIFBpQnkyID0gTWF0aC5QSSAvIDI7XG5cbiAgLyoqXG4gICAqIEBuYW1lc3BhY2UgZmFicmljLnV0aWxcbiAgICovXG4gIGZhYnJpYy51dGlsID0ge1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb3Mgb2YgYW4gYW5nbGUsIGF2b2lkaW5nIHJldHVybmluZyBmbG9hdHMgZm9yIGtub3duIHJlc3VsdHNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIHRoZSBhbmdsZSBpbiByYWRpYW5zIG9yIGluIGRlZ3JlZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBjb3M6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICBpZiAoYW5nbGUgPT09IDApIHsgcmV0dXJuIDE7IH1cbiAgICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgICAgLy8gY29zKGEpID0gY29zKC1hKVxuICAgICAgICBhbmdsZSA9IC1hbmdsZTtcbiAgICAgIH1cbiAgICAgIHZhciBhbmdsZVNsaWNlID0gYW5nbGUgLyBQaUJ5MjtcbiAgICAgIHN3aXRjaCAoYW5nbGVTbGljZSkge1xuICAgICAgICBjYXNlIDE6IGNhc2UgMzogcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1hdGguY29zKGFuZ2xlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBzaW4gb2YgYW4gYW5nbGUsIGF2b2lkaW5nIHJldHVybmluZyBmbG9hdHMgZm9yIGtub3duIHJlc3VsdHNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIHRoZSBhbmdsZSBpbiByYWRpYW5zIG9yIGluIGRlZ3JlZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBzaW46IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICBpZiAoYW5nbGUgPT09IDApIHsgcmV0dXJuIDA7IH1cbiAgICAgIHZhciBhbmdsZVNsaWNlID0gYW5nbGUgLyBQaUJ5Miwgc2lnbiA9IDE7XG4gICAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICAgIC8vIHNpbigtYSkgPSAtc2luKGEpXG4gICAgICAgIHNpZ24gPSAtMTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoYW5nbGVTbGljZSkge1xuICAgICAgICBjYXNlIDE6IHJldHVybiBzaWduO1xuICAgICAgICBjYXNlIDI6IHJldHVybiAwO1xuICAgICAgICBjYXNlIDM6IHJldHVybiAtc2lnbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNYXRoLnNpbihhbmdsZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdmFsdWUgZnJvbSBhbiBhcnJheS5cbiAgICAgKiBQcmVzZW5jZSBvZiB2YWx1ZSAoYW5kIGl0cyBwb3NpdGlvbiBpbiBhbiBhcnJheSkgaXMgZGV0ZXJtaW5lZCB2aWEgYEFycmF5LnByb3RvdHlwZS5pbmRleE9mYFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gb3JpZ2luYWwgYXJyYXlcbiAgICAgKi9cbiAgICByZW1vdmVGcm9tQXJyYXk6IGZ1bmN0aW9uKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGlkeCA9IGFycmF5LmluZGV4T2YodmFsdWUpO1xuICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgYXJyYXkuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcmFuZG9tIG51bWJlciBiZXR3ZWVuIDIgc3BlY2lmaWVkIG9uZXMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtaW4gbG93ZXIgbGltaXRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4IHVwcGVyIGxpbWl0XG4gICAgICogQHJldHVybiB7TnVtYmVyfSByYW5kb20gdmFsdWUgKGJldHdlZW4gbWluIGFuZCBtYXgpXG4gICAgICovXG4gICAgZ2V0UmFuZG9tSW50OiBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgZGVncmVlcyB0byByYWRpYW5zLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlcyB2YWx1ZSBpbiBkZWdyZWVzXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB2YWx1ZSBpbiByYWRpYW5zXG4gICAgICovXG4gICAgZGVncmVlc1RvUmFkaWFuczogZnVuY3Rpb24oZGVncmVlcykge1xuICAgICAgcmV0dXJuIGRlZ3JlZXMgKiBQaUJ5MTgwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgdmFsdWUgaW4gcmFkaWFuc1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gdmFsdWUgaW4gZGVncmVlc1xuICAgICAqL1xuICAgIHJhZGlhbnNUb0RlZ3JlZXM6IGZ1bmN0aW9uKHJhZGlhbnMpIHtcbiAgICAgIHJldHVybiByYWRpYW5zIC8gUGlCeTE4MDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyBgcG9pbnRgIGFyb3VuZCBgb3JpZ2luYCB3aXRoIGByYWRpYW5zYFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHRvIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBvcmlnaW4gVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyBUaGUgcmFkaWFucyBvZiB0aGUgYW5nbGUgZm9yIHRoZSByb3RhdGlvblxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gVGhlIG5ldyByb3RhdGVkIHBvaW50XG4gICAgICovXG4gICAgcm90YXRlUG9pbnQ6IGZ1bmN0aW9uKHBvaW50LCBvcmlnaW4sIHJhZGlhbnMpIHtcbiAgICAgIHZhciBuZXdQb2ludCA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnQueCAtIG9yaWdpbi54LCBwb2ludC55IC0gb3JpZ2luLnkpLFxuICAgICAgICAgIHYgPSBmYWJyaWMudXRpbC5yb3RhdGVWZWN0b3IobmV3UG9pbnQsIHJhZGlhbnMpO1xuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQodi54LCB2LnkpLmFkZEVxdWFscyhvcmlnaW4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGB2ZWN0b3JgIHdpdGggYHJhZGlhbnNgXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2ZWN0b3IgVGhlIHZlY3RvciB0byByb3RhdGUgKHggYW5kIHkpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIHJhZGlhbnMgb2YgdGhlIGFuZ2xlIGZvciB0aGUgcm90YXRpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBuZXcgcm90YXRlZCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZVZlY3RvcjogZnVuY3Rpb24odmVjdG9yLCByYWRpYW5zKSB7XG4gICAgICB2YXIgc2luID0gZmFicmljLnV0aWwuc2luKHJhZGlhbnMpLFxuICAgICAgICAgIGNvcyA9IGZhYnJpYy51dGlsLmNvcyhyYWRpYW5zKSxcbiAgICAgICAgICByeCA9IHZlY3Rvci54ICogY29zIC0gdmVjdG9yLnkgKiBzaW4sXG4gICAgICAgICAgcnkgPSB2ZWN0b3IueCAqIHNpbiArIHZlY3Rvci55ICogY29zO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcngsXG4gICAgICAgIHk6IHJ5XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdmV0b3IgZnJvbSBwb2ludHMgcmVwcmVzZW50ZWQgYXMgYSBwb2ludFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFBvaW50XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHhcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludH0gZnJvbVxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHRvXG4gICAgICogQHJldHVybnMge1BvaW50fSB2ZWN0b3JcbiAgICAgKi9cbiAgICBjcmVhdGVWZWN0b3I6IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQodG8ueCAtIGZyb20ueCwgdG8ueSAtIGZyb20ueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgYW5nbGUgYmV0d2VlbiAyIHZlY3RvcnMgdXNpbmcgZG90IHByb2R1Y3RcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtQb2ludH0gYVxuICAgICAqIEBwYXJhbSB7UG9pbnR9IGJcbiAgICAgKiBAcmV0dXJucyB0aGUgYW5nbGUgaW4gcmFkaWFuIGJldHdlZW4gdGhlIHZlY3RvcnNcbiAgICAgKi9cbiAgICBjYWxjQW5nbGVCZXR3ZWVuVmVjdG9yczogZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBNYXRoLmFjb3MoKGEueCAqIGIueCArIGEueSAqIGIueSkgLyAoTWF0aC5oeXBvdChhLngsIGEueSkgKiBNYXRoLmh5cG90KGIueCwgYi55KSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtQb2ludH0gdlxuICAgICAqIEByZXR1cm5zIHtQb2ludH0gdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgdW5pdCB2ZWN0b3Igb2YgcG9pbnRpbmcgdG8gdGhlIGRpcmVjdGlvbiBvZiBgdmBcbiAgICAgKi9cbiAgICBnZXRIYXRWZWN0b3I6IGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5Qb2ludCh2LngsIHYueSkubXVsdGlwbHkoMSAvIE1hdGguaHlwb3Qodi54LCB2LnkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IEFcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBCXG4gICAgICogQHBhcmFtIHtQb2ludH0gQ1xuICAgICAqIEByZXR1cm5zIHt7IHZlY3RvcjogUG9pbnQsIGFuZ2xlOiBudW1iZXIgfX0gdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgYmlzZWN0b3Igb2YgQSBhbmQgQSdzIGFuZ2xlXG4gICAgICovXG4gICAgZ2V0QmlzZWN0b3I6IGZ1bmN0aW9uIChBLCBCLCBDKSB7XG4gICAgICB2YXIgQUIgPSBmYWJyaWMudXRpbC5jcmVhdGVWZWN0b3IoQSwgQiksIEFDID0gZmFicmljLnV0aWwuY3JlYXRlVmVjdG9yKEEsIEMpO1xuICAgICAgdmFyIGFscGhhID0gZmFicmljLnV0aWwuY2FsY0FuZ2xlQmV0d2VlblZlY3RvcnMoQUIsIEFDKTtcbiAgICAgIC8vICBjaGVjayBpZiBhbHBoYSBpcyByZWxhdGl2ZSB0byBBQi0+QkNcbiAgICAgIHZhciBybyA9IGZhYnJpYy51dGlsLmNhbGNBbmdsZUJldHdlZW5WZWN0b3JzKGZhYnJpYy51dGlsLnJvdGF0ZVZlY3RvcihBQiwgYWxwaGEpLCBBQyk7XG4gICAgICB2YXIgcGhpID0gYWxwaGEgKiAocm8gPT09IDAgPyAxIDogLTEpIC8gMjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZlY3RvcjogZmFicmljLnV0aWwuZ2V0SGF0VmVjdG9yKGZhYnJpYy51dGlsLnJvdGF0ZVZlY3RvcihBQiwgcGhpKSksXG4gICAgICAgIGFuZ2xlOiBhbHBoYVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvamVjdCBzdHJva2Ugd2lkdGggb24gcG9pbnRzIHJldHVybmluZyAyIHByb2plY3Rpb25zIGZvciBlYWNoIHBvaW50IGFzIGZvbGxvd3M6XG4gICAgICogLSBgbWl0ZXJgOiAyIHBvaW50cyBjb3JyZXNwb25kaW5nIHRvIHRoZSBvdXRlciBib3VuZGFyeSBhbmQgdGhlIGlubmVyIGJvdW5kYXJ5IG9mIHN0cm9rZS5cbiAgICAgKiAtIGBiZXZlbGA6IDIgcG9pbnRzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJldmVsIGJvdW5kYXJpZXMsIHRhbmdlbnQgdG8gdGhlIGJpc2VjdG9yLlxuICAgICAqIC0gYHJvdW5kYDogc2FtZSBhcyBgYmV2ZWxgXG4gICAgICogVXNlZCB0byBjYWxjdWxhdGUgb2JqZWN0J3MgYm91bmRpbmcgYm94XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7UG9pbnRbXX0gcG9pbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5zdHJva2VXaWR0aFxuICAgICAqIEBwYXJhbSB7J21pdGVyJ3wnYmV2ZWwnfCdyb3VuZCd9IG9wdGlvbnMuc3Ryb2tlTGluZUpvaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5zdHJva2VNaXRlckxpbWl0IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvc3Ryb2tlLW1pdGVybGltaXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuc3Ryb2tlVW5pZm9ybVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnNjYWxlWFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnNjYWxlWVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wZW5QYXRoXSB3aGV0aGVyIHRoZSBzaGFwZSBpcyBvcGVuIG9yIG5vdCwgYWZmZWN0cyB0aGUgY2FsY3VsYXRpb25zIG9mIHRoZSBmaXJzdCBhbmQgbGFzdCBwb2ludHNcbiAgICAgKiBAcmV0dXJucyB7ZmFicmljLlBvaW50W119IGFycmF5IG9mIHNpemUgMm4vNG4gb2YgYWxsIHN1c3BlY3RlZCBwb2ludHNcbiAgICAgKi9cbiAgICBwcm9qZWN0U3Ryb2tlT25Qb2ludHM6IGZ1bmN0aW9uIChwb2ludHMsIG9wdGlvbnMsIG9wZW5QYXRoKSB7XG4gICAgICB2YXIgY29vcmRzID0gW10sIHMgPSBvcHRpb25zLnN0cm9rZVdpZHRoIC8gMixcbiAgICAgICAgICBzdHJva2VVbmlmb3JtU2NhbGFyID0gb3B0aW9ucy5zdHJva2VVbmlmb3JtID9cbiAgICAgICAgICAgIG5ldyBmYWJyaWMuUG9pbnQoMSAvIG9wdGlvbnMuc2NhbGVYLCAxIC8gb3B0aW9ucy5zY2FsZVkpIDogbmV3IGZhYnJpYy5Qb2ludCgxLCAxKSxcbiAgICAgICAgICBnZXRTdHJva2VIYXRWZWN0b3IgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdmFyIHNjYWxhciA9IHMgLyAoTWF0aC5oeXBvdCh2LngsIHYueSkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQodi54ICogc2NhbGFyICogc3Ryb2tlVW5pZm9ybVNjYWxhci54LCB2LnkgKiBzY2FsYXIgKiBzdHJva2VVbmlmb3JtU2NhbGFyLnkpO1xuICAgICAgICAgIH07XG4gICAgICBpZiAocG9pbnRzLmxlbmd0aCA8PSAxKSB7cmV0dXJuIGNvb3Jkczt9XG4gICAgICBwb2ludHMuZm9yRWFjaChmdW5jdGlvbiAocCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIEEgPSBuZXcgZmFicmljLlBvaW50KHAueCwgcC55KSwgQiwgQztcbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgQyA9IHBvaW50c1tpbmRleCArIDFdO1xuICAgICAgICAgIEIgPSBvcGVuUGF0aCA/IGdldFN0cm9rZUhhdFZlY3RvcihmYWJyaWMudXRpbC5jcmVhdGVWZWN0b3IoQywgQSkpLmFkZEVxdWFscyhBKSA6IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5kZXggPT09IHBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgQiA9IHBvaW50c1tpbmRleCAtIDFdO1xuICAgICAgICAgIEMgPSBvcGVuUGF0aCA/IGdldFN0cm9rZUhhdFZlY3RvcihmYWJyaWMudXRpbC5jcmVhdGVWZWN0b3IoQiwgQSkpLmFkZEVxdWFscyhBKSA6IHBvaW50c1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBCID0gcG9pbnRzW2luZGV4IC0gMV07XG4gICAgICAgICAgQyA9IHBvaW50c1tpbmRleCArIDFdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiaXNlY3RvciA9IGZhYnJpYy51dGlsLmdldEJpc2VjdG9yKEEsIEIsIEMpLFxuICAgICAgICAgICAgYmlzZWN0b3JWZWN0b3IgPSBiaXNlY3Rvci52ZWN0b3IsXG4gICAgICAgICAgICBhbHBoYSA9IGJpc2VjdG9yLmFuZ2xlLFxuICAgICAgICAgICAgc2NhbGFyLFxuICAgICAgICAgICAgbWl0ZXJWZWN0b3I7XG4gICAgICAgIGlmIChvcHRpb25zLnN0cm9rZUxpbmVKb2luID09PSAnbWl0ZXInKSB7XG4gICAgICAgICAgc2NhbGFyID0gLXMgLyBNYXRoLnNpbihhbHBoYSAvIDIpO1xuICAgICAgICAgIG1pdGVyVmVjdG9yID0gbmV3IGZhYnJpYy5Qb2ludChcbiAgICAgICAgICAgIGJpc2VjdG9yVmVjdG9yLnggKiBzY2FsYXIgKiBzdHJva2VVbmlmb3JtU2NhbGFyLngsXG4gICAgICAgICAgICBiaXNlY3RvclZlY3Rvci55ICogc2NhbGFyICogc3Ryb2tlVW5pZm9ybVNjYWxhci55XG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoTWF0aC5oeXBvdChtaXRlclZlY3Rvci54LCBtaXRlclZlY3Rvci55KSAvIHMgPD0gb3B0aW9ucy5zdHJva2VNaXRlckxpbWl0KSB7XG4gICAgICAgICAgICBjb29yZHMucHVzaChBLmFkZChtaXRlclZlY3RvcikpO1xuICAgICAgICAgICAgY29vcmRzLnB1c2goQS5zdWJ0cmFjdChtaXRlclZlY3RvcikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2FsYXIgPSAtcyAqIE1hdGguU1FSVDI7XG4gICAgICAgIG1pdGVyVmVjdG9yID0gbmV3IGZhYnJpYy5Qb2ludChcbiAgICAgICAgICBiaXNlY3RvclZlY3Rvci54ICogc2NhbGFyICogc3Ryb2tlVW5pZm9ybVNjYWxhci54LFxuICAgICAgICAgIGJpc2VjdG9yVmVjdG9yLnkgKiBzY2FsYXIgKiBzdHJva2VVbmlmb3JtU2NhbGFyLnlcbiAgICAgICAgKTtcbiAgICAgICAgY29vcmRzLnB1c2goQS5hZGQobWl0ZXJWZWN0b3IpKTtcbiAgICAgICAgY29vcmRzLnB1c2goQS5zdWJ0cmFjdChtaXRlclZlY3RvcikpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29vcmRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0cmFuc2Zvcm0gdCB0byBwb2ludCBwXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge2ZhYnJpYy5Qb2ludH0gcCBUaGUgcG9pbnQgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtICB7QXJyYXl9IHQgVGhlIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtpZ25vcmVPZmZzZXRdIEluZGljYXRlcyB0aGF0IHRoZSBvZmZzZXQgc2hvdWxkIG5vdCBiZSBhcHBsaWVkXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBUaGUgdHJhbnNmb3JtZWQgcG9pbnRcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1Qb2ludDogZnVuY3Rpb24ocCwgdCwgaWdub3JlT2Zmc2V0KSB7XG4gICAgICBpZiAoaWdub3JlT2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KFxuICAgICAgICAgIHRbMF0gKiBwLnggKyB0WzJdICogcC55LFxuICAgICAgICAgIHRbMV0gKiBwLnggKyB0WzNdICogcC55XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5Qb2ludChcbiAgICAgICAgdFswXSAqIHAueCArIHRbMl0gKiBwLnkgKyB0WzRdLFxuICAgICAgICB0WzFdICogcC54ICsgdFszXSAqIHAueSArIHRbNV1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2YgcG9pbnRzJ3MgYm91bmRpbmcgcmVjdGFuZ2xlIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIDQgcG9pbnRzIGFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3RyYW5zZm9ybV0gYW4gYXJyYXkgb2YgNiBudW1iZXJzIHJlcHJlc2VudGluZyBhIDJ4MyB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIG1ha2VCb3VuZGluZ0JveEZyb21Qb2ludHM6IGZ1bmN0aW9uKHBvaW50cywgdHJhbnNmb3JtKSB7XG4gICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcG9pbnRzW2ldID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQocG9pbnRzW2ldLCB0cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgeFBvaW50cyA9IFtwb2ludHNbMF0ueCwgcG9pbnRzWzFdLngsIHBvaW50c1syXS54LCBwb2ludHNbM10ueF0sXG4gICAgICAgICAgbWluWCA9IGZhYnJpYy51dGlsLmFycmF5Lm1pbih4UG9pbnRzKSxcbiAgICAgICAgICBtYXhYID0gZmFicmljLnV0aWwuYXJyYXkubWF4KHhQb2ludHMpLFxuICAgICAgICAgIHdpZHRoID0gbWF4WCAtIG1pblgsXG4gICAgICAgICAgeVBvaW50cyA9IFtwb2ludHNbMF0ueSwgcG9pbnRzWzFdLnksIHBvaW50c1syXS55LCBwb2ludHNbM10ueV0sXG4gICAgICAgICAgbWluWSA9IGZhYnJpYy51dGlsLmFycmF5Lm1pbih5UG9pbnRzKSxcbiAgICAgICAgICBtYXhZID0gZmFicmljLnV0aWwuYXJyYXkubWF4KHlQb2ludHMpLFxuICAgICAgICAgIGhlaWdodCA9IG1heFkgLSBtaW5ZO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBtaW5YLFxuICAgICAgICB0b3A6IG1pblksXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludmVydCB0cmFuc2Zvcm1hdGlvbiB0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHQgVGhlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgaW52ZXJ0ZWQgdHJhbnNmb3JtXG4gICAgICovXG4gICAgaW52ZXJ0VHJhbnNmb3JtOiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgYSA9IDEgLyAodFswXSAqIHRbM10gLSB0WzFdICogdFsyXSksXG4gICAgICAgICAgciA9IFthICogdFszXSwgLWEgKiB0WzFdLCAtYSAqIHRbMl0sIGEgKiB0WzBdXSxcbiAgICAgICAgICBvID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQoeyB4OiB0WzRdLCB5OiB0WzVdIH0sIHIsIHRydWUpO1xuICAgICAgcls0XSA9IC1vLng7XG4gICAgICByWzVdID0gLW8ueTtcbiAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBIHdyYXBwZXIgYXJvdW5kIE51bWJlciN0b0ZpeGVkLCB3aGljaCBjb250cmFyeSB0byBuYXRpdmUgbWV0aG9kIHJldHVybnMgbnVtYmVyLCBub3Qgc3RyaW5nLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IG51bWJlciBudW1iZXIgdG8gb3BlcmF0ZSBvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmcmFjdGlvbkRpZ2l0cyBudW1iZXIgb2YgZnJhY3Rpb24gZGlnaXRzIHRvIFwibGVhdmVcIlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICB0b0ZpeGVkOiBmdW5jdGlvbihudW1iZXIsIGZyYWN0aW9uRGlnaXRzKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChOdW1iZXIobnVtYmVyKS50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGZyb20gYXR0cmlidXRlIHZhbHVlIHRvIHBpeGVsIHZhbHVlIGlmIGFwcGxpY2FibGUuXG4gICAgICogUmV0dXJucyBjb252ZXJ0ZWQgcGl4ZWxzIG9yIG9yaWdpbmFsIHZhbHVlIG5vdCBjb252ZXJ0ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSB2YWx1ZSBudW1iZXIgdG8gb3BlcmF0ZSBvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmb250U2l6ZVxuICAgICAqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9XG4gICAgICovXG4gICAgcGFyc2VVbml0OiBmdW5jdGlvbih2YWx1ZSwgZm9udFNpemUpIHtcbiAgICAgIHZhciB1bml0ID0gL1xcRHswLDJ9JC8uZXhlYyh2YWx1ZSksXG4gICAgICAgICAgbnVtYmVyID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICBpZiAoIWZvbnRTaXplKSB7XG4gICAgICAgIGZvbnRTaXplID0gZmFicmljLlRleHQuREVGQVVMVF9TVkdfRk9OVF9TSVpFO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh1bml0WzBdKSB7XG4gICAgICAgIGNhc2UgJ21tJzpcbiAgICAgICAgICByZXR1cm4gbnVtYmVyICogZmFicmljLkRQSSAvIDI1LjQ7XG5cbiAgICAgICAgY2FzZSAnY20nOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmYWJyaWMuRFBJIC8gMi41NDtcblxuICAgICAgICBjYXNlICdpbic6XG4gICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZhYnJpYy5EUEk7XG5cbiAgICAgICAgY2FzZSAncHQnOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmYWJyaWMuRFBJIC8gNzI7IC8vIG9yICogNCAvIDNcblxuICAgICAgICBjYXNlICdwYyc6XG4gICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZhYnJpYy5EUEkgLyA3MiAqIDEyOyAvLyBvciAqIDE2XG5cbiAgICAgICAgY2FzZSAnZW0nOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmb250U2l6ZTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHdoaWNoIGFsd2F5cyByZXR1cm5zIGBmYWxzZWAuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgZmFsc2VGdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMga2xhc3MgXCJDbGFzc1wiIG9iamVjdCBvZiBnaXZlbiBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIG9mIG9iamVjdCAoZWcuICdjaXJjbGUnKVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgTmFtZXNwYWNlIHRvIGdldCBrbGFzcyBcIkNsYXNzXCIgb2JqZWN0IGZyb21cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGtsYXNzIFwiQ2xhc3NcIlxuICAgICAqL1xuICAgIGdldEtsYXNzOiBmdW5jdGlvbih0eXBlLCBuYW1lc3BhY2UpIHtcbiAgICAgIC8vIGNhcGl0YWxpemUgZmlyc3QgbGV0dGVyIG9ubHlcbiAgICAgIHR5cGUgPSBmYWJyaWMudXRpbC5zdHJpbmcuY2FtZWxpemUodHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR5cGUuc2xpY2UoMSkpO1xuICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnJlc29sdmVOYW1lc3BhY2UobmFtZXNwYWNlKVt0eXBlXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhcnJheSBvZiBhdHRyaWJ1dGVzIGZvciBnaXZlbiBzdmcgdGhhdCBmYWJyaWMgcGFyc2VzXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBzdmcgZWxlbWVudCAoZWcuICdjaXJjbGUnKVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBzdHJpbmcgbmFtZXMgb2Ygc3VwcG9ydGVkIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBnZXRTdmdBdHRyaWJ1dGVzOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IFtcbiAgICAgICAgJ2luc3RhbnRpYXRlZF9ieV91c2UnLFxuICAgICAgICAnc3R5bGUnLFxuICAgICAgICAnaWQnLFxuICAgICAgICAnY2xhc3MnXG4gICAgICBdO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2xpbmVhckdyYWRpZW50JzpcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5jb25jYXQoWyd4MScsICd5MScsICd4MicsICd5MicsICdncmFkaWVudFVuaXRzJywgJ2dyYWRpZW50VHJhbnNmb3JtJ10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyYWRpYWxHcmFkaWVudCc6XG4gICAgICAgICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMuY29uY2F0KFsnZ3JhZGllbnRVbml0cycsICdncmFkaWVudFRyYW5zZm9ybScsICdjeCcsICdjeScsICdyJywgJ2Z4JywgJ2Z5JywgJ2ZyJ10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzdG9wJzpcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5jb25jYXQoWydvZmZzZXQnLCAnc3RvcC1jb2xvcicsICdzdG9wLW9wYWNpdHknXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3Qgb2YgZ2l2ZW4gbmFtZXNwYWNlXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBOYW1lc3BhY2Ugc3RyaW5nIGUuZy4gJ2ZhYnJpYy5JbWFnZS5maWx0ZXInIG9yICdmYWJyaWMnXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgZm9yIGdpdmVuIG5hbWVzcGFjZSAoZGVmYXVsdCBmYWJyaWMpXG4gICAgICovXG4gICAgcmVzb2x2ZU5hbWVzcGFjZTogZnVuY3Rpb24obmFtZXNwYWNlKSB7XG4gICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gZmFicmljO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFydHMgPSBuYW1lc3BhY2Uuc3BsaXQoJy4nKSxcbiAgICAgICAgICBsZW4gPSBwYXJ0cy5sZW5ndGgsIGksXG4gICAgICAgICAgb2JqID0gZ2xvYmFsIHx8IGZhYnJpYy53aW5kb3c7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBvYmogPSBvYmpbcGFydHNbaV1dO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBpbWFnZSBlbGVtZW50IGZyb20gZ2l2ZW4gdXJsIGFuZCBwYXNzZXMgaXQgdG8gYSBjYWxsYmFja1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVVJMIHJlcHJlc2VudGluZyBhbiBpbWFnZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrOyBpbnZva2VkIHdpdGggbG9hZGVkIGltYWdlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gQ29udGV4dCB0byBpbnZva2UgY2FsbGJhY2sgaW5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2Nyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiB2YWx1ZSB0byBzZXQgaW1hZ2UgZWxlbWVudCB0b1xuICAgICAqL1xuICAgIGxvYWRJbWFnZTogZnVuY3Rpb24odXJsLCBjYWxsYmFjaywgY29udGV4dCwgY3Jvc3NPcmlnaW4pIHtcbiAgICAgIGlmICghdXJsKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgdXJsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1nID0gZmFicmljLnV0aWwuY3JlYXRlSW1hZ2UoKTtcblxuICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgIHZhciBvbkxvYWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChjb250ZXh0LCBpbWcsIGZhbHNlKTtcbiAgICAgICAgaW1nID0gaW1nLm9ubG9hZCA9IGltZy5vbmVycm9yID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIGltZy5vbmxvYWQgPSBvbkxvYWRDYWxsYmFjaztcbiAgICAgIC8qKiBAaWdub3JlICovXG4gICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmYWJyaWMubG9nKCdFcnJvciBsb2FkaW5nICcgKyBpbWcuc3JjKTtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChjb250ZXh0LCBudWxsLCB0cnVlKTtcbiAgICAgICAgaW1nID0gaW1nLm9ubG9hZCA9IGltZy5vbmVycm9yID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIC8vIGRhdGEtdXJscyBhcHBlYXIgdG8gYmUgYnVnZ3kgd2l0aCBjcm9zc09yaWdpblxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2thbmdheC9mYWJyaWMuanMvY29tbWl0L2QwYWJiOTBmMWNkNWM1ZWY5ZDJhOTRkM2ZiMjFhMjIzMzBkYTNlMGEjY29tbWl0Y29tbWVudC00NTEzNzY3XG4gICAgICAvLyBzZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTMxNTE1MlxuICAgICAgLy8gICAgIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTkzNTA2OVxuICAgICAgLy8gY3Jvc3NPcmlnaW4gbnVsbCBpcyB0aGUgc2FtZSBhcyBub3Qgc2V0LlxuICAgICAgaWYgKHVybC5pbmRleE9mKCdkYXRhJykgIT09IDAgJiZcbiAgICAgICAgY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICAgIH1cblxuICAgICAgLy8gSUUxMCAvIElFMTEtRml4OiBTVkcgY29udGVudHMgZnJvbSBkYXRhOiBVUklcbiAgICAgIC8vIHdpbGwgb25seSBiZSBhdmFpbGFibGUgaWYgdGhlIElNRyBpcyBwcmVzZW50XG4gICAgICAvLyBpbiB0aGUgRE9NIChhbmQgdmlzaWJsZSlcbiAgICAgIGlmICh1cmwuc3Vic3RyaW5nKDAsMTQpID09PSAnZGF0YTppbWFnZS9zdmcnKSB7XG4gICAgICAgIGltZy5vbmxvYWQgPSBudWxsO1xuICAgICAgICBmYWJyaWMudXRpbC5sb2FkSW1hZ2VJbkRvbShpbWcsIG9uTG9hZENhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgU1ZHIGltYWdlIHdpdGggZGF0YTogVVJMIHRvIHRoZSBkb21cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW1nIEltYWdlIG9iamVjdCB3aXRoIGRhdGE6aW1hZ2Uvc3ZnIHNyY1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrOyBpbnZva2VkIHdpdGggbG9hZGVkIGltYWdlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBET00gZWxlbWVudCAoZGl2IGNvbnRhaW5pbmcgdGhlIFNWRyBpbWFnZSlcbiAgICAgKi9cbiAgICBsb2FkSW1hZ2VJbkRvbTogZnVuY3Rpb24oaW1nLCBvbkxvYWRDYWxsYmFjaykge1xuICAgICAgdmFyIGRpdiA9IGZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGRpdi5zdHlsZS5oZWlnaHQgPSAnMXB4JztcbiAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gZGl2LnN0eWxlLnRvcCA9ICctMTAwJSc7XG4gICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKGltZyk7XG4gICAgICBmYWJyaWMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAvKipcbiAgICAgICAqIFdyYXAgaW4gZnVuY3Rpb24gdG86XG4gICAgICAgKiAgIDEuIENhbGwgZXhpc3RpbmcgY2FsbGJhY2tcbiAgICAgICAqICAgMi4gQ2xlYW51cCBET01cbiAgICAgICAqL1xuICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25Mb2FkQ2FsbGJhY2soKTtcbiAgICAgICAgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgICAgICAgZGl2ID0gbnVsbDtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY29ycmVzcG9uZGluZyBmYWJyaWMgaW5zdGFuY2VzIGZyb20gdGhlaXIgb2JqZWN0IHJlcHJlc2VudGF0aW9uc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzIE9iamVjdHMgdG8gZW5saXZlblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFsbCBvYmplY3RzIGFyZSBjcmVhdGVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBOYW1lc3BhY2UgdG8gZ2V0IGtsYXNzIFwiQ2xhc3NcIiBvYmplY3QgZnJvbVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJldml2ZXIgTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygb2JqZWN0IGVsZW1lbnRzLFxuICAgICAqIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBlbmxpdmVuT2JqZWN0czogZnVuY3Rpb24ob2JqZWN0cywgY2FsbGJhY2ssIG5hbWVzcGFjZSwgcmV2aXZlcikge1xuICAgICAgb2JqZWN0cyA9IG9iamVjdHMgfHwgW107XG5cbiAgICAgIHZhciBlbmxpdmVuZWRPYmplY3RzID0gW10sXG4gICAgICAgICAgbnVtTG9hZGVkT2JqZWN0cyA9IDAsXG4gICAgICAgICAgbnVtVG90YWxPYmplY3RzID0gb2JqZWN0cy5sZW5ndGg7XG5cbiAgICAgIGZ1bmN0aW9uIG9uTG9hZGVkKCkge1xuICAgICAgICBpZiAoKytudW1Mb2FkZWRPYmplY3RzID09PSBudW1Ub3RhbE9iamVjdHMpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRPYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgdW5kZWZpbmVkIG9iamVjdHMgKG9iamVjdHMgdGhhdCBnYXZlIGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFudW1Ub3RhbE9iamVjdHMpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5saXZlbmVkT2JqZWN0cyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChvLCBpbmRleCkge1xuICAgICAgICAvLyBpZiBzcGFyc2UgYXJyYXlcbiAgICAgICAgaWYgKCFvIHx8ICFvLnR5cGUpIHtcbiAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2xhc3MgPSBmYWJyaWMudXRpbC5nZXRLbGFzcyhvLnR5cGUsIG5hbWVzcGFjZSk7XG4gICAgICAgIGtsYXNzLmZyb21PYmplY3QobywgZnVuY3Rpb24gKG9iaiwgZXJyb3IpIHtcbiAgICAgICAgICBlcnJvciB8fCAoZW5saXZlbmVkT2JqZWN0c1tpbmRleF0gPSBvYmopO1xuICAgICAgICAgIHJldml2ZXIgJiYgcmV2aXZlcihvLCBvYmosIGVycm9yKTtcbiAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNvcnJlc3BvbmRpbmcgZmFicmljIGluc3RhbmNlcyByZXNpZGluZyBpbiBhbiBvYmplY3QsIGUuZy4gYGNsaXBQYXRoYFxuICAgICAqIEBzZWUge0BsaW5rIGZhYnJpYy5PYmplY3QuRU5MSVZFTl9QUk9QU31cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XSBhc3NpZ24gZW5saXZlZCBwcm9wcyB0byB0aGlzIG9iamVjdCAocGFzcyBudWxsIHRvIHNraXAgdGhpcylcbiAgICAgKiBAcGFyYW0geyhvYmplY3RzOmZhYnJpYy5PYmplY3RbXSkgPT4gdm9pZH0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBlbmxpdmVuT2JqZWN0RW5saXZhYmxlczogZnVuY3Rpb24gKG9iamVjdCwgY29udGV4dCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBlbmxpdmVuUHJvcHMgPSBmYWJyaWMuT2JqZWN0LkVOTElWRU5fUFJPUFMuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICEhb2JqZWN0W2tleV07IH0pO1xuICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMoZW5saXZlblByb3BzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvYmplY3Rba2V5XTsgfSksIGZ1bmN0aW9uIChlbmxpdmVkUHJvcHMpIHtcbiAgICAgICAgdmFyIG9iamVjdHMgPSB7fTtcbiAgICAgICAgZW5saXZlblByb3BzLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICAgICAgICBvYmplY3RzW2tleV0gPSBlbmxpdmVkUHJvcHNbaW5kZXhdO1xuICAgICAgICAgIGNvbnRleHQgJiYgKGNvbnRleHRba2V5XSA9IGVubGl2ZWRQcm9wc1tpbmRleF0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sob2JqZWN0cyk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuZCB3YWl0IGZvciBsb2FkaW5nIG9mIHBhdHRlcm5zXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdHRlcm5zIE9iamVjdHMgdG8gZW5saXZlblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFsbCBvYmplY3RzIGFyZSBjcmVhdGVkXG4gICAgICogY2FsbGVkIGFmdGVyIGVhY2ggZmFicmljIG9iamVjdCBjcmVhdGVkLlxuICAgICAqL1xuICAgIGVubGl2ZW5QYXR0ZXJuczogZnVuY3Rpb24ocGF0dGVybnMsIGNhbGxiYWNrKSB7XG4gICAgICBwYXR0ZXJucyA9IHBhdHRlcm5zIHx8IFtdO1xuXG4gICAgICBmdW5jdGlvbiBvbkxvYWRlZCgpIHtcbiAgICAgICAgaWYgKCsrbnVtTG9hZGVkUGF0dGVybnMgPT09IG51bVBhdHRlcm5zKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5saXZlbmVkUGF0dGVybnMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBlbmxpdmVuZWRQYXR0ZXJucyA9IFtdLFxuICAgICAgICAgIG51bUxvYWRlZFBhdHRlcm5zID0gMCxcbiAgICAgICAgICBudW1QYXR0ZXJucyA9IHBhdHRlcm5zLmxlbmd0aDtcblxuICAgICAgaWYgKCFudW1QYXR0ZXJucykge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRQYXR0ZXJucyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcGF0dGVybnMuZm9yRWFjaChmdW5jdGlvbiAocCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHAgJiYgcC5zb3VyY2UpIHtcbiAgICAgICAgICBuZXcgZmFicmljLlBhdHRlcm4ocCwgZnVuY3Rpb24ocGF0dGVybikge1xuICAgICAgICAgICAgZW5saXZlbmVkUGF0dGVybnNbaW5kZXhdID0gcGF0dGVybjtcbiAgICAgICAgICAgIG9uTG9hZGVkKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZW5saXZlbmVkUGF0dGVybnNbaW5kZXhdID0gcDtcbiAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR3JvdXBzIFNWRyBlbGVtZW50cyAodXN1YWxseSB0aG9zZSByZXRyaWV2ZWQgZnJvbSBTVkcgZG9jdW1lbnQpXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnRzIFNWRyBlbGVtZW50cyB0byBncm91cFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBWYWx1ZSB0byBzZXQgc291cmNlUGF0aCB0b1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R8ZmFicmljLkdyb3VwfVxuICAgICAqL1xuICAgIGdyb3VwU1ZHRWxlbWVudHM6IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcHRpb25zLCBwYXRoKSB7XG4gICAgICB2YXIgb2JqZWN0O1xuICAgICAgaWYgKGVsZW1lbnRzICYmIGVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAodHlwZW9mIHBhdGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZWxlbWVudHNbMF0uc291cmNlUGF0aCA9IHBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzWzBdO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMud2lkdGggJiYgb3B0aW9ucy5oZWlnaHQpIHtcbiAgICAgICAgICBvcHRpb25zLmNlbnRlclBvaW50ID0ge1xuICAgICAgICAgICAgeDogb3B0aW9ucy53aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiBvcHRpb25zLmhlaWdodCAvIDJcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLndpZHRoO1xuICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb2JqZWN0ID0gbmV3IGZhYnJpYy5Hcm91cChlbGVtZW50cywgb3B0aW9ucyk7XG4gICAgICBpZiAodHlwZW9mIHBhdGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9iamVjdC5zb3VyY2VQYXRoID0gcGF0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBvcHVsYXRlcyBhbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIG9mIGFub3RoZXIgb2JqZWN0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgU291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gcHJvcGVydGllcyBQcm9wZXJ0aWVzIG5hbWVzIHRvIGluY2x1ZGVcbiAgICAgKi9cbiAgICBwb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzOiBmdW5jdGlvbihzb3VyY2UsIGRlc3RpbmF0aW9uLCBwcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAocHJvcGVydGllcyAmJiBBcnJheS5pc0FycmF5KHByb3BlcnRpZXMpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwcm9wZXJ0aWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnRpZXNbaV0gaW4gc291cmNlKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0aWVzW2ldXSA9IHNvdXJjZVtwcm9wZXJ0aWVzW2ldXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjYW52YXMgZWxlbWVudFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcmV0dXJuIHtDYW52YXNFbGVtZW50fSBpbml0aWFsaXplZCBjYW52YXMgZWxlbWVudFxuICAgICAqL1xuICAgIGNyZWF0ZUNhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNhbnZhcyBlbGVtZW50IHRoYXQgaXMgYSBjb3B5IG9mIGFub3RoZXIgYW5kIGlzIGFsc28gcGFpbnRlZFxuICAgICAqIEBwYXJhbSB7Q2FudmFzRWxlbWVudH0gY2FudmFzIHRvIGNvcHkgc2l6ZSBhbmQgY29udGVudCBvZlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcmV0dXJuIHtDYW52YXNFbGVtZW50fSBpbml0aWFsaXplZCBjYW52YXMgZWxlbWVudFxuICAgICAqL1xuICAgIGNvcHlDYW52YXNFbGVtZW50OiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIHZhciBuZXdDYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICBuZXdDYW52YXMud2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgICBuZXdDYW52YXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICAgIG5ld0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZShjYW52YXMsIDAsIDApO1xuICAgICAgcmV0dXJuIG5ld0NhbnZhcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2luY2UgMi42LjAgbW92ZWQgZnJvbSBjYW52YXMgaW5zdGFuY2UgdG8gdXRpbGl0eS5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc0VsZW1lbnR9IGNhbnZhc0VsIHRvIGNvcHkgc2l6ZSBhbmQgY29udGVudCBvZlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtYXQgJ2pwZWcnIG9yICdwbmcnLCBpbiBzb21lIGJyb3dzZXJzICd3ZWJwJyBpcyBvayB0b29cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcXVhbGl0eSA8PSAxIGFuZCA+IDBcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBkYXRhIHVybFxuICAgICAqL1xuICAgIHRvRGF0YVVSTDogZnVuY3Rpb24oY2FudmFzRWwsIGZvcm1hdCwgcXVhbGl0eSkge1xuICAgICAgcmV0dXJuIGNhbnZhc0VsLnRvRGF0YVVSTCgnaW1hZ2UvJyArIGZvcm1hdCwgcXVhbGl0eSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgaW1hZ2UgZWxlbWVudCAod29ya3Mgb24gY2xpZW50IGFuZCBub2RlKVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIGltYWdlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjcmVhdGVJbWFnZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSBtYXRyaXggQSBieSBtYXRyaXggQiB0byBuZXN0IHRyYW5zZm9ybWF0aW9uc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtBcnJheX0gYSBGaXJzdCB0cmFuc2Zvcm1NYXRyaXhcbiAgICAgKiBAcGFyYW0gIHtBcnJheX0gYiBTZWNvbmQgdHJhbnNmb3JtTWF0cml4XG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXMyeDIgZmxhZyB0byBtdWx0aXBseSBtYXRyaWNlcyBhcyAyeDIgbWF0cmljZXNcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIHByb2R1Y3Qgb2YgdGhlIHR3byB0cmFuc2Zvcm0gbWF0cmljZXNcbiAgICAgKi9cbiAgICBtdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzOiBmdW5jdGlvbihhLCBiLCBpczJ4Mikge1xuICAgICAgLy8gTWF0cml4IG11bHRpcGx5IGEgKiBiXG4gICAgICByZXR1cm4gW1xuICAgICAgICBhWzBdICogYlswXSArIGFbMl0gKiBiWzFdLFxuICAgICAgICBhWzFdICogYlswXSArIGFbM10gKiBiWzFdLFxuICAgICAgICBhWzBdICogYlsyXSArIGFbMl0gKiBiWzNdLFxuICAgICAgICBhWzFdICogYlsyXSArIGFbM10gKiBiWzNdLFxuICAgICAgICBpczJ4MiA/IDAgOiBhWzBdICogYls0XSArIGFbMl0gKiBiWzVdICsgYVs0XSxcbiAgICAgICAgaXMyeDIgPyAwIDogYVsxXSAqIGJbNF0gKyBhWzNdICogYls1XSArIGFbNV1cbiAgICAgIF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgc3RhbmRhcmQgMngzIG1hdHJpeCBpbnRvIHRyYW5zZm9ybSBjb21wb25lbnRzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge0FycmF5fSBhIHRyYW5zZm9ybU1hdHJpeFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ29tcG9uZW50cyBvZiB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBxckRlY29tcG9zZTogZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIGFuZ2xlID0gYXRhbjIoYVsxXSwgYVswXSksXG4gICAgICAgICAgZGVub20gPSBwb3coYVswXSwgMikgKyBwb3coYVsxXSwgMiksXG4gICAgICAgICAgc2NhbGVYID0gc3FydChkZW5vbSksXG4gICAgICAgICAgc2NhbGVZID0gKGFbMF0gKiBhWzNdIC0gYVsyXSAqIGFbMV0pIC8gc2NhbGVYLFxuICAgICAgICAgIHNrZXdYID0gYXRhbjIoYVswXSAqIGFbMl0gKyBhWzFdICogYSBbM10sIGRlbm9tKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuZ2xlOiBhbmdsZSAvIFBpQnkxODAsXG4gICAgICAgIHNjYWxlWDogc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHNjYWxlWSxcbiAgICAgICAgc2tld1g6IHNrZXdYIC8gUGlCeTE4MCxcbiAgICAgICAgc2tld1k6IDAsXG4gICAgICAgIHRyYW5zbGF0ZVg6IGFbNF0sXG4gICAgICAgIHRyYW5zbGF0ZVk6IGFbNV1cbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB0cmFuc2Zvcm0gbWF0cml4IHN0YXJ0aW5nIGZyb20gYW4gb2JqZWN0IG9mIHRoZSBzYW1lIGtpbmQgb2ZcbiAgICAgKiB0aGUgb25lIHJldHVybmVkIGZyb20gcXJEZWNvbXBvc2UsIHVzZWZ1bCBhbHNvIGlmIHlvdSB3YW50IHRvIGNhbGN1bGF0ZSBzb21lXG4gICAgICogdHJhbnNmb3JtYXRpb25zIGZyb20gYW4gb2JqZWN0IHRoYXQgaXMgbm90IGVubGl2ZWQgeWV0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuYW5nbGVdIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJbXX0gdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGNhbGNSb3RhdGVNYXRyaXg6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghb3B0aW9ucy5hbmdsZSkge1xuICAgICAgICByZXR1cm4gZmFicmljLmlNYXRyaXguY29uY2F0KCk7XG4gICAgICB9XG4gICAgICB2YXIgdGhldGEgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKG9wdGlvbnMuYW5nbGUpLFxuICAgICAgICAgIGNvcyA9IGZhYnJpYy51dGlsLmNvcyh0aGV0YSksXG4gICAgICAgICAgc2luID0gZmFicmljLnV0aWwuc2luKHRoZXRhKTtcbiAgICAgIHJldHVybiBbY29zLCBzaW4sIC1zaW4sIGNvcywgMCwgMF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB0cmFuc2Zvcm0gbWF0cml4IHN0YXJ0aW5nIGZyb20gYW4gb2JqZWN0IG9mIHRoZSBzYW1lIGtpbmQgb2ZcbiAgICAgKiB0aGUgb25lIHJldHVybmVkIGZyb20gcXJEZWNvbXBvc2UsIHVzZWZ1bCBhbHNvIGlmIHlvdSB3YW50IHRvIGNhbGN1bGF0ZSBzb21lXG4gICAgICogdHJhbnNmb3JtYXRpb25zIGZyb20gYW4gb2JqZWN0IHRoYXQgaXMgbm90IGVubGl2ZWQgeWV0LlxuICAgICAqIGlzIGNhbGxlZCBEaW1lbnNpb25zVHJhbnNmb3JtTWF0cml4IGJlY2F1c2UgdGhvc2UgcHJvcGVydGllcyBhcmUgdGhlIG9uZSB0aGF0IGluZmx1ZW5jZVxuICAgICAqIHRoZSBzaXplIG9mIHRoZSByZXN1bHRpbmcgYm94IG9mIHRoZSBvYmplY3QuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2NhbGVYXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2NhbGVZXVxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLmZsaXBYXVxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLmZsaXBZXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2tld1hdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5za2V3WV1cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJbXX0gdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGNhbGNEaW1lbnNpb25zTWF0cml4OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgc2NhbGVYID0gdHlwZW9mIG9wdGlvbnMuc2NhbGVYID09PSAndW5kZWZpbmVkJyA/IDEgOiBvcHRpb25zLnNjYWxlWCxcbiAgICAgICAgICBzY2FsZVkgPSB0eXBlb2Ygb3B0aW9ucy5zY2FsZVkgPT09ICd1bmRlZmluZWQnID8gMSA6IG9wdGlvbnMuc2NhbGVZLFxuICAgICAgICAgIHNjYWxlTWF0cml4ID0gW1xuICAgICAgICAgICAgb3B0aW9ucy5mbGlwWCA/IC1zY2FsZVggOiBzY2FsZVgsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIG9wdGlvbnMuZmxpcFkgPyAtc2NhbGVZIDogc2NhbGVZLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDBdLFxuICAgICAgICAgIG11bHRpcGx5ID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyxcbiAgICAgICAgICBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucztcbiAgICAgIGlmIChvcHRpb25zLnNrZXdYKSB7XG4gICAgICAgIHNjYWxlTWF0cml4ID0gbXVsdGlwbHkoXG4gICAgICAgICAgc2NhbGVNYXRyaXgsXG4gICAgICAgICAgWzEsIDAsIE1hdGgudGFuKGRlZ3JlZXNUb1JhZGlhbnMob3B0aW9ucy5za2V3WCkpLCAxXSxcbiAgICAgICAgICB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLnNrZXdZKSB7XG4gICAgICAgIHNjYWxlTWF0cml4ID0gbXVsdGlwbHkoXG4gICAgICAgICAgc2NhbGVNYXRyaXgsXG4gICAgICAgICAgWzEsIE1hdGgudGFuKGRlZ3JlZXNUb1JhZGlhbnMob3B0aW9ucy5za2V3WSkpLCAwLCAxXSxcbiAgICAgICAgICB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzY2FsZU1hdHJpeDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRyYW5zZm9ybSBtYXRyaXggc3RhcnRpbmcgZnJvbSBhbiBvYmplY3Qgb2YgdGhlIHNhbWUga2luZCBvZlxuICAgICAqIHRoZSBvbmUgcmV0dXJuZWQgZnJvbSBxckRlY29tcG9zZSwgdXNlZnVsIGFsc28gaWYgeW91IHdhbnQgdG8gY2FsY3VsYXRlIHNvbWVcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgZnJvbSBhbiBvYmplY3QgdGhhdCBpcyBub3QgZW5saXZlZCB5ZXRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5hbmdsZV1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNjYWxlWF1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNjYWxlWV1cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5mbGlwWF1cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5mbGlwWV1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNrZXdYXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2tld1hdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy50cmFuc2xhdGVYXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMudHJhbnNsYXRlWV1cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJbXX0gdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGNvbXBvc2VNYXRyaXg6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBtYXRyaXggPSBbMSwgMCwgMCwgMSwgb3B0aW9ucy50cmFuc2xhdGVYIHx8IDAsIG9wdGlvbnMudHJhbnNsYXRlWSB8fCAwXSxcbiAgICAgICAgICBtdWx0aXBseSA9IGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXM7XG4gICAgICBpZiAob3B0aW9ucy5hbmdsZSkge1xuICAgICAgICBtYXRyaXggPSBtdWx0aXBseShtYXRyaXgsIGZhYnJpYy51dGlsLmNhbGNSb3RhdGVNYXRyaXgob3B0aW9ucykpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuc2NhbGVYICE9PSAxIHx8IG9wdGlvbnMuc2NhbGVZICE9PSAxIHx8XG4gICAgICAgICAgb3B0aW9ucy5za2V3WCB8fCBvcHRpb25zLnNrZXdZIHx8IG9wdGlvbnMuZmxpcFggfHwgb3B0aW9ucy5mbGlwWSkge1xuICAgICAgICBtYXRyaXggPSBtdWx0aXBseShtYXRyaXgsIGZhYnJpYy51dGlsLmNhbGNEaW1lbnNpb25zTWF0cml4KG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlc2V0IGFuIG9iamVjdCB0cmFuc2Zvcm0gc3RhdGUgdG8gbmV1dHJhbC4gVG9wIGFuZCBsZWZ0IGFyZSBub3QgYWNjb3VudGVkIGZvclxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXQgb2JqZWN0IHRvIHRyYW5zZm9ybVxuICAgICAqL1xuICAgIHJlc2V0T2JqZWN0VHJhbnNmb3JtOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB0YXJnZXQuc2NhbGVYID0gMTtcbiAgICAgIHRhcmdldC5zY2FsZVkgPSAxO1xuICAgICAgdGFyZ2V0LnNrZXdYID0gMDtcbiAgICAgIHRhcmdldC5za2V3WSA9IDA7XG4gICAgICB0YXJnZXQuZmxpcFggPSBmYWxzZTtcbiAgICAgIHRhcmdldC5mbGlwWSA9IGZhbHNlO1xuICAgICAgdGFyZ2V0LnJvdGF0ZSgwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBPYmplY3QgdHJhbnNmb3JtIHZhbHVlc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXQgb2JqZWN0IHRvIHJlYWQgZnJvbVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ29tcG9uZW50cyBvZiB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBzYXZlT2JqZWN0VHJhbnNmb3JtOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY2FsZVg6IHRhcmdldC5zY2FsZVgsXG4gICAgICAgIHNjYWxlWTogdGFyZ2V0LnNjYWxlWSxcbiAgICAgICAgc2tld1g6IHRhcmdldC5za2V3WCxcbiAgICAgICAgc2tld1k6IHRhcmdldC5za2V3WSxcbiAgICAgICAgYW5nbGU6IHRhcmdldC5hbmdsZSxcbiAgICAgICAgbGVmdDogdGFyZ2V0LmxlZnQsXG4gICAgICAgIGZsaXBYOiB0YXJnZXQuZmxpcFgsXG4gICAgICAgIGZsaXBZOiB0YXJnZXQuZmxpcFksXG4gICAgICAgIHRvcDogdGFyZ2V0LnRvcFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGNvbnRleHQgaGFzIHRyYW5zcGFyZW50IHBpeGVsXG4gICAgICogYXQgc3BlY2lmaWVkIGxvY2F0aW9uICh0YWtpbmcgdG9sZXJhbmNlIGludG8gYWNjb3VudClcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCB4IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB5IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZVxuICAgICAqL1xuICAgIGlzVHJhbnNwYXJlbnQ6IGZ1bmN0aW9uKGN0eCwgeCwgeSwgdG9sZXJhbmNlKSB7XG5cbiAgICAgIC8vIElmIHRvbGVyYW5jZSBpcyA+IDAgYWRqdXN0IHN0YXJ0IGNvb3JkcyB0byB0YWtlIGludG8gYWNjb3VudC5cbiAgICAgIC8vIElmIG1vdmVzIG9mZiBDYW52YXMgZml4IHRvIDBcbiAgICAgIGlmICh0b2xlcmFuY2UgPiAwKSB7XG4gICAgICAgIGlmICh4ID4gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgeCAtPSB0b2xlcmFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgeCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgICB5IC09IHRvbGVyYW5jZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB5ID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgX2lzVHJhbnNwYXJlbnQgPSB0cnVlLCBpLCB0ZW1wLFxuICAgICAgICAgIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoeCwgeSwgKHRvbGVyYW5jZSAqIDIpIHx8IDEsICh0b2xlcmFuY2UgKiAyKSB8fCAxKSxcbiAgICAgICAgICBsID0gaW1hZ2VEYXRhLmRhdGEubGVuZ3RoO1xuXG4gICAgICAvLyBTcGxpdCBpbWFnZSBkYXRhIC0gZm9yIHRvbGVyYW5jZSA+IDEsIHBpeGVsRGF0YVNpemUgPSA0O1xuICAgICAgZm9yIChpID0gMzsgaSA8IGw7IGkgKz0gNCkge1xuICAgICAgICB0ZW1wID0gaW1hZ2VEYXRhLmRhdGFbaV07XG4gICAgICAgIF9pc1RyYW5zcGFyZW50ID0gdGVtcCA8PSAwO1xuICAgICAgICBpZiAoX2lzVHJhbnNwYXJlbnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7IC8vIFN0b3AgaWYgY29sb3VyIGZvdW5kXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaW1hZ2VEYXRhID0gbnVsbDtcblxuICAgICAgcmV0dXJuIF9pc1RyYW5zcGFyZW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBwcmVzZXJ2ZUFzcGVjdFJhdGlvIGF0dHJpYnV0ZSBmcm9tIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIHRvIGJlIHBhcnNlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxpZ24gYW5kIG1lZXRPclNsaWNlIGF0dHJpYnV0ZVxuICAgICAqL1xuICAgIHBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZTogZnVuY3Rpb24oYXR0cmlidXRlKSB7XG4gICAgICB2YXIgbWVldE9yU2xpY2UgPSAnbWVldCcsIGFsaWduWCA9ICdNaWQnLCBhbGlnblkgPSAnTWlkJyxcbiAgICAgICAgICBhc3BlY3RSYXRpb0F0dHJzID0gYXR0cmlidXRlLnNwbGl0KCcgJyksIGFsaWduO1xuXG4gICAgICBpZiAoYXNwZWN0UmF0aW9BdHRycyAmJiBhc3BlY3RSYXRpb0F0dHJzLmxlbmd0aCkge1xuICAgICAgICBtZWV0T3JTbGljZSA9IGFzcGVjdFJhdGlvQXR0cnMucG9wKCk7XG4gICAgICAgIGlmIChtZWV0T3JTbGljZSAhPT0gJ21lZXQnICYmIG1lZXRPclNsaWNlICE9PSAnc2xpY2UnKSB7XG4gICAgICAgICAgYWxpZ24gPSBtZWV0T3JTbGljZTtcbiAgICAgICAgICBtZWV0T3JTbGljZSA9ICdtZWV0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhc3BlY3RSYXRpb0F0dHJzLmxlbmd0aCkge1xuICAgICAgICAgIGFsaWduID0gYXNwZWN0UmF0aW9BdHRycy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy9kaXZpZGUgYWxpZ24gaW4gYWxpZ25YIGFuZCBhbGlnbllcbiAgICAgIGFsaWduWCA9IGFsaWduICE9PSAnbm9uZScgPyBhbGlnbi5zbGljZSgxLCA0KSA6ICdub25lJztcbiAgICAgIGFsaWduWSA9IGFsaWduICE9PSAnbm9uZScgPyBhbGlnbi5zbGljZSg1LCA4KSA6ICdub25lJztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lZXRPclNsaWNlOiBtZWV0T3JTbGljZSxcbiAgICAgICAgYWxpZ25YOiBhbGlnblgsXG4gICAgICAgIGFsaWduWTogYWxpZ25ZXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBjaGFyIHdpZHRocyBjYWNoZSBmb3IgdGhlIGdpdmVuIGZvbnQgZmFtaWx5IG9yIGFsbCB0aGUgY2FjaGUgaWYgbm9cbiAgICAgKiBmb250RmFtaWx5IGlzIHNwZWNpZmllZC5cbiAgICAgKiBVc2UgaXQgaWYgeW91IGtub3cgeW91IGFyZSBsb2FkaW5nIGZvbnRzIGluIGEgbGF6eSB3YXkgYW5kIHlvdSBhcmUgbm90IHdhaXRpbmdcbiAgICAgKiBmb3IgY3VzdG9tIGZvbnRzIHRvIGxvYWQgcHJvcGVybHkgd2hlbiBhZGRpbmcgdGV4dCBvYmplY3RzIHRvIHRoZSBjYW52YXMuXG4gICAgICogSWYgYSB0ZXh0IG9iamVjdCBpcyBhZGRlZCB3aGVuIGl0cyBvd24gZm9udCBpcyBub3QgbG9hZGVkIHlldCwgeW91IHdpbGwgZ2V0IHdyb25nXG4gICAgICogbWVhc3VyZW1lbnQgYW5kIHNvIHdyb25nIGJvdW5kaW5nIGJveGVzLlxuICAgICAqIEFmdGVyIHRoZSBmb250IGNhY2hlIGlzIGNsZWFyZWQsIGVpdGhlciBjaGFuZ2UgdGhlIHRleHRPYmplY3QgdGV4dCBjb250ZW50IG9yIGNhbGxcbiAgICAgKiBpbml0RGltZW5zaW9ucygpIHRvIHRyaWdnZXIgYSByZWNhbGN1bGF0aW9uXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtmb250RmFtaWx5XSBmb250IGZhbWlseSB0byBjbGVhclxuICAgICAqL1xuICAgIGNsZWFyRmFicmljRm9udENhY2hlOiBmdW5jdGlvbihmb250RmFtaWx5KSB7XG4gICAgICBmb250RmFtaWx5ID0gKGZvbnRGYW1pbHkgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIWZvbnRGYW1pbHkpIHtcbiAgICAgICAgZmFicmljLmNoYXJXaWR0aHNDYWNoZSA9IHsgfTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGZhYnJpYy5jaGFyV2lkdGhzQ2FjaGVbZm9udEZhbWlseV0pIHtcbiAgICAgICAgZGVsZXRlIGZhYnJpYy5jaGFyV2lkdGhzQ2FjaGVbZm9udEZhbWlseV07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGN1cnJlbnQgYXNwZWN0IHJhdGlvLCBkZXRlcm1pbmVzIHRoZSBtYXggd2lkdGggYW5kIGhlaWdodCB0aGF0IGNhblxuICAgICAqIHJlc3BlY3QgdGhlIHRvdGFsIGFsbG93ZWQgYXJlYSBmb3IgdGhlIGNhY2hlLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhciBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4aW11bUFyZWEgTWF4aW11bSBhcmVhIHlvdSB3YW50IHRvIGFjaGlldmVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QueH0gTGltaXRlZCBkaW1lbnNpb25zIGJ5IFhcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QueX0gTGltaXRlZCBkaW1lbnNpb25zIGJ5IFlcbiAgICAgKi9cbiAgICBsaW1pdERpbXNCeUFyZWE6IGZ1bmN0aW9uKGFyLCBtYXhpbXVtQXJlYSkge1xuICAgICAgdmFyIHJvdWdoV2lkdGggPSBNYXRoLnNxcnQobWF4aW11bUFyZWEgKiBhciksXG4gICAgICAgICAgcGVyZkxpbWl0U2l6ZVkgPSBNYXRoLmZsb29yKG1heGltdW1BcmVhIC8gcm91Z2hXaWR0aCk7XG4gICAgICByZXR1cm4geyB4OiBNYXRoLmZsb29yKHJvdWdoV2lkdGgpLCB5OiBwZXJmTGltaXRTaXplWSB9O1xuICAgIH0sXG5cbiAgICBjYXBWYWx1ZTogZnVuY3Rpb24obWluLCB2YWx1ZSwgbWF4KSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbih2YWx1ZSwgbWF4KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBzY2FsZSBmb3IgdGhlIG9iamVjdCBzb3VyY2UgdG8gZml0IGluc2lkZSB0aGUgb2JqZWN0IGRlc3RpbmF0aW9uLFxuICAgICAqIGtlZXBpbmcgYXNwZWN0IHJhdGlvIGludGFjdC5cbiAgICAgKiByZXNwZWN0IHRoZSB0b3RhbCBhbGxvd2VkIGFyZWEgZm9yIHRoZSBjYWNoZS5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IGZhYnJpYy5PYmplY3R9IHNvdXJjZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzb3VyY2UuaGVpZ2h0IG5hdHVyYWwgdW5zY2FsZWQgaGVpZ2h0IG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlLndpZHRoIG5hdHVyYWwgdW5zY2FsZWQgd2lkdGggb2YgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgZmFicmljLk9iamVjdH0gZGVzdGluYXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVzdGluYXRpb24uaGVpZ2h0IG5hdHVyYWwgdW5zY2FsZWQgaGVpZ2h0IG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVzdGluYXRpb24ud2lkdGggbmF0dXJhbCB1bnNjYWxlZCB3aWR0aCBvZiB0aGUgb2JqZWN0XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBzY2FsZSBmYWN0b3IgdG8gYXBwbHkgdG8gc291cmNlIHRvIGZpdCBpbnRvIGRlc3RpbmF0aW9uXG4gICAgICovXG4gICAgZmluZFNjYWxlVG9GaXQ6IGZ1bmN0aW9uKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICAgIHJldHVybiBNYXRoLm1pbihkZXN0aW5hdGlvbi53aWR0aCAvIHNvdXJjZS53aWR0aCwgZGVzdGluYXRpb24uaGVpZ2h0IC8gc291cmNlLmhlaWdodCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBzY2FsZSBmb3IgdGhlIG9iamVjdCBzb3VyY2UgdG8gY292ZXIgZW50aXJlbHkgdGhlIG9iamVjdCBkZXN0aW5hdGlvbixcbiAgICAgKiBrZWVwaW5nIGFzcGVjdCByYXRpbyBpbnRhY3QuXG4gICAgICogcmVzcGVjdCB0aGUgdG90YWwgYWxsb3dlZCBhcmVhIGZvciB0aGUgY2FjaGUuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBmYWJyaWMuT2JqZWN0fSBzb3VyY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlLmhlaWdodCBuYXR1cmFsIHVuc2NhbGVkIGhlaWdodCBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNvdXJjZS53aWR0aCBuYXR1cmFsIHVuc2NhbGVkIHdpZHRoIG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IGZhYnJpYy5PYmplY3R9IGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlc3RpbmF0aW9uLmhlaWdodCBuYXR1cmFsIHVuc2NhbGVkIGhlaWdodCBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlc3RpbmF0aW9uLndpZHRoIG5hdHVyYWwgdW5zY2FsZWQgd2lkdGggb2YgdGhlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gc2NhbGUgZmFjdG9yIHRvIGFwcGx5IHRvIHNvdXJjZSB0byBjb3ZlciBkZXN0aW5hdGlvblxuICAgICAqL1xuICAgIGZpbmRTY2FsZVRvQ292ZXI6IGZ1bmN0aW9uKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChkZXN0aW5hdGlvbi53aWR0aCAvIHNvdXJjZS53aWR0aCwgZGVzdGluYXRpb24uaGVpZ2h0IC8gc291cmNlLmhlaWdodCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdpdmVuIGFuIGFycmF5IG9mIDYgbnVtYmVyIHJldHVybnMgc29tZXRoaW5nIGxpa2UgYFwibWF0cml4KC4uLm51bWJlcnMpXCJgXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtIGFuIGFycmF5IHdpdGggNiBudW1iZXJzXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0cmFuc2Zvcm0gbWF0cml4IGZvciBzdmdcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QueX0gTGltaXRlZCBkaW1lbnNpb25zIGJ5IFlcbiAgICAgKi9cbiAgICBtYXRyaXhUb1NWRzogZnVuY3Rpb24odHJhbnNmb3JtKSB7XG4gICAgICByZXR1cm4gJ21hdHJpeCgnICsgdHJhbnNmb3JtLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZmFicmljLnV0aWwudG9GaXhlZCh2YWx1ZSwgZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTKTtcbiAgICAgIH0pLmpvaW4oJyAnKSArICcpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2l2ZW4gYW4gb2JqZWN0IGFuZCBhIHRyYW5zZm9ybSwgYXBwbHkgdGhlIGludmVyc2UgdHJhbnNmb3JtIHRvIHRoZSBvYmplY3QsXG4gICAgICogdGhpcyBpcyBlcXVpdmFsZW50IHRvIHJlbW92ZSBmcm9tIHRoYXQgb2JqZWN0IHRoYXQgdHJhbnNmb3JtYXRpb24sIHNvIHRoYXRcbiAgICAgKiBhZGRlZCBpbiBhIHNwYWNlIHdpdGggdGhlIHJlbW92ZWQgdHJhbnNmb3JtLCB0aGUgb2JqZWN0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYmVmb3JlLlxuICAgICAqIFJlbW92aW5nIGZyb20gYW4gb2JqZWN0IGEgdHJhbnNmb3JtIHRoYXQgc2NhbGUgYnkgMiBpcyBsaWtlIHNjYWxpbmcgaXQgYnkgMS8yLlxuICAgICAqIFJlbW92aW5nIGZyb20gYW4gb2JqZWN0IGEgdHJhbnNmcm9tIHRoYXQgcm90YXRlIGJ5IDMwZGVnIGlzIGxpa2Ugcm90YXRpbmcgYnkgMzBkZWdcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLlxuICAgICAqIFRoaXMgdXRpbCBpcyB1c2VkIHRvIGFkZCBvYmplY3RzIGluc2lkZSB0cmFuc2Zvcm1lZCBncm91cHMgb3IgbmVzdGVkIGdyb3Vwcy5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCB0aGUgb2JqZWN0IHlvdSB3YW50IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybSB0aGUgZGVzdGluYXRpb24gdHJhbnNmb3JtXG4gICAgICovXG4gICAgcmVtb3ZlVHJhbnNmb3JtRnJvbU9iamVjdDogZnVuY3Rpb24ob2JqZWN0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHZhciBpbnZlcnRlZCA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSh0cmFuc2Zvcm0pLFxuICAgICAgICAgIGZpbmFsVHJhbnNmb3JtID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhpbnZlcnRlZCwgb2JqZWN0LmNhbGNPd25NYXRyaXgoKSk7XG4gICAgICBmYWJyaWMudXRpbC5hcHBseVRyYW5zZm9ybVRvT2JqZWN0KG9iamVjdCwgZmluYWxUcmFuc2Zvcm0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnaXZlbiBhbiBvYmplY3QgYW5kIGEgdHJhbnNmb3JtLCBhcHBseSB0aGUgdHJhbnNmb3JtIHRvIHRoZSBvYmplY3QuXG4gICAgICogdGhpcyBpcyBlcXVpdmFsZW50IHRvIGNoYW5nZSB0aGUgc3BhY2Ugd2hlcmUgdGhlIG9iamVjdCBpcyBkcmF3bi5cbiAgICAgKiBBZGRpbmcgdG8gYW4gb2JqZWN0IGEgdHJhbnNmb3JtIHRoYXQgc2NhbGUgYnkgMiBpcyBsaWtlIHNjYWxpbmcgaXQgYnkgMi5cbiAgICAgKiBUaGlzIGlzIHVzZWQgd2hlbiByZW1vdmluZyBhbiBvYmplY3QgZnJvbSBhbiBhY3RpdmUgc2VsZWN0aW9uIGZvciBleGFtcGxlLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IHRoZSBvYmplY3QgeW91IHdhbnQgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtIHRoZSBkZXN0aW5hdGlvbiB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBhZGRUcmFuc2Zvcm1Ub09iamVjdDogZnVuY3Rpb24ob2JqZWN0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIGZhYnJpYy51dGlsLmFwcGx5VHJhbnNmb3JtVG9PYmplY3QoXG4gICAgICAgIG9iamVjdCxcbiAgICAgICAgZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyh0cmFuc2Zvcm0sIG9iamVjdC5jYWxjT3duTWF0cml4KCkpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkaXNjYXJkIGFuIG9iamVjdCB0cmFuc2Zvcm0gc3RhdGUgYW5kIGFwcGx5IHRoZSBvbmUgZnJvbSB0aGUgbWF0cml4LlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IHRoZSBvYmplY3QgeW91IHdhbnQgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtIHRoZSBkZXN0aW5hdGlvbiB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBhcHBseVRyYW5zZm9ybVRvT2JqZWN0OiBmdW5jdGlvbihvYmplY3QsIHRyYW5zZm9ybSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZSh0cmFuc2Zvcm0pLFxuICAgICAgICAgIGNlbnRlciA9IG5ldyBmYWJyaWMuUG9pbnQob3B0aW9ucy50cmFuc2xhdGVYLCBvcHRpb25zLnRyYW5zbGF0ZVkpO1xuICAgICAgb2JqZWN0LmZsaXBYID0gZmFsc2U7XG4gICAgICBvYmplY3QuZmxpcFkgPSBmYWxzZTtcbiAgICAgIG9iamVjdC5zZXQoJ3NjYWxlWCcsIG9wdGlvbnMuc2NhbGVYKTtcbiAgICAgIG9iamVjdC5zZXQoJ3NjYWxlWScsIG9wdGlvbnMuc2NhbGVZKTtcbiAgICAgIG9iamVjdC5za2V3WCA9IG9wdGlvbnMuc2tld1g7XG4gICAgICBvYmplY3Quc2tld1kgPSBvcHRpb25zLnNrZXdZO1xuICAgICAgb2JqZWN0LmFuZ2xlID0gb3B0aW9ucy5hbmdsZTtcbiAgICAgIG9iamVjdC5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNlbnRlciwgJ2NlbnRlcicsICdjZW50ZXInKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2l2ZW4gYSB3aWR0aCBhbmQgaGVpZ2h0LCByZXR1cm4gdGhlIHNpemUgb2YgdGhlIGJvdW5kaW5nIGJveFxuICAgICAqIHRoYXQgY2FuIGNvbnRhaW5zIHRoZSBib3ggd2l0aCB3aWR0aC9oZWlnaHQgd2l0aCBhcHBsaWVkIHRyYW5zZm9ybVxuICAgICAqIGRlc2NyaWJlZCBpbiBvcHRpb25zLlxuICAgICAqIFVzZSB0byBjYWxjdWxhdGUgdGhlIGJveGVzIGFyb3VuZCBvYmplY3RzIGZvciBjb250cm9scy5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5zY2FsZVhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5zY2FsZVlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5za2V3WFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnNrZXdZXG4gICAgICogQHJldHVybiB7T2JqZWN0Lnh9IHdpZHRoIG9mIGNvbnRhaW5pbmdcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QueX0gaGVpZ2h0IG9mIGNvbnRhaW5pbmdcbiAgICAgKi9cbiAgICBzaXplQWZ0ZXJUcmFuc2Zvcm06IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkaW1YID0gd2lkdGggLyAyLCBkaW1ZID0gaGVpZ2h0IC8gMixcbiAgICAgICAgICBwb2ludHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IC1kaW1YLFxuICAgICAgICAgICAgICB5OiAtZGltWVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgeDogZGltWCxcbiAgICAgICAgICAgICAgeTogLWRpbVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IC1kaW1YLFxuICAgICAgICAgICAgICB5OiBkaW1ZXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB4OiBkaW1YLFxuICAgICAgICAgICAgICB5OiBkaW1ZXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICB0cmFuc2Zvcm1NYXRyaXggPSBmYWJyaWMudXRpbC5jYWxjRGltZW5zaW9uc01hdHJpeChvcHRpb25zKSxcbiAgICAgICAgICBiYm94ID0gZmFicmljLnV0aWwubWFrZUJvdW5kaW5nQm94RnJvbVBvaW50cyhwb2ludHMsIHRyYW5zZm9ybU1hdHJpeCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBiYm94LndpZHRoLFxuICAgICAgICB5OiBiYm94LmhlaWdodCxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyAyIGNsaXAgcGF0aHMgaW50byBvbmUgdmlzdWFsbHkgZXF1YWwgY2xpcCBwYXRoXG4gICAgICpcbiAgICAgKiAqKklNUE9SVEFOVCoqOlxcXG4gICAgICogRG9lcyAqKk5PVCoqIGNsb25lIHRoZSBhcmd1bWVudHMsIGNsb25lIHRoZW0gcHJvaXIgaWYgbmVjZXNzYXJ5LlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhIHdyYXBwZXIgKGdyb3VwKSB0aGF0IGNvbnRhaW5zIG9uZSBjbGlwIHBhdGggYW5kIGlzIGNsaXBwZWQgYnkgdGhlIG90aGVyIHNvIGNvbnRlbnQgaXMga2VwdCB3aGVyZSBib3RoIG92ZXJsYXAuXG4gICAgICogVXNlIHRoaXMgbWV0aG9kIGlmIGJvdGggdGhlIGNsaXAgcGF0aHMgbWF5IGhhdmUgbmVzdGVkIGNsaXAgcGF0aHMgb2YgdGhlaXIgb3duLCBzbyBhc3NpZ25pbmcgb25lIHRvIHRoZSBvdGhlcidzIGNsaXAgcGF0aCBwcm9wZXJ0eSBpcyBub3QgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBJbiBvcmRlciB0byBoYW5kbGUgdGhlIGBpbnZlcnRlZGAgcHJvcGVydHkgd2UgZm9sbG93IGxvZ2ljIGRlc2NyaWJlZCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxcXG4gICAgICogKiooMSkqKiBib3RoIGNsaXAgcGF0aHMgYXJlIGludmVydGVkIC0gdGhlIGNsaXAgcGF0aHMgcGFzcyB0aGUgaW52ZXJ0ZWQgcHJvcCB0byB0aGUgd3JhcHBlciBhbmQgbG9vc2UgaXQgdGhlbXNlbHZlcy5cXFxuICAgICAqICoqKDIpKiogb25lIGlzIGludmVydGVkIGFuZCB0aGUgb3RoZXIgaXNuJ3QgLSB0aGUgd3JhcHBlciBzaG91bGRuJ3QgYmVjb21lIGludmVydGVkIGFuZCB0aGUgaW52ZXJ0ZWQgY2xpcCBwYXRoIG11c3QgY2xpcCB0aGUgbm9uIGludmVydGVkIG9uZSB0byBwcm9kdWNlIGFuIGlkZW50aWNhbCB2aXN1YWwgZWZmZWN0LlxcXG4gICAgICogKiooMykqKiBib3RoIGNsaXAgcGF0aHMgYXJlIG5vdCBpbnZlcnRlZCAtIHdyYXBwZXIgYW5kIGNsaXAgcGF0aHMgcmVtYWluIHVuY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gYzFcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGMyXG4gICAgICogQHJldHVybnMge2ZhYnJpYy5PYmplY3R9IG1lcmdlZCBjbGlwIHBhdGhcbiAgICAgKi9cbiAgICBtZXJnZUNsaXBQYXRoczogZnVuY3Rpb24gKGMxLCBjMikge1xuICAgICAgdmFyIGEgPSBjMSwgYiA9IGMyO1xuICAgICAgaWYgKGEuaW52ZXJ0ZWQgJiYgIWIuaW52ZXJ0ZWQpIHtcbiAgICAgICAgLy8gIGNhc2UgKDIpXG4gICAgICAgIGEgPSBjMjtcbiAgICAgICAgYiA9IGMxO1xuICAgICAgfVxuICAgICAgLy8gIGBiYCBiZWNvbWVzIGBhYCdzIGNsaXAgcGF0aCBzbyB3ZSB0cmFuc2Zvcm0gYGJgIHRvIGBhYCBjb29yZGluYXRlIHBsYW5lXG4gICAgICBmYWJyaWMudXRpbC5hcHBseVRyYW5zZm9ybVRvT2JqZWN0KFxuICAgICAgICBiLFxuICAgICAgICBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzKFxuICAgICAgICAgIGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybShhLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSksXG4gICAgICAgICAgYi5jYWxjVHJhbnNmb3JtTWF0cml4KClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIC8vICBhc3NpZ24gdGhlIGBpbnZlcnRlZGAgcHJvcCB0byB0aGUgd3JhcHBpbmcgZ3JvdXBcbiAgICAgIHZhciBpbnZlcnRlZCA9IGEuaW52ZXJ0ZWQgJiYgYi5pbnZlcnRlZDtcbiAgICAgIGlmIChpbnZlcnRlZCkge1xuICAgICAgICAvLyAgY2FzZSAoMSlcbiAgICAgICAgYS5pbnZlcnRlZCA9IGIuaW52ZXJ0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgZmFicmljLkdyb3VwKFthXSwgeyBjbGlwUGF0aDogYiwgaW52ZXJ0ZWQ6IGludmVydGVkIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJldlN0eWxlIGZpcnN0IHN0eWxlIHRvIGNvbXBhcmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGhpc1N0eWxlIHNlY29uZCBzdHlsZSB0byBjb21wYXJlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JUZXh0U3BhbnMgd2hldGhlciB0byBjaGVjayBvdmVybGluZSwgdW5kZXJsaW5lLCBhbmQgbGluZS10aHJvdWdoIHByb3BlcnRpZXNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBzdHlsZSBjaGFuZ2VkXG4gICAgICovXG4gICAgaGFzU3R5bGVDaGFuZ2VkOiBmdW5jdGlvbihwcmV2U3R5bGUsIHRoaXNTdHlsZSwgZm9yVGV4dFNwYW5zKSB7XG4gICAgICBmb3JUZXh0U3BhbnMgPSBmb3JUZXh0U3BhbnMgfHwgZmFsc2U7XG4gICAgICByZXR1cm4gKHByZXZTdHlsZS5maWxsICE9PSB0aGlzU3R5bGUuZmlsbCB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuc3Ryb2tlICE9PSB0aGlzU3R5bGUuc3Ryb2tlIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5zdHJva2VXaWR0aCAhPT0gdGhpc1N0eWxlLnN0cm9rZVdpZHRoIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5mb250U2l6ZSAhPT0gdGhpc1N0eWxlLmZvbnRTaXplIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5mb250RmFtaWx5ICE9PSB0aGlzU3R5bGUuZm9udEZhbWlseSB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuZm9udFdlaWdodCAhPT0gdGhpc1N0eWxlLmZvbnRXZWlnaHQgfHxcbiAgICAgICAgICAgICAgcHJldlN0eWxlLmZvbnRTdHlsZSAhPT0gdGhpc1N0eWxlLmZvbnRTdHlsZSB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuZGVsdGFZICE9PSB0aGlzU3R5bGUuZGVsdGFZKSB8fFxuICAgICAgICAgICAgICAoZm9yVGV4dFNwYW5zICYmXG4gICAgICAgICAgICAgICAgKHByZXZTdHlsZS5vdmVybGluZSAhPT0gdGhpc1N0eWxlLm92ZXJsaW5lIHx8XG4gICAgICAgICAgICAgICAgcHJldlN0eWxlLnVuZGVybGluZSAhPT0gdGhpc1N0eWxlLnVuZGVybGluZSB8fFxuICAgICAgICAgICAgICAgIHByZXZTdHlsZS5saW5ldGhyb3VnaCAhPT0gdGhpc1N0eWxlLmxpbmV0aHJvdWdoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFycmF5IGZvcm0gb2YgYSB0ZXh0IG9iamVjdCdzIGlubGluZSBzdHlsZXMgcHJvcGVydHkgd2l0aCBzdHlsZXMgZ3JvdXBlZCBpbiByYW5nZXNcbiAgICAgKiByYXRoZXIgdGhhbiBwZXIgY2hhcmFjdGVyLiBUaGlzIGZvcm1hdCBpcyBsZXNzIHZlcmJvc2UsIGFuZCBpcyBiZXR0ZXIgc3VpdGVkIGZvciBzdG9yYWdlXG4gICAgICogc28gaXQgaXMgdXNlZCBpbiBzZXJpYWxpemF0aW9uIChub3QgZHVyaW5nIHJ1bnRpbWUpLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZXMgcGVyIGNoYXJhY3RlciBzdHlsZXMgZm9yIGEgdGV4dCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0aGUgdGV4dCBzdHJpbmcgdGhhdCB0aGUgc3R5bGVzIGFyZSBhcHBsaWVkIHRvXG4gICAgICogQHJldHVybiB7e3N0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyLCBzdHlsZTogb2JqZWN0fVtdfVxuICAgICAqL1xuICAgIHN0eWxlc1RvQXJyYXk6IGZ1bmN0aW9uKHN0eWxlcywgdGV4dCkge1xuICAgICAgLy8gY2xvbmUgc3R5bGUgc3RydWN0dXJlIHRvIHByZXZlbnQgbXV0YXRpb25cbiAgICAgIHZhciBzdHlsZXMgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUoc3R5bGVzLCB0cnVlKSxcbiAgICAgICAgICB0ZXh0TGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKSxcbiAgICAgICAgICBjaGFySW5kZXggPSAtMSwgcHJldlN0eWxlID0ge30sIHN0eWxlc0FycmF5ID0gW107XG4gICAgICAvL2xvb3AgdGhyb3VnaCBlYWNoIHRleHRMaW5lXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRMaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXN0eWxlc1tpXSkge1xuICAgICAgICAgIC8vbm8gc3R5bGVzIGV4aXN0IGZvciB0aGlzIGxpbmUsIHNvIGFkZCB0aGUgbGluZSdzIGxlbmd0aCB0byB0aGUgY2hhckluZGV4IHRvdGFsXG4gICAgICAgICAgY2hhckluZGV4ICs9IHRleHRMaW5lc1tpXS5sZW5ndGg7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy9sb29wIHRocm91Z2ggZWFjaCBjaGFyYWN0ZXIgb2YgdGhlIGN1cnJlbnQgbGluZVxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRleHRMaW5lc1tpXS5sZW5ndGg7IGMrKykge1xuICAgICAgICAgIGNoYXJJbmRleCsrO1xuICAgICAgICAgIHZhciB0aGlzU3R5bGUgPSBzdHlsZXNbaV1bY107XG4gICAgICAgICAgLy9jaGVjayBpZiBzdHlsZSBleGlzdHMgZm9yIHRoaXMgY2hhcmFjdGVyXG4gICAgICAgICAgaWYgKHRoaXNTdHlsZSkge1xuICAgICAgICAgICAgdmFyIHN0eWxlQ2hhbmdlZCA9IGZhYnJpYy51dGlsLmhhc1N0eWxlQ2hhbmdlZChwcmV2U3R5bGUsIHRoaXNTdHlsZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoc3R5bGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIHN0eWxlc0FycmF5LnB1c2goe1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBjaGFySW5kZXgsXG4gICAgICAgICAgICAgICAgZW5kOiBjaGFySW5kZXggKyAxLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB0aGlzU3R5bGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy9pZiBzdHlsZSBpcyB0aGUgc2FtZSBhcyBwcmV2aW91cyBjaGFyYWN0ZXIsIGluY3JlYXNlIGVuZCBpbmRleFxuICAgICAgICAgICAgICBzdHlsZXNBcnJheVtzdHlsZXNBcnJheS5sZW5ndGggLSAxXS5lbmQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcHJldlN0eWxlID0gdGhpc1N0eWxlIHx8IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVzQXJyYXk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9iamVjdCBmb3JtIG9mIHRoZSBzdHlsZXMgcHJvcGVydHkgd2l0aCBzdHlsZXMgdGhhdCBhcmUgYXNzaWduZWQgcGVyXG4gICAgICogY2hhcmFjdGVyIHJhdGhlciB0aGFuIGdyb3VwZWQgYnkgcmFuZ2UuIFRoaXMgZm9ybWF0IGlzIG1vcmUgdmVyYm9zZSwgYW5kIGlzXG4gICAgICogb25seSB1c2VkIGR1cmluZyBydW50aW1lIChub3QgZm9yIHNlcmlhbGl6YXRpb24vc3RvcmFnZSlcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzdHlsZXMgdGhlIHNlcmlhbGl6ZWQgZm9ybSBvZiBhIHRleHQgb2JqZWN0J3Mgc3R5bGVzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGhlIHRleHQgc3RyaW5nIHRoYXQgdGhlIHN0eWxlcyBhcmUgYXBwbGllZCB0b1xuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBzdHlsZXNGcm9tQXJyYXk6IGZ1bmN0aW9uKHN0eWxlcywgdGV4dCkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICAgIH1cbiAgICAgIHZhciB0ZXh0TGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKSxcbiAgICAgICAgICBjaGFySW5kZXggPSAtMSwgc3R5bGVJbmRleCA9IDAsIHN0eWxlc09iamVjdCA9IHt9O1xuICAgICAgLy9sb29wIHRocm91Z2ggZWFjaCB0ZXh0TGluZVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0TGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy9sb29wIHRocm91Z2ggZWFjaCBjaGFyYWN0ZXIgb2YgdGhlIGN1cnJlbnQgbGluZVxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRleHRMaW5lc1tpXS5sZW5ndGg7IGMrKykge1xuICAgICAgICAgIGNoYXJJbmRleCsrO1xuICAgICAgICAgIC8vY2hlY2sgaWYgdGhlcmUncyBhIHN0eWxlIGNvbGxlY3Rpb24gdGhhdCBpbmNsdWRlcyB0aGUgY3VycmVudCBjaGFyYWN0ZXJcbiAgICAgICAgICBpZiAoc3R5bGVzW3N0eWxlSW5kZXhdXG4gICAgICAgICAgICAmJiBzdHlsZXNbc3R5bGVJbmRleF0uc3RhcnQgPD0gY2hhckluZGV4XG4gICAgICAgICAgICAmJiBjaGFySW5kZXggPCBzdHlsZXNbc3R5bGVJbmRleF0uZW5kKSB7XG4gICAgICAgICAgICAvL2NyZWF0ZSBvYmplY3QgZm9yIGxpbmUgaW5kZXggaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgc3R5bGVzT2JqZWN0W2ldID0gc3R5bGVzT2JqZWN0W2ldIHx8IHt9O1xuICAgICAgICAgICAgLy9hc3NpZ24gYSBzdHlsZSBhdCB0aGlzIGNoYXJhY3RlcidzIGluZGV4XG4gICAgICAgICAgICBzdHlsZXNPYmplY3RbaV1bY10gPSBPYmplY3QuYXNzaWduKHt9LCBzdHlsZXNbc3R5bGVJbmRleF0uc3R5bGUpO1xuICAgICAgICAgICAgLy9pZiBjaGFyYWN0ZXIgaXMgYXQgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBzdHlsZSBjb2xsZWN0aW9uLCBtb3ZlIHRvIHRoZSBuZXh0XG4gICAgICAgICAgICBpZiAoY2hhckluZGV4ID09PSBzdHlsZXNbc3R5bGVJbmRleF0uZW5kIC0gMSkge1xuICAgICAgICAgICAgICBzdHlsZUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVzT2JqZWN0O1xuICAgIH1cbiAgfTtcbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBfam9pbiA9IEFycmF5LnByb3RvdHlwZS5qb2luLFxuICAgICAgY29tbWFuZExlbmd0aHMgPSB7XG4gICAgICAgIG06IDIsXG4gICAgICAgIGw6IDIsXG4gICAgICAgIGg6IDEsXG4gICAgICAgIHY6IDEsXG4gICAgICAgIGM6IDYsXG4gICAgICAgIHM6IDQsXG4gICAgICAgIHE6IDQsXG4gICAgICAgIHQ6IDIsXG4gICAgICAgIGE6IDdcbiAgICAgIH0sXG4gICAgICByZXBlYXRlZENvbW1hbmRzID0ge1xuICAgICAgICBtOiAnbCcsXG4gICAgICAgIE06ICdMJ1xuICAgICAgfTtcbiAgZnVuY3Rpb24gc2VnbWVudFRvQmV6aWVyKHRoMiwgdGgzLCBjb3NUaCwgc2luVGgsIHJ4LCByeSwgY3gxLCBjeTEsIG1ULCBmcm9tWCwgZnJvbVkpIHtcbiAgICB2YXIgY29zdGgyID0gZmFicmljLnV0aWwuY29zKHRoMiksXG4gICAgICAgIHNpbnRoMiA9IGZhYnJpYy51dGlsLnNpbih0aDIpLFxuICAgICAgICBjb3N0aDMgPSBmYWJyaWMudXRpbC5jb3ModGgzKSxcbiAgICAgICAgc2ludGgzID0gZmFicmljLnV0aWwuc2luKHRoMyksXG4gICAgICAgIHRvWCA9IGNvc1RoICogcnggKiBjb3N0aDMgLSBzaW5UaCAqIHJ5ICogc2ludGgzICsgY3gxLFxuICAgICAgICB0b1kgPSBzaW5UaCAqIHJ4ICogY29zdGgzICsgY29zVGggKiByeSAqIHNpbnRoMyArIGN5MSxcbiAgICAgICAgY3AxWCA9IGZyb21YICsgbVQgKiAoIC1jb3NUaCAqIHJ4ICogc2ludGgyIC0gc2luVGggKiByeSAqIGNvc3RoMiksXG4gICAgICAgIGNwMVkgPSBmcm9tWSArIG1UICogKCAtc2luVGggKiByeCAqIHNpbnRoMiArIGNvc1RoICogcnkgKiBjb3N0aDIpLFxuICAgICAgICBjcDJYID0gdG9YICsgbVQgKiAoIGNvc1RoICogcnggKiBzaW50aDMgKyBzaW5UaCAqIHJ5ICogY29zdGgzKSxcbiAgICAgICAgY3AyWSA9IHRvWSArIG1UICogKCBzaW5UaCAqIHJ4ICogc2ludGgzIC0gY29zVGggKiByeSAqIGNvc3RoMyk7XG5cbiAgICByZXR1cm4gWydDJyxcbiAgICAgIGNwMVgsIGNwMVksXG4gICAgICBjcDJYLCBjcDJZLFxuICAgICAgdG9YLCB0b1lcbiAgICBdO1xuICB9XG5cbiAgLyogQWRhcHRlZCBmcm9tIGh0dHA6Ly9keHIubW96aWxsYS5vcmcvbW96aWxsYS1jZW50cmFsL3NvdXJjZS9jb250ZW50L3N2Zy9jb250ZW50L3NyYy9uc1NWR1BhdGhEYXRhUGFyc2VyLmNwcFxuICAgKiBieSBBbmRyZWEgQm9nYXp6aSBjb2RlIGlzIHVuZGVyIE1QTC4gaWYgeW91IGRvbid0IGhhdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIHlvdSBjYW4gdGFrZSBpdCBoZXJlXG4gICAqIGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wL1xuICAgKi9cbiAgZnVuY3Rpb24gYXJjVG9TZWdtZW50cyh0b1gsIHRvWSwgcngsIHJ5LCBsYXJnZSwgc3dlZXAsIHJvdGF0ZVgpIHtcbiAgICB2YXIgUEkgPSBNYXRoLlBJLCB0aCA9IHJvdGF0ZVggKiBQSSAvIDE4MCxcbiAgICAgICAgc2luVGggPSBmYWJyaWMudXRpbC5zaW4odGgpLFxuICAgICAgICBjb3NUaCA9IGZhYnJpYy51dGlsLmNvcyh0aCksXG4gICAgICAgIGZyb21YID0gMCwgZnJvbVkgPSAwO1xuXG4gICAgcnggPSBNYXRoLmFicyhyeCk7XG4gICAgcnkgPSBNYXRoLmFicyhyeSk7XG5cbiAgICB2YXIgcHggPSAtY29zVGggKiB0b1ggKiAwLjUgLSBzaW5UaCAqIHRvWSAqIDAuNSxcbiAgICAgICAgcHkgPSAtY29zVGggKiB0b1kgKiAwLjUgKyBzaW5UaCAqIHRvWCAqIDAuNSxcbiAgICAgICAgcngyID0gcnggKiByeCwgcnkyID0gcnkgKiByeSwgcHkyID0gcHkgKiBweSwgcHgyID0gcHggKiBweCxcbiAgICAgICAgcGwgPSByeDIgKiByeTIgLSByeDIgKiBweTIgLSByeTIgKiBweDIsXG4gICAgICAgIHJvb3QgPSAwO1xuXG4gICAgaWYgKHBsIDwgMCkge1xuICAgICAgdmFyIHMgPSBNYXRoLnNxcnQoMSAtIHBsIC8gKHJ4MiAqIHJ5MikpO1xuICAgICAgcnggKj0gcztcbiAgICAgIHJ5ICo9IHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcm9vdCA9IChsYXJnZSA9PT0gc3dlZXAgPyAtMS4wIDogMS4wKSAqXG4gICAgICAgICAgICAgIE1hdGguc3FydCggcGwgLyAocngyICogcHkyICsgcnkyICogcHgyKSk7XG4gICAgfVxuXG4gICAgdmFyIGN4ID0gcm9vdCAqIHJ4ICogcHkgLyByeSxcbiAgICAgICAgY3kgPSAtcm9vdCAqIHJ5ICogcHggLyByeCxcbiAgICAgICAgY3gxID0gY29zVGggKiBjeCAtIHNpblRoICogY3kgKyB0b1ggKiAwLjUsXG4gICAgICAgIGN5MSA9IHNpblRoICogY3ggKyBjb3NUaCAqIGN5ICsgdG9ZICogMC41LFxuICAgICAgICBtVGhldGEgPSBjYWxjVmVjdG9yQW5nbGUoMSwgMCwgKHB4IC0gY3gpIC8gcngsIChweSAtIGN5KSAvIHJ5KSxcbiAgICAgICAgZHRoZXRhID0gY2FsY1ZlY3RvckFuZ2xlKChweCAtIGN4KSAvIHJ4LCAocHkgLSBjeSkgLyByeSwgKC1weCAtIGN4KSAvIHJ4LCAoLXB5IC0gY3kpIC8gcnkpO1xuXG4gICAgaWYgKHN3ZWVwID09PSAwICYmIGR0aGV0YSA+IDApIHtcbiAgICAgIGR0aGV0YSAtPSAyICogUEk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN3ZWVwID09PSAxICYmIGR0aGV0YSA8IDApIHtcbiAgICAgIGR0aGV0YSArPSAyICogUEk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBpbnRvIGN1YmljIGJlemllciBzZWdtZW50cyA8PSA5MGRlZ1xuICAgIHZhciBzZWdtZW50cyA9IE1hdGguY2VpbChNYXRoLmFicyhkdGhldGEgLyBQSSAqIDIpKSxcbiAgICAgICAgcmVzdWx0ID0gW10sIG1EZWx0YSA9IGR0aGV0YSAvIHNlZ21lbnRzLFxuICAgICAgICBtVCA9IDggLyAzICogTWF0aC5zaW4obURlbHRhIC8gNCkgKiBNYXRoLnNpbihtRGVsdGEgLyA0KSAvIE1hdGguc2luKG1EZWx0YSAvIDIpLFxuICAgICAgICB0aDMgPSBtVGhldGEgKyBtRGVsdGE7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzOyBpKyspIHtcbiAgICAgIHJlc3VsdFtpXSA9IHNlZ21lbnRUb0JlemllcihtVGhldGEsIHRoMywgY29zVGgsIHNpblRoLCByeCwgcnksIGN4MSwgY3kxLCBtVCwgZnJvbVgsIGZyb21ZKTtcbiAgICAgIGZyb21YID0gcmVzdWx0W2ldWzVdO1xuICAgICAgZnJvbVkgPSByZXN1bHRbaV1bNl07XG4gICAgICBtVGhldGEgPSB0aDM7XG4gICAgICB0aDMgKz0gbURlbHRhO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLypcbiAgICogUHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY2FsY1ZlY3RvckFuZ2xlKHV4LCB1eSwgdngsIHZ5KSB7XG4gICAgdmFyIHRhID0gTWF0aC5hdGFuMih1eSwgdXgpLFxuICAgICAgICB0YiA9IE1hdGguYXRhbjIodnksIHZ4KTtcbiAgICBpZiAodGIgPj0gdGEpIHtcbiAgICAgIHJldHVybiB0YiAtIHRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiAyICogTWF0aC5QSSAtICh0YSAtIHRiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGJvdW5kaW5nIGJveCBvZiBhIGJlemllcmN1cnZlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4MCBzdGFydGluZyBwb2ludFxuICAgKiBAcGFyYW0ge051bWJlcn0geTBcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHgxIGZpcnN0IGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkxXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4MiBzZWNvbmRvIGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4MyBlbmQgb2YgYmV6aWVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5M1xuICAgKi9cbiAgLy8gdGFrZW4gZnJvbSBodHRwOi8vanNiaW4uY29tL2l2b21pcS81Ni9lZGl0ICBubyBjcmVkaXRzIGF2YWlsYWJsZSBmb3IgdGhhdC5cbiAgLy8gVE9ETzogY2FuIHdlIG5vcm1hbGl6ZSB0aGlzIHdpdGggdGhlIHN0YXJ0aW5nIHBvaW50cyBzZXQgYXQgMCBhbmQgdGhlbiB0cmFuc2xhdGVkIHRoZSBiYm94P1xuICBmdW5jdGlvbiBnZXRCb3VuZHNPZkN1cnZlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Mykge1xuICAgIHZhciBhcmdzU3RyaW5nO1xuICAgIGlmIChmYWJyaWMuY2FjaGVzQm91bmRzT2ZDdXJ2ZSkge1xuICAgICAgYXJnc1N0cmluZyA9IF9qb2luLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIGlmIChmYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlW2FyZ3NTdHJpbmddKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlW2FyZ3NTdHJpbmddO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0LFxuICAgICAgICBtaW4gPSBNYXRoLm1pbiwgbWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIGFicyA9IE1hdGguYWJzLCB0dmFsdWVzID0gW10sXG4gICAgICAgIGJvdW5kcyA9IFtbXSwgW11dLFxuICAgICAgICBhLCBiLCBjLCB0LCB0MSwgdDIsIGIyYWMsIHNxcnRiMmFjO1xuXG4gICAgYiA9IDYgKiB4MCAtIDEyICogeDEgKyA2ICogeDI7XG4gICAgYSA9IC0zICogeDAgKyA5ICogeDEgLSA5ICogeDIgKyAzICogeDM7XG4gICAgYyA9IDMgKiB4MSAtIDMgKiB4MDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjsgKytpKSB7XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgYiA9IDYgKiB5MCAtIDEyICogeTEgKyA2ICogeTI7XG4gICAgICAgIGEgPSAtMyAqIHkwICsgOSAqIHkxIC0gOSAqIHkyICsgMyAqIHkzO1xuICAgICAgICBjID0gMyAqIHkxIC0gMyAqIHkwO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWJzKGEpIDwgMWUtMTIpIHtcbiAgICAgICAgaWYgKGFicyhiKSA8IDFlLTEyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdCA9IC1jIC8gYjtcbiAgICAgICAgaWYgKDAgPCB0ICYmIHQgPCAxKSB7XG4gICAgICAgICAgdHZhbHVlcy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgYjJhYyA9IGIgKiBiIC0gNCAqIGMgKiBhO1xuICAgICAgaWYgKGIyYWMgPCAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc3FydGIyYWMgPSBzcXJ0KGIyYWMpO1xuICAgICAgdDEgPSAoLWIgKyBzcXJ0YjJhYykgLyAoMiAqIGEpO1xuICAgICAgaWYgKDAgPCB0MSAmJiB0MSA8IDEpIHtcbiAgICAgICAgdHZhbHVlcy5wdXNoKHQxKTtcbiAgICAgIH1cbiAgICAgIHQyID0gKC1iIC0gc3FydGIyYWMpIC8gKDIgKiBhKTtcbiAgICAgIGlmICgwIDwgdDIgJiYgdDIgPCAxKSB7XG4gICAgICAgIHR2YWx1ZXMucHVzaCh0Mik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHgsIHksIGogPSB0dmFsdWVzLmxlbmd0aCwgamxlbiA9IGosIG10O1xuICAgIHdoaWxlIChqLS0pIHtcbiAgICAgIHQgPSB0dmFsdWVzW2pdO1xuICAgICAgbXQgPSAxIC0gdDtcbiAgICAgIHggPSAobXQgKiBtdCAqIG10ICogeDApICsgKDMgKiBtdCAqIG10ICogdCAqIHgxKSArICgzICogbXQgKiB0ICogdCAqIHgyKSArICh0ICogdCAqIHQgKiB4Myk7XG4gICAgICBib3VuZHNbMF1bal0gPSB4O1xuXG4gICAgICB5ID0gKG10ICogbXQgKiBtdCAqIHkwKSArICgzICogbXQgKiBtdCAqIHQgKiB5MSkgKyAoMyAqIG10ICogdCAqIHQgKiB5MikgKyAodCAqIHQgKiB0ICogeTMpO1xuICAgICAgYm91bmRzWzFdW2pdID0geTtcbiAgICB9XG5cbiAgICBib3VuZHNbMF1bamxlbl0gPSB4MDtcbiAgICBib3VuZHNbMV1bamxlbl0gPSB5MDtcbiAgICBib3VuZHNbMF1bamxlbiArIDFdID0geDM7XG4gICAgYm91bmRzWzFdW2psZW4gKyAxXSA9IHkzO1xuICAgIHZhciByZXN1bHQgPSBbXG4gICAgICB7XG4gICAgICAgIHg6IG1pbi5hcHBseShudWxsLCBib3VuZHNbMF0pLFxuICAgICAgICB5OiBtaW4uYXBwbHkobnVsbCwgYm91bmRzWzFdKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgeDogbWF4LmFwcGx5KG51bGwsIGJvdW5kc1swXSksXG4gICAgICAgIHk6IG1heC5hcHBseShudWxsLCBib3VuZHNbMV0pXG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoZmFicmljLmNhY2hlc0JvdW5kc09mQ3VydmUpIHtcbiAgICAgIGZhYnJpYy5ib3VuZHNPZkN1cnZlQ2FjaGVbYXJnc1N0cmluZ10gPSByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYXJjIHRvIGEgYnVuY2ggb2YgYmV6aWVyIGN1cnZlc1xuICAgKiBAcGFyYW0ge051bWJlcn0gZnggc3RhcnRpbmcgcG9pbnQgeFxuICAgKiBAcGFyYW0ge051bWJlcn0gZnkgc3RhcnRpbmcgcG9pbnQgeVxuICAgKiBAcGFyYW0ge0FycmF5fSBjb29yZHMgQXJjIGNvbW1hbmRcbiAgICovXG4gIGZ1bmN0aW9uIGZyb21BcmNUb0JlemllcnMoZngsIGZ5LCBjb29yZHMpIHtcbiAgICB2YXIgcnggPSBjb29yZHNbMV0sXG4gICAgICAgIHJ5ID0gY29vcmRzWzJdLFxuICAgICAgICByb3QgPSBjb29yZHNbM10sXG4gICAgICAgIGxhcmdlID0gY29vcmRzWzRdLFxuICAgICAgICBzd2VlcCA9IGNvb3Jkc1s1XSxcbiAgICAgICAgdHggPSBjb29yZHNbNl0sXG4gICAgICAgIHR5ID0gY29vcmRzWzddLFxuICAgICAgICBzZWdzTm9ybSA9IGFyY1RvU2VnbWVudHModHggLSBmeCwgdHkgLSBmeSwgcngsIHJ5LCBsYXJnZSwgc3dlZXAsIHJvdCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2Vnc05vcm0ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHNlZ3NOb3JtW2ldWzFdICs9IGZ4O1xuICAgICAgc2Vnc05vcm1baV1bMl0gKz0gZnk7XG4gICAgICBzZWdzTm9ybVtpXVszXSArPSBmeDtcbiAgICAgIHNlZ3NOb3JtW2ldWzRdICs9IGZ5O1xuICAgICAgc2Vnc05vcm1baV1bNV0gKz0gZng7XG4gICAgICBzZWdzTm9ybVtpXVs2XSArPSBmeTtcbiAgICB9XG4gICAgcmV0dXJuIHNlZ3NOb3JtO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHRha2UgYSBwYXJzZWQgU1ZHIHBhdGggYW5kIG1ha2UgaXQgc2ltcGxlciBmb3IgZmFicmljSlMgbG9naWMuXG4gICAqIHNpbXBsaWZpY2F0aW9uIGNvbnNpc3Qgb2Y6IG9ubHkgVVBQRVJDQVNFIGFic29sdXRlIGNvbW1hbmRzICggcmVsYXRpdmUgY29udmVydGVkIHRvIGFic29sdXRlIClcbiAgICogUyBjb252ZXJ0ZWQgaW4gQywgVCBjb252ZXJ0ZWQgaW4gUSwgQSBjb252ZXJ0ZWQgaW4gQy5cbiAgICogQHBhcmFtIHtBcnJheX0gcGF0aCB0aGUgYXJyYXkgb2YgY29tbWFuZHMgb2YgYSBwYXJzZWQgc3ZnIHBhdGggZm9yIGZhYnJpYy5QYXRoXG4gICAqIEByZXR1cm4ge0FycmF5fSB0aGUgc2ltcGxpZmllZCBhcnJheSBvZiBjb21tYW5kcyBvZiBhIHBhcnNlZCBzdmcgcGF0aCBmb3IgZmFicmljLlBhdGhcbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VQYXRoU2ltcGxlcihwYXRoKSB7XG4gICAgLy8geCBhbmQgeSByZXByZXNlbnQgdGhlIGxhc3QgcG9pbnQgb2YgdGhlIHBhdGguIHRoZSBwcmV2aW91cyBjb21tYW5kIHBvaW50LlxuICAgIC8vIHdlIGFkZCB0aGVtIHRvIGVhY2ggcmVsYXRpdmUgY29tbWFuZCB0byBtYWtlIGl0IGFuIGFic29sdXRlIGNvbW1lbnQuXG4gICAgLy8gd2UgYWxzbyBzd2FwIHRoZSB2IFYgaCBIIHdpdGggTCwgYmVjYXVzZSBhcmUgZWFzaWVyIHRvIHRyYW5zZm9ybS5cbiAgICB2YXIgeCA9IDAsIHkgPSAwLCBsZW4gPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgLy8geDEgYW5kIHkxIHJlcHJlc2VudCB0aGUgbGFzdCBwb2ludCBvZiB0aGUgc3VicGF0aC4gdGhlIHN1YnBhdGggaXMgc3RhcnRlZCB3aXRoXG4gICAgICAgIC8vIG0gb3IgTSBjb21tYW5kLiBXaGVuIGEgeiBvciBaIGNvbW1hbmQgaXMgZHJhd24sIHggYW5kIHkgbmVlZCB0byBiZSByZXNldHRlZCB0b1xuICAgICAgICAvLyB0aGUgbGFzdCB4MSBhbmQgeTEuXG4gICAgICAgIHgxID0gMCwgeTEgPSAwLCBjdXJyZW50LCBpLCBjb252ZXJ0ZWQsXG4gICAgICAgIC8vIHByZXZpb3VzIHdpbGwgaG9zdCB0aGUgbGV0dGVyIG9mIHRoZSBwcmV2aW91cyBjb21tYW5kLCB0byBoYW5kbGUgUyBhbmQgVC5cbiAgICAgICAgLy8gY29udHJvbFggYW5kIGNvbnRyb2xZIHdpbGwgaG9zdCB0aGUgcHJldmlvdXMgcmVmbGVjdGVkIGNvbnRyb2wgcG9pbnRcbiAgICAgICAgZGVzdGluYXRpb25QYXRoID0gW10sIHByZXZpb3VzLCBjb250cm9sWCwgY29udHJvbFk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjb252ZXJ0ZWQgPSBmYWxzZTtcbiAgICAgIGN1cnJlbnQgPSBwYXRoW2ldLnNsaWNlKDApO1xuICAgICAgc3dpdGNoIChjdXJyZW50WzBdKSB7IC8vIGZpcnN0IGxldHRlclxuICAgICAgICBjYXNlICdsJzogLy8gbGluZXRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnTCc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoJzogLy8gaG9yaXpvbnRhbCBsaW5ldG8sIHJlbGF0aXZlXG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgY2FzZSAnSCc6XG4gICAgICAgICAgY3VycmVudFswXSA9ICdMJztcbiAgICAgICAgICBjdXJyZW50WzJdID0geTtcbiAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndic6IC8vIHZlcnRpY2FsIGxpbmV0bywgcmVsYXRpdmVcbiAgICAgICAgICBjdXJyZW50WzFdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ0wnO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzFdO1xuICAgICAgICAgIGN1cnJlbnRbMV0gPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gPSB5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtJzogLy8gbW92ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnTSc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIHgxID0gY3VycmVudFsxXTtcbiAgICAgICAgICB5MSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2MnOiAvLyBiZXppZXJDdXJ2ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnQyc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICBjdXJyZW50WzNdICs9IHg7XG4gICAgICAgICAgY3VycmVudFs0XSArPSB5O1xuICAgICAgICAgIGN1cnJlbnRbNV0gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzZdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICBjb250cm9sWCA9IGN1cnJlbnRbM107XG4gICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgIHggPSBjdXJyZW50WzVdO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzZdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzJzogLy8gc2hvcnRoYW5kIGN1YmljIGJlemllckN1cnZlVG8sIHJlbGF0aXZlXG4gICAgICAgICAgY3VycmVudFswXSA9ICdTJztcbiAgICAgICAgICBjdXJyZW50WzFdICs9IHg7XG4gICAgICAgICAgY3VycmVudFsyXSArPSB5O1xuICAgICAgICAgIGN1cnJlbnRbM10gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzRdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdTJzpcbiAgICAgICAgICAvLyB3b3VsZCBiZSBzU2NDIGJ1dCBzaW5jZSB3ZSBhcmUgc3dhcHBpbmcgc1NjIGZvciBDLCB3ZSBjaGVjayBqdXN0IHRoYXQuXG4gICAgICAgICAgaWYgKHByZXZpb3VzID09PSAnQycpIHtcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSByZWZsZWN0aW9uIG9mIHByZXZpb3VzIGNvbnRyb2wgcG9pbnRzXG4gICAgICAgICAgICBjb250cm9sWCA9IDIgKiB4IC0gY29udHJvbFg7XG4gICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29tbWFuZCBvciBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCB3YXMgbm90IGEgQywgYywgUywgb3IgcyxcbiAgICAgICAgICAgIC8vIHRoZSBjb250cm9sIHBvaW50IGlzIGNvaW5jaWRlbnQgd2l0aCB0aGUgY3VycmVudCBwb2ludFxuICAgICAgICAgICAgY29udHJvbFggPSB4O1xuICAgICAgICAgICAgY29udHJvbFkgPSB5O1xuICAgICAgICAgIH1cbiAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICB5ID0gY3VycmVudFs0XTtcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ0MnO1xuICAgICAgICAgIGN1cnJlbnRbNV0gPSBjdXJyZW50WzNdO1xuICAgICAgICAgIGN1cnJlbnRbNl0gPSBjdXJyZW50WzRdO1xuICAgICAgICAgIGN1cnJlbnRbM10gPSBjdXJyZW50WzFdO1xuICAgICAgICAgIGN1cnJlbnRbNF0gPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGN1cnJlbnRbMV0gPSBjb250cm9sWDtcbiAgICAgICAgICBjdXJyZW50WzJdID0gY29udHJvbFk7XG4gICAgICAgICAgLy8gY3VycmVudFszXSBhbmQgY3VycmVudFs0XSBhcmUgTk9XIHRoZSBzZWNvbmQgY29udHJvbCBwb2ludC5cbiAgICAgICAgICAvLyB3ZSBrZWVwIGl0IGZvciB0aGUgbmV4dCByZWZsZWN0aW9uLlxuICAgICAgICAgIGNvbnRyb2xYID0gY3VycmVudFszXTtcbiAgICAgICAgICBjb250cm9sWSA9IGN1cnJlbnRbNF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3EnOiAvLyBxdWFkcmF0aWNDdXJ2ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnUSc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICBjdXJyZW50WzNdICs9IHg7XG4gICAgICAgICAgY3VycmVudFs0XSArPSB5O1xuICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzFdO1xuICAgICAgICAgIGNvbnRyb2xZID0gY3VycmVudFsyXTtcbiAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICB5ID0gY3VycmVudFs0XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndCc6IC8vIHNob3J0aGFuZCBxdWFkcmF0aWNDdXJ2ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnVCc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgIGlmIChwcmV2aW91cyA9PT0gJ1EnKSB7XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgcmVmbGVjdGlvbiBvZiBwcmV2aW91cyBjb250cm9sIHBvaW50XG4gICAgICAgICAgICBjb250cm9sWCA9IDIgKiB4IC0gY29udHJvbFg7XG4gICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29tbWFuZCBvciBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCB3YXMgbm90IGEgUSwgcSwgVCBvciB0LFxuICAgICAgICAgICAgLy8gYXNzdW1lIHRoZSBjb250cm9sIHBvaW50IGlzIGNvaW5jaWRlbnQgd2l0aCB0aGUgY3VycmVudCBwb2ludFxuICAgICAgICAgICAgY29udHJvbFggPSB4O1xuICAgICAgICAgICAgY29udHJvbFkgPSB5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50WzBdID0gJ1EnO1xuICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGN1cnJlbnRbMV0gPSBjb250cm9sWDtcbiAgICAgICAgICBjdXJyZW50WzJdID0gY29udHJvbFk7XG4gICAgICAgICAgY3VycmVudFszXSA9IHg7XG4gICAgICAgICAgY3VycmVudFs0XSA9IHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnQSc7XG4gICAgICAgICAgY3VycmVudFs2XSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbN10gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGNvbnZlcnRlZCA9IHRydWU7XG4gICAgICAgICAgZGVzdGluYXRpb25QYXRoID0gZGVzdGluYXRpb25QYXRoLmNvbmNhdChmcm9tQXJjVG9CZXppZXJzKHgsIHksIGN1cnJlbnQpKTtcbiAgICAgICAgICB4ID0gY3VycmVudFs2XTtcbiAgICAgICAgICB5ID0gY3VycmVudFs3XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAneic6XG4gICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgIHggPSB4MTtcbiAgICAgICAgICB5ID0geTE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gICAgICBpZiAoIWNvbnZlcnRlZCkge1xuICAgICAgICBkZXN0aW5hdGlvblBhdGgucHVzaChjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gY3VycmVudFswXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uUGF0aDtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsYyBsZW5ndGggZnJvbSBwb2ludCB4MSx5MSB0byB4Mix5MlxuICAgKiBAcGFyYW0ge051bWJlcn0geDEgc3RhcnRpbmcgcG9pbnQgeFxuICAgKiBAcGFyYW0ge051bWJlcn0geTEgc3RhcnRpbmcgcG9pbnQgeVxuICAgKiBAcGFyYW0ge051bWJlcn0geDIgc3RhcnRpbmcgcG9pbnQgeFxuICAgKiBAcGFyYW0ge051bWJlcn0geTIgc3RhcnRpbmcgcG9pbnQgeVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGxlbmd0aCBvZiBzZWdtZW50XG4gICAqL1xuICBmdW5jdGlvbiBjYWxjTGluZUxlbmd0aCh4MSwgeTEsIHgyLCB5Mikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgfVxuXG4gIC8vIGZ1bmN0aW9ucyBmb3IgdGhlIEN1YmljIGJlaXplclxuICAvLyB0YWtlbiBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20va29udmFqcy9rb252YS9ibG9iLzcuMC41L3NyYy9zaGFwZXMvUGF0aC50cyNMMzUwXG4gIGZ1bmN0aW9uIENCMSh0KSB7XG4gICAgcmV0dXJuIHQgKiB0ICogdDtcbiAgfVxuICBmdW5jdGlvbiBDQjIodCkge1xuICAgIHJldHVybiAzICogdCAqIHQgKiAoMSAtIHQpO1xuICB9XG4gIGZ1bmN0aW9uIENCMyh0KSB7XG4gICAgcmV0dXJuIDMgKiB0ICogKDEgLSB0KSAqICgxIC0gdCk7XG4gIH1cbiAgZnVuY3Rpb24gQ0I0KHQpIHtcbiAgICByZXR1cm4gKDEgLSB0KSAqICgxIC0gdCkgKiAoMSAtIHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnRPbkN1YmljQmV6aWVySXRlcmF0b3IocDF4LCBwMXksIHAyeCwgcDJ5LCBwM3gsIHAzeSwgcDR4LCBwNHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ocGN0KSB7XG4gICAgICB2YXIgYzEgPSBDQjEocGN0KSwgYzIgPSBDQjIocGN0KSwgYzMgPSBDQjMocGN0KSwgYzQgPSBDQjQocGN0KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHA0eCAqIGMxICsgcDN4ICogYzIgKyBwMnggKiBjMyArIHAxeCAqIGM0LFxuICAgICAgICB5OiBwNHkgKiBjMSArIHAzeSAqIGMyICsgcDJ5ICogYzMgKyBwMXkgKiBjNFxuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFuZ2VudEN1YmljSXRlcmF0b3IocDF4LCBwMXksIHAyeCwgcDJ5LCBwM3gsIHAzeSwgcDR4LCBwNHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHBjdCkge1xuICAgICAgdmFyIGludlQgPSAxIC0gcGN0LFxuICAgICAgICAgIHRhbmdlbnRYID0gKDMgKiBpbnZUICogaW52VCAqIChwMnggLSBwMXgpKSArICg2ICogaW52VCAqIHBjdCAqIChwM3ggLSBwMngpKSArXG4gICAgICAgICAgKDMgKiBwY3QgKiBwY3QgKiAocDR4IC0gcDN4KSksXG4gICAgICAgICAgdGFuZ2VudFkgPSAoMyAqIGludlQgKiBpbnZUICogKHAyeSAtIHAxeSkpICsgKDYgKiBpbnZUICogcGN0ICogKHAzeSAtIHAyeSkpICtcbiAgICAgICAgICAoMyAqIHBjdCAqIHBjdCAqIChwNHkgLSBwM3kpKTtcbiAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRhbmdlbnRZLCB0YW5nZW50WCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFFCMSh0KSB7XG4gICAgcmV0dXJuIHQgKiB0O1xuICB9XG5cbiAgZnVuY3Rpb24gUUIyKHQpIHtcbiAgICByZXR1cm4gMiAqIHQgKiAoMSAtIHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gUUIzKHQpIHtcbiAgICByZXR1cm4gKDEgLSB0KSAqICgxIC0gdCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQb2ludE9uUXVhZHJhdGljQmV6aWVySXRlcmF0b3IocDF4LCBwMXksIHAyeCwgcDJ5LCBwM3gsIHAzeSkge1xuICAgIHJldHVybiBmdW5jdGlvbihwY3QpIHtcbiAgICAgIHZhciBjMSA9IFFCMShwY3QpLCBjMiA9IFFCMihwY3QpLCBjMyA9IFFCMyhwY3QpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcDN4ICogYzEgKyBwMnggKiBjMiArIHAxeCAqIGMzLFxuICAgICAgICB5OiBwM3kgKiBjMSArIHAyeSAqIGMyICsgcDF5ICogYzNcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhbmdlbnRRdWFkcmF0aWNJdGVyYXRvcihwMXgsIHAxeSwgcDJ4LCBwMnksIHAzeCwgcDN5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwY3QpIHtcbiAgICAgIHZhciBpbnZUID0gMSAtIHBjdCxcbiAgICAgICAgICB0YW5nZW50WCA9ICgyICogaW52VCAqIChwMnggLSBwMXgpKSArICgyICogcGN0ICogKHAzeCAtIHAyeCkpLFxuICAgICAgICAgIHRhbmdlbnRZID0gKDIgKiBpbnZUICogKHAyeSAtIHAxeSkpICsgKDIgKiBwY3QgKiAocDN5IC0gcDJ5KSk7XG4gICAgICByZXR1cm4gTWF0aC5hdGFuMih0YW5nZW50WSwgdGFuZ2VudFgpO1xuICAgIH07XG4gIH1cblxuXG4gIC8vIHRoaXMgd2lsbCBydW4gb3ZlciBhIHBhdGggc2VnbWVudCAoIGEgY3ViaWMgb3IgcXVhZHJhdGljIHNlZ21lbnQpIGFuZCBhcHByb3hpbWF0ZSBpdFxuICAvLyB3aXRoIDEwMCBzZWdlbW50cy4gVGhpcyB3aWxsIGdvb2QgZW5vdWdoIHRvIGNhbGN1bGF0ZSB0aGUgbGVuZ3RoIG9mIHRoZSBjdXJ2ZVxuICBmdW5jdGlvbiBwYXRoSXRlcmF0b3IoaXRlcmF0b3IsIHgxLCB5MSkge1xuICAgIHZhciB0ZW1wUCA9IHsgeDogeDEsIHk6IHkxIH0sIHAsIHRtcExlbiA9IDAsIHBlcmM7XG4gICAgZm9yIChwZXJjID0gMTsgcGVyYyA8PSAxMDA7IHBlcmMgKz0gMSkge1xuICAgICAgcCA9IGl0ZXJhdG9yKHBlcmMgLyAxMDApO1xuICAgICAgdG1wTGVuICs9IGNhbGNMaW5lTGVuZ3RoKHRlbXBQLngsIHRlbXBQLnksIHAueCwgcC55KTtcbiAgICAgIHRlbXBQID0gcDtcbiAgICB9XG4gICAgcmV0dXJuIHRtcExlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIHBhdGhJbmZvLCBhbmQgYSBkaXN0YW5jZSBpbiBwaXhlbHMsIGZpbmQgdGhlIHBlcmNlbnRhZ2UgZnJvbSAwIHRvIDFcbiAgICogdGhhdCBjb3JyZXNwb25kIHRvIHRoYXQgcGl4ZWxzIHJ1biBvdmVyIHRoZSBwYXRoLlxuICAgKiBUaGUgcGVyY2VudGFnZSB3aWxsIGJlIHRoZW4gdXNlZCB0byBmaW5kIHRoZSBjb3JyZWN0IHBvaW50IG9uIHRoZSBjYW52YXMgZm9yIHRoZSBwYXRoLlxuICAgKiBAcGFyYW0ge0FycmF5fSBzZWdJbmZvIGZhYnJpY0pTIGNvbGxlY3Rpb24gb2YgaW5mb3JtYXRpb24gb24gYSBwYXJzZWQgcGF0aFxuICAgKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2UgZnJvbSBzdGFydGluZyBwb2ludCwgaW4gcGl4ZWxzLlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGluZm8gb2JqZWN0IHdpdGggeCBhbmQgeSAoIHRoZSBwb2ludCBvbiBjYW52YXMgKSBhbmQgYW5nbGUsIHRoZSB0YW5nZW50IG9uIHRoYXQgcG9pbnQ7XG4gICAqL1xuICBmdW5jdGlvbiBmaW5kUGVyY2VudGFnZUZvckRpc3RhbmNlKHNlZ0luZm8sIGRpc3RhbmNlKSB7XG4gICAgdmFyIHBlcmMgPSAwLCB0bXBMZW4gPSAwLCBpdGVyYXRvciA9IHNlZ0luZm8uaXRlcmF0b3IsIHRlbXBQID0geyB4OiBzZWdJbmZvLngsIHk6IHNlZ0luZm8ueSB9LFxuICAgICAgICBwLCBuZXh0TGVuLCBuZXh0U3RlcCA9IDAuMDEsIGFuZ2xlRmluZGVyID0gc2VnSW5mby5hbmdsZUZpbmRlciwgbGFzdFBlcmM7XG4gICAgLy8gbmV4dFN0ZXAgPiAwLjAwMDEgY292ZXJzIDAuMDAwMTU2MjUgdGhhdCAxLzY0dGggb2YgMS8xMDBcbiAgICAvLyB0aGUgcGF0aFxuICAgIHdoaWxlICh0bXBMZW4gPCBkaXN0YW5jZSAmJiBuZXh0U3RlcCA+IDAuMDAwMSkge1xuICAgICAgcCA9IGl0ZXJhdG9yKHBlcmMpO1xuICAgICAgbGFzdFBlcmMgPSBwZXJjO1xuICAgICAgbmV4dExlbiA9IGNhbGNMaW5lTGVuZ3RoKHRlbXBQLngsIHRlbXBQLnksIHAueCwgcC55KTtcbiAgICAgIC8vIGNvbXBhcmUgdG1wTGVuIGVhY2ggY3ljbGUgd2l0aCBkaXN0YW5jZSwgZGVjaWRlIG5leHQgcGVyYyB0byB0ZXN0LlxuICAgICAgaWYgKChuZXh0TGVuICsgdG1wTGVuKSA+IGRpc3RhbmNlKSB7XG4gICAgICAgIC8vIHdlIGRpc2NhcmQgdGhpcyBzdGVwIGFuZCB3ZSBtYWtlIHNtYWxsZXIgc3RlcHMuXG4gICAgICAgIHBlcmMgLT0gbmV4dFN0ZXA7XG4gICAgICAgIG5leHRTdGVwIC89IDI7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGVtcFAgPSBwO1xuICAgICAgICBwZXJjICs9IG5leHRTdGVwO1xuICAgICAgICB0bXBMZW4gKz0gbmV4dExlbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcC5hbmdsZSA9IGFuZ2xlRmluZGVyKGxhc3RQZXJjKTtcbiAgICByZXR1cm4gcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gb3ZlciBhIHBhcnNlZCBhbmQgc2ltcGxpZmVkIHBhdGggYW5kIGV4dHJhYyBzb21lIGluZm9ybWF0aW9ucy5cbiAgICogaW5mb3JtYXRpb25zIGFyZSBsZW5ndGggb2YgZWFjaCBjb21tYW5kIGFuZCBzdGFydGluZyBwb2ludFxuICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIGZhYnJpY0pTIHBhcnNlZCBwYXRoIGNvbW1hbmRzXG4gICAqIEByZXR1cm4ge0FycmF5fSBwYXRoIGNvbW1hbmRzIGluZm9ybWF0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0UGF0aFNlZ21lbnRzSW5mbyhwYXRoKSB7XG4gICAgdmFyIHRvdGFsTGVuZ3RoID0gMCwgbGVuID0gcGF0aC5sZW5ndGgsIGN1cnJlbnQsXG4gICAgICAgIC8veDIgYW5kIHkyIGFyZSB0aGUgY29vcmRzIG9mIHNlZ21lbnQgc3RhcnRcbiAgICAgICAgLy94MSBhbmQgeTEgYXJlIHRoZSBjb29yZHMgb2YgdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgeDEgPSAwLCB5MSA9IDAsIHgyID0gMCwgeTIgPSAwLCBpbmZvID0gW10sIGl0ZXJhdG9yLCB0ZW1wSW5mbywgYW5nbGVGaW5kZXI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY3VycmVudCA9IHBhdGhbaV07XG4gICAgICB0ZW1wSW5mbyA9IHtcbiAgICAgICAgeDogeDEsXG4gICAgICAgIHk6IHkxLFxuICAgICAgICBjb21tYW5kOiBjdXJyZW50WzBdLFxuICAgICAgfTtcbiAgICAgIHN3aXRjaCAoY3VycmVudFswXSkgeyAvL2ZpcnN0IGxldHRlclxuICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICB0ZW1wSW5mby5sZW5ndGggPSAwO1xuICAgICAgICAgIHgyID0geDEgPSBjdXJyZW50WzFdO1xuICAgICAgICAgIHkyID0geTEgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICB0ZW1wSW5mby5sZW5ndGggPSBjYWxjTGluZUxlbmd0aCh4MSwgeTEsIGN1cnJlbnRbMV0sIGN1cnJlbnRbMl0pO1xuICAgICAgICAgIHgxID0gY3VycmVudFsxXTtcbiAgICAgICAgICB5MSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgIGl0ZXJhdG9yID0gZ2V0UG9pbnRPbkN1YmljQmV6aWVySXRlcmF0b3IoXG4gICAgICAgICAgICB4MSxcbiAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICBjdXJyZW50WzNdLFxuICAgICAgICAgICAgY3VycmVudFs0XSxcbiAgICAgICAgICAgIGN1cnJlbnRbNV0sXG4gICAgICAgICAgICBjdXJyZW50WzZdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbmdsZUZpbmRlciA9IGdldFRhbmdlbnRDdWJpY0l0ZXJhdG9yKFxuICAgICAgICAgICAgeDEsXG4gICAgICAgICAgICB5MSxcbiAgICAgICAgICAgIGN1cnJlbnRbMV0sXG4gICAgICAgICAgICBjdXJyZW50WzJdLFxuICAgICAgICAgICAgY3VycmVudFszXSxcbiAgICAgICAgICAgIGN1cnJlbnRbNF0sXG4gICAgICAgICAgICBjdXJyZW50WzVdLFxuICAgICAgICAgICAgY3VycmVudFs2XVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGVtcEluZm8uaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgICB0ZW1wSW5mby5hbmdsZUZpbmRlciA9IGFuZ2xlRmluZGVyO1xuICAgICAgICAgIHRlbXBJbmZvLmxlbmd0aCA9IHBhdGhJdGVyYXRvcihpdGVyYXRvciwgeDEsIHkxKTtcbiAgICAgICAgICB4MSA9IGN1cnJlbnRbNV07XG4gICAgICAgICAgeTEgPSBjdXJyZW50WzZdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICBpdGVyYXRvciA9IGdldFBvaW50T25RdWFkcmF0aWNCZXppZXJJdGVyYXRvcihcbiAgICAgICAgICAgIHgxLFxuICAgICAgICAgICAgeTEsXG4gICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgIGN1cnJlbnRbM10sXG4gICAgICAgICAgICBjdXJyZW50WzRdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbmdsZUZpbmRlciA9IGdldFRhbmdlbnRRdWFkcmF0aWNJdGVyYXRvcihcbiAgICAgICAgICAgIHgxLFxuICAgICAgICAgICAgeTEsXG4gICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgIGN1cnJlbnRbM10sXG4gICAgICAgICAgICBjdXJyZW50WzRdXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0ZW1wSW5mby5pdGVyYXRvciA9IGl0ZXJhdG9yO1xuICAgICAgICAgIHRlbXBJbmZvLmFuZ2xlRmluZGVyID0gYW5nbGVGaW5kZXI7XG4gICAgICAgICAgdGVtcEluZm8ubGVuZ3RoID0gcGF0aEl0ZXJhdG9yKGl0ZXJhdG9yLCB4MSwgeTEpO1xuICAgICAgICAgIHgxID0gY3VycmVudFszXTtcbiAgICAgICAgICB5MSA9IGN1cnJlbnRbNF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1onOlxuICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAvLyB3ZSBhZGQgdGhvc2UgaW4gb3JkZXIgdG8gZWFzZSBjYWxjdWxhdGlvbnMgbGF0ZXJcbiAgICAgICAgICB0ZW1wSW5mby5kZXN0WCA9IHgyO1xuICAgICAgICAgIHRlbXBJbmZvLmRlc3RZID0geTI7XG4gICAgICAgICAgdGVtcEluZm8ubGVuZ3RoID0gY2FsY0xpbmVMZW5ndGgoeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgICAgIHgxID0geDI7XG4gICAgICAgICAgeTEgPSB5MjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRvdGFsTGVuZ3RoICs9IHRlbXBJbmZvLmxlbmd0aDtcbiAgICAgIGluZm8ucHVzaCh0ZW1wSW5mbyk7XG4gICAgfVxuICAgIGluZm8ucHVzaCh7IGxlbmd0aDogdG90YWxMZW5ndGgsIHg6IHgxLCB5OiB5MSB9KTtcbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBvaW50T25QYXRoKHBhdGgsIGRpc3RhbmNlLCBpbmZvcykge1xuICAgIGlmICghaW5mb3MpIHtcbiAgICAgIGluZm9zID0gZ2V0UGF0aFNlZ21lbnRzSW5mbyhwYXRoKTtcbiAgICB9XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlICgoZGlzdGFuY2UgLSBpbmZvc1tpXS5sZW5ndGggPiAwKSAmJiBpIDwgKGluZm9zLmxlbmd0aCAtIDIpKSB7XG4gICAgICBkaXN0YW5jZSAtPSBpbmZvc1tpXS5sZW5ndGg7XG4gICAgICBpKys7XG4gICAgfVxuICAgIC8vIHZhciBkaXN0YW5jZSA9IGluZm9zW2luZm9zLmxlbmd0aCAtIDFdICogcGVyYztcbiAgICB2YXIgc2VnSW5mbyA9IGluZm9zW2ldLCBzZWdQZXJjZW50ID0gZGlzdGFuY2UgLyBzZWdJbmZvLmxlbmd0aCxcbiAgICAgICAgY29tbWFuZCA9IHNlZ0luZm8uY29tbWFuZCwgc2VnbWVudCA9IHBhdGhbaV0sIGluZm87XG5cbiAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgICAgIGNhc2UgJ00nOlxuICAgICAgICByZXR1cm4geyB4OiBzZWdJbmZvLngsIHk6IHNlZ0luZm8ueSwgYW5nbGU6IDAgfTtcbiAgICAgIGNhc2UgJ1onOlxuICAgICAgY2FzZSAneic6XG4gICAgICAgIGluZm8gPSBuZXcgZmFicmljLlBvaW50KHNlZ0luZm8ueCwgc2VnSW5mby55KS5sZXJwKFxuICAgICAgICAgIG5ldyBmYWJyaWMuUG9pbnQoc2VnSW5mby5kZXN0WCwgc2VnSW5mby5kZXN0WSksXG4gICAgICAgICAgc2VnUGVyY2VudFxuICAgICAgICApO1xuICAgICAgICBpbmZvLmFuZ2xlID0gTWF0aC5hdGFuMihzZWdJbmZvLmRlc3RZIC0gc2VnSW5mby55LCBzZWdJbmZvLmRlc3RYIC0gc2VnSW5mby54KTtcbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICBjYXNlICdMJzpcbiAgICAgICAgaW5mbyA9IG5ldyBmYWJyaWMuUG9pbnQoc2VnSW5mby54LCBzZWdJbmZvLnkpLmxlcnAoXG4gICAgICAgICAgbmV3IGZhYnJpYy5Qb2ludChzZWdtZW50WzFdLCBzZWdtZW50WzJdKSxcbiAgICAgICAgICBzZWdQZXJjZW50XG4gICAgICAgICk7XG4gICAgICAgIGluZm8uYW5nbGUgPSBNYXRoLmF0YW4yKHNlZ21lbnRbMl0gLSBzZWdJbmZvLnksIHNlZ21lbnRbMV0gLSBzZWdJbmZvLngpO1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIGNhc2UgJ0MnOlxuICAgICAgICByZXR1cm4gZmluZFBlcmNlbnRhZ2VGb3JEaXN0YW5jZShzZWdJbmZvLCBkaXN0YW5jZSk7XG4gICAgICBjYXNlICdRJzpcbiAgICAgICAgcmV0dXJuIGZpbmRQZXJjZW50YWdlRm9yRGlzdGFuY2Uoc2VnSW5mbywgZGlzdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aFN0cmluZ1xuICAgKiBAcmV0dXJuIHsoc3RyaW5nfG51bWJlcilbXVtdfSBBbiBhcnJheSBvZiBTVkcgcGF0aCBjb21tYW5kc1xuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Vc2FnZTwvY2FwdGlvbj5cbiAgICogcGFyc2VQYXRoKCdNIDMgNCBRIDMgNSAyIDEgNCAwIFEgOSAxMiAyIDEgNCAwJykgPT09IFtcbiAgICogICBbJ00nLCAzLCA0XSxcbiAgICogICBbJ1EnLCAzLCA1LCAyLCAxLCA0LCAwXSxcbiAgICogICBbJ1EnLCA5LCAxMiwgMiwgMSwgNCwgMF0sXG4gICAqIF07XG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aFN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgY29vcmRzID0gW10sXG4gICAgICAgIGN1cnJlbnRQYXRoLFxuICAgICAgICBwYXJzZWQsXG4gICAgICAgIHJlID0gZmFicmljLnJlUGF0aENvbW1hbmQsXG4gICAgICAgIHJOdW1iZXIgPSAnWy0rXT8oPzpcXFxcZCpcXFxcLlxcXFxkK3xcXFxcZCtcXFxcLj8pKD86W2VFXVstK10/XFxcXGQrKT9cXFxccyonLFxuICAgICAgICByTnVtYmVyQ29tbWFXc3AgPSAnKCcgKyByTnVtYmVyICsgJyknICsgZmFicmljLmNvbW1hV3NwLFxuICAgICAgICByRmxhZ0NvbW1hV3NwID0gJyhbMDFdKScgKyBmYWJyaWMuY29tbWFXc3AgKyAnPycsXG4gICAgICAgIHJBcmNTZXEgPSByTnVtYmVyQ29tbWFXc3AgKyAnPycgKyByTnVtYmVyQ29tbWFXc3AgKyAnPycgKyByTnVtYmVyQ29tbWFXc3AgKyByRmxhZ0NvbW1hV3NwICsgckZsYWdDb21tYVdzcCArXG4gICAgICAgICAgck51bWJlckNvbW1hV3NwICsgJz8oJyArIHJOdW1iZXIgKyAnKScsXG4gICAgICAgIHJlZ0FyY0FyZ3VtZW50U2VxdWVuY2UgPSBuZXcgUmVnRXhwKHJBcmNTZXEsICdnJyksXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBjb29yZHNTdHIsXG4gICAgICAgIC8vIG9uZSBvZiBjb21tYW5kcyAobSxNLGwsTCxxLFEsYyxDLGV0Yy4pIGZvbGxvd2VkIGJ5IG5vbi1jb21tYW5kIGNoYXJhY3RlcnMgKGkuZS4gY29tbWFuZCB2YWx1ZXMpXG4gICAgICAgIHBhdGg7XG4gICAgaWYgKCFwYXRoU3RyaW5nIHx8ICFwYXRoU3RyaW5nLm1hdGNoKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBwYXRoID0gcGF0aFN0cmluZy5tYXRjaCgvW216bGh2Y3NxdGFdW15temxodmNzcXRhXSovZ2kpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGNvb3Jkc1BhcnNlZCwgbGVuID0gcGF0aC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY3VycmVudFBhdGggPSBwYXRoW2ldO1xuXG4gICAgICBjb29yZHNTdHIgPSBjdXJyZW50UGF0aC5zbGljZSgxKS50cmltKCk7XG4gICAgICBjb29yZHMubGVuZ3RoID0gMDtcblxuICAgICAgdmFyIGNvbW1hbmQgPSBjdXJyZW50UGF0aC5jaGFyQXQoMCk7XG4gICAgICBjb29yZHNQYXJzZWQgPSBbY29tbWFuZF07XG5cbiAgICAgIGlmIChjb21tYW5kLnRvTG93ZXJDYXNlKCkgPT09ICdhJykge1xuICAgICAgICAvLyBhcmNzIGhhdmUgc3BlY2lhbCBmbGFncyB0aGF0IGFwcGFyZW50bHkgZG9uJ3QgcmVxdWlyZSBzcGFjZXMgc28gaGFuZGxlIHNwZWNpYWxcbiAgICAgICAgZm9yICh2YXIgYXJnczsgKGFyZ3MgPSByZWdBcmNBcmd1bWVudFNlcXVlbmNlLmV4ZWMoY29vcmRzU3RyKSk7KSB7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhcmdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb29yZHMucHVzaChhcmdzW2pdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhjb29yZHNTdHIpKSkge1xuICAgICAgICAgIGNvb3Jkcy5wdXNoKG1hdGNoWzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgICAgcGFyc2VkID0gcGFyc2VGbG9hdChjb29yZHNbal0pO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkpIHtcbiAgICAgICAgICBjb29yZHNQYXJzZWQucHVzaChwYXJzZWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjb21tYW5kTGVuZ3RoID0gY29tbWFuZExlbmd0aHNbY29tbWFuZC50b0xvd2VyQ2FzZSgpXSxcbiAgICAgICAgICByZXBlYXRlZENvbW1hbmQgPSByZXBlYXRlZENvbW1hbmRzW2NvbW1hbmRdIHx8IGNvbW1hbmQ7XG5cbiAgICAgIGlmIChjb29yZHNQYXJzZWQubGVuZ3RoIC0gMSA+IGNvbW1hbmRMZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgayA9IDEsIGtsZW4gPSBjb29yZHNQYXJzZWQubGVuZ3RoOyBrIDwga2xlbjsgayArPSBjb21tYW5kTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goW2NvbW1hbmRdLmNvbmNhdChjb29yZHNQYXJzZWQuc2xpY2UoaywgayArIGNvbW1hbmRMZW5ndGgpKSk7XG4gICAgICAgICAgY29tbWFuZCA9IHJlcGVhdGVkQ29tbWFuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNvb3Jkc1BhcnNlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogQ29udmVydHMgcG9pbnRzIHRvIGEgc21vb3RoIFNWRyBwYXRoXG4gICAqIEBwYXJhbSB7eyB4OiBudW1iZXIseTogbnVtYmVyIH1bXX0gcG9pbnRzIEFycmF5IG9mIHBvaW50c1xuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvcnJlY3Rpb25dIEFwcGx5IGEgY29ycmVjdGlvbiB0byB0aGUgcGF0aCAodXN1YWxseSB3ZSB1c2UgYHdpZHRoIC8gMTAwMGApLiBJZiB2YWx1ZSBpcyB1bmRlZmluZWQgMCBpcyB1c2VkIGFzIHRoZSBjb3JyZWN0aW9uIHZhbHVlLlxuICAgKiBAcmV0dXJuIHsoc3RyaW5nfG51bWJlcilbXVtdfSBBbiBhcnJheSBvZiBTVkcgcGF0aCBjb21tYW5kc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U21vb3RoUGF0aEZyb21Qb2ludHMocG9pbnRzLCBjb3JyZWN0aW9uKSB7XG4gICAgdmFyIHBhdGggPSBbXSwgaSxcbiAgICAgICAgcDEgPSBuZXcgZmFicmljLlBvaW50KHBvaW50c1swXS54LCBwb2ludHNbMF0ueSksXG4gICAgICAgIHAyID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludHNbMV0ueCwgcG9pbnRzWzFdLnkpLFxuICAgICAgICBsZW4gPSBwb2ludHMubGVuZ3RoLCBtdWx0U2lnblggPSAxLCBtdWx0U2lnblkgPSAwLCBtYW55UG9pbnRzID0gbGVuID4gMjtcbiAgICBjb3JyZWN0aW9uID0gY29ycmVjdGlvbiB8fCAwO1xuXG4gICAgaWYgKG1hbnlQb2ludHMpIHtcbiAgICAgIG11bHRTaWduWCA9IHBvaW50c1syXS54IDwgcDIueCA/IC0xIDogcG9pbnRzWzJdLnggPT09IHAyLnggPyAwIDogMTtcbiAgICAgIG11bHRTaWduWSA9IHBvaW50c1syXS55IDwgcDIueSA/IC0xIDogcG9pbnRzWzJdLnkgPT09IHAyLnkgPyAwIDogMTtcbiAgICB9XG4gICAgcGF0aC5wdXNoKFsnTScsIHAxLnggLSBtdWx0U2lnblggKiBjb3JyZWN0aW9uLCBwMS55IC0gbXVsdFNpZ25ZICogY29ycmVjdGlvbl0pO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFwMS5lcShwMikpIHtcbiAgICAgICAgdmFyIG1pZFBvaW50ID0gcDEubWlkUG9pbnRGcm9tKHAyKTtcbiAgICAgICAgLy8gcDEgaXMgb3VyIGJlemllciBjb250cm9sIHBvaW50XG4gICAgICAgIC8vIG1pZHBvaW50IGlzIG91ciBlbmRwb2ludFxuICAgICAgICAvLyBzdGFydCBwb2ludCBpcyBwKGktMSkgdmFsdWUuXG4gICAgICAgIHBhdGgucHVzaChbJ1EnLCBwMS54LCBwMS55LCBtaWRQb2ludC54LCBtaWRQb2ludC55XSk7XG4gICAgICB9XG4gICAgICBwMSA9IHBvaW50c1tpXTtcbiAgICAgIGlmICgoaSArIDEpIDwgcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICBwMiA9IHBvaW50c1tpICsgMV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtYW55UG9pbnRzKSB7XG4gICAgICBtdWx0U2lnblggPSBwMS54ID4gcG9pbnRzW2kgLSAyXS54ID8gMSA6IHAxLnggPT09IHBvaW50c1tpIC0gMl0ueCA/IDAgOiAtMTtcbiAgICAgIG11bHRTaWduWSA9IHAxLnkgPiBwb2ludHNbaSAtIDJdLnkgPyAxIDogcDEueSA9PT0gcG9pbnRzW2kgLSAyXS55ID8gMCA6IC0xO1xuICAgIH1cbiAgICBwYXRoLnB1c2goWydMJywgcDEueCArIG11bHRTaWduWCAqIGNvcnJlY3Rpb24sIHAxLnkgKyBtdWx0U2lnblkgKiBjb3JyZWN0aW9uXSk7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBhIHBhdGggYnkgdHJhbnNmb3JtaW5nIGVhY2ggc2VnbWVudC5cbiAgICogaXQgaGFzIHRvIGJlIGEgc2ltcGxpZmllZCBwYXRoIG9yIGl0IHdvbid0IHdvcmsuXG4gICAqIFdBUk5JTkc6IHRoaXMgZGVwZW5kcyBmcm9tIHBhdGhPZmZzZXQgZm9yIGNvcnJlY3Qgb3BlcmF0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggZmFicmljSlMgcGFyc2VkIGFuZCBzaW1wbGlmaWVkIHBhdGggY29tbWFuZHNcbiAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtIG1hdHJpeCB0aGF0IHJlcHJlc2VudCB0aGUgdHJhbnNmb3JtYXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXRoT2Zmc2V0XSB0aGUgZmFicmljLlBhdGggcGF0aE9mZnNldFxuICAgKiBAcGFyYW0ge051bWJlcn0gcGF0aE9mZnNldC54XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwYXRoT2Zmc2V0LnlcbiAgICogQHJldHVybnMge0FycmF5fSB0aGUgdHJhbnNmb3JtZWQgcGF0aFxuICAgKi9cbiAgZnVuY3Rpb24gdHJhbnNmb3JtUGF0aChwYXRoLCB0cmFuc2Zvcm0sIHBhdGhPZmZzZXQpIHtcbiAgICBpZiAocGF0aE9mZnNldCkge1xuICAgICAgdHJhbnNmb3JtID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhcbiAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICBbMSwgMCwgMCwgMSwgLXBhdGhPZmZzZXQueCwgLXBhdGhPZmZzZXQueV1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoLm1hcChmdW5jdGlvbihwYXRoU2VnbWVudCkge1xuICAgICAgdmFyIG5ld1NlZ21lbnQgPSBwYXRoU2VnbWVudC5zbGljZSgwKSwgcG9pbnQgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcGF0aFNlZ21lbnQubGVuZ3RoIC0gMTsgaSArPSAyKSB7XG4gICAgICAgIHBvaW50LnggPSBwYXRoU2VnbWVudFtpXTtcbiAgICAgICAgcG9pbnQueSA9IHBhdGhTZWdtZW50W2kgKyAxXTtcbiAgICAgICAgcG9pbnQgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludChwb2ludCwgdHJhbnNmb3JtKTtcbiAgICAgICAgbmV3U2VnbWVudFtpXSA9IHBvaW50Lng7XG4gICAgICAgIG5ld1NlZ21lbnRbaSArIDFdID0gcG9pbnQueTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTZWdtZW50O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEpvaW4gcGF0aCBjb21tYW5kcyB0byBnbyBiYWNrIHRvIHN2ZyBmb3JtYXRcbiAgICogQHBhcmFtIHtBcnJheX0gcGF0aERhdGEgZmFicmljSlMgcGFyc2VkIHBhdGggY29tbWFuZHNcbiAgICogQHJldHVybiB7U3RyaW5nfSBqb2luZWQgcGF0aCAnTSAwIDAgTCAyMCAzMCdcbiAgICovXG4gIGZhYnJpYy51dGlsLmpvaW5QYXRoID0gZnVuY3Rpb24ocGF0aERhdGEpIHtcbiAgICByZXR1cm4gcGF0aERhdGEubWFwKGZ1bmN0aW9uIChzZWdtZW50KSB7IHJldHVybiBzZWdtZW50LmpvaW4oJyAnKTsgfSkuam9pbignICcpO1xuICB9O1xuICBmYWJyaWMudXRpbC5wYXJzZVBhdGggPSBwYXJzZVBhdGg7XG4gIGZhYnJpYy51dGlsLm1ha2VQYXRoU2ltcGxlciA9IG1ha2VQYXRoU2ltcGxlcjtcbiAgZmFicmljLnV0aWwuZ2V0U21vb3RoUGF0aEZyb21Qb2ludHMgPSBnZXRTbW9vdGhQYXRoRnJvbVBvaW50cztcbiAgZmFicmljLnV0aWwuZ2V0UGF0aFNlZ21lbnRzSW5mbyA9IGdldFBhdGhTZWdtZW50c0luZm87XG4gIGZhYnJpYy51dGlsLmdldEJvdW5kc09mQ3VydmUgPSBnZXRCb3VuZHNPZkN1cnZlO1xuICBmYWJyaWMudXRpbC5nZXRQb2ludE9uUGF0aCA9IGdldFBvaW50T25QYXRoO1xuICBmYWJyaWMudXRpbC50cmFuc2Zvcm1QYXRoID0gdHJhbnNmb3JtUGF0aDtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICAvKipcbiAgICogSW52b2tlcyBtZXRob2Qgb24gYWxsIGl0ZW1zIGluIGEgZ2l2ZW4gYXJyYXlcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IHRvIGl0ZXJhdGUgb3ZlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIE5hbWUgb2YgYSBtZXRob2QgdG8gaW52b2tlXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgZnVuY3Rpb24gaW52b2tlKGFycmF5LCBtZXRob2QpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSwgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICByZXN1bHRbaV0gPSBhcmdzLmxlbmd0aCA/IGFycmF5W2ldW21ldGhvZF0uYXBwbHkoYXJyYXlbaV0sIGFyZ3MpIDogYXJyYXlbaV1bbWV0aG9kXS5jYWxsKGFycmF5W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBtYXhpbXVtIHZhbHVlIGluIGFycmF5IChub3QgbmVjZXNzYXJpbHkgXCJmaXJzdFwiIG9uZSlcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IHRvIGl0ZXJhdGUgb3ZlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYnlQcm9wZXJ0eVxuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gbWF4KGFycmF5LCBieVByb3BlcnR5KSB7XG4gICAgcmV0dXJuIGZpbmQoYXJyYXksIGJ5UHJvcGVydHksIGZ1bmN0aW9uKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICByZXR1cm4gdmFsdWUxID49IHZhbHVlMjtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBtaW5pbXVtIHZhbHVlIGluIGFycmF5IChub3QgbmVjZXNzYXJpbHkgXCJmaXJzdFwiIG9uZSlcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IHRvIGl0ZXJhdGUgb3ZlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYnlQcm9wZXJ0eVxuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gbWluKGFycmF5LCBieVByb3BlcnR5KSB7XG4gICAgcmV0dXJuIGZpbmQoYXJyYXksIGJ5UHJvcGVydHksIGZ1bmN0aW9uKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICByZXR1cm4gdmFsdWUxIDwgdmFsdWUyO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBrID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChrLS0pIHtcbiAgICAgIGFycmF5W2tdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZmluZChhcnJheSwgYnlQcm9wZXJ0eSwgY29uZGl0aW9uKSB7XG4gICAgaWYgKCFhcnJheSB8fCBhcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDEsXG4gICAgICAgIHJlc3VsdCA9IGJ5UHJvcGVydHkgPyBhcnJheVtpXVtieVByb3BlcnR5XSA6IGFycmF5W2ldO1xuICAgIGlmIChieVByb3BlcnR5KSB7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGlmIChjb25kaXRpb24oYXJyYXlbaV1bYnlQcm9wZXJ0eV0sIHJlc3VsdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSBhcnJheVtpXVtieVByb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbihhcnJheVtpXSwgcmVzdWx0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGFycmF5W2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQG5hbWVzcGFjZSBmYWJyaWMudXRpbC5hcnJheVxuICAgKi9cbiAgZmFicmljLnV0aWwuYXJyYXkgPSB7XG4gICAgZmlsbDogZmlsbCxcbiAgICBpbnZva2U6IGludm9rZSxcbiAgICBtaW46IG1pbixcbiAgICBtYXg6IG1heFxuICB9O1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcbiAgLyoqXG4gICAqIENvcGllcyBhbGwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIG9uZSBqcyBvYmplY3QgdG8gYW5vdGhlclxuICAgKiB0aGlzIGRvZXMgbm90IGFuZCBjYW5ub3QgY29tcGV0ZSB3aXRoIGdlbmVyaWMgdXRpbHMuXG4gICAqIERvZXMgbm90IGNsb25lIG9yIGV4dGVuZCBmYWJyaWMuT2JqZWN0IHN1YmNsYXNzZXMuXG4gICAqIFRoaXMgaXMgbW9zdGx5IGZvciBpbnRlcm5hbCB1c2UgYW5kIGhhcyBleHRyYSBoYW5kbGluZyBmb3IgZmFicmljSlMgb2JqZWN0c1xuICAgKiBpdCBza2lwcyB0aGUgY2FudmFzIGFuZCBncm91cCBwcm9wZXJ0aWVzIGluIGRlZXAgY2xvbmluZy5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLm9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdGluYXRpb24gV2hlcmUgdG8gY29weSB0b1xuICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFdoZXJlIHRvIGNvcHkgZnJvbVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtkZWVwXSBXaGV0aGVyIHRvIGV4dGVuZCBuZXN0ZWQgb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGV4dGVuZChkZXN0aW5hdGlvbiwgc291cmNlLCBkZWVwKSB7XG4gICAgLy8gSlNjcmlwdCBEb250RW51bSBidWcgaXMgbm90IHRha2VuIGNhcmUgb2ZcbiAgICAvLyB0aGUgZGVlcCBjbG9uZSBpcyBmb3IgaW50ZXJuYWwgdXNlLCBpcyBub3QgbWVhbnQgdG8gYXZvaWRcbiAgICAvLyBqYXZhc2NyaXB0IHRyYXBzIG9yIGNsb25pbmcgaHRtbCBlbGVtZW50IG9yIHNlbGYgcmVmZXJlbmNlZCBvYmplY3RzLlxuICAgIGlmIChkZWVwKSB7XG4gICAgICBpZiAoIWZhYnJpYy5pc0xpa2VseU5vZGUgJiYgc291cmNlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAvLyBhdm9pZCBjbG9uaW5nIGRlZXAgaW1hZ2VzLCBjYW52YXNlcyxcbiAgICAgICAgZGVzdGluYXRpb24gPSBzb3VyY2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc291cmNlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgZGVzdGluYXRpb25baV0gPSBleHRlbmQoeyB9LCBzb3VyY2VbaV0sIGRlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzb3VyY2UgJiYgdHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc291cmNlKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5ID09PSAnY2FudmFzJyB8fCBwcm9wZXJ0eSA9PT0gJ2dyb3VwJykge1xuICAgICAgICAgICAgLy8gd2UgZG8gbm90IHdhbnQgdG8gY2xvbmUgdGhpcyBwcm9wcyBhdCBhbGwuXG4gICAgICAgICAgICAvLyB3ZSB3YW50IHRvIGtlZXAgdGhlIGtleXMgaW4gdGhlIGNvcHlcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IGV4dGVuZCh7IH0sIHNvdXJjZVtwcm9wZXJ0eV0sIGRlZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgc291bmRzIG9kZCBmb3IgYW4gZXh0ZW5kIGJ1dCBpcyBvayBmb3IgcmVjdXJzaXZlIHVzZVxuICAgICAgICBkZXN0aW5hdGlvbiA9IHNvdXJjZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzb3VyY2UpIHtcbiAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZW1wdHkgb2JqZWN0IGFuZCBjb3BpZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBhbm90aGVyIG9iamVjdCB0byBpdFxuICAgKiBUaGlzIG1ldGhvZCBpcyBtb3N0bHkgZm9yIGludGVybmFsIHVzZSwgYW5kIG5vdCBpbnRlbmRlZCBmb3IgZHVwbGljYXRpbmcgc2hhcGVzIGluIGNhbnZhcy4gXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5vYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2xvbmVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZGVlcF0gV2hldGhlciB0byBjbG9uZSBuZXN0ZWQgb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuXG4gIC8vVE9ETzogdGhpcyBmdW5jdGlvbiByZXR1cm4gYW4gZW1wdHkgb2JqZWN0IGlmIHlvdSB0cnkgdG8gY2xvbmUgbnVsbFxuICBmdW5jdGlvbiBjbG9uZShvYmplY3QsIGRlZXApIHtcbiAgICByZXR1cm4gZXh0ZW5kKHsgfSwgb2JqZWN0LCBkZWVwKTtcbiAgfVxuXG4gIC8qKiBAbmFtZXNwYWNlIGZhYnJpYy51dGlsLm9iamVjdCAqL1xuICBmYWJyaWMudXRpbC5vYmplY3QgPSB7XG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgY2xvbmU6IGNsb25lXG4gIH07XG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLnV0aWwsIGZhYnJpYy5PYnNlcnZhYmxlKTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8qKlxuICAgKiBDYW1lbGl6ZXMgYSBzdHJpbmdcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLnN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBjYW1lbGl6ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IENhbWVsaXplZCB2ZXJzaW9uIG9mIGEgc3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiBjYW1lbGl6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLy0rKC4pPy9nLCBmdW5jdGlvbihtYXRjaCwgY2hhcmFjdGVyKSB7XG4gICAgICByZXR1cm4gY2hhcmFjdGVyID8gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgOiAnJztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYXBpdGFsaXplcyBhIHN0cmluZ1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGNhcGl0YWxpemVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZmlyc3RMZXR0ZXJPbmx5XSBJZiB0cnVlIG9ubHkgZmlyc3QgbGV0dGVyIGlzIGNhcGl0YWxpemVkXG4gICAqIGFuZCBvdGhlciBsZXR0ZXJzIHN0YXkgdW50b3VjaGVkLCBpZiBmYWxzZSBmaXJzdCBsZXR0ZXIgaXMgY2FwaXRhbGl6ZWRcbiAgICogYW5kIG90aGVyIGxldHRlcnMgYXJlIGNvbnZlcnRlZCB0byBsb3dlcmNhc2UuXG4gICAqIEByZXR1cm4ge1N0cmluZ30gQ2FwaXRhbGl6ZWQgdmVyc2lvbiBvZiBhIHN0cmluZ1xuICAgKi9cbiAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcsIGZpcnN0TGV0dGVyT25seSkge1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgKGZpcnN0TGV0dGVyT25seSA/IHN0cmluZy5zbGljZSgxKSA6IHN0cmluZy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFc2NhcGVzIFhNTCBpbiBhIHN0cmluZ1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGVzY2FwZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IEVzY2FwZWQgdmVyc2lvbiBvZiBhIHN0cmluZ1xuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlWG1sKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpXG4gICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpdmlkZSBhIHN0cmluZyBpbiB0aGUgdXNlciBwZXJjZWl2ZWQgc2luZ2xlIHVuaXRzXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5zdHJpbmdcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRzdHJpbmcgU3RyaW5nIHRvIGVzY2FwZVxuICAgKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgY29udGFpbmluZyB0aGUgZ3JhcGhlbWVzXG4gICAqL1xuICBmdW5jdGlvbiBncmFwaGVtZVNwbGl0KHRleHRzdHJpbmcpIHtcbiAgICB2YXIgaSA9IDAsIGNociwgZ3JhcGhlbWVzID0gW107XG4gICAgZm9yIChpID0gMCwgY2hyOyBpIDwgdGV4dHN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKChjaHIgPSBnZXRXaG9sZUNoYXIodGV4dHN0cmluZywgaSkpID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGdyYXBoZW1lcy5wdXNoKGNocik7XG4gICAgfVxuICAgIHJldHVybiBncmFwaGVtZXM7XG4gIH1cblxuICAvLyB0YWtlbiBmcm9tIG1kbiBpbiB0aGUgY2hhckF0IGRvYyBwYWdlLlxuICBmdW5jdGlvbiBnZXRXaG9sZUNoYXIoc3RyLCBpKSB7XG4gICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgIGlmIChpc05hTihjb2RlKSkge1xuICAgICAgcmV0dXJuICcnOyAvLyBQb3NpdGlvbiBub3QgZm91bmRcbiAgICB9XG4gICAgaWYgKGNvZGUgPCAweEQ4MDAgfHwgY29kZSA+IDB4REZGRikge1xuICAgICAgcmV0dXJuIHN0ci5jaGFyQXQoaSk7XG4gICAgfVxuXG4gICAgLy8gSGlnaCBzdXJyb2dhdGUgKGNvdWxkIGNoYW5nZSBsYXN0IGhleCB0byAweERCN0YgdG8gdHJlYXQgaGlnaCBwcml2YXRlXG4gICAgLy8gc3Vycm9nYXRlcyBhcyBzaW5nbGUgY2hhcmFjdGVycylcbiAgICBpZiAoMHhEODAwIDw9IGNvZGUgJiYgY29kZSA8PSAweERCRkYpIHtcbiAgICAgIGlmIChzdHIubGVuZ3RoIDw9IChpICsgMSkpIHtcbiAgICAgICAgdGhyb3cgJ0hpZ2ggc3Vycm9nYXRlIHdpdGhvdXQgZm9sbG93aW5nIGxvdyBzdXJyb2dhdGUnO1xuICAgICAgfVxuICAgICAgdmFyIG5leHQgPSBzdHIuY2hhckNvZGVBdChpICsgMSk7XG4gICAgICBpZiAoMHhEQzAwID4gbmV4dCB8fCBuZXh0ID4gMHhERkZGKSB7XG4gICAgICAgIHRocm93ICdIaWdoIHN1cnJvZ2F0ZSB3aXRob3V0IGZvbGxvd2luZyBsb3cgc3Vycm9nYXRlJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHIuY2hhckF0KGkpICsgc3RyLmNoYXJBdChpICsgMSk7XG4gICAgfVxuICAgIC8vIExvdyBzdXJyb2dhdGUgKDB4REMwMCA8PSBjb2RlICYmIGNvZGUgPD0gMHhERkZGKVxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICB0aHJvdyAnTG93IHN1cnJvZ2F0ZSB3aXRob3V0IHByZWNlZGluZyBoaWdoIHN1cnJvZ2F0ZSc7XG4gICAgfVxuICAgIHZhciBwcmV2ID0gc3RyLmNoYXJDb2RlQXQoaSAtIDEpO1xuXG4gICAgLy8gKGNvdWxkIGNoYW5nZSBsYXN0IGhleCB0byAweERCN0YgdG8gdHJlYXQgaGlnaCBwcml2YXRlXG4gICAgLy8gc3Vycm9nYXRlcyBhcyBzaW5nbGUgY2hhcmFjdGVycylcbiAgICBpZiAoMHhEODAwID4gcHJldiB8fCBwcmV2ID4gMHhEQkZGKSB7XG4gICAgICB0aHJvdyAnTG93IHN1cnJvZ2F0ZSB3aXRob3V0IHByZWNlZGluZyBoaWdoIHN1cnJvZ2F0ZSc7XG4gICAgfVxuICAgIC8vIFdlIGNhbiBwYXNzIG92ZXIgbG93IHN1cnJvZ2F0ZXMgbm93IGFzIHRoZSBzZWNvbmQgY29tcG9uZW50XG4gICAgLy8gaW4gYSBwYWlyIHdoaWNoIHdlIGhhdmUgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTdHJpbmcgdXRpbGl0aWVzXG4gICAqIEBuYW1lc3BhY2UgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqL1xuICBmYWJyaWMudXRpbC5zdHJpbmcgPSB7XG4gICAgY2FtZWxpemU6IGNhbWVsaXplLFxuICAgIGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG4gICAgZXNjYXBlWG1sOiBlc2NhcGVYbWwsXG4gICAgZ3JhcGhlbWVTcGxpdDogZ3JhcGhlbWVTcGxpdFxuICB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLCBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAgIElTX0RPTlRFTlVNX0JVR0dZID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBwIGluIHsgdG9TdHJpbmc6IDEgfSkge1xuICAgICAgICAgIGlmIChwID09PSAndG9TdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSkoKSxcblxuICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgIGFkZE1ldGhvZHMgPSBmdW5jdGlvbihrbGFzcywgc291cmNlLCBwYXJlbnQpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc291cmNlKSB7XG5cbiAgICAgICAgICBpZiAocHJvcGVydHkgaW4ga2xhc3MucHJvdG90eXBlICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBrbGFzcy5wcm90b3R5cGVbcHJvcGVydHldID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICAgIChzb3VyY2VbcHJvcGVydHldICsgJycpLmluZGV4T2YoJ2NhbGxTdXBlcicpID4gLTEpIHtcblxuICAgICAgICAgICAga2xhc3MucHJvdG90eXBlW3Byb3BlcnR5XSA9IChmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3VwZXJjbGFzcyA9IHRoaXMuY29uc3RydWN0b3Iuc3VwZXJjbGFzcztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gc291cmNlW3Byb3BlcnR5XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3Iuc3VwZXJjbGFzcyA9IHN1cGVyY2xhc3M7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgIT09ICdpbml0aWFsaXplJykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKHByb3BlcnR5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrbGFzcy5wcm90b3R5cGVbcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoSVNfRE9OVEVOVU1fQlVHR1kpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcbiAgICAgICAgICAgICAga2xhc3MucHJvdG90eXBlLnRvU3RyaW5nID0gc291cmNlLnRvU3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZS52YWx1ZU9mICE9PSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpIHtcbiAgICAgICAgICAgICAga2xhc3MucHJvdG90eXBlLnZhbHVlT2YgPSBzb3VyY2UudmFsdWVPZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgZnVuY3Rpb24gU3ViY2xhc3MoKSB7IH1cblxuICBmdW5jdGlvbiBjYWxsU3VwZXIobWV0aG9kTmFtZSkge1xuICAgIHZhciBwYXJlbnRNZXRob2QgPSBudWxsLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBjbGltYiBwcm90b3R5cGUgY2hhaW4gdG8gZmluZCBtZXRob2Qgbm90IGVxdWFsIHRvIGNhbGxlZSdzIG1ldGhvZFxuICAgIHdoaWxlIChfdGhpcy5jb25zdHJ1Y3Rvci5zdXBlcmNsYXNzKSB7XG4gICAgICB2YXIgc3VwZXJDbGFzc01ldGhvZCA9IF90aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MucHJvdG90eXBlW21ldGhvZE5hbWVdO1xuICAgICAgaWYgKF90aGlzW21ldGhvZE5hbWVdICE9PSBzdXBlckNsYXNzTWV0aG9kKSB7XG4gICAgICAgIHBhcmVudE1ldGhvZCA9IHN1cGVyQ2xhc3NNZXRob2Q7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBfdGhpcyA9IF90aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MucHJvdG90eXBlO1xuICAgIH1cblxuICAgIGlmICghcGFyZW50TWV0aG9kKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ3RyaWVkIHRvIGNhbGxTdXBlciAnICsgbWV0aG9kTmFtZSArICcsIG1ldGhvZCBub3QgZm91bmQgaW4gcHJvdG90eXBlIGNoYWluJywgdGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChhcmd1bWVudHMubGVuZ3RoID4gMSlcbiAgICAgID8gcGFyZW50TWV0aG9kLmFwcGx5KHRoaXMsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSlcbiAgICAgIDogcGFyZW50TWV0aG9kLmNhbGwodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIGZvciBjcmVhdGlvbiBvZiBcImNsYXNzZXNcIi5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJlbnRdIG9wdGlvbmFsIFwiQ2xhc3NcIiB0byBpbmhlcml0IGZyb21cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHNoYXJlZCBieSBhbGwgaW5zdGFuY2VzIG9mIHRoaXMgY2xhc3NcbiAgICogICAgICAgICAgICAgICAgICAoYmUgY2FyZWZ1bCBtb2RpZnlpbmcgb2JqZWN0cyBkZWZpbmVkIGhlcmUgYXMgdGhpcyB3b3VsZCBhZmZlY3QgYWxsIGluc3RhbmNlcylcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzKCkge1xuICAgIHZhciBwYXJlbnQgPSBudWxsLFxuICAgICAgICBwcm9wZXJ0aWVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0aWVzWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwYXJlbnQgPSBwcm9wZXJ0aWVzLnNoaWZ0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGtsYXNzKCkge1xuICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAga2xhc3Muc3VwZXJjbGFzcyA9IHBhcmVudDtcbiAgICBrbGFzcy5zdWJjbGFzc2VzID0gW107XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBTdWJjbGFzcy5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xuICAgICAga2xhc3MucHJvdG90eXBlID0gbmV3IFN1YmNsYXNzKCk7XG4gICAgICBwYXJlbnQuc3ViY2xhc3Nlcy5wdXNoKGtsYXNzKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZE1ldGhvZHMoa2xhc3MsIHByb3BlcnRpZXNbaV0sIHBhcmVudCk7XG4gICAgfVxuICAgIGlmICgha2xhc3MucHJvdG90eXBlLmluaXRpYWxpemUpIHtcbiAgICAgIGtsYXNzLnByb3RvdHlwZS5pbml0aWFsaXplID0gZW1wdHlGdW5jdGlvbjtcbiAgICB9XG4gICAga2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0ga2xhc3M7XG4gICAga2xhc3MucHJvdG90eXBlLmNhbGxTdXBlciA9IGNhbGxTdXBlcjtcbiAgICByZXR1cm4ga2xhc3M7XG4gIH1cblxuICBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyA9IGNyZWF0ZUNsYXNzO1xufSkoKTtcblxuXG4oZnVuY3Rpb24gKCkge1xuICAvLyBzaW5jZSBpZTExIGNhbiB1c2UgYWRkRXZlbnRMaXN0ZW5lciBidXQgdGhleSBkbyBub3Qgc3VwcG9ydCBvcHRpb25zLCBpIG5lZWQgdG8gY2hlY2tcbiAgdmFyIGNvdWxkVXNlQXR0YWNoRXZlbnQgPSAhIWZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5hdHRhY2hFdmVudCxcbiAgICAgIHRvdWNoRXZlbnRzID0gWyd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZScsICd0b3VjaGVuZCddO1xuICAvKipcbiAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhbiBlbGVtZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgZWxlbWVudCAmJiBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBjb3VsZFVzZUF0dGFjaEV2ZW50ID8gZmFsc2UgOiBvcHRpb25zKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBmcm9tIGFuIGVsZW1lbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cbiAgZmFicmljLnV0aWwucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBlbGVtZW50ICYmIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIGNvdWxkVXNlQXR0YWNoRXZlbnQgPyBmYWxzZSA6IG9wdGlvbnMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFRvdWNoSW5mbyhldmVudCkge1xuICAgIHZhciB0b3VjaFByb3AgPSBldmVudC5jaGFuZ2VkVG91Y2hlcztcbiAgICBpZiAodG91Y2hQcm9wICYmIHRvdWNoUHJvcFswXSkge1xuICAgICAgcmV0dXJuIHRvdWNoUHJvcFswXTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG5cbiAgZmFicmljLnV0aWwuZ2V0UG9pbnRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQsXG4gICAgICAgIHNjcm9sbCA9IGZhYnJpYy51dGlsLmdldFNjcm9sbExlZnRUb3AoZWxlbWVudCksXG4gICAgICAgIF9ldnQgPSBnZXRUb3VjaEluZm8oZXZlbnQpO1xuICAgIHJldHVybiB7XG4gICAgICB4OiBfZXZ0LmNsaWVudFggKyBzY3JvbGwubGVmdCxcbiAgICAgIHk6IF9ldnQuY2xpZW50WSArIHNjcm9sbC50b3BcbiAgICB9O1xuICB9O1xuXG4gIGZhYnJpYy51dGlsLmlzVG91Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRvdWNoRXZlbnRzLmluZGV4T2YoZXZlbnQudHlwZSkgPiAtMSB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbiAgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogQ3Jvc3MtYnJvd3NlciB3cmFwcGVyIGZvciBzZXR0aW5nIGVsZW1lbnQncyBzdHlsZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVzXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBFbGVtZW50IHRoYXQgd2FzIHBhc3NlZCBhcyBhIGZpcnN0IGFyZ3VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBzZXRTdHlsZShlbGVtZW50LCBzdHlsZXMpIHtcbiAgICB2YXIgZWxlbWVudFN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgICBpZiAoIWVsZW1lbnRTdHlsZSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc3R5bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ICs9ICc7JyArIHN0eWxlcztcbiAgICAgIHJldHVybiBzdHlsZXMuaW5kZXhPZignb3BhY2l0eScpID4gLTFcbiAgICAgICAgPyBzZXRPcGFjaXR5KGVsZW1lbnQsIHN0eWxlcy5tYXRjaCgvb3BhY2l0eTpcXHMqKFxcZD9cXC4/XFxkKikvKVsxXSlcbiAgICAgICAgOiBlbGVtZW50O1xuICAgIH1cbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzdHlsZXMpIHtcbiAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ29wYWNpdHknKSB7XG4gICAgICAgIHNldE9wYWNpdHkoZWxlbWVudCwgc3R5bGVzW3Byb3BlcnR5XSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRQcm9wZXJ0eSA9IChwcm9wZXJ0eSA9PT0gJ2Zsb2F0JyB8fCBwcm9wZXJ0eSA9PT0gJ2Nzc0Zsb2F0JylcbiAgICAgICAgICA/ICh0eXBlb2YgZWxlbWVudFN0eWxlLnN0eWxlRmxvYXQgPT09ICd1bmRlZmluZWQnID8gJ2Nzc0Zsb2F0JyA6ICdzdHlsZUZsb2F0JylcbiAgICAgICAgICA6IHByb3BlcnR5O1xuICAgICAgICBlbGVtZW50U3R5bGUuc2V0UHJvcGVydHkobm9ybWFsaXplZFByb3BlcnR5LCBzdHlsZXNbcHJvcGVydHldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICB2YXIgcGFyc2VFbCA9IGZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHN1cHBvcnRzT3BhY2l0eSA9IHR5cGVvZiBwYXJzZUVsLnN0eWxlLm9wYWNpdHkgPT09ICdzdHJpbmcnLFxuICAgICAgc3VwcG9ydHNGaWx0ZXJzID0gdHlwZW9mIHBhcnNlRWwuc3R5bGUuZmlsdGVyID09PSAnc3RyaW5nJyxcbiAgICAgIHJlT3BhY2l0eSA9IC9hbHBoYVxccypcXChcXHMqb3BhY2l0eVxccyo9XFxzKihbXlxcKV0rKVxcKS8sXG5cbiAgICAgIC8qKiBAaWdub3JlICovXG4gICAgICBzZXRPcGFjaXR5ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQ7IH07XG5cbiAgaWYgKHN1cHBvcnRzT3BhY2l0eSkge1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gIH1cbiAgZWxzZSBpZiAoc3VwcG9ydHNGaWx0ZXJzKSB7XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBzZXRPcGFjaXR5ID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICAgIHZhciBlcyA9IGVsZW1lbnQuc3R5bGU7XG4gICAgICBpZiAoZWxlbWVudC5jdXJyZW50U3R5bGUgJiYgIWVsZW1lbnQuY3VycmVudFN0eWxlLmhhc0xheW91dCkge1xuICAgICAgICBlcy56b29tID0gMTtcbiAgICAgIH1cbiAgICAgIGlmIChyZU9wYWNpdHkudGVzdChlcy5maWx0ZXIpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPj0gMC45OTk5ID8gJycgOiAoJ2FscGhhKG9wYWNpdHk9JyArICh2YWx1ZSAqIDEwMCkgKyAnKScpO1xuICAgICAgICBlcy5maWx0ZXIgPSBlcy5maWx0ZXIucmVwbGFjZShyZU9wYWNpdHksIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBlcy5maWx0ZXIgKz0gJyBhbHBoYShvcGFjaXR5PScgKyAodmFsdWUgKiAxMDApICsgJyknO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLnNldFN0eWxlID0gc2V0U3R5bGU7XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBfc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLyoqXG4gICAqIFRha2VzIGlkIGFuZCByZXR1cm5zIGFuIGVsZW1lbnQgd2l0aCB0aGF0IGlkIChpZiBvbmUgZXhpc3RzIGluIGEgZG9jdW1lbnQpXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudH0gaWRcbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlkID09PSAnc3RyaW5nJyA/IGZhYnJpYy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgOiBpZDtcbiAgfVxuXG4gIHZhciBzbGljZUNhbkNvbnZlcnROb2RlbGlzdHMsXG4gICAgICAvKipcbiAgICAgICAqIENvbnZlcnRzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IChlLmcuIGFyZ3VtZW50cyBvciBOb2RlTGlzdCkgdG8gYW4gYXJyYXlcbiAgICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGFycmF5TGlrZVxuICAgICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICAgKi9cbiAgICAgIHRvQXJyYXkgPSBmdW5jdGlvbihhcnJheUxpa2UpIHtcbiAgICAgICAgcmV0dXJuIF9zbGljZS5jYWxsKGFycmF5TGlrZSwgMCk7XG4gICAgICB9O1xuXG4gIHRyeSB7XG4gICAgc2xpY2VDYW5Db252ZXJ0Tm9kZWxpc3RzID0gdG9BcnJheShmYWJyaWMuZG9jdW1lbnQuY2hpbGROb2RlcykgaW5zdGFuY2VvZiBBcnJheTtcbiAgfVxuICBjYXRjaCAoZXJyKSB7IH1cblxuICBpZiAoIXNsaWNlQ2FuQ29udmVydE5vZGVsaXN0cykge1xuICAgIHRvQXJyYXkgPSBmdW5jdGlvbihhcnJheUxpa2UpIHtcbiAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoYXJyYXlMaWtlLmxlbmd0aCksIGkgPSBhcnJheUxpa2UubGVuZ3RoO1xuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBhcnJbaV0gPSBhcnJheUxpa2VbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBzcGVjaWZpZWQgZWxlbWVudCB3aXRoIHNwZWNpZmllZCBhdHRyaWJ1dGVzXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGFnTmFtZSBUeXBlIG9mIGFuIGVsZW1lbnQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbYXR0cmlidXRlc10gQXR0cmlidXRlcyB0byBzZXQgb24gYW4gZWxlbWVudFxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gTmV3bHkgY3JlYXRlZCBlbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBtYWtlRWxlbWVudCh0YWdOYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgdmFyIGVsID0gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAocHJvcCA9PT0gJ2NsYXNzJykge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSBhdHRyaWJ1dGVzW3Byb3BdO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2ZvcicpIHtcbiAgICAgICAgZWwuaHRtbEZvciA9IGF0dHJpYnV0ZXNbcHJvcF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKHByb3AsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBjbGFzcyB0byBhbiBlbGVtZW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gYWRkIGNsYXNzIHRvXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWUgQ2xhc3MgdG8gYWRkIHRvIGFuIGVsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50ICYmICgnICcgKyBlbGVtZW50LmNsYXNzTmFtZSArICcgJykuaW5kZXhPZignICcgKyBjbGFzc05hbWUgKyAnICcpID09PSAtMSkge1xuICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gKGVsZW1lbnQuY2xhc3NOYW1lID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcyBlbGVtZW50IHdpdGggYW5vdGhlciBlbGVtZW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gd3JhcFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fFN0cmluZ30gd3JhcHBlciBFbGVtZW50IHRvIHdyYXAgd2l0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJpYnV0ZXNdIEF0dHJpYnV0ZXMgdG8gc2V0IG9uIGEgd3JhcHBlclxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gd3JhcHBlclxuICAgKi9cbiAgZnVuY3Rpb24gd3JhcEVsZW1lbnQoZWxlbWVudCwgd3JhcHBlciwgYXR0cmlidXRlcykge1xuICAgIGlmICh0eXBlb2Ygd3JhcHBlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHdyYXBwZXIgPSBtYWtlRWxlbWVudCh3cmFwcGVyLCBhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBlbGVtZW50KTtcbiAgICB9XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGVsZW1lbnQgc2Nyb2xsIG9mZnNldHNcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBvcGVyYXRlIG9uXG4gICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbGVmdC90b3AgdmFsdWVzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTY3JvbGxMZWZ0VG9wKGVsZW1lbnQpIHtcblxuICAgIHZhciBsZWZ0ID0gMCxcbiAgICAgICAgdG9wID0gMCxcbiAgICAgICAgZG9jRWxlbWVudCA9IGZhYnJpYy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgIGJvZHkgPSBmYWJyaWMuZG9jdW1lbnQuYm9keSB8fCB7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogMCwgc2Nyb2xsVG9wOiAwXG4gICAgICAgIH07XG5cbiAgICAvLyBXaGlsZSBsb29wIGNoZWNrcyAoYW5kIHRoZW4gc2V0cyBlbGVtZW50IHRvKSAucGFyZW50Tm9kZSBPUiAuaG9zdFxuICAgIC8vICB0byBhY2NvdW50IGZvciBTaGFkb3dET00uIFdlIHN0aWxsIHdhbnQgdG8gdHJhdmVyc2UgdXAgb3V0IG9mIFNoYWRvd0RPTSxcbiAgICAvLyAgYnV0IHRoZSAucGFyZW50Tm9kZSBvZiBhIHJvb3QgU2hhZG93RE9NIG5vZGUgd2lsbCBhbHdheXMgYmUgbnVsbCwgaW5zdGVhZFxuICAgIC8vICBpdCBzaG91bGQgYmUgYWNjZXNzZWQgdGhyb3VnaCAuaG9zdC4gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI0NzY1NTI4LzQzODM5MzhcbiAgICB3aGlsZSAoZWxlbWVudCAmJiAoZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdCkpIHtcblxuICAgICAgLy8gU2V0IGVsZW1lbnQgdG8gZWxlbWVudCBwYXJlbnQsIG9yICdob3N0JyBpbiBjYXNlIG9mIFNoYWRvd0RPTVxuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50Lmhvc3Q7XG5cbiAgICAgIGlmIChlbGVtZW50ID09PSBmYWJyaWMuZG9jdW1lbnQpIHtcbiAgICAgICAgbGVmdCA9IGJvZHkuc2Nyb2xsTGVmdCB8fCBkb2NFbGVtZW50LnNjcm9sbExlZnQgfHwgMDtcbiAgICAgICAgdG9wID0gYm9keS5zY3JvbGxUb3AgfHwgIGRvY0VsZW1lbnQuc2Nyb2xsVG9wIHx8IDA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbGVmdCArPSBlbGVtZW50LnNjcm9sbExlZnQgfHwgMDtcbiAgICAgICAgdG9wICs9IGVsZW1lbnQuc2Nyb2xsVG9wIHx8IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSAxICYmIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgbGVmdDogbGVmdCwgdG9wOiB0b3AgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG9mZnNldCBmb3IgYSBnaXZlbiBlbGVtZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIGdldCBvZmZzZXQgZm9yXG4gICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggXCJsZWZ0XCIgYW5kIFwidG9wXCIgcHJvcGVydGllc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KSB7XG4gICAgdmFyIGRvY0VsZW0sXG4gICAgICAgIGRvYyA9IGVsZW1lbnQgJiYgZWxlbWVudC5vd25lckRvY3VtZW50LFxuICAgICAgICBib3ggPSB7IGxlZnQ6IDAsIHRvcDogMCB9LFxuICAgICAgICBvZmZzZXQgPSB7IGxlZnQ6IDAsIHRvcDogMCB9LFxuICAgICAgICBzY3JvbGxMZWZ0VG9wLFxuICAgICAgICBvZmZzZXRBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgIGJvcmRlckxlZnRXaWR0aDogJ2xlZnQnLFxuICAgICAgICAgIGJvcmRlclRvcFdpZHRoOiAgJ3RvcCcsXG4gICAgICAgICAgcGFkZGluZ0xlZnQ6ICAgICAnbGVmdCcsXG4gICAgICAgICAgcGFkZGluZ1RvcDogICAgICAndG9wJ1xuICAgICAgICB9O1xuXG4gICAgaWYgKCFkb2MpIHtcbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYXR0ciBpbiBvZmZzZXRBdHRyaWJ1dGVzKSB7XG4gICAgICBvZmZzZXRbb2Zmc2V0QXR0cmlidXRlc1thdHRyXV0gKz0gcGFyc2VJbnQoZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsIGF0dHIpLCAxMCkgfHwgMDtcbiAgICB9XG5cbiAgICBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICBpZiAoIHR5cGVvZiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBib3ggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cblxuICAgIHNjcm9sbExlZnRUb3AgPSBnZXRTY3JvbGxMZWZ0VG9wKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdFRvcC5sZWZ0IC0gKGRvY0VsZW0uY2xpZW50TGVmdCB8fCAwKSArIG9mZnNldC5sZWZ0LFxuICAgICAgdG9wOiBib3gudG9wICsgc2Nyb2xsTGVmdFRvcC50b3AgLSAoZG9jRWxlbS5jbGllbnRUb3AgfHwgMCkgICsgb2Zmc2V0LnRvcFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBzdHlsZSBhdHRyaWJ1dGUgdmFsdWUgb2YgYSBnaXZlbiBlbGVtZW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gZ2V0IHN0eWxlIGF0dHJpYnV0ZSBmb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgU3R5bGUgYXR0cmlidXRlIHRvIGdldCBmb3IgZWxlbWVudFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFN0eWxlIGF0dHJpYnV0ZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICovXG4gIHZhciBnZXRFbGVtZW50U3R5bGU7XG4gIGlmIChmYWJyaWMuZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZmFicmljLmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICBnZXRFbGVtZW50U3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgc3R5bGUgPSBmYWJyaWMuZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgICAgIHJldHVybiBzdHlsZSA/IHN0eWxlW2F0dHJdIDogdW5kZWZpbmVkO1xuICAgIH07XG4gIH1cbiAgZWxzZSB7XG4gICAgZ2V0RWxlbWVudFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5zdHlsZVthdHRyXTtcbiAgICAgIGlmICghdmFsdWUgJiYgZWxlbWVudC5jdXJyZW50U3R5bGUpIHtcbiAgICAgICAgdmFsdWUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZVthdHRyXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3R5bGUgPSBmYWJyaWMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLFxuICAgICAgICBzZWxlY3RQcm9wID0gJ3VzZXJTZWxlY3QnIGluIHN0eWxlXG4gICAgICAgICAgPyAndXNlclNlbGVjdCdcbiAgICAgICAgICA6ICdNb3pVc2VyU2VsZWN0JyBpbiBzdHlsZVxuICAgICAgICAgICAgPyAnTW96VXNlclNlbGVjdCdcbiAgICAgICAgICAgIDogJ1dlYmtpdFVzZXJTZWxlY3QnIGluIHN0eWxlXG4gICAgICAgICAgICAgID8gJ1dlYmtpdFVzZXJTZWxlY3QnXG4gICAgICAgICAgICAgIDogJ0todG1sVXNlclNlbGVjdCcgaW4gc3R5bGVcbiAgICAgICAgICAgICAgICA/ICdLaHRtbFVzZXJTZWxlY3QnXG4gICAgICAgICAgICAgICAgOiAnJztcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGVsZW1lbnQgdW5zZWxlY3RhYmxlXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIG1ha2UgdW5zZWxlY3RhYmxlXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IEVsZW1lbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFrZUVsZW1lbnRVbnNlbGVjdGFibGUoZWxlbWVudCkge1xuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm9uc2VsZWN0c3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVsZW1lbnQub25zZWxlY3RzdGFydCA9IGZhYnJpYy51dGlsLmZhbHNlRnVuY3Rpb247XG4gICAgICB9XG4gICAgICBpZiAoc2VsZWN0UHJvcCkge1xuICAgICAgICBlbGVtZW50LnN0eWxlW3NlbGVjdFByb3BdID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudW5zZWxlY3RhYmxlID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbGVtZW50LnVuc2VsZWN0YWJsZSA9ICdvbic7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBlbGVtZW50IHNlbGVjdGFibGVcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gbWFrZSBzZWxlY3RhYmxlXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IEVsZW1lbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFrZUVsZW1lbnRTZWxlY3RhYmxlKGVsZW1lbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5vbnNlbGVjdHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbGVtZW50Lm9uc2VsZWN0c3RhcnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdFByb3ApIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZVtzZWxlY3RQcm9wXSA9ICcnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudW5zZWxlY3RhYmxlID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbGVtZW50LnVuc2VsZWN0YWJsZSA9ICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZmFicmljLnV0aWwubWFrZUVsZW1lbnRVbnNlbGVjdGFibGUgPSBtYWtlRWxlbWVudFVuc2VsZWN0YWJsZTtcbiAgICBmYWJyaWMudXRpbC5tYWtlRWxlbWVudFNlbGVjdGFibGUgPSBtYWtlRWxlbWVudFNlbGVjdGFibGU7XG4gIH0pKCk7XG5cbiAgZnVuY3Rpb24gZ2V0Tm9kZUNhbnZhcyhlbGVtZW50KSB7XG4gICAgdmFyIGltcGwgPSBmYWJyaWMuanNkb21JbXBsRm9yV3JhcHBlcihlbGVtZW50KTtcbiAgICByZXR1cm4gaW1wbC5fY2FudmFzIHx8IGltcGwuX2ltYWdlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNsZWFuVXBKc2RvbU5vZGUoZWxlbWVudCkge1xuICAgIGlmICghZmFicmljLmlzTGlrZWx5Tm9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaW1wbCA9IGZhYnJpYy5qc2RvbUltcGxGb3JXcmFwcGVyKGVsZW1lbnQpO1xuICAgIGlmIChpbXBsKSB7XG4gICAgICBpbXBsLl9pbWFnZSA9IG51bGw7XG4gICAgICBpbXBsLl9jYW52YXMgPSBudWxsO1xuICAgICAgLy8gdW5zdXJlIGlmIG5lY2Vzc2FyeVxuICAgICAgaW1wbC5fY3VycmVudFNyYyA9IG51bGw7XG4gICAgICBpbXBsLl9hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgIGltcGwuX2NsYXNzTGlzdCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW1hZ2VTbW9vdGhpbmcoY3R4LCB2YWx1ZSkge1xuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkIHx8IGN0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWRcbiAgICAgIHx8IGN0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgfHwgY3R4Lm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIHx8IGN0eC5vSW1hZ2VTbW9vdGhpbmdFbmFibGVkO1xuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXRJbWFnZVNtb290aGluZyBzZXRzIHRoZSBjb250ZXh0IGltYWdlU21vb3RoaW5nRW5hYmxlZCBwcm9wZXJ0eS5cbiAgICogVXNlZCBieSBjYW52YXMgYW5kIGJ5IEltYWdlT2JqZWN0LlxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHNpbmNlIDQuMC4wXG4gICAqIEBwYXJhbSB7SFRNTFJlbmRlcmluZ0NvbnRleHQyRH0gY3R4IHRvIHNldCBvblxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZhbHVlIHRydWUgb3IgZmFsc2VcbiAgICovXG4gIGZhYnJpYy51dGlsLnNldEltYWdlU21vb3RoaW5nID0gc2V0SW1hZ2VTbW9vdGhpbmc7XG4gIGZhYnJpYy51dGlsLmdldEJ5SWQgPSBnZXRCeUlkO1xuICBmYWJyaWMudXRpbC50b0FycmF5ID0gdG9BcnJheTtcbiAgZmFicmljLnV0aWwuYWRkQ2xhc3MgPSBhZGRDbGFzcztcbiAgZmFicmljLnV0aWwubWFrZUVsZW1lbnQgPSBtYWtlRWxlbWVudDtcbiAgZmFicmljLnV0aWwud3JhcEVsZW1lbnQgPSB3cmFwRWxlbWVudDtcbiAgZmFicmljLnV0aWwuZ2V0U2Nyb2xsTGVmdFRvcCA9IGdldFNjcm9sbExlZnRUb3A7XG4gIGZhYnJpYy51dGlsLmdldEVsZW1lbnRPZmZzZXQgPSBnZXRFbGVtZW50T2Zmc2V0O1xuICBmYWJyaWMudXRpbC5nZXROb2RlQ2FudmFzID0gZ2V0Tm9kZUNhbnZhcztcbiAgZmFicmljLnV0aWwuY2xlYW5VcEpzZG9tTm9kZSA9IGNsZWFuVXBKc2RvbU5vZGU7XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGFkZFBhcmFtVG9VcmwodXJsLCBwYXJhbSkge1xuICAgIHJldHVybiB1cmwgKyAoL1xcPy8udGVzdCh1cmwpID8gJyYnIDogJz8nKSArIHBhcmFtO1xuICB9XG5cbiAgZnVuY3Rpb24gZW1wdHlGbigpIHsgfVxuXG4gIC8qKlxuICAgKiBDcm9zcy1icm93c2VyIGFic3RyYWN0aW9uIGZvciBzZW5kaW5nIFhNTEh0dHBSZXF1ZXN0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFVSTCB0byBzZW5kIFhNTEh0dHBSZXF1ZXN0IHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZD1cIkdFVFwiXVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1ldGVyc10gcGFyYW1ldGVycyB0byBhcHBlbmQgdG8gdXJsIGluIEdFVCBvciBpbiBib2R5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5ib2R5XSBib2R5IHRvIHNlbmQgd2l0aCBQT1NUIG9yIFBVVCByZXF1ZXN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMub25Db21wbGV0ZSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiByZXF1ZXN0IGlzIGNvbXBsZXRlZFxuICAgKiBAcmV0dXJuIHtYTUxIdHRwUmVxdWVzdH0gcmVxdWVzdFxuICAgKi9cbiAgZnVuY3Rpb24gcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgIHZhciBtZXRob2QgPSBvcHRpb25zLm1ldGhvZCA/IG9wdGlvbnMubWV0aG9kLnRvVXBwZXJDYXNlKCkgOiAnR0VUJyxcbiAgICAgICAgb25Db21wbGV0ZSA9IG9wdGlvbnMub25Db21wbGV0ZSB8fCBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgeGhyID0gbmV3IGZhYnJpYy53aW5kb3cuWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgYm9keSA9IG9wdGlvbnMuYm9keSB8fCBvcHRpb25zLnBhcmFtZXRlcnM7XG5cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICBvbkNvbXBsZXRlKHhocik7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBlbXB0eUZuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgYm9keSA9IG51bGw7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGFyYW1ldGVycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXJsID0gYWRkUGFyYW1Ub1VybCh1cmwsIG9wdGlvbnMucGFyYW1ldGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuXG4gICAgaWYgKG1ldGhvZCA9PT0gJ1BPU1QnIHx8IG1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgfVxuXG4gICAgeGhyLnNlbmQoYm9keSk7XG4gICAgcmV0dXJuIHhocjtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLnJlcXVlc3QgPSByZXF1ZXN0O1xufSkoKTtcblxuXG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIGBjb25zb2xlLmxvZ2AgKHdoZW4gYXZhaWxhYmxlKVxuICogQHBhcmFtIHsqfSBbdmFsdWVzXSBWYWx1ZXMgdG8gbG9nXG4gKi9cbmZhYnJpYy5sb2cgPSBjb25zb2xlLmxvZztcblxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBgY29uc29sZS53YXJuYCAod2hlbiBhdmFpbGFibGUpXG4gKiBAcGFyYW0geyp9IFt2YWx1ZXNdIFZhbHVlcyB0byBsb2cgYXMgYSB3YXJuaW5nXG4gKi9cbmZhYnJpYy53YXJuID0gY29uc29sZS53YXJuO1xuXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZTtcblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uT3B0aW9uc1xuICAgKiBBbmltYXRpb24gb2YgYSB2YWx1ZSBvciBsaXN0IG9mIHZhbHVlcy5cbiAgICogV2hlbiB1c2luZyBsaXN0cywgdGhpbmsgb2Ygc29tZXRoaW5nIGxpa2UgdGhpczpcbiAgICogZmFicmljLnV0aWwuYW5pbWF0ZSh7XG4gICAqICAgc3RhcnRWYWx1ZTogWzEsIDIsIDNdLFxuICAgKiAgIGVuZFZhbHVlOiBbMiwgNCwgNl0sXG4gICAqICAgb25DaGFuZ2U6IGZ1bmN0aW9uKFthLCBiLCBjXSkge1xuICAgKiAgICAgY2FudmFzLnpvb21Ub1BvaW50KHt4OiBiLCB5OiBjfSwgYSlcbiAgICogICAgIGNhbnZhcy5yZW5kZXJBbGwoKVxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIEBleGFtcGxlXG4gICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFtvbkNoYW5nZV0gQ2FsbGJhY2s7IGludm9rZWQgb24gZXZlcnkgdmFsdWUgY2hhbmdlXG4gICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBDYWxsYmFjazsgaW52b2tlZCB3aGVuIHZhbHVlIGNoYW5nZSBpcyBjb21wbGV0ZWRcbiAgICogQGV4YW1wbGVcbiAgICogLy8gTm90ZTogc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGFuZCBieVZhbHVlIG11c3QgbWF0Y2ggdGhlIHR5cGVcbiAgICogdmFyIGFuaW1hdGlvbk9wdGlvbnMgPSB7IHN0YXJ0VmFsdWU6IDAsIGVuZFZhbHVlOiAxLCBieVZhbHVlOiAwLjI1IH1cbiAgICogdmFyIGFuaW1hdGlvbk9wdGlvbnMgPSB7IHN0YXJ0VmFsdWU6IFswLCAxXSwgZW5kVmFsdWU6IFsxLCAyXSwgYnlWYWx1ZTogWzAuMjUsIDAuMjVdIH1cbiAgICogQHByb3BlcnR5IHtudW1iZXIgfCBudW1iZXJbXX0gW3N0YXJ0VmFsdWU9MF0gU3RhcnRpbmcgdmFsdWVcbiAgICogQHByb3BlcnR5IHtudW1iZXIgfCBudW1iZXJbXX0gW2VuZFZhbHVlPTEwMF0gRW5kaW5nIHZhbHVlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyIHwgbnVtYmVyW119IFtieVZhbHVlPTEwMF0gVmFsdWUgdG8gbW9kaWZ5IHRoZSBwcm9wZXJ0eSBieVxuICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbZWFzaW5nXSBFYXNpbmcgZnVuY3Rpb25cbiAgICogQHByb3BlcnR5IHtOdW1iZXJ9IFtkdXJhdGlvbj01MDBdIER1cmF0aW9uIG9mIGNoYW5nZSAoaW4gbXMpXG4gICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFthYm9ydF0gQWRkaXRpb25hbCBmdW5jdGlvbiB3aXRoIGxvZ2ljLiBJZiByZXR1cm5zIHRydWUsIGFuaW1hdGlvbiBhYm9ydHMuXG4gICAqXG4gICAqIEB0eXBlZGVmIHsoKSA9PiB2b2lkfSBDYW5jZWxGdW5jdGlvblxuICAgKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25DdXJyZW50U3RhdGVcbiAgICogQHByb3BlcnR5IHtudW1iZXIgfCBudW1iZXJbXX0gY3VycmVudFZhbHVlIHZhbHVlIGluIHJhbmdlIFtgc3RhcnRWYWx1ZWAsIGBlbmRWYWx1ZWBdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb21wbGV0aW9uUmF0ZSB2YWx1ZSBpbiByYW5nZSBbMCwgMV1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uUmF0ZSB2YWx1ZSBpbiByYW5nZSBbMCwgMV1cbiAgICpcbiAgICogQHR5cGVkZWYgeyhBbmltYXRpb25PcHRpb25zICYgQW5pbWF0aW9uQ3VycmVudFN0YXRlICYgeyBjYW5jZWw6IENhbmNlbEZ1bmN0aW9uIH19IEFuaW1hdGlvbkNvbnRleHRcbiAgICovXG5cbiAgLyoqXG4gICAqIEFycmF5IGhvbGRpbmcgYWxsIHJ1bm5pbmcgYW5pbWF0aW9uc1xuICAgKiBAbWVtYmVyb2YgZmFicmljXG4gICAqIEB0eXBlIHtBbmltYXRpb25Db250ZXh0W119XG4gICAqL1xuICB2YXIgUlVOTklOR19BTklNQVRJT05TID0gW107XG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoUlVOTklOR19BTklNQVRJT05TLCB7XG5cbiAgICAvKipcbiAgICAgKiBjYW5jZWwgYWxsIHJ1bm5pbmcgYW5pbWF0aW9ucyBhdCB0aGUgbmV4dCByZXF1ZXN0QW5pbUZyYW1lXG4gICAgICogQHJldHVybnMge0FuaW1hdGlvbkNvbnRleHRbXX1cbiAgICAgKi9cbiAgICBjYW5jZWxBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5zcGxpY2UoMCk7XG4gICAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGlvbikge1xuICAgICAgICBhbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbmltYXRpb25zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYW5jZWwgYWxsIHJ1bm5pbmcgYW5pbWF0aW9ucyBhdHRhY2hlZCB0byBjYW52YXMgYXQgdGhlIG5leHQgcmVxdWVzdEFuaW1GcmFtZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLkNhbnZhc30gY2FudmFzXG4gICAgICogQHJldHVybnMge0FuaW1hdGlvbkNvbnRleHRbXX1cbiAgICAgKi9cbiAgICBjYW5jZWxCeUNhbnZhczogZnVuY3Rpb24gKGNhbnZhcykge1xuICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGNhbmNlbGxlZCA9IHRoaXMuZmlsdGVyKGZ1bmN0aW9uIChhbmltYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBhbmltYXRpb24udGFyZ2V0ID09PSAnb2JqZWN0JyAmJiBhbmltYXRpb24udGFyZ2V0LmNhbnZhcyA9PT0gY2FudmFzO1xuICAgICAgfSk7XG4gICAgICBjYW5jZWxsZWQuZm9yRWFjaChmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIGFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhbmNlbGxlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FuY2VsIGFsbCBydW5uaW5nIGFuaW1hdGlvbnMgZm9yIHRhcmdldCBhdCB0aGUgbmV4dCByZXF1ZXN0QW5pbUZyYW1lXG4gICAgICogQHBhcmFtIHsqfSB0YXJnZXRcbiAgICAgKiBAcmV0dXJucyB7QW5pbWF0aW9uQ29udGV4dFtdfVxuICAgICAqL1xuICAgIGNhbmNlbEJ5VGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB2YXIgY2FuY2VsbGVkID0gdGhpcy5maW5kQW5pbWF0aW9uc0J5VGFyZ2V0KHRhcmdldCk7XG4gICAgICBjYW5jZWxsZWQuZm9yRWFjaChmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIGFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhbmNlbGxlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NhbmNlbEZ1bmN0aW9ufSBjYW5jZWxGdW5jIHRoZSBmdW5jdGlvbiByZXR1cm5lZCBieSBhbmltYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBmaW5kQW5pbWF0aW9uSW5kZXg6IGZ1bmN0aW9uIChjYW5jZWxGdW5jKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHRoaXMuZmluZEFuaW1hdGlvbihjYW5jZWxGdW5jKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW5jZWxGdW5jdGlvbn0gY2FuY2VsRnVuYyB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgYnkgYW5pbWF0ZVxuICAgICAqIEByZXR1cm5zIHtBbmltYXRpb25Db250ZXh0IHwgdW5kZWZpbmVkfSBhbmltYXRpb24ncyBvcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIGZpbmRBbmltYXRpb246IGZ1bmN0aW9uIChjYW5jZWxGdW5jKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kKGZ1bmN0aW9uIChhbmltYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbi5jYW5jZWwgPT09IGNhbmNlbEZ1bmM7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHRhcmdldCB0aGUgb2JqZWN0IHRoYXQgaXMgYXNzaWduZWQgdG8gdGhlIHRhcmdldCBwcm9wZXJ0eSBvZiB0aGUgYW5pbWF0aW9uIGNvbnRleHRcbiAgICAgKiBAcmV0dXJucyB7QW5pbWF0aW9uQ29udGV4dFtdfSBhcnJheSBvZiBhbmltYXRpb24gb3B0aW9ucyBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRhcmdldFxuICAgICAqL1xuICAgIGZpbmRBbmltYXRpb25zQnlUYXJnZXQ6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb24udGFyZ2V0ID09PSB0YXJnZXQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdEVhc2luZyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgdmFsdWUgZnJvbSBvbmUgdG8gYW5vdGhlciB3aXRoaW4gY2VydGFpbiBwZXJpb2Qgb2YgdGltZSwgaW52b2tpbmcgY2FsbGJhY2tzIGFzIHZhbHVlIGlzIGJlaW5nIGNoYW5nZWQuXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbk9wdGlvbnN9IFtvcHRpb25zXSBBbmltYXRpb24gb3B0aW9uc1xuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBOb3RlOiBzdGFydFZhbHVlLCBlbmRWYWx1ZSwgYW5kIGJ5VmFsdWUgbXVzdCBtYXRjaCB0aGUgdHlwZVxuICAgKiBmYWJyaWMudXRpbC5hbmltYXRlKHsgc3RhcnRWYWx1ZTogMCwgZW5kVmFsdWU6IDEsIGJ5VmFsdWU6IDAuMjUgfSlcbiAgICogZmFicmljLnV0aWwuYW5pbWF0ZSh7IHN0YXJ0VmFsdWU6IFswLCAxXSwgZW5kVmFsdWU6IFsxLCAyXSwgYnlWYWx1ZTogWzAuMjUsIDAuMjVdIH0pXG4gICAqIEByZXR1cm5zIHtDYW5jZWxGdW5jdGlvbn0gY2FuY2VsIGZ1bmN0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhbmltYXRlKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgIHZhciBjYW5jZWwgPSBmYWxzZSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcmVtb3ZlRnJvbVJlZ2lzdHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBpbmRleCA9IGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucy5pbmRleE9mKGNvbnRleHQpO1xuICAgICAgICAgIHJldHVybiBpbmRleCA+IC0xICYmIGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucy5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgICAgICB9O1xuXG4gICAgY29udGV4dCA9IGV4dGVuZChjbG9uZShvcHRpb25zKSwge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbmNlbCA9IHRydWU7XG4gICAgICAgIHJldHVybiByZW1vdmVGcm9tUmVnaXN0cnkoKTtcbiAgICAgIH0sXG4gICAgICBjdXJyZW50VmFsdWU6ICdzdGFydFZhbHVlJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGFydFZhbHVlIDogMCxcbiAgICAgIGNvbXBsZXRpb25SYXRlOiAwLFxuICAgICAgZHVyYXRpb25SYXRlOiAwXG4gICAgfSk7XG4gICAgZmFicmljLnJ1bm5pbmdBbmltYXRpb25zLnB1c2goY29udGV4dCk7XG5cbiAgICByZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKHRpbWVzdGFtcCkge1xuICAgICAgdmFyIHN0YXJ0ID0gdGltZXN0YW1wIHx8ICtuZXcgRGF0ZSgpLFxuICAgICAgICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiB8fCA1MDAsXG4gICAgICAgICAgZmluaXNoID0gc3RhcnQgKyBkdXJhdGlvbiwgdGltZSxcbiAgICAgICAgICBvbkNoYW5nZSA9IG9wdGlvbnMub25DaGFuZ2UgfHwgbm9vcCxcbiAgICAgICAgICBhYm9ydCA9IG9wdGlvbnMuYWJvcnQgfHwgbm9vcCxcbiAgICAgICAgICBvbkNvbXBsZXRlID0gb3B0aW9ucy5vbkNvbXBsZXRlIHx8IG5vb3AsXG4gICAgICAgICAgZWFzaW5nID0gb3B0aW9ucy5lYXNpbmcgfHwgZGVmYXVsdEVhc2luZyxcbiAgICAgICAgICBpc01hbnkgPSAnc3RhcnRWYWx1ZScgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhcnRWYWx1ZS5sZW5ndGggPiAwIDogZmFsc2UsXG4gICAgICAgICAgc3RhcnRWYWx1ZSA9ICdzdGFydFZhbHVlJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGFydFZhbHVlIDogMCxcbiAgICAgICAgICBlbmRWYWx1ZSA9ICdlbmRWYWx1ZScgaW4gb3B0aW9ucyA/IG9wdGlvbnMuZW5kVmFsdWUgOiAxMDAsXG4gICAgICAgICAgYnlWYWx1ZSA9IG9wdGlvbnMuYnlWYWx1ZSB8fCAoaXNNYW55ID8gc3RhcnRWYWx1ZS5tYXAoZnVuY3Rpb24odmFsdWUsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZVtpXSAtIHN0YXJ0VmFsdWVbaV07XG4gICAgICAgICAgfSkgOiBlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuXG4gICAgICBvcHRpb25zLm9uU3RhcnQgJiYgb3B0aW9ucy5vblN0YXJ0KCk7XG5cbiAgICAgIChmdW5jdGlvbiB0aWNrKHRpY2t0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aWNrdGltZSB8fCArbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGltZSA+IGZpbmlzaCA/IGR1cmF0aW9uIDogKHRpbWUgLSBzdGFydCksXG4gICAgICAgICAgICB0aW1lUGVyYyA9IGN1cnJlbnRUaW1lIC8gZHVyYXRpb24sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXNNYW55ID8gc3RhcnRWYWx1ZS5tYXAoZnVuY3Rpb24oX3ZhbHVlLCBpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlYXNpbmcoY3VycmVudFRpbWUsIHN0YXJ0VmFsdWVbaV0sIGJ5VmFsdWVbaV0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pIDogZWFzaW5nKGN1cnJlbnRUaW1lLCBzdGFydFZhbHVlLCBieVZhbHVlLCBkdXJhdGlvbiksXG4gICAgICAgICAgICB2YWx1ZVBlcmMgPSBpc01hbnkgPyBNYXRoLmFicygoY3VycmVudFswXSAtIHN0YXJ0VmFsdWVbMF0pIC8gYnlWYWx1ZVswXSlcbiAgICAgICAgICAgICAgOiBNYXRoLmFicygoY3VycmVudCAtIHN0YXJ0VmFsdWUpIC8gYnlWYWx1ZSk7XG4gICAgICAgIC8vICB1cGRhdGUgY29udGV4dFxuICAgICAgICBjb250ZXh0LmN1cnJlbnRWYWx1ZSA9IGlzTWFueSA/IGN1cnJlbnQuc2xpY2UoKSA6IGN1cnJlbnQ7XG4gICAgICAgIGNvbnRleHQuY29tcGxldGlvblJhdGUgPSB2YWx1ZVBlcmM7XG4gICAgICAgIGNvbnRleHQuZHVyYXRpb25SYXRlID0gdGltZVBlcmM7XG4gICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFib3J0KGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpKSB7XG4gICAgICAgICAgcmVtb3ZlRnJvbVJlZ2lzdHJ5KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lID4gZmluaXNoKSB7XG4gICAgICAgICAgLy8gIHVwZGF0ZSBjb250ZXh0XG4gICAgICAgICAgY29udGV4dC5jdXJyZW50VmFsdWUgPSBpc01hbnkgPyBlbmRWYWx1ZS5zbGljZSgpIDogZW5kVmFsdWU7XG4gICAgICAgICAgY29udGV4dC5jb21wbGV0aW9uUmF0ZSA9IDE7XG4gICAgICAgICAgY29udGV4dC5kdXJhdGlvblJhdGUgPSAxO1xuICAgICAgICAgIC8vICBleGVjdXRlIGNhbGxiYWNrc1xuICAgICAgICAgIG9uQ2hhbmdlKGlzTWFueSA/IGVuZFZhbHVlLnNsaWNlKCkgOiBlbmRWYWx1ZSwgMSwgMSk7XG4gICAgICAgICAgb25Db21wbGV0ZShlbmRWYWx1ZSwgMSwgMSk7XG4gICAgICAgICAgcmVtb3ZlRnJvbVJlZ2lzdHJ5KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG9uQ2hhbmdlKGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpO1xuICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUodGljayk7XG4gICAgICAgIH1cbiAgICAgIH0pKHN0YXJ0KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjb250ZXh0LmNhbmNlbDtcbiAgfVxuXG4gIHZhciBfcmVxdWVzdEFuaW1GcmFtZSA9IGZhYnJpYy53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhYnJpYy53aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICB2YXIgX2NhbmNlbEFuaW1GcmFtZSA9IGZhYnJpYy53aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgZmFicmljLndpbmRvdy5jbGVhclRpbWVvdXQ7XG5cbiAgLyoqXG4gICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbCBiYXNlZCBvbiBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuICAgKiBJbiBvcmRlciB0byBnZXQgYSBwcmVjaXNlIHN0YXJ0IHRpbWUsIGByZXF1ZXN0QW5pbUZyYW1lYCBzaG91bGQgYmUgY2FsbGVkIGFzIGFuIGVudHJ5IGludG8gdGhlIG1ldGhvZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBvcHRpb25hbCBFbGVtZW50IHRvIGFzc29jaWF0ZSB3aXRoIGFuaW1hdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gcmVxdWVzdEFuaW1GcmFtZSgpIHtcbiAgICByZXR1cm4gX3JlcXVlc3RBbmltRnJhbWUuYXBwbHkoZmFicmljLndpbmRvdywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbEFuaW1GcmFtZSgpIHtcbiAgICByZXR1cm4gX2NhbmNlbEFuaW1GcmFtZS5hcHBseShmYWJyaWMud2luZG93LCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZmFicmljLnV0aWwuYW5pbWF0ZSA9IGFuaW1hdGU7XG4gIGZhYnJpYy51dGlsLnJlcXVlc3RBbmltRnJhbWUgPSByZXF1ZXN0QW5pbUZyYW1lO1xuICBmYWJyaWMudXRpbC5jYW5jZWxBbmltRnJhbWUgPSBjYW5jZWxBbmltRnJhbWU7XG4gIGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucyA9IFJVTk5JTkdfQU5JTUFUSU9OUztcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAvLyBDYWxjdWxhdGUgYW4gaW4tYmV0d2VlbiBjb2xvci4gUmV0dXJucyBhIFwicmdiYSgpXCIgc3RyaW5nLlxuICAvLyBDcmVkaXQ6IEVkd2luIE1hcnRpbiA8ZWR3aW5AYml0c3Rvcm0ub3JnPlxuICAvLyAgICAgICAgIGh0dHA6Ly93d3cuYml0c3Rvcm0ub3JnL2pxdWVyeS9jb2xvci1hbmltYXRpb24vanF1ZXJ5LmFuaW1hdGUtY29sb3JzLmpzXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUNvbG9yKGJlZ2luLCBlbmQsIHBvcykge1xuICAgIHZhciBjb2xvciA9ICdyZ2JhKCdcbiAgICAgICAgKyBwYXJzZUludCgoYmVnaW5bMF0gKyBwb3MgKiAoZW5kWzBdIC0gYmVnaW5bMF0pKSwgMTApICsgJywnXG4gICAgICAgICsgcGFyc2VJbnQoKGJlZ2luWzFdICsgcG9zICogKGVuZFsxXSAtIGJlZ2luWzFdKSksIDEwKSArICcsJ1xuICAgICAgICArIHBhcnNlSW50KChiZWdpblsyXSArIHBvcyAqIChlbmRbMl0gLSBiZWdpblsyXSkpLCAxMCk7XG5cbiAgICBjb2xvciArPSAnLCcgKyAoYmVnaW4gJiYgZW5kID8gcGFyc2VGbG9hdChiZWdpblszXSArIHBvcyAqIChlbmRbM10gLSBiZWdpblszXSkpIDogMSk7XG4gICAgY29sb3IgKz0gJyknO1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2VzIHRoZSBjb2xvciBmcm9tIG9uZSB0byBhbm90aGVyIHdpdGhpbiBjZXJ0YWluIHBlcmlvZCBvZiB0aW1lLCBpbnZva2luZyBjYWxsYmFja3MgYXMgdmFsdWUgaXMgYmVpbmcgY2hhbmdlZC5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tQ29sb3IgVGhlIHN0YXJ0aW5nIGNvbG9yIGluIGhleCBvciByZ2IoYSkgZm9ybWF0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdG9Db2xvciBUaGUgc3RhcnRpbmcgY29sb3IgaW4gaGV4IG9yIHJnYihhKSBmb3JtYXQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZHVyYXRpb25dIER1cmF0aW9uIG9mIGNoYW5nZSAoaW4gbXMpLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEFuaW1hdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uQ2hhbmdlXSBDYWxsYmFjazsgaW52b2tlZCBvbiBldmVyeSB2YWx1ZSBjaGFuZ2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25Db21wbGV0ZV0gQ2FsbGJhY2s7IGludm9rZWQgd2hlbiB2YWx1ZSBjaGFuZ2UgaXMgY29tcGxldGVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmNvbG9yRWFzaW5nXSBFYXNpbmcgZnVuY3Rpb24uIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIG9ubHkgdGFrZSB0d28gYXJndW1lbnRzIChjdXJyZW50VGltZSwgZHVyYXRpb24pLiBUaHVzIHRoZSByZWd1bGFyIGFuaW1hdGlvbiBlYXNpbmcgZnVuY3Rpb25zIGNhbm5vdCBiZSB1c2VkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5hYm9ydF0gQWRkaXRpb25hbCBmdW5jdGlvbiB3aXRoIGxvZ2ljLiBJZiByZXR1cm5zIHRydWUsIG9uQ29tcGxldGUgaXMgY2FsbGVkLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGFib3J0IGZ1bmN0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhbmltYXRlQ29sb3IoZnJvbUNvbG9yLCB0b0NvbG9yLCBkdXJhdGlvbiwgb3B0aW9ucykge1xuICAgIHZhciBzdGFydENvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihmcm9tQ29sb3IpLmdldFNvdXJjZSgpLFxuICAgICAgICBlbmRDb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IodG9Db2xvcikuZ2V0U291cmNlKCksXG4gICAgICAgIG9yaWdpbmFsT25Db21wbGV0ZSA9IG9wdGlvbnMub25Db21wbGV0ZSxcbiAgICAgICAgb3JpZ2luYWxPbkNoYW5nZSA9IG9wdGlvbnMub25DaGFuZ2U7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICByZXR1cm4gZmFicmljLnV0aWwuYW5pbWF0ZShmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiB8fCA1MDAsXG4gICAgICBzdGFydFZhbHVlOiBzdGFydENvbG9yLFxuICAgICAgZW5kVmFsdWU6IGVuZENvbG9yLFxuICAgICAgYnlWYWx1ZTogZW5kQ29sb3IsXG4gICAgICBlYXNpbmc6IGZ1bmN0aW9uIChjdXJyZW50VGltZSwgc3RhcnRWYWx1ZSwgYnlWYWx1ZSwgZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIHBvc1ZhbHVlID0gb3B0aW9ucy5jb2xvckVhc2luZ1xuICAgICAgICAgID8gb3B0aW9ucy5jb2xvckVhc2luZyhjdXJyZW50VGltZSwgZHVyYXRpb24pXG4gICAgICAgICAgOiAxIC0gTWF0aC5jb3MoY3VycmVudFRpbWUgLyBkdXJhdGlvbiAqIChNYXRoLlBJIC8gMikpO1xuICAgICAgICByZXR1cm4gY2FsY3VsYXRlQ29sb3Ioc3RhcnRWYWx1ZSwgYnlWYWx1ZSwgcG9zVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIC8vIGhhcyB0byB0YWtlIGluIGFjY291bnQgZm9yIGNvbG9yIHJlc3RvcmluZztcbiAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpIHtcbiAgICAgICAgaWYgKG9yaWdpbmFsT25Db21wbGV0ZSkge1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbE9uQ29tcGxldGUoXG4gICAgICAgICAgICBjYWxjdWxhdGVDb2xvcihlbmRDb2xvciwgZW5kQ29sb3IsIDApLFxuICAgICAgICAgICAgdmFsdWVQZXJjLFxuICAgICAgICAgICAgdGltZVBlcmNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpIHtcbiAgICAgICAgaWYgKG9yaWdpbmFsT25DaGFuZ2UpIHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsT25DaGFuZ2UoXG4gICAgICAgICAgICAgIGNhbGN1bGF0ZUNvbG9yKGN1cnJlbnQsIGN1cnJlbnQsIDApLFxuICAgICAgICAgICAgICB2YWx1ZVBlcmMsXG4gICAgICAgICAgICAgIHRpbWVQZXJjXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcmlnaW5hbE9uQ2hhbmdlKGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG5cbiAgZmFicmljLnV0aWwuYW5pbWF0ZUNvbG9yID0gYW5pbWF0ZUNvbG9yO1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBub3JtYWxpemUoYSwgYywgcCwgcykge1xuICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgIGEgPSBjO1xuICAgICAgcyA9IHAgLyA0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vaGFuZGxlIHRoZSAwLzAgY2FzZTpcbiAgICAgIGlmIChjID09PSAwICYmIGEgPT09IDApIHtcbiAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKDEpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGE6IGEsIGM6IGMsIHA6IHAsIHM6IHMgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVsYXN0aWMob3B0cywgdCwgZCkge1xuICAgIHJldHVybiBvcHRzLmEgKlxuICAgICAgTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKlxuICAgICAgTWF0aC5zaW4oICh0ICogZCAtIG9wdHMucykgKiAoMiAqIE1hdGguUEkpIC8gb3B0cy5wICk7XG4gIH1cblxuICAvKipcbiAgICogQ3ViaWMgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dEN1YmljKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdWJpYyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0Q3ViaWModCwgYiwgYywgZCkge1xuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWFydGljIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluUXVhcnQodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1YXJ0aWMgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dFF1YXJ0KHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1YXJ0aWMgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KHQsIGIsIGMsIGQpIHtcbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgfVxuICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVpbnRpYyBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJblF1aW50KHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVpbnRpYyBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0UXVpbnQodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVpbnRpYyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0UXVpbnQodCwgYiwgYywgZCkge1xuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgfVxuICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogU2ludXNvaWRhbCBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJblNpbmUodCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaW51c29pZGFsIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRTaW5lKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbnVzb2lkYWwgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dFNpbmUodCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvbmVudGlhbCBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbkV4cG8odCwgYiwgYywgZCkge1xuICAgIHJldHVybiAodCA9PT0gMCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQgLyBkIC0gMSkpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvbmVudGlhbCBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0RXhwbyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuICh0ID09PSBkKSA/IGIgKyBjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIGQpICsgMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9uZW50aWFsIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRFeHBvKHQsIGIsIGMsIGQpIHtcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIGlmICh0ID09PSBkKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIENpcmN1bGFyIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluQ2lyYyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaXJjdWxhciBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0Q2lyYyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaXJjdWxhciBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0Q2lyYyh0LCBiLCBjLCBkKSB7XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSArIGI7XG4gICAgfVxuICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogRWxhc3RpYyBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbkVsYXN0aWModCwgYiwgYywgZCkge1xuICAgIHZhciBzID0gMS43MDE1OCwgcCA9IDAsIGEgPSBjO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgdCAvPSBkO1xuICAgIGlmICh0ID09PSAxKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICghcCkge1xuICAgICAgcCA9IGQgKiAwLjM7XG4gICAgfVxuICAgIHZhciBvcHRzID0gbm9ybWFsaXplKGEsIGMsIHAsIHMpO1xuICAgIHJldHVybiAtZWxhc3RpYyhvcHRzLCB0LCBkKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogRWxhc3RpYyBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0RWxhc3RpYyh0LCBiLCBjLCBkKSB7XG4gICAgdmFyIHMgPSAxLjcwMTU4LCBwID0gMCwgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICB0IC89IGQ7XG4gICAgaWYgKHQgPT09IDEpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICBwID0gZCAqIDAuMztcbiAgICB9XG4gICAgdmFyIG9wdHMgPSBub3JtYWxpemUoYSwgYywgcCwgcyk7XG4gICAgcmV0dXJuIG9wdHMuYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gb3B0cy5zKSAqICgyICogTWF0aC5QSSkgLyBvcHRzLnAgKSArIG9wdHMuYyArIGI7XG4gIH1cblxuICAvKipcbiAgICogRWxhc3RpYyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0RWxhc3RpYyh0LCBiLCBjLCBkKSB7XG4gICAgdmFyIHMgPSAxLjcwMTU4LCBwID0gMCwgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0ID09PSAyKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICghcCkge1xuICAgICAgcCA9IGQgKiAoMC4zICogMS41KTtcbiAgICB9XG4gICAgdmFyIG9wdHMgPSBub3JtYWxpemUoYSwgYywgcCwgcyk7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gLTAuNSAqIGVsYXN0aWMob3B0cywgdCwgZCkgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gb3B0cy5hICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICpcbiAgICAgIE1hdGguc2luKCh0ICogZCAtIG9wdHMucykgKiAoMiAqIE1hdGguUEkpIC8gb3B0cy5wICkgKiAwLjUgKyBvcHRzLmMgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhY2t3YXJkcyBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbkJhY2sodCwgYiwgYywgZCwgcykge1xuICAgIGlmIChzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYWNrd2FyZHMgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dEJhY2sodCwgYiwgYywgZCwgcykge1xuICAgIGlmIChzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQmFja3dhcmRzIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRCYWNrKHQsIGIsIGMsIGQsIHMpIHtcbiAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqICh0ICogdCAqICgoKHMgKj0gKDEuNTI1KSkgKyAxKSAqIHQgLSBzKSkgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCArIHMpICsgMikgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEJvdW5jaW5nIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluQm91bmNlKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAtIGVhc2VPdXRCb3VuY2UgKGQgLSB0LCAwLCBjLCBkKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQm91bmNpbmcgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dEJvdW5jZSh0LCBiLCBjLCBkKSB7XG4gICAgaWYgKCh0IC89IGQpIDwgKDEgLyAyLjc1KSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcbiAgICB9XG4gICAgZWxzZSBpZiAodCA8ICgyIC8gMi43NSkpIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgxLjUgLyAyLjc1KSkgKiB0ICsgMC43NSkgKyBiO1xuICAgIH1cbiAgICBlbHNlIGlmICh0IDwgKDIuNSAvIDIuNzUpKSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi4yNSAvIDIuNzUpKSAqIHQgKyAwLjkzNzUpICsgYjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi42MjUgLyAyLjc1KSkgKiB0ICsgMC45ODQzNzUpICsgYjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQm91bmNpbmcgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dEJvdW5jZSh0LCBiLCBjLCBkKSB7XG4gICAgaWYgKHQgPCBkIC8gMikge1xuICAgICAgcmV0dXJuIGVhc2VJbkJvdW5jZSAodCAqIDIsIDAsIGMsIGQpICogMC41ICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIGVhc2VPdXRCb3VuY2UodCAqIDIgLSBkLCAwLCBjLCBkKSAqIDAuNSArIGMgKiAwLjUgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEVhc2luZyBmdW5jdGlvbnNcbiAgICogU2VlIDxhIGhyZWY9XCJodHRwOi8vZ2l6bWEuY29tL2Vhc2luZy9cIj5FYXNpbmcgRXF1YXRpb25zIGJ5IFJvYmVydCBQZW5uZXI8L2E+XG4gICAqIEBuYW1lc3BhY2UgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZmFicmljLnV0aWwuZWFzZSA9IHtcblxuICAgIC8qKlxuICAgICAqIFF1YWRyYXRpYyBlYXNpbmcgaW5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgICAqL1xuICAgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVhZHJhdGljIGVhc2luZyBvdXRcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgICAqL1xuICAgIGVhc2VPdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBRdWFkcmF0aWMgZWFzaW5nIGluIGFuZCBvdXRcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgICAqL1xuICAgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHQgLz0gKGQgLyAyKTtcbiAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgICB9XG4gICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3ViaWMgZWFzaW5nIGluXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICAgKi9cbiAgICBlYXNlSW5DdWJpYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcbiAgICB9LFxuXG4gICAgZWFzZU91dEN1YmljOiBlYXNlT3V0Q3ViaWMsXG4gICAgZWFzZUluT3V0Q3ViaWM6IGVhc2VJbk91dEN1YmljLFxuICAgIGVhc2VJblF1YXJ0OiBlYXNlSW5RdWFydCxcbiAgICBlYXNlT3V0UXVhcnQ6IGVhc2VPdXRRdWFydCxcbiAgICBlYXNlSW5PdXRRdWFydDogZWFzZUluT3V0UXVhcnQsXG4gICAgZWFzZUluUXVpbnQ6IGVhc2VJblF1aW50LFxuICAgIGVhc2VPdXRRdWludDogZWFzZU91dFF1aW50LFxuICAgIGVhc2VJbk91dFF1aW50OiBlYXNlSW5PdXRRdWludCxcbiAgICBlYXNlSW5TaW5lOiBlYXNlSW5TaW5lLFxuICAgIGVhc2VPdXRTaW5lOiBlYXNlT3V0U2luZSxcbiAgICBlYXNlSW5PdXRTaW5lOiBlYXNlSW5PdXRTaW5lLFxuICAgIGVhc2VJbkV4cG86IGVhc2VJbkV4cG8sXG4gICAgZWFzZU91dEV4cG86IGVhc2VPdXRFeHBvLFxuICAgIGVhc2VJbk91dEV4cG86IGVhc2VJbk91dEV4cG8sXG4gICAgZWFzZUluQ2lyYzogZWFzZUluQ2lyYyxcbiAgICBlYXNlT3V0Q2lyYzogZWFzZU91dENpcmMsXG4gICAgZWFzZUluT3V0Q2lyYzogZWFzZUluT3V0Q2lyYyxcbiAgICBlYXNlSW5FbGFzdGljOiBlYXNlSW5FbGFzdGljLFxuICAgIGVhc2VPdXRFbGFzdGljOiBlYXNlT3V0RWxhc3RpYyxcbiAgICBlYXNlSW5PdXRFbGFzdGljOiBlYXNlSW5PdXRFbGFzdGljLFxuICAgIGVhc2VJbkJhY2s6IGVhc2VJbkJhY2ssXG4gICAgZWFzZU91dEJhY2s6IGVhc2VPdXRCYWNrLFxuICAgIGVhc2VJbk91dEJhY2s6IGVhc2VJbk91dEJhY2ssXG4gICAgZWFzZUluQm91bmNlOiBlYXNlSW5Cb3VuY2UsXG4gICAgZWFzZU91dEJvdW5jZTogZWFzZU91dEJvdW5jZSxcbiAgICBlYXNlSW5PdXRCb3VuY2U6IGVhc2VJbk91dEJvdW5jZVxuICB9O1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGZhYnJpY1xuICAgKiBAbmFtZXNwYWNlXG4gICAqL1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZSxcbiAgICAgIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkLFxuICAgICAgcGFyc2VVbml0ID0gZmFicmljLnV0aWwucGFyc2VVbml0LFxuICAgICAgbXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyA9IGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMsXG5cbiAgICAgIHN2Z1ZhbGlkVGFnTmFtZXMgPSBbJ3BhdGgnLCAnY2lyY2xlJywgJ3BvbHlnb24nLCAncG9seWxpbmUnLCAnZWxsaXBzZScsICdyZWN0JywgJ2xpbmUnLFxuICAgICAgICAnaW1hZ2UnLCAndGV4dCddLFxuICAgICAgc3ZnVmlld0JveEVsZW1lbnRzID0gWydzeW1ib2wnLCAnaW1hZ2UnLCAnbWFya2VyJywgJ3BhdHRlcm4nLCAndmlldycsICdzdmcnXSxcbiAgICAgIHN2Z0ludmFsaWRBbmNlc3RvcnMgPSBbJ3BhdHRlcm4nLCAnZGVmcycsICdzeW1ib2wnLCAnbWV0YWRhdGEnLCAnY2xpcFBhdGgnLCAnbWFzaycsICdkZXNjJ10sXG4gICAgICBzdmdWYWxpZFBhcmVudHMgPSBbJ3N5bWJvbCcsICdnJywgJ2EnLCAnc3ZnJywgJ2NsaXBQYXRoJywgJ2RlZnMnXSxcblxuICAgICAgYXR0cmlidXRlc01hcCA9IHtcbiAgICAgICAgY3g6ICAgICAgICAgICAgICAgICAgICdsZWZ0JyxcbiAgICAgICAgeDogICAgICAgICAgICAgICAgICAgICdsZWZ0JyxcbiAgICAgICAgcjogICAgICAgICAgICAgICAgICAgICdyYWRpdXMnLFxuICAgICAgICBjeTogICAgICAgICAgICAgICAgICAgJ3RvcCcsXG4gICAgICAgIHk6ICAgICAgICAgICAgICAgICAgICAndG9wJyxcbiAgICAgICAgZGlzcGxheTogICAgICAgICAgICAgICd2aXNpYmxlJyxcbiAgICAgICAgdmlzaWJpbGl0eTogICAgICAgICAgICd2aXNpYmxlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAgICAgICAgICAgICd0cmFuc2Zvcm1NYXRyaXgnLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogICAgICAgJ2ZpbGxPcGFjaXR5JyxcbiAgICAgICAgJ2ZpbGwtcnVsZSc6ICAgICAgICAgICdmaWxsUnVsZScsXG4gICAgICAgICdmb250LWZhbWlseSc6ICAgICAgICAnZm9udEZhbWlseScsXG4gICAgICAgICdmb250LXNpemUnOiAgICAgICAgICAnZm9udFNpemUnLFxuICAgICAgICAnZm9udC1zdHlsZSc6ICAgICAgICAgJ2ZvbnRTdHlsZScsXG4gICAgICAgICdmb250LXdlaWdodCc6ICAgICAgICAnZm9udFdlaWdodCcsXG4gICAgICAgICdsZXR0ZXItc3BhY2luZyc6ICAgICAnY2hhclNwYWNpbmcnLFxuICAgICAgICAncGFpbnQtb3JkZXInOiAgICAgICAgJ3BhaW50Rmlyc3QnLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICAgJ3N0cm9rZURhc2hBcnJheScsXG4gICAgICAgICdzdHJva2UtZGFzaG9mZnNldCc6ICAnc3Ryb2tlRGFzaE9mZnNldCcsXG4gICAgICAgICdzdHJva2UtbGluZWNhcCc6ICAgICAnc3Ryb2tlTGluZUNhcCcsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW4nOiAgICAnc3Ryb2tlTGluZUpvaW4nLFxuICAgICAgICAnc3Ryb2tlLW1pdGVybGltaXQnOiAgJ3N0cm9rZU1pdGVyTGltaXQnLFxuICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAgICAgJ3N0cm9rZU9wYWNpdHknLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogICAgICAgJ3N0cm9rZVdpZHRoJyxcbiAgICAgICAgJ3RleHQtZGVjb3JhdGlvbic6ICAgICd0ZXh0RGVjb3JhdGlvbicsXG4gICAgICAgICd0ZXh0LWFuY2hvcic6ICAgICAgICAndGV4dEFuY2hvcicsXG4gICAgICAgIG9wYWNpdHk6ICAgICAgICAgICAgICAnb3BhY2l0eScsXG4gICAgICAgICdjbGlwLXBhdGgnOiAgICAgICAgICAnY2xpcFBhdGgnLFxuICAgICAgICAnY2xpcC1ydWxlJzogICAgICAgICAgJ2NsaXBSdWxlJyxcbiAgICAgICAgJ3ZlY3Rvci1lZmZlY3QnOiAgICAgICdzdHJva2VVbmlmb3JtJyxcbiAgICAgICAgJ2ltYWdlLXJlbmRlcmluZyc6ICAgICdpbWFnZVNtb290aGluZycsXG4gICAgICB9LFxuXG4gICAgICBjb2xvckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIHN0cm9rZTogJ3N0cm9rZU9wYWNpdHknLFxuICAgICAgICBmaWxsOiAgICdmaWxsT3BhY2l0eSdcbiAgICAgIH0sXG5cbiAgICAgIGZTaXplID0gJ2ZvbnQtc2l6ZScsIGNQYXRoID0gJ2NsaXAtcGF0aCc7XG5cbiAgZmFicmljLnN2Z1ZhbGlkVGFnTmFtZXNSZWdFeCA9IGdldFN2Z1JlZ2V4KHN2Z1ZhbGlkVGFnTmFtZXMpO1xuICBmYWJyaWMuc3ZnVmlld0JveEVsZW1lbnRzUmVnRXggPSBnZXRTdmdSZWdleChzdmdWaWV3Qm94RWxlbWVudHMpO1xuICBmYWJyaWMuc3ZnSW52YWxpZEFuY2VzdG9yc1JlZ0V4ID0gZ2V0U3ZnUmVnZXgoc3ZnSW52YWxpZEFuY2VzdG9ycyk7XG4gIGZhYnJpYy5zdmdWYWxpZFBhcmVudHNSZWdFeCA9IGdldFN2Z1JlZ2V4KHN2Z1ZhbGlkUGFyZW50cyk7XG5cbiAgZmFicmljLmNzc1J1bGVzID0geyB9O1xuICBmYWJyaWMuZ3JhZGllbnREZWZzID0geyB9O1xuICBmYWJyaWMuY2xpcFBhdGhzID0geyB9O1xuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZUF0dHIoYXR0cikge1xuICAgIC8vIHRyYW5zZm9ybSBhdHRyaWJ1dGUgbmFtZXNcbiAgICBpZiAoYXR0ciBpbiBhdHRyaWJ1dGVzTWFwKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRlc01hcFthdHRyXTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHI7XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZShhdHRyLCB2YWx1ZSwgcGFyZW50QXR0cmlidXRlcywgZm9udFNpemUpIHtcbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkodmFsdWUpLCBwYXJzZWQ7XG5cbiAgICBpZiAoKGF0dHIgPT09ICdmaWxsJyB8fCBhdHRyID09PSAnc3Ryb2tlJykgJiYgdmFsdWUgPT09ICdub25lJykge1xuICAgICAgdmFsdWUgPSAnJztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ3N0cm9rZVVuaWZvcm0nKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09PSAnbm9uLXNjYWxpbmctc3Ryb2tlJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICdzdHJva2VEYXNoQXJyYXknKSB7XG4gICAgICBpZiAodmFsdWUgPT09ICdub25lJykge1xuICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8sL2csICcgJykuc3BsaXQoL1xccysvKS5tYXAocGFyc2VGbG9hdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICd0cmFuc2Zvcm1NYXRyaXgnKSB7XG4gICAgICBpZiAocGFyZW50QXR0cmlidXRlcyAmJiBwYXJlbnRBdHRyaWJ1dGVzLnRyYW5zZm9ybU1hdHJpeCkge1xuICAgICAgICB2YWx1ZSA9IG11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMoXG4gICAgICAgICAgcGFyZW50QXR0cmlidXRlcy50cmFuc2Zvcm1NYXRyaXgsIGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZSh2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZmFicmljLnBhcnNlVHJhbnNmb3JtQXR0cmlidXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlICE9PSAnbm9uZScgJiYgdmFsdWUgIT09ICdoaWRkZW4nO1xuICAgICAgLy8gZGlzcGxheT1ub25lIG9uIHBhcmVudCBlbGVtZW50IGFsd2F5cyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgY2hpbGQgZWxlbWVudFxuICAgICAgaWYgKHBhcmVudEF0dHJpYnV0ZXMgJiYgcGFyZW50QXR0cmlidXRlcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAnb3BhY2l0eScpIHtcbiAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICBpZiAocGFyZW50QXR0cmlidXRlcyAmJiB0eXBlb2YgcGFyZW50QXR0cmlidXRlcy5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YWx1ZSAqPSBwYXJlbnRBdHRyaWJ1dGVzLm9wYWNpdHk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICd0ZXh0QW5jaG9yJyAvKiB0ZXh0LWFuY2hvciAqLykge1xuICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gJ3N0YXJ0JyA/ICdsZWZ0JyA6IHZhbHVlID09PSAnZW5kJyA/ICdyaWdodCcgOiAnY2VudGVyJztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ2NoYXJTcGFjaW5nJykge1xuICAgICAgLy8gcGFyc2VVbml0IHJldHVybnMgcHggYW5kIHdlIGNvbnZlcnQgaXQgdG8gZW1cbiAgICAgIHBhcnNlZCA9IHBhcnNlVW5pdCh2YWx1ZSwgZm9udFNpemUpIC8gZm9udFNpemUgKiAxMDAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAncGFpbnRGaXJzdCcpIHtcbiAgICAgIHZhciBmaWxsSW5kZXggPSB2YWx1ZS5pbmRleE9mKCdmaWxsJyk7XG4gICAgICB2YXIgc3Ryb2tlSW5kZXggPSB2YWx1ZS5pbmRleE9mKCdzdHJva2UnKTtcbiAgICAgIHZhciB2YWx1ZSA9ICdmaWxsJztcbiAgICAgIGlmIChmaWxsSW5kZXggPiAtMSAmJiBzdHJva2VJbmRleCA+IC0xICYmIHN0cm9rZUluZGV4IDwgZmlsbEluZGV4KSB7XG4gICAgICAgIHZhbHVlID0gJ3N0cm9rZSc7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChmaWxsSW5kZXggPT09IC0xICYmIHN0cm9rZUluZGV4ID4gLTEpIHtcbiAgICAgICAgdmFsdWUgPSAnc3Ryb2tlJztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ2hyZWYnIHx8IGF0dHIgPT09ICd4bGluazpocmVmJyB8fCBhdHRyID09PSAnZm9udCcpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ2ltYWdlU21vb3RoaW5nJykge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PT0gJ29wdGltaXplUXVhbGl0eScpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHBhcnNlZCA9IGlzQXJyYXkgPyB2YWx1ZS5tYXAocGFyc2VVbml0KSA6IHBhcnNlVW5pdCh2YWx1ZSwgZm9udFNpemUpO1xuICAgIH1cblxuICAgIHJldHVybiAoIWlzQXJyYXkgJiYgaXNOYU4ocGFyc2VkKSA/IHZhbHVlIDogcGFyc2VkKTtcbiAgfVxuXG4gIC8qKlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICBmdW5jdGlvbiBnZXRTdmdSZWdleChhcnIpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXignICsgYXJyLmpvaW4oJ3wnKSArICcpXFxcXGInLCAnaScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzIEFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gcGFyc2VcbiAgICovXG4gIGZ1bmN0aW9uIF9zZXRTdHJva2VGaWxsT3BhY2l0eShhdHRyaWJ1dGVzKSB7XG4gICAgZm9yICh2YXIgYXR0ciBpbiBjb2xvckF0dHJpYnV0ZXMpIHtcblxuICAgICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzW2NvbG9yQXR0cmlidXRlc1thdHRyXV0gPT09ICd1bmRlZmluZWQnIHx8IGF0dHJpYnV0ZXNbYXR0cl0gPT09ICcnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXNbYXR0cl0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICghZmFicmljLk9iamVjdC5wcm90b3R5cGVbYXR0cl0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVzW2F0dHJdID0gZmFicmljLk9iamVjdC5wcm90b3R5cGVbYXR0cl07XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyaWJ1dGVzW2F0dHJdLmluZGV4T2YoJ3VybCgnKSA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihhdHRyaWJ1dGVzW2F0dHJdKTtcbiAgICAgIGF0dHJpYnV0ZXNbYXR0cl0gPSBjb2xvci5zZXRBbHBoYSh0b0ZpeGVkKGNvbG9yLmdldEFscGhhKCkgKiBhdHRyaWJ1dGVzW2NvbG9yQXR0cmlidXRlc1thdHRyXV0sIDIpKS50b1JnYmEoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIF9nZXRNdWx0aXBsZU5vZGVzKGRvYywgbm9kZU5hbWVzKSB7XG4gICAgdmFyIG5vZGVOYW1lLCBub2RlQXJyYXkgPSBbXSwgbm9kZUxpc3QsIGksIGxlbjtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBub2RlTmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5vZGVOYW1lID0gbm9kZU5hbWVzW2ldO1xuICAgICAgbm9kZUxpc3QgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUobm9kZU5hbWUpO1xuICAgICAgbm9kZUFycmF5ID0gbm9kZUFycmF5LmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChub2RlTGlzdCkpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZUFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBcInRyYW5zZm9ybVwiIGF0dHJpYnV0ZSwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHZhbHVlc1xuICAgKiBAc3RhdGljXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyaWJ1dGVWYWx1ZSBTdHJpbmcgY29udGFpbmluZyBhdHRyaWJ1dGUgdmFsdWVcbiAgICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIDYgZWxlbWVudHMgcmVwcmVzZW50aW5nIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgKi9cbiAgZmFicmljLnBhcnNlVHJhbnNmb3JtQXR0cmlidXRlID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIHJvdGF0ZU1hdHJpeChtYXRyaXgsIGFyZ3MpIHtcbiAgICAgIHZhciBjb3MgPSBmYWJyaWMudXRpbC5jb3MoYXJnc1swXSksIHNpbiA9IGZhYnJpYy51dGlsLnNpbihhcmdzWzBdKSxcbiAgICAgICAgICB4ID0gMCwgeSA9IDA7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgeCA9IGFyZ3NbMV07XG4gICAgICAgIHkgPSBhcmdzWzJdO1xuICAgICAgfVxuXG4gICAgICBtYXRyaXhbMF0gPSBjb3M7XG4gICAgICBtYXRyaXhbMV0gPSBzaW47XG4gICAgICBtYXRyaXhbMl0gPSAtc2luO1xuICAgICAgbWF0cml4WzNdID0gY29zO1xuICAgICAgbWF0cml4WzRdID0geCAtIChjb3MgKiB4IC0gc2luICogeSk7XG4gICAgICBtYXRyaXhbNV0gPSB5IC0gKHNpbiAqIHggKyBjb3MgKiB5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2FsZU1hdHJpeChtYXRyaXgsIGFyZ3MpIHtcbiAgICAgIHZhciBtdWx0aXBsaWVyWCA9IGFyZ3NbMF0sXG4gICAgICAgICAgbXVsdGlwbGllclkgPSAoYXJncy5sZW5ndGggPT09IDIpID8gYXJnc1sxXSA6IGFyZ3NbMF07XG5cbiAgICAgIG1hdHJpeFswXSA9IG11bHRpcGxpZXJYO1xuICAgICAgbWF0cml4WzNdID0gbXVsdGlwbGllclk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2tld01hdHJpeChtYXRyaXgsIGFyZ3MsIHBvcykge1xuICAgICAgbWF0cml4W3Bvc10gPSBNYXRoLnRhbihmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKGFyZ3NbMF0pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVNYXRyaXgobWF0cml4LCBhcmdzKSB7XG4gICAgICBtYXRyaXhbNF0gPSBhcmdzWzBdO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIG1hdHJpeFs1XSA9IGFyZ3NbMV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWRlbnRpdHkgbWF0cml4XG4gICAgdmFyIGlNYXRyaXggPSBmYWJyaWMuaU1hdHJpeCxcblxuICAgICAgICAvLyA9PSBiZWdpbiB0cmFuc2Zvcm0gcmVnZXhwXG4gICAgICAgIG51bWJlciA9IGZhYnJpYy5yZU51bSxcblxuICAgICAgICBjb21tYVdzcCA9IGZhYnJpYy5jb21tYVdzcCxcblxuICAgICAgICBza2V3WCA9ICcoPzooc2tld1gpXFxcXHMqXFxcXChcXFxccyooJyArIG51bWJlciArICcpXFxcXHMqXFxcXCkpJyxcblxuICAgICAgICBza2V3WSA9ICcoPzooc2tld1kpXFxcXHMqXFxcXChcXFxccyooJyArIG51bWJlciArICcpXFxcXHMqXFxcXCkpJyxcblxuICAgICAgICByb3RhdGUgPSAnKD86KHJvdGF0ZSlcXFxccypcXFxcKFxcXFxzKignICsgbnVtYmVyICsgJykoPzonICtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFXc3AgKyAnKCcgKyBudW1iZXIgKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICBjb21tYVdzcCArICcoJyArIG51bWJlciArICcpKT9cXFxccypcXFxcKSknLFxuXG4gICAgICAgIHNjYWxlID0gJyg/OihzY2FsZSlcXFxccypcXFxcKFxcXFxzKignICsgbnVtYmVyICsgJykoPzonICtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFXc3AgKyAnKCcgKyBudW1iZXIgKyAnKSk/XFxcXHMqXFxcXCkpJyxcblxuICAgICAgICB0cmFuc2xhdGUgPSAnKD86KHRyYW5zbGF0ZSlcXFxccypcXFxcKFxcXFxzKignICsgbnVtYmVyICsgJykoPzonICtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFXc3AgKyAnKCcgKyBudW1iZXIgKyAnKSk/XFxcXHMqXFxcXCkpJyxcblxuICAgICAgICBtYXRyaXggPSAnKD86KG1hdHJpeClcXFxccypcXFxcKFxcXFxzKicgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICtcbiAgICAgICAgICAgICAgICAgICdcXFxccypcXFxcKSknLFxuXG4gICAgICAgIHRyYW5zZm9ybSA9ICcoPzonICtcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4ICsgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlICsgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgKyAnfCcgK1xuICAgICAgICAgICAgICAgICAgICByb3RhdGUgKyAnfCcgK1xuICAgICAgICAgICAgICAgICAgICBza2V3WCArICd8JyArXG4gICAgICAgICAgICAgICAgICAgIHNrZXdZICtcbiAgICAgICAgICAgICAgICAgICAgJyknLFxuXG4gICAgICAgIHRyYW5zZm9ybXMgPSAnKD86JyArIHRyYW5zZm9ybSArICcoPzonICsgY29tbWFXc3AgKyAnKicgKyB0cmFuc2Zvcm0gKyAnKSonICsgJyknLFxuXG4gICAgICAgIHRyYW5zZm9ybUxpc3QgPSAnXlxcXFxzKig/OicgKyB0cmFuc2Zvcm1zICsgJz8pXFxcXHMqJCcsXG5cbiAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL2Nvb3Jkcy5odG1sI1RyYW5zZm9ybUF0dHJpYnV0ZVxuICAgICAgICByZVRyYW5zZm9ybUxpc3QgPSBuZXcgUmVnRXhwKHRyYW5zZm9ybUxpc3QpLFxuICAgICAgICAvLyA9PSBlbmQgdHJhbnNmb3JtIHJlZ2V4cFxuXG4gICAgICAgIHJlVHJhbnNmb3JtID0gbmV3IFJlZ0V4cCh0cmFuc2Zvcm0sICdnJyk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oYXR0cmlidXRlVmFsdWUpIHtcblxuICAgICAgLy8gc3RhcnQgd2l0aCBpZGVudGl0eSBtYXRyaXhcbiAgICAgIHZhciBtYXRyaXggPSBpTWF0cml4LmNvbmNhdCgpLFxuICAgICAgICAgIG1hdHJpY2VzID0gW107XG5cbiAgICAgIC8vIHJldHVybiBpZiBubyBhcmd1bWVudCB3YXMgZ2l2ZW4gb3JcbiAgICAgIC8vIGFuIGFyZ3VtZW50IGRvZXMgbm90IG1hdGNoIHRyYW5zZm9ybSBhdHRyaWJ1dGUgcmVnZXhwXG4gICAgICBpZiAoIWF0dHJpYnV0ZVZhbHVlIHx8IChhdHRyaWJ1dGVWYWx1ZSAmJiAhcmVUcmFuc2Zvcm1MaXN0LnRlc3QoYXR0cmlidXRlVmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgICAgfVxuXG4gICAgICBhdHRyaWJ1dGVWYWx1ZS5yZXBsYWNlKHJlVHJhbnNmb3JtLCBmdW5jdGlvbihtYXRjaCkge1xuXG4gICAgICAgIHZhciBtID0gbmV3IFJlZ0V4cCh0cmFuc2Zvcm0pLmV4ZWMobWF0Y2gpLmZpbHRlcihmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgLy8gbWF0Y2ggIT09ICcnICYmIG1hdGNoICE9IG51bGxcbiAgICAgICAgICAgICAgcmV0dXJuICghIW1hdGNoKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb3BlcmF0aW9uID0gbVsxXSxcbiAgICAgICAgICAgIGFyZ3MgPSBtLnNsaWNlKDIpLm1hcChwYXJzZUZsb2F0KTtcblxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xuICAgICAgICAgIGNhc2UgJ3RyYW5zbGF0ZSc6XG4gICAgICAgICAgICB0cmFuc2xhdGVNYXRyaXgobWF0cml4LCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JvdGF0ZSc6XG4gICAgICAgICAgICBhcmdzWzBdID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyhhcmdzWzBdKTtcbiAgICAgICAgICAgIHJvdGF0ZU1hdHJpeChtYXRyaXgsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2NhbGUnOlxuICAgICAgICAgICAgc2NhbGVNYXRyaXgobWF0cml4LCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3NrZXdYJzpcbiAgICAgICAgICAgIHNrZXdNYXRyaXgobWF0cml4LCBhcmdzLCAyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3NrZXdZJzpcbiAgICAgICAgICAgIHNrZXdNYXRyaXgobWF0cml4LCBhcmdzLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ21hdHJpeCc6XG4gICAgICAgICAgICBtYXRyaXggPSBhcmdzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzbmFwc2hvdCBjdXJyZW50IG1hdHJpeCBpbnRvIG1hdHJpY2VzIGFycmF5XG4gICAgICAgIG1hdHJpY2VzLnB1c2gobWF0cml4LmNvbmNhdCgpKTtcbiAgICAgICAgLy8gcmVzZXRcbiAgICAgICAgbWF0cml4ID0gaU1hdHJpeC5jb25jYXQoKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY29tYmluZWRNYXRyaXggPSBtYXRyaWNlc1swXTtcbiAgICAgIHdoaWxlIChtYXRyaWNlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIG1hdHJpY2VzLnNoaWZ0KCk7XG4gICAgICAgIGNvbWJpbmVkTWF0cml4ID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhjb21iaW5lZE1hdHJpeCwgbWF0cmljZXNbMF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbWJpbmVkTWF0cml4O1xuICAgIH07XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZVN0eWxlU3RyaW5nKHN0eWxlLCBvU3R5bGUpIHtcbiAgICB2YXIgYXR0ciwgdmFsdWU7XG4gICAgc3R5bGUucmVwbGFjZSgvO1xccyokLywgJycpLnNwbGl0KCc7JykuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgIHZhciBwYWlyID0gY2h1bmsuc3BsaXQoJzonKTtcblxuICAgICAgYXR0ciA9IHBhaXJbMF0udHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YWx1ZSA9ICBwYWlyWzFdLnRyaW0oKTtcblxuICAgICAgb1N0eWxlW2F0dHJdID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlU3R5bGVPYmplY3Qoc3R5bGUsIG9TdHlsZSkge1xuICAgIHZhciBhdHRyLCB2YWx1ZTtcbiAgICBmb3IgKHZhciBwcm9wIGluIHN0eWxlKSB7XG4gICAgICBpZiAodHlwZW9mIHN0eWxlW3Byb3BdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgYXR0ciA9IHByb3AudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhbHVlID0gc3R5bGVbcHJvcF07XG5cbiAgICAgIG9TdHlsZVthdHRyXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0R2xvYmFsU3R5bGVzRm9yRWxlbWVudChlbGVtZW50LCBzdmdVaWQpIHtcbiAgICB2YXIgc3R5bGVzID0geyB9O1xuICAgIGZvciAodmFyIHJ1bGUgaW4gZmFicmljLmNzc1J1bGVzW3N2Z1VpZF0pIHtcbiAgICAgIGlmIChlbGVtZW50TWF0Y2hlc1J1bGUoZWxlbWVudCwgcnVsZS5zcGxpdCgnICcpKSkge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBmYWJyaWMuY3NzUnVsZXNbc3ZnVWlkXVtydWxlXSkge1xuICAgICAgICAgIHN0eWxlc1twcm9wZXJ0eV0gPSBmYWJyaWMuY3NzUnVsZXNbc3ZnVWlkXVtydWxlXVtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZWxlbWVudE1hdGNoZXNSdWxlKGVsZW1lbnQsIHNlbGVjdG9ycykge1xuICAgIHZhciBmaXJzdE1hdGNoaW5nLCBwYXJlbnRNYXRjaGluZyA9IHRydWU7XG4gICAgLy9zdGFydCBmcm9tIHJpZ2h0bW9zdCBzZWxlY3Rvci5cbiAgICBmaXJzdE1hdGNoaW5nID0gc2VsZWN0b3JNYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9ycy5wb3AoKSk7XG4gICAgaWYgKGZpcnN0TWF0Y2hpbmcgJiYgc2VsZWN0b3JzLmxlbmd0aCkge1xuICAgICAgcGFyZW50TWF0Y2hpbmcgPSBkb2VzU29tZVBhcmVudE1hdGNoKGVsZW1lbnQsIHNlbGVjdG9ycyk7XG4gICAgfVxuICAgIHJldHVybiBmaXJzdE1hdGNoaW5nICYmIHBhcmVudE1hdGNoaW5nICYmIChzZWxlY3RvcnMubGVuZ3RoID09PSAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvZXNTb21lUGFyZW50TWF0Y2goZWxlbWVudCwgc2VsZWN0b3JzKSB7XG4gICAgdmFyIHNlbGVjdG9yLCBwYXJlbnRNYXRjaGluZyA9IHRydWU7XG4gICAgd2hpbGUgKGVsZW1lbnQucGFyZW50Tm9kZSAmJiBlbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGUgPT09IDEgJiYgc2VsZWN0b3JzLmxlbmd0aCkge1xuICAgICAgaWYgKHBhcmVudE1hdGNoaW5nKSB7XG4gICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3JzLnBvcCgpO1xuICAgICAgfVxuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIHBhcmVudE1hdGNoaW5nID0gc2VsZWN0b3JNYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdG9ycy5sZW5ndGggPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHNlbGVjdG9yTWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHZhciBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUsXG4gICAgICAgIGNsYXNzTmFtZXMgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSxcbiAgICAgICAgaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKSwgbWF0Y2hlciwgaTtcbiAgICAvLyBpIGNoZWNrIGlmIGEgc2VsZWN0b3IgbWF0Y2hlcyBzbGljaW5nIGF3YXkgcGFydCBmcm9tIGl0LlxuICAgIC8vIGlmIGkgZ2V0IGVtcHR5IHN0cmluZyBpIHNob3VsZCBtYXRjaFxuICAgIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCdeJyArIG5vZGVOYW1lLCAnaScpO1xuICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShtYXRjaGVyLCAnJyk7XG4gICAgaWYgKGlkICYmIHNlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJyMnICsgaWQgKyAnKD8hW2EtekEtWlxcXFwtXSspJywgJ2knKTtcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShtYXRjaGVyLCAnJyk7XG4gICAgfVxuICAgIGlmIChjbGFzc05hbWVzICYmIHNlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXMuc3BsaXQoJyAnKTtcbiAgICAgIGZvciAoaSA9IGNsYXNzTmFtZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCdcXFxcLicgKyBjbGFzc05hbWVzW2ldICsgJyg/IVthLXpBLVpcXFxcLV0rKScsICdpJyk7XG4gICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShtYXRjaGVyLCAnJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3Rvci5sZW5ndGggPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogdG8gc3VwcG9ydCBJRTggbWlzc2luZyBnZXRFbGVtZW50QnlJZCBvbiBTVkdkb2N1bWVudCBhbmQgb24gbm9kZSB4bWxET01cbiAgICovXG4gIGZ1bmN0aW9uIGVsZW1lbnRCeUlkKGRvYywgaWQpIHtcbiAgICB2YXIgZWw7XG4gICAgZG9jLmdldEVsZW1lbnRCeUlkICYmIChlbCA9IGRvYy5nZXRFbGVtZW50QnlJZChpZCkpO1xuICAgIGlmIChlbCkge1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICB2YXIgbm9kZSwgaSwgbGVuLCBub2RlbGlzdCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IG5vZGVsaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBub2RlID0gbm9kZWxpc3RbaV07XG4gICAgICBpZiAoaWQgPT09IG5vZGUuZ2V0QXR0cmlidXRlKCdpZCcpKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VVc2VEaXJlY3RpdmVzKGRvYykge1xuICAgIHZhciBub2RlbGlzdCA9IF9nZXRNdWx0aXBsZU5vZGVzKGRvYywgWyd1c2UnLCAnc3ZnOnVzZSddKSwgaSA9IDA7XG4gICAgd2hpbGUgKG5vZGVsaXN0Lmxlbmd0aCAmJiBpIDwgbm9kZWxpc3QubGVuZ3RoKSB7XG4gICAgICB2YXIgZWwgPSBub2RlbGlzdFtpXSxcbiAgICAgICAgICB4bGlua0F0dHJpYnV0ZSA9IGVsLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpIHx8IGVsLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXG4gICAgICBpZiAoeGxpbmtBdHRyaWJ1dGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgeGxpbmsgPSB4bGlua0F0dHJpYnV0ZS5zbGljZSgxKSxcbiAgICAgICAgICB4ID0gZWwuZ2V0QXR0cmlidXRlKCd4JykgfHwgMCxcbiAgICAgICAgICB5ID0gZWwuZ2V0QXR0cmlidXRlKCd5JykgfHwgMCxcbiAgICAgICAgICBlbDIgPSBlbGVtZW50QnlJZChkb2MsIHhsaW5rKS5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgICAgY3VycmVudFRyYW5zID0gKGVsMi5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpIHx8ICcnKSArICcgdHJhbnNsYXRlKCcgKyB4ICsgJywgJyArIHkgKyAnKScsXG4gICAgICAgICAgcGFyZW50Tm9kZSxcbiAgICAgICAgICBvbGRMZW5ndGggPSBub2RlbGlzdC5sZW5ndGgsIGF0dHIsXG4gICAgICAgICAgaixcbiAgICAgICAgICBhdHRycyxcbiAgICAgICAgICBsZW4sXG4gICAgICAgICAgbmFtZXNwYWNlID0gZmFicmljLnN2Z05TO1xuXG4gICAgICBhcHBseVZpZXdib3hUcmFuc2Zvcm0oZWwyKTtcbiAgICAgIGlmICgvXnN2ZyQvaS50ZXN0KGVsMi5ub2RlTmFtZSkpIHtcbiAgICAgICAgdmFyIGVsMyA9IGVsMi5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsICdnJyk7XG4gICAgICAgIGZvciAoaiA9IDAsIGF0dHJzID0gZWwyLmF0dHJpYnV0ZXMsIGxlbiA9IGF0dHJzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgYXR0ciA9IGF0dHJzLml0ZW0oaik7XG4gICAgICAgICAgZWwzLnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgYXR0ci5ub2RlTmFtZSwgYXR0ci5ub2RlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsMi5maXJzdENoaWxkICE9IG51bGxcbiAgICAgICAgd2hpbGUgKGVsMi5maXJzdENoaWxkKSB7XG4gICAgICAgICAgZWwzLmFwcGVuZENoaWxkKGVsMi5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbDIgPSBlbDM7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaiA9IDAsIGF0dHJzID0gZWwuYXR0cmlidXRlcywgbGVuID0gYXR0cnMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgYXR0ciA9IGF0dHJzLml0ZW0oaik7XG4gICAgICAgIGlmIChhdHRyLm5vZGVOYW1lID09PSAneCcgfHwgYXR0ci5ub2RlTmFtZSA9PT0gJ3knIHx8XG4gICAgICAgICAgYXR0ci5ub2RlTmFtZSA9PT0gJ3hsaW5rOmhyZWYnIHx8IGF0dHIubm9kZU5hbWUgPT09ICdocmVmJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF0dHIubm9kZU5hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgICAgY3VycmVudFRyYW5zID0gYXR0ci5ub2RlVmFsdWUgKyAnICcgKyBjdXJyZW50VHJhbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZWwyLnNldEF0dHJpYnV0ZShhdHRyLm5vZGVOYW1lLCBhdHRyLm5vZGVWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWwyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgY3VycmVudFRyYW5zKTtcbiAgICAgIGVsMi5zZXRBdHRyaWJ1dGUoJ2luc3RhbnRpYXRlZF9ieV91c2UnLCAnMScpO1xuICAgICAgZWwyLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgIHBhcmVudE5vZGUgPSBlbC5wYXJlbnROb2RlO1xuICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWwyLCBlbCk7XG4gICAgICAvLyBzb21lIGJyb3dzZXJzIGRvIG5vdCBzaG9ydGVuIG5vZGVsaXN0IGFmdGVyIHJlcGxhY2VDaGlsZCAoSUU4KVxuICAgICAgaWYgKG5vZGVsaXN0Lmxlbmd0aCA9PT0gb2xkTGVuZ3RoKSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvY29vcmRzLmh0bWwjVmlld0JveEF0dHJpYnV0ZVxuICAvLyBtYXRjaGVzLCBlLmcuOiArMTQuNTZlLTEyLCBldGMuXG4gIHZhciByZVZpZXdCb3hBdHRyVmFsdWUgPSBuZXcgUmVnRXhwKFxuICAgICdeJyArXG4gICAgJ1xcXFxzKignICsgZmFicmljLnJlTnVtICsgJyspXFxcXHMqLD8nICtcbiAgICAnXFxcXHMqKCcgKyBmYWJyaWMucmVOdW0gKyAnKylcXFxccyosPycgK1xuICAgICdcXFxccyooJyArIGZhYnJpYy5yZU51bSArICcrKVxcXFxzKiw/JyArXG4gICAgJ1xcXFxzKignICsgZmFicmljLnJlTnVtICsgJyspXFxcXHMqJyArXG4gICAgJyQnXG4gICk7XG5cbiAgLyoqXG4gICAqIEFkZCBhIDxnPiBlbGVtZW50IHRoYXQgZW52ZWxvcCBhbGwgY2hpbGQgZWxlbWVudHMgYW5kIG1ha2VzIHRoZSB2aWV3Ym94IHRyYW5zZm9ybU1hdHJpeCBkZXNjZW5kIG9uIGFsbCBlbGVtZW50c1xuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGVsZW1lbnQpIHtcbiAgICBpZiAoIWZhYnJpYy5zdmdWaWV3Qm94RWxlbWVudHNSZWdFeC50ZXN0KGVsZW1lbnQubm9kZU5hbWUpKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHZhciB2aWV3Qm94QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2aWV3Qm94JyksXG4gICAgICAgIHNjYWxlWCA9IDEsXG4gICAgICAgIHNjYWxlWSA9IDEsXG4gICAgICAgIG1pblggPSAwLFxuICAgICAgICBtaW5ZID0gMCxcbiAgICAgICAgdmlld0JveFdpZHRoLCB2aWV3Qm94SGVpZ2h0LCBtYXRyaXgsIGVsLFxuICAgICAgICB3aWR0aEF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnd2lkdGgnKSxcbiAgICAgICAgaGVpZ2h0QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSxcbiAgICAgICAgeCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4JykgfHwgMCxcbiAgICAgICAgeSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd5JykgfHwgMCxcbiAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdwcmVzZXJ2ZUFzcGVjdFJhdGlvJykgfHwgJycsXG4gICAgICAgIG1pc3NpbmdWaWV3Qm94ID0gKCF2aWV3Qm94QXR0ciB8fCAhKHZpZXdCb3hBdHRyID0gdmlld0JveEF0dHIubWF0Y2gocmVWaWV3Qm94QXR0clZhbHVlKSkpLFxuICAgICAgICBtaXNzaW5nRGltQXR0ciA9ICghd2lkdGhBdHRyIHx8ICFoZWlnaHRBdHRyIHx8IHdpZHRoQXR0ciA9PT0gJzEwMCUnIHx8IGhlaWdodEF0dHIgPT09ICcxMDAlJyksXG4gICAgICAgIHRvQmVQYXJzZWQgPSBtaXNzaW5nVmlld0JveCAmJiBtaXNzaW5nRGltQXR0cixcbiAgICAgICAgcGFyc2VkRGltID0geyB9LCB0cmFuc2xhdGVNYXRyaXggPSAnJywgd2lkdGhEaWZmID0gMCwgaGVpZ2h0RGlmZiA9IDA7XG5cbiAgICBwYXJzZWREaW0ud2lkdGggPSAwO1xuICAgIHBhcnNlZERpbS5oZWlnaHQgPSAwO1xuICAgIHBhcnNlZERpbS50b0JlUGFyc2VkID0gdG9CZVBhcnNlZDtcblxuICAgIGlmIChtaXNzaW5nVmlld0JveCkge1xuICAgICAgaWYgKCgoeCB8fCB5KSAmJiBlbGVtZW50LnBhcmVudE5vZGUgJiYgZWxlbWVudC5wYXJlbnROb2RlLm5vZGVOYW1lICE9PSAnI2RvY3VtZW50JykpIHtcbiAgICAgICAgdHJhbnNsYXRlTWF0cml4ID0gJyB0cmFuc2xhdGUoJyArIHBhcnNlVW5pdCh4KSArICcgJyArIHBhcnNlVW5pdCh5KSArICcpICc7XG4gICAgICAgIG1hdHJpeCA9IChlbGVtZW50LmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykgfHwgJycpICsgdHJhbnNsYXRlTWF0cml4O1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgbWF0cml4KTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3gnKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3knKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodG9CZVBhcnNlZCkge1xuICAgICAgcmV0dXJuIHBhcnNlZERpbTtcbiAgICB9XG5cbiAgICBpZiAobWlzc2luZ1ZpZXdCb3gpIHtcbiAgICAgIHBhcnNlZERpbS53aWR0aCA9IHBhcnNlVW5pdCh3aWR0aEF0dHIpO1xuICAgICAgcGFyc2VkRGltLmhlaWdodCA9IHBhcnNlVW5pdChoZWlnaHRBdHRyKTtcbiAgICAgIC8vIHNldCBhIHRyYW5zZm9ybSBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHggeSBhbmQgYXJlIGlubmVyKG9ubHkpIFNWR3NcbiAgICAgIHJldHVybiBwYXJzZWREaW07XG4gICAgfVxuICAgIG1pblggPSAtcGFyc2VGbG9hdCh2aWV3Qm94QXR0clsxXSk7XG4gICAgbWluWSA9IC1wYXJzZUZsb2F0KHZpZXdCb3hBdHRyWzJdKTtcbiAgICB2aWV3Qm94V2lkdGggPSBwYXJzZUZsb2F0KHZpZXdCb3hBdHRyWzNdKTtcbiAgICB2aWV3Qm94SGVpZ2h0ID0gcGFyc2VGbG9hdCh2aWV3Qm94QXR0cls0XSk7XG4gICAgcGFyc2VkRGltLm1pblggPSBtaW5YO1xuICAgIHBhcnNlZERpbS5taW5ZID0gbWluWTtcbiAgICBwYXJzZWREaW0udmlld0JveFdpZHRoID0gdmlld0JveFdpZHRoO1xuICAgIHBhcnNlZERpbS52aWV3Qm94SGVpZ2h0ID0gdmlld0JveEhlaWdodDtcbiAgICBpZiAoIW1pc3NpbmdEaW1BdHRyKSB7XG4gICAgICBwYXJzZWREaW0ud2lkdGggPSBwYXJzZVVuaXQod2lkdGhBdHRyKTtcbiAgICAgIHBhcnNlZERpbS5oZWlnaHQgPSBwYXJzZVVuaXQoaGVpZ2h0QXR0cik7XG4gICAgICBzY2FsZVggPSBwYXJzZWREaW0ud2lkdGggLyB2aWV3Qm94V2lkdGg7XG4gICAgICBzY2FsZVkgPSBwYXJzZWREaW0uaGVpZ2h0IC8gdmlld0JveEhlaWdodDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBwYXJzZWREaW0ud2lkdGggPSB2aWV3Qm94V2lkdGg7XG4gICAgICBwYXJzZWREaW0uaGVpZ2h0ID0gdmlld0JveEhlaWdodDtcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGlzIHRvIHByZXNlcnZlIGFzcGVjdCByYXRpb1xuICAgIHByZXNlcnZlQXNwZWN0UmF0aW8gPSBmYWJyaWMudXRpbC5wYXJzZVByZXNlcnZlQXNwZWN0UmF0aW9BdHRyaWJ1dGUocHJlc2VydmVBc3BlY3RSYXRpbyk7XG4gICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW8uYWxpZ25YICE9PSAnbm9uZScpIHtcbiAgICAgIC8vdHJhbnNsYXRlIGFsbCBjb250YWluZXIgZm9yIHRoZSBlZmZlY3Qgb2YgTWlkLCBNaW4sIE1heFxuICAgICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW8ubWVldE9yU2xpY2UgPT09ICdtZWV0Jykge1xuICAgICAgICBzY2FsZVkgPSBzY2FsZVggPSAoc2NhbGVYID4gc2NhbGVZID8gc2NhbGVZIDogc2NhbGVYKTtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGFkZGl0aW9uYWwgdHJhbnNsYXRpb24gdG8gbW92ZSB0aGUgdmlld2JveFxuICAgICAgfVxuICAgICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW8ubWVldE9yU2xpY2UgPT09ICdzbGljZScpIHtcbiAgICAgICAgc2NhbGVZID0gc2NhbGVYID0gKHNjYWxlWCA+IHNjYWxlWSA/IHNjYWxlWCA6IHNjYWxlWSk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBhZGRpdGlvbmFsIHRyYW5zbGF0aW9uIHRvIG1vdmUgdGhlIHZpZXdib3hcbiAgICAgIH1cbiAgICAgIHdpZHRoRGlmZiA9IHBhcnNlZERpbS53aWR0aCAtIHZpZXdCb3hXaWR0aCAqIHNjYWxlWDtcbiAgICAgIGhlaWdodERpZmYgPSBwYXJzZWREaW0uaGVpZ2h0IC0gdmlld0JveEhlaWdodCAqIHNjYWxlWDtcbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLmFsaWduWCA9PT0gJ01pZCcpIHtcbiAgICAgICAgd2lkdGhEaWZmIC89IDI7XG4gICAgICB9XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpby5hbGlnblkgPT09ICdNaWQnKSB7XG4gICAgICAgIGhlaWdodERpZmYgLz0gMjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLmFsaWduWCA9PT0gJ01pbicpIHtcbiAgICAgICAgd2lkdGhEaWZmID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLmFsaWduWSA9PT0gJ01pbicpIHtcbiAgICAgICAgaGVpZ2h0RGlmZiA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNjYWxlWCA9PT0gMSAmJiBzY2FsZVkgPT09IDEgJiYgbWluWCA9PT0gMCAmJiBtaW5ZID09PSAwICYmIHggPT09IDAgJiYgeSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHBhcnNlZERpbTtcbiAgICB9XG4gICAgaWYgKCh4IHx8IHkpICYmIGVsZW1lbnQucGFyZW50Tm9kZS5ub2RlTmFtZSAhPT0gJyNkb2N1bWVudCcpIHtcbiAgICAgIHRyYW5zbGF0ZU1hdHJpeCA9ICcgdHJhbnNsYXRlKCcgKyBwYXJzZVVuaXQoeCkgKyAnICcgKyBwYXJzZVVuaXQoeSkgKyAnKSAnO1xuICAgIH1cblxuICAgIG1hdHJpeCA9IHRyYW5zbGF0ZU1hdHJpeCArICcgbWF0cml4KCcgKyBzY2FsZVggK1xuICAgICAgICAgICAgICAgICAgJyAwJyArXG4gICAgICAgICAgICAgICAgICAnIDAgJyArXG4gICAgICAgICAgICAgICAgICBzY2FsZVkgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgKG1pblggKiBzY2FsZVggKyB3aWR0aERpZmYpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgIChtaW5ZICogc2NhbGVZICsgaGVpZ2h0RGlmZikgKyAnKSAnO1xuICAgIC8vIHNlZW1zIHVudXNlZC5cbiAgICAvLyBwYXJzZWREaW0udmlld2JveFRyYW5zZm9ybSA9IGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZShtYXRyaXgpO1xuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnc3ZnJykge1xuICAgICAgZWwgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGZhYnJpYy5zdmdOUywgJ2cnKTtcbiAgICAgIC8vIGVsZW1lbnQuZmlyc3RDaGlsZCAhPSBudWxsXG4gICAgICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbCA9IGVsZW1lbnQ7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3gnKTtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgneScpO1xuICAgICAgbWF0cml4ID0gZWwuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKSArIG1hdHJpeDtcbiAgICB9XG4gICAgZWwuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBtYXRyaXgpO1xuICAgIHJldHVybiBwYXJzZWREaW07XG4gIH1cblxuICBmdW5jdGlvbiBoYXNBbmNlc3RvcldpdGhOb2RlTmFtZShlbGVtZW50LCBub2RlTmFtZSkge1xuICAgIHdoaWxlIChlbGVtZW50ICYmIChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSkge1xuICAgICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgJiYgbm9kZU5hbWUudGVzdChlbGVtZW50Lm5vZGVOYW1lLnJlcGxhY2UoJ3N2ZzonLCAnJykpXG4gICAgICAgICYmICFlbGVtZW50LmdldEF0dHJpYnV0ZSgnaW5zdGFudGlhdGVkX2J5X3VzZScpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2VzIGFuIFNWRyBkb2N1bWVudCwgY29udmVydHMgaXQgdG8gYW4gYXJyYXkgb2YgY29ycmVzcG9uZGluZyBmYWJyaWMuKiBpbnN0YW5jZXMgYW5kIHBhc3NlcyB0aGVtIHRvIGEgY2FsbGJhY2tcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgKiBAcGFyYW0ge1NWR0RvY3VtZW50fSBkb2MgU1ZHIGRvY3VtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGNhbGwgd2hlbiBwYXJzaW5nIGlzIGZpbmlzaGVkO1xuICAgKiBJdCdzIGJlaW5nIHBhc3NlZCBhbiBhcnJheSBvZiBlbGVtZW50cyAocGFyc2VkIGZyb20gYSBkb2N1bWVudCkuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBTVkcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJzaW5nT3B0aW9uc10gb3B0aW9ucyBmb3IgcGFyc2luZyBkb2N1bWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3BhcnNpbmdPcHRpb25zLmNyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiBzZXR0aW5nc1xuICAgKi9cbiAgZmFicmljLnBhcnNlU1ZHRG9jdW1lbnQgPSBmdW5jdGlvbihkb2MsIGNhbGxiYWNrLCByZXZpdmVyLCBwYXJzaW5nT3B0aW9ucykge1xuICAgIGlmICghZG9jKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGFyc2VVc2VEaXJlY3RpdmVzKGRvYyk7XG5cbiAgICB2YXIgc3ZnVWlkID0gIGZhYnJpYy5PYmplY3QuX191aWQrKywgaSwgbGVuLFxuICAgICAgICBvcHRpb25zID0gYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGRvYyksXG4gICAgICAgIGRlc2NlbmRhbnRzID0gZmFicmljLnV0aWwudG9BcnJheShkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSk7XG4gICAgb3B0aW9ucy5jcm9zc09yaWdpbiA9IHBhcnNpbmdPcHRpb25zICYmIHBhcnNpbmdPcHRpb25zLmNyb3NzT3JpZ2luO1xuICAgIG9wdGlvbnMuc3ZnVWlkID0gc3ZnVWlkO1xuXG4gICAgaWYgKGRlc2NlbmRhbnRzLmxlbmd0aCA9PT0gMCAmJiBmYWJyaWMuaXNMaWtlbHlOb2RlKSB7XG4gICAgICAvLyB3ZSdyZSBsaWtlbHkgaW4gbm9kZSwgd2hlcmUgXCJvMy14bWxcIiBsaWJyYXJ5IGZhaWxzIHRvIGdFQlROKFwiKlwiKVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FqYXhvcmcvbm9kZS1vMy14bWwvaXNzdWVzLzIxXG4gICAgICBkZXNjZW5kYW50cyA9IGRvYy5zZWxlY3ROb2RlcygnLy8qW25hbWUoLikhPVwic3ZnXCJdJyk7XG4gICAgICB2YXIgYXJyID0gW107XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBkZXNjZW5kYW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBkZXNjZW5kYW50c1tpXTtcbiAgICAgIH1cbiAgICAgIGRlc2NlbmRhbnRzID0gYXJyO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50cyA9IGRlc2NlbmRhbnRzLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGVsKTtcbiAgICAgIHJldHVybiBmYWJyaWMuc3ZnVmFsaWRUYWdOYW1lc1JlZ0V4LnRlc3QoZWwubm9kZU5hbWUucmVwbGFjZSgnc3ZnOicsICcnKSkgJiZcbiAgICAgICAgICAgICFoYXNBbmNlc3RvcldpdGhOb2RlTmFtZShlbCwgZmFicmljLnN2Z0ludmFsaWRBbmNlc3RvcnNSZWdFeCk7IC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zdHJ1Y3QuaHRtbCNEZWZzRWxlbWVudFxuICAgIH0pO1xuICAgIGlmICghZWxlbWVudHMgfHwgKGVsZW1lbnRzICYmICFlbGVtZW50cy5sZW5ndGgpKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhbXSwge30pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2xpcFBhdGhzID0geyB9O1xuICAgIGRlc2NlbmRhbnRzLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgcmV0dXJuIGVsLm5vZGVOYW1lLnJlcGxhY2UoJ3N2ZzonLCAnJykgPT09ICdjbGlwUGF0aCc7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuICAgICAgdmFyIGlkID0gZWwuZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgY2xpcFBhdGhzW2lkXSA9IGZhYnJpYy51dGlsLnRvQXJyYXkoZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSkuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMuc3ZnVmFsaWRUYWdOYW1lc1JlZ0V4LnRlc3QoZWwubm9kZU5hbWUucmVwbGFjZSgnc3ZnOicsICcnKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBmYWJyaWMuZ3JhZGllbnREZWZzW3N2Z1VpZF0gPSBmYWJyaWMuZ2V0R3JhZGllbnREZWZzKGRvYyk7XG4gICAgZmFicmljLmNzc1J1bGVzW3N2Z1VpZF0gPSBmYWJyaWMuZ2V0Q1NTUnVsZXMoZG9jKTtcbiAgICBmYWJyaWMuY2xpcFBhdGhzW3N2Z1VpZF0gPSBjbGlwUGF0aHM7XG4gICAgLy8gUHJlY2VkZW5jZSBvZiBydWxlczogICBzdHlsZSA+IGNsYXNzID4gYXR0cmlidXRlXG4gICAgZmFicmljLnBhcnNlRWxlbWVudHMoZWxlbWVudHMsIGZ1bmN0aW9uKGluc3RhbmNlcywgZWxlbWVudHMpIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhpbnN0YW5jZXMsIG9wdGlvbnMsIGVsZW1lbnRzLCBkZXNjZW5kYW50cyk7XG4gICAgICAgIGRlbGV0ZSBmYWJyaWMuZ3JhZGllbnREZWZzW3N2Z1VpZF07XG4gICAgICAgIGRlbGV0ZSBmYWJyaWMuY3NzUnVsZXNbc3ZnVWlkXTtcbiAgICAgICAgZGVsZXRlIGZhYnJpYy5jbGlwUGF0aHNbc3ZnVWlkXTtcbiAgICAgIH1cbiAgICB9LCBjbG9uZShvcHRpb25zKSwgcmV2aXZlciwgcGFyc2luZ09wdGlvbnMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5UGFyc2VHcmFkaWVudHNYbGluayhkb2MsIGdyYWRpZW50KSB7XG4gICAgdmFyIGdyYWRpZW50c0F0dHJzID0gWydncmFkaWVudFRyYW5zZm9ybScsICd4MScsICd4MicsICd5MScsICd5MicsICdncmFkaWVudFVuaXRzJywgJ2N4JywgJ2N5JywgJ3InLCAnZngnLCAnZnknXSxcbiAgICAgICAgeGxpbmtBdHRyID0gJ3hsaW5rOmhyZWYnLFxuICAgICAgICB4TGluayA9IGdyYWRpZW50LmdldEF0dHJpYnV0ZSh4bGlua0F0dHIpLnNsaWNlKDEpLFxuICAgICAgICByZWZlcmVuY2VkR3JhZGllbnQgPSBlbGVtZW50QnlJZChkb2MsIHhMaW5rKTtcbiAgICBpZiAocmVmZXJlbmNlZEdyYWRpZW50ICYmIHJlZmVyZW5jZWRHcmFkaWVudC5nZXRBdHRyaWJ1dGUoeGxpbmtBdHRyKSkge1xuICAgICAgcmVjdXJzaXZlbHlQYXJzZUdyYWRpZW50c1hsaW5rKGRvYywgcmVmZXJlbmNlZEdyYWRpZW50KTtcbiAgICB9XG4gICAgZ3JhZGllbnRzQXR0cnMuZm9yRWFjaChmdW5jdGlvbihhdHRyKSB7XG4gICAgICBpZiAocmVmZXJlbmNlZEdyYWRpZW50ICYmICFncmFkaWVudC5oYXNBdHRyaWJ1dGUoYXR0cikgJiYgcmVmZXJlbmNlZEdyYWRpZW50Lmhhc0F0dHJpYnV0ZShhdHRyKSkge1xuICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgcmVmZXJlbmNlZEdyYWRpZW50LmdldEF0dHJpYnV0ZShhdHRyKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFncmFkaWVudC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHZhciByZWZlcmVuY2VDbG9uZSA9IHJlZmVyZW5jZWRHcmFkaWVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB3aGlsZSAocmVmZXJlbmNlQ2xvbmUuZmlyc3RDaGlsZCkge1xuICAgICAgICBncmFkaWVudC5hcHBlbmRDaGlsZChyZWZlcmVuY2VDbG9uZS5maXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ3JhZGllbnQucmVtb3ZlQXR0cmlidXRlKHhsaW5rQXR0cik7XG4gIH1cblxuICB2YXIgcmVGb250RGVjbGFyYXRpb24gPSBuZXcgUmVnRXhwKFxuICAgICcobm9ybWFsfGl0YWxpYyk/XFxcXHMqKG5vcm1hbHxzbWFsbC1jYXBzKT9cXFxccyonICtcbiAgICAnKG5vcm1hbHxib2xkfGJvbGRlcnxsaWdodGVyfDEwMHwyMDB8MzAwfDQwMHw1MDB8NjAwfDcwMHw4MDB8OTAwKT9cXFxccyooJyArXG4gICAgICBmYWJyaWMucmVOdW0gK1xuICAgICcoPzpweHxjbXxtbXxlbXxwdHxwY3xpbikqKSg/OlxcXFwvKG5vcm1hbHwnICsgZmFicmljLnJlTnVtICsgJykpP1xcXFxzKyguKiknKTtcblxuICBleHRlbmQoZmFicmljLCB7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgc2hvcnQgZm9udCBkZWNsYXJhdGlvbiwgYnVpbGRpbmcgYWRkaW5nIGl0cyBwcm9wZXJ0aWVzIHRvIGEgc3R5bGUgb2JqZWN0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgZm9udCBkZWNsYXJhdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvU3R5bGUgZGVmaW5pdGlvblxuICAgICAqL1xuICAgIHBhcnNlRm9udERlY2xhcmF0aW9uOiBmdW5jdGlvbih2YWx1ZSwgb1N0eWxlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChyZUZvbnREZWNsYXJhdGlvbik7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGZvbnRTdHlsZSA9IG1hdGNoWzFdLFxuICAgICAgICAgIC8vIGZvbnQgdmFyaWFudCBpcyBub3QgdXNlZFxuICAgICAgICAgIC8vIGZvbnRWYXJpYW50ID0gbWF0Y2hbMl0sXG4gICAgICAgICAgZm9udFdlaWdodCA9IG1hdGNoWzNdLFxuICAgICAgICAgIGZvbnRTaXplID0gbWF0Y2hbNF0sXG4gICAgICAgICAgbGluZUhlaWdodCA9IG1hdGNoWzVdLFxuICAgICAgICAgIGZvbnRGYW1pbHkgPSBtYXRjaFs2XTtcblxuICAgICAgaWYgKGZvbnRTdHlsZSkge1xuICAgICAgICBvU3R5bGUuZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgfVxuICAgICAgaWYgKGZvbnRXZWlnaHQpIHtcbiAgICAgICAgb1N0eWxlLmZvbnRXZWlnaHQgPSBpc05hTihwYXJzZUZsb2F0KGZvbnRXZWlnaHQpKSA/IGZvbnRXZWlnaHQgOiBwYXJzZUZsb2F0KGZvbnRXZWlnaHQpO1xuICAgICAgfVxuICAgICAgaWYgKGZvbnRTaXplKSB7XG4gICAgICAgIG9TdHlsZS5mb250U2l6ZSA9IHBhcnNlVW5pdChmb250U2l6ZSk7XG4gICAgICB9XG4gICAgICBpZiAoZm9udEZhbWlseSkge1xuICAgICAgICBvU3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICB9XG4gICAgICBpZiAobGluZUhlaWdodCkge1xuICAgICAgICBvU3R5bGUubGluZUhlaWdodCA9IGxpbmVIZWlnaHQgPT09ICdub3JtYWwnID8gMSA6IGxpbmVIZWlnaHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhbiBTVkcgZG9jdW1lbnQsIHJldHVybmluZyBhbGwgb2YgdGhlIGdyYWRpZW50IGRlY2xhcmF0aW9ucyBmb3VuZCBpbiBpdFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtTVkdEb2N1bWVudH0gZG9jIFNWRyBkb2N1bWVudCB0byBwYXJzZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gR3JhZGllbnQgZGVmaW5pdGlvbnM7IGtleSBjb3JyZXNwb25kcyB0byBlbGVtZW50IGlkLCB2YWx1ZSAtLSB0byBncmFkaWVudCBkZWZpbml0aW9uIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRHcmFkaWVudERlZnM6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIHRhZ0FycmF5ID0gW1xuICAgICAgICAgICAgJ2xpbmVhckdyYWRpZW50JyxcbiAgICAgICAgICAgICdyYWRpYWxHcmFkaWVudCcsXG4gICAgICAgICAgICAnc3ZnOmxpbmVhckdyYWRpZW50JyxcbiAgICAgICAgICAgICdzdmc6cmFkaWFsR3JhZGllbnQnXSxcbiAgICAgICAgICBlbExpc3QgPSBfZ2V0TXVsdGlwbGVOb2Rlcyhkb2MsIHRhZ0FycmF5KSxcbiAgICAgICAgICBlbCwgaiA9IDAsIGdyYWRpZW50RGVmcyA9IHsgfTtcbiAgICAgIGogPSBlbExpc3QubGVuZ3RoO1xuICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICBlbCA9IGVsTGlzdFtqXTtcbiAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpKSB7XG4gICAgICAgICAgcmVjdXJzaXZlbHlQYXJzZUdyYWRpZW50c1hsaW5rKGRvYywgZWwpO1xuICAgICAgICB9XG4gICAgICAgIGdyYWRpZW50RGVmc1tlbC5nZXRBdHRyaWJ1dGUoJ2lkJyldID0gZWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JhZGllbnREZWZzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBhdHRyaWJ1dGVzJyBuYW1lL3ZhbHVlLCBnaXZlbiBlbGVtZW50IGFuZCBhbiBhcnJheSBvZiBhdHRyaWJ1dGUgbmFtZXM7XG4gICAgICogUGFyc2VzIHBhcmVudCBcImdcIiBub2RlcyByZWN1cnNpdmVseSB1cHdhcmRzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhdHRyaWJ1dGVzIEFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHBhcnNlZCBhdHRyaWJ1dGVzJyBuYW1lcy92YWx1ZXNcbiAgICAgKi9cbiAgICBwYXJzZUF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIHN2Z1VpZCkge1xuXG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWUsXG4gICAgICAgICAgcGFyZW50QXR0cmlidXRlcyA9IHsgfSxcbiAgICAgICAgICBmb250U2l6ZSwgcGFyZW50Rm9udFNpemU7XG5cbiAgICAgIGlmICh0eXBlb2Ygc3ZnVWlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzdmdVaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3ZnVWlkJyk7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGVyZSdzIGEgcGFyZW50IGNvbnRhaW5lciAoYGdgIG9yIGBhYCBvciBgc3ltYm9sYCBub2RlKSwgcGFyc2UgaXRzIGF0dHJpYnV0ZXMgcmVjdXJzaXZlbHkgdXB3YXJkc1xuICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAmJiBmYWJyaWMuc3ZnVmFsaWRQYXJlbnRzUmVnRXgudGVzdChlbGVtZW50LnBhcmVudE5vZGUubm9kZU5hbWUpKSB7XG4gICAgICAgIHBhcmVudEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQucGFyZW50Tm9kZSwgYXR0cmlidXRlcywgc3ZnVWlkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG93bkF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLnJlZHVjZShmdW5jdGlvbihtZW1vLCBhdHRyKSB7XG4gICAgICAgIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgIGlmICh2YWx1ZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgbWVtb1thdHRyXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgfSwgeyB9KTtcbiAgICAgIC8vIGFkZCB2YWx1ZXMgcGFyc2VkIGZyb20gc3R5bGUsIHdoaWNoIHRha2UgcHJlY2VkZW5jZSBvdmVyIGF0dHJpYnV0ZXNcbiAgICAgIC8vIChzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zdHlsaW5nLmh0bWwjVXNpbmdQcmVzZW50YXRpb25BdHRyaWJ1dGVzKVxuICAgICAgdmFyIGNzc0F0dHJzID0gZXh0ZW5kKFxuICAgICAgICBnZXRHbG9iYWxTdHlsZXNGb3JFbGVtZW50KGVsZW1lbnQsIHN2Z1VpZCksXG4gICAgICAgIGZhYnJpYy5wYXJzZVN0eWxlQXR0cmlidXRlKGVsZW1lbnQpXG4gICAgICApO1xuICAgICAgb3duQXR0cmlidXRlcyA9IGV4dGVuZChcbiAgICAgICAgb3duQXR0cmlidXRlcyxcbiAgICAgICAgY3NzQXR0cnNcbiAgICAgICk7XG4gICAgICBpZiAoY3NzQXR0cnNbY1BhdGhdKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGNQYXRoLCBjc3NBdHRyc1tjUGF0aF0pO1xuICAgICAgfVxuICAgICAgZm9udFNpemUgPSBwYXJlbnRGb250U2l6ZSA9IHBhcmVudEF0dHJpYnV0ZXMuZm9udFNpemUgfHwgZmFicmljLlRleHQuREVGQVVMVF9TVkdfRk9OVF9TSVpFO1xuICAgICAgaWYgKG93bkF0dHJpYnV0ZXNbZlNpemVdKSB7XG4gICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIG1pbmltdW0gc2hvdWxkIGJlIDlweCB3aGVuIGRlYWxpbmcgd2l0aCBlbXMuIHRoaXMgaXMgd2hhdCBsb29rcyBsaWtlIGluIGJyb3dzZXJzLlxuICAgICAgICBvd25BdHRyaWJ1dGVzW2ZTaXplXSA9IGZvbnRTaXplID0gcGFyc2VVbml0KG93bkF0dHJpYnV0ZXNbZlNpemVdLCBwYXJlbnRGb250U2l6ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBub3JtYWxpemVkQXR0ciwgbm9ybWFsaXplZFZhbHVlLCBub3JtYWxpemVkU3R5bGUgPSB7fTtcbiAgICAgIGZvciAodmFyIGF0dHIgaW4gb3duQXR0cmlidXRlcykge1xuICAgICAgICBub3JtYWxpemVkQXR0ciA9IG5vcm1hbGl6ZUF0dHIoYXR0cik7XG4gICAgICAgIG5vcm1hbGl6ZWRWYWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKG5vcm1hbGl6ZWRBdHRyLCBvd25BdHRyaWJ1dGVzW2F0dHJdLCBwYXJlbnRBdHRyaWJ1dGVzLCBmb250U2l6ZSk7XG4gICAgICAgIG5vcm1hbGl6ZWRTdHlsZVtub3JtYWxpemVkQXR0cl0gPSBub3JtYWxpemVkVmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAobm9ybWFsaXplZFN0eWxlICYmIG5vcm1hbGl6ZWRTdHlsZS5mb250KSB7XG4gICAgICAgIGZhYnJpYy5wYXJzZUZvbnREZWNsYXJhdGlvbihub3JtYWxpemVkU3R5bGUuZm9udCwgbm9ybWFsaXplZFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZXJnZWRBdHRycyA9IGV4dGVuZChwYXJlbnRBdHRyaWJ1dGVzLCBub3JtYWxpemVkU3R5bGUpO1xuICAgICAgcmV0dXJuIGZhYnJpYy5zdmdWYWxpZFBhcmVudHNSZWdFeC50ZXN0KGVsZW1lbnQubm9kZU5hbWUpID8gbWVyZ2VkQXR0cnMgOiBfc2V0U3Ryb2tlRmlsbE9wYWNpdHkobWVyZ2VkQXR0cnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGFuIGFycmF5IG9mIHN2ZyBlbGVtZW50cyB0byBjb3JyZXNwb25kaW5nIGZhYnJpYy4qIGluc3RhbmNlc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgQXJyYXkgb2YgZWxlbWVudHMgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBCZWluZyBwYXNzZWQgYW4gYXJyYXkgb2YgZmFicmljIGluc3RhbmNlcyAodHJhbnNmb3JtZWQgZnJvbSBTVkcgZWxlbWVudHMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBTVkcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBwYXJzZUVsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2ssIG9wdGlvbnMsIHJldml2ZXIsIHBhcnNpbmdPcHRpb25zKSB7XG4gICAgICBuZXcgZmFicmljLkVsZW1lbnRzUGFyc2VyKGVsZW1lbnRzLCBjYWxsYmFjaywgb3B0aW9ucywgcmV2aXZlciwgcGFyc2luZ09wdGlvbnMpLnBhcnNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBcInN0eWxlXCIgYXR0cmlidXRlLCByZXR1bmluZyBhbiBvYmplY3Qgd2l0aCB2YWx1ZXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3RzIHdpdGggdmFsdWVzIHBhcnNlZCBmcm9tIHN0eWxlIGF0dHJpYnV0ZSBvZiBhbiBlbGVtZW50XG4gICAgICovXG4gICAgcGFyc2VTdHlsZUF0dHJpYnV0ZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIG9TdHlsZSA9IHsgfSxcbiAgICAgICAgICBzdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuXG4gICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHJldHVybiBvU3R5bGU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhcnNlU3R5bGVTdHJpbmcoc3R5bGUsIG9TdHlsZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcGFyc2VTdHlsZU9iamVjdChzdHlsZSwgb1N0eWxlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9TdHlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIFwicG9pbnRzXCIgYXR0cmlidXRlLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdmFsdWVzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcG9pbnRzIHBvaW50cyBhdHRyaWJ1dGUgc3RyaW5nXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFycmF5IG9mIHBvaW50c1xuICAgICAqL1xuICAgIHBhcnNlUG9pbnRzQXR0cmlidXRlOiBmdW5jdGlvbihwb2ludHMpIHtcblxuICAgICAgLy8gcG9pbnRzIGF0dHJpYnV0ZSBpcyByZXF1aXJlZCBhbmQgbXVzdCBub3QgYmUgZW1wdHlcbiAgICAgIGlmICghcG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyByZXBsYWNlIGNvbW1hcyB3aXRoIHdoaXRlc3BhY2UgYW5kIHJlbW92ZSBib29rZW5kaW5nIHdoaXRlc3BhY2VcbiAgICAgIHBvaW50cyA9IHBvaW50cy5yZXBsYWNlKC8sL2csICcgJykudHJpbSgpO1xuXG4gICAgICBwb2ludHMgPSBwb2ludHMuc3BsaXQoL1xccysvKTtcbiAgICAgIHZhciBwYXJzZWRQb2ludHMgPSBbXSwgaSwgbGVuO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICAgICAgcGFyc2VkUG9pbnRzLnB1c2goe1xuICAgICAgICAgIHg6IHBhcnNlRmxvYXQocG9pbnRzW2ldKSxcbiAgICAgICAgICB5OiBwYXJzZUZsb2F0KHBvaW50c1tpICsgMV0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBvZGQgbnVtYmVyIG9mIHBvaW50cyBpcyBhbiBlcnJvclxuICAgICAgLy8gaWYgKHBhcnNlZFBvaW50cy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAvLyAgIHJldHVybiBudWxsO1xuICAgICAgLy8gfVxuXG4gICAgICByZXR1cm4gcGFyc2VkUG9pbnRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIENTUyBydWxlcyBmb3IgYSBnaXZlbiBTVkcgZG9jdW1lbnRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U1ZHRG9jdW1lbnR9IGRvYyBTVkcgZG9jdW1lbnQgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IENTUyBydWxlcyBvZiB0aGlzIGRvY3VtZW50XG4gICAgICovXG4gICAgZ2V0Q1NTUnVsZXM6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIHN0eWxlcyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3R5bGUnKSwgaSwgbGVuLFxuICAgICAgICAgIGFsbFJ1bGVzID0geyB9LCBydWxlcztcblxuICAgICAgLy8gdmVyeSBjcnVkZSBwYXJzaW5nIG9mIHN0eWxlIGNvbnRlbnRzXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBzdHlsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHN0eWxlQ29udGVudHMgPSBzdHlsZXNbaV0udGV4dENvbnRlbnQ7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGNvbW1lbnRzXG4gICAgICAgIHN0eWxlQ29udGVudHMgPSBzdHlsZUNvbnRlbnRzLnJlcGxhY2UoL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vZywgJycpO1xuICAgICAgICBpZiAoc3R5bGVDb250ZW50cy50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVjb3ZlcnMgYWxsIHRoZSBydWxlIGluIHRoaXMgZm9ybSBgYm9keSB7IHN0eWxlIGNvZGUuLi4gfWBcbiAgICAgICAgLy8gcnVsZXMgPSBzdHlsZUNvbnRlbnRzLm1hdGNoKC9bXntdKlxce1tcXHNcXFNdKj9cXH0vZyk7XG4gICAgICAgIHJ1bGVzID0gc3R5bGVDb250ZW50cy5zcGxpdCgnfScpO1xuICAgICAgICAvLyByZW1vdmUgZW1wdHkgcnVsZXMuXG4gICAgICAgIHJ1bGVzID0gcnVsZXMuZmlsdGVyKGZ1bmN0aW9uKHJ1bGUpIHsgcmV0dXJuIHJ1bGUudHJpbSgpOyB9KTtcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCB3ZSBoYXZlIGhvcGVmdWxseSBhbiBhcnJheSBvZiBydWxlcyBgYm9keSB7IHN0eWxlIGNvZGUuLi4gYFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9vcC1mdW5jXG4gICAgICAgIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuXG4gICAgICAgICAgdmFyIG1hdGNoID0gcnVsZS5zcGxpdCgneycpLFxuICAgICAgICAgICAgICBydWxlT2JqID0geyB9LCBkZWNsYXJhdGlvbiA9IG1hdGNoWzFdLnRyaW0oKSxcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZVBhaXJzID0gZGVjbGFyYXRpb24uc3BsaXQoJzsnKS5maWx0ZXIoZnVuY3Rpb24ocGFpcikgeyByZXR1cm4gcGFpci50cmltKCk7IH0pO1xuXG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcHJvcGVydHlWYWx1ZVBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHByb3BlcnR5VmFsdWVQYWlyc1tpXS5zcGxpdCgnOicpLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFpclswXS50cmltKCksXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYWlyWzFdLnRyaW0oKTtcbiAgICAgICAgICAgIHJ1bGVPYmpbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJ1bGUgPSBtYXRjaFswXS50cmltKCk7XG4gICAgICAgICAgcnVsZS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24oX3J1bGUpIHtcbiAgICAgICAgICAgIF9ydWxlID0gX3J1bGUucmVwbGFjZSgvXnN2Zy9pLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgaWYgKF9ydWxlID09PSAnJykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWxsUnVsZXNbX3J1bGVdKSB7XG4gICAgICAgICAgICAgIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoYWxsUnVsZXNbX3J1bGVdLCBydWxlT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBhbGxSdWxlc1tfcnVsZV0gPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUocnVsZU9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFsbFJ1bGVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyB1cmwgY29ycmVzcG9uZGluZyB0byBhbiBTVkcgZG9jdW1lbnQsIGFuZCBwYXJzZXMgaXQgaW50byBhIHNldCBvZiBmYWJyaWMgb2JqZWN0cy5cbiAgICAgKiBOb3RlIHRoYXQgU1ZHIGlzIGZldGNoZWQgdmlhIFhNTEh0dHBSZXF1ZXN0LCBzbyBpdCBuZWVkcyB0byBjb25mb3JtIHRvIFNPUCAoU2FtZSBPcmlnaW4gUG9saWN5KVxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2YgU1ZHIGVsZW1lbnRzLCBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPYmplY3QgY29udGFpbmluZyBvcHRpb25zIGZvciBwYXJzaW5nXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiBjcm9zc09yaWdpbiBzZXR0aW5nIHRvIHVzZSBmb3IgZXh0ZXJuYWwgcmVzb3VyY2VzXG4gICAgICovXG4gICAgbG9hZFNWR0Zyb21VUkw6IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2ssIHJldml2ZXIsIG9wdGlvbnMpIHtcblxuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoL15cXG5cXHMqLywgJycpLnRyaW0oKTtcbiAgICAgIG5ldyBmYWJyaWMudXRpbC5yZXF1ZXN0KHVybCwge1xuICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICBvbkNvbXBsZXRlOiBvbkNvbXBsZXRlXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gb25Db21wbGV0ZShyKSB7XG5cbiAgICAgICAgdmFyIHhtbCA9IHIucmVzcG9uc2VYTUw7XG4gICAgICAgIGlmICgheG1sIHx8ICF4bWwuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZmFicmljLnBhcnNlU1ZHRG9jdW1lbnQoeG1sLmRvY3VtZW50RWxlbWVudCwgZnVuY3Rpb24gKHJlc3VsdHMsIF9vcHRpb25zLCBlbGVtZW50cywgYWxsRWxlbWVudHMpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHRzLCBfb3B0aW9ucywgZWxlbWVudHMsIGFsbEVsZW1lbnRzKTtcbiAgICAgICAgfSwgcmV2aXZlciwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRha2VzIHN0cmluZyBjb3JyZXNwb25kaW5nIHRvIGFuIFNWRyBkb2N1bWVudCwgYW5kIHBhcnNlcyBpdCBpbnRvIGEgc2V0IG9mIGZhYnJpYyBvYmplY3RzXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBTVkcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCBjb250YWluaW5nIG9wdGlvbnMgZm9yIHBhcnNpbmdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIGNyb3NzT3JpZ2luIGNyb3NzT3JpZ2luIHNldHRpbmcgdG8gdXNlIGZvciBleHRlcm5hbCByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBsb2FkU1ZHRnJvbVN0cmluZzogZnVuY3Rpb24oc3RyaW5nLCBjYWxsYmFjaywgcmV2aXZlciwgb3B0aW9ucykge1xuICAgICAgdmFyIHBhcnNlciA9IG5ldyBmYWJyaWMud2luZG93LkRPTVBhcnNlcigpLFxuICAgICAgICAgIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3RyaW5nLnRyaW0oKSwgJ3RleHQveG1sJyk7XG4gICAgICBmYWJyaWMucGFyc2VTVkdEb2N1bWVudChkb2MuZG9jdW1lbnRFbGVtZW50LCBmdW5jdGlvbiAocmVzdWx0cywgX29wdGlvbnMsIGVsZW1lbnRzLCBhbGxFbGVtZW50cykge1xuICAgICAgICBjYWxsYmFjayhyZXN1bHRzLCBfb3B0aW9ucywgZWxlbWVudHMsIGFsbEVsZW1lbnRzKTtcbiAgICAgIH0sIHJldml2ZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG5mYWJyaWMuRWxlbWVudHNQYXJzZXIgPSBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2ssIG9wdGlvbnMsIHJldml2ZXIsIHBhcnNpbmdPcHRpb25zLCBkb2MpIHtcbiAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMucmV2aXZlciA9IHJldml2ZXI7XG4gIHRoaXMuc3ZnVWlkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5zdmdVaWQpIHx8IDA7XG4gIHRoaXMucGFyc2luZ09wdGlvbnMgPSBwYXJzaW5nT3B0aW9ucztcbiAgdGhpcy5yZWdleFVybCA9IC9edXJsXFwoWydcIl0/IyhbXidcIl0rKVsnXCJdP1xcKS9nO1xuICB0aGlzLmRvYyA9IGRvYztcbn07XG5cbihmdW5jdGlvbihwcm90bykge1xuICBwcm90by5wYXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5zdGFuY2VzID0gbmV3IEFycmF5KHRoaXMuZWxlbWVudHMubGVuZ3RoKTtcbiAgICB0aGlzLm51bUVsZW1lbnRzID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG4gICAgdGhpcy5jcmVhdGVPYmplY3RzKCk7XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlT2JqZWN0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQsIGkpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdmdVaWQnLCBfdGhpcy5zdmdVaWQpO1xuICAgICAgX3RoaXMuY3JlYXRlT2JqZWN0KGVsZW1lbnQsIGkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHByb3RvLmZpbmRUYWcgPSBmdW5jdGlvbihlbCkge1xuICAgIHJldHVybiBmYWJyaWNbZmFicmljLnV0aWwuc3RyaW5nLmNhcGl0YWxpemUoZWwudGFnTmFtZS5yZXBsYWNlKCdzdmc6JywgJycpKV07XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oZWwsIGluZGV4KSB7XG4gICAgdmFyIGtsYXNzID0gdGhpcy5maW5kVGFnKGVsKTtcbiAgICBpZiAoa2xhc3MgJiYga2xhc3MuZnJvbUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGtsYXNzLmZyb21FbGVtZW50KGVsLCB0aGlzLmNyZWF0ZUNhbGxiYWNrKGluZGV4LCBlbCksIHRoaXMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGZhYnJpYy5sb2coZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XG4gICAgfVxuICB9O1xuXG4gIHByb3RvLmNyZWF0ZUNhbGxiYWNrID0gZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgX29wdGlvbnM7XG4gICAgICBfdGhpcy5yZXNvbHZlR3JhZGllbnQob2JqLCBlbCwgJ2ZpbGwnKTtcbiAgICAgIF90aGlzLnJlc29sdmVHcmFkaWVudChvYmosIGVsLCAnc3Ryb2tlJyk7XG4gICAgICBpZiAob2JqIGluc3RhbmNlb2YgZmFicmljLkltYWdlICYmIG9iai5fb3JpZ2luYWxFbGVtZW50KSB7XG4gICAgICAgIF9vcHRpb25zID0gb2JqLnBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZShlbCk7XG4gICAgICB9XG4gICAgICBvYmouX3JlbW92ZVRyYW5zZm9ybU1hdHJpeChfb3B0aW9ucyk7XG4gICAgICBfdGhpcy5yZXNvbHZlQ2xpcFBhdGgob2JqLCBlbCk7XG4gICAgICBfdGhpcy5yZXZpdmVyICYmIF90aGlzLnJldml2ZXIoZWwsIG9iaik7XG4gICAgICBfdGhpcy5pbnN0YW5jZXNbaW5kZXhdID0gb2JqO1xuICAgICAgX3RoaXMuY2hlY2tJZkRvbmUoKTtcbiAgICB9O1xuICB9O1xuXG4gIHByb3RvLmV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24gPSBmdW5jdGlvbihvYmosIHByb3BlcnR5LCBzdG9yYWdlKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqW3Byb3BlcnR5XSwgcmVnZXggPSB0aGlzLnJlZ2V4VXJsO1xuICAgIGlmICghcmVnZXgudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgaWQgPSByZWdleC5leGVjKHZhbHVlKVsxXTtcbiAgICByZWdleC5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiBmYWJyaWNbc3RvcmFnZV1bdGhpcy5zdmdVaWRdW2lkXTtcbiAgfTtcblxuICBwcm90by5yZXNvbHZlR3JhZGllbnQgPSBmdW5jdGlvbihvYmosIGVsLCBwcm9wZXJ0eSkge1xuICAgIHZhciBncmFkaWVudERlZiA9IHRoaXMuZXh0cmFjdFByb3BlcnR5RGVmaW5pdGlvbihvYmosIHByb3BlcnR5LCAnZ3JhZGllbnREZWZzJyk7XG4gICAgaWYgKGdyYWRpZW50RGVmKSB7XG4gICAgICB2YXIgb3BhY2l0eUF0dHIgPSBlbC5nZXRBdHRyaWJ1dGUocHJvcGVydHkgKyAnLW9wYWNpdHknKTtcbiAgICAgIHZhciBncmFkaWVudCA9IGZhYnJpYy5HcmFkaWVudC5mcm9tRWxlbWVudChncmFkaWVudERlZiwgb2JqLCBvcGFjaXR5QXR0ciwgdGhpcy5vcHRpb25zKTtcbiAgICAgIG9iai5zZXQocHJvcGVydHksIGdyYWRpZW50KTtcbiAgICB9XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlQ2xpcFBhdGhDYWxsYmFjayA9IGZ1bmN0aW9uKG9iaiwgY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKF9uZXdPYmopIHtcbiAgICAgIF9uZXdPYmouX3JlbW92ZVRyYW5zZm9ybU1hdHJpeCgpO1xuICAgICAgX25ld09iai5maWxsUnVsZSA9IF9uZXdPYmouY2xpcFJ1bGU7XG4gICAgICBjb250YWluZXIucHVzaChfbmV3T2JqKTtcbiAgICB9O1xuICB9O1xuXG4gIHByb3RvLnJlc29sdmVDbGlwUGF0aCA9IGZ1bmN0aW9uKG9iaiwgdXNpbmdFbGVtZW50KSB7XG4gICAgdmFyIGNsaXBQYXRoID0gdGhpcy5leHRyYWN0UHJvcGVydHlEZWZpbml0aW9uKG9iaiwgJ2NsaXBQYXRoJywgJ2NsaXBQYXRocycpLFxuICAgICAgICBlbGVtZW50LCBrbGFzcywgb2JqVHJhbnNmb3JtSW52LCBjb250YWluZXIsIGdUcmFuc2Zvcm0sIG9wdGlvbnM7XG4gICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICBjb250YWluZXIgPSBbXTtcbiAgICAgIG9ialRyYW5zZm9ybUludiA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybShvYmouY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtcbiAgICAgIC8vIG1vdmUgdGhlIGNsaXBQYXRoIHRhZyBhcyBzaWJsaW5nIHRvIHRoZSByZWFsIGVsZW1lbnQgdGhhdCBpcyB1c2luZyBpdFxuICAgICAgdmFyIGNsaXBQYXRoVGFnID0gY2xpcFBhdGhbMF0ucGFyZW50Tm9kZTtcbiAgICAgIHZhciBjbGlwUGF0aE93bmVyID0gdXNpbmdFbGVtZW50O1xuICAgICAgd2hpbGUgKGNsaXBQYXRoT3duZXIucGFyZW50Tm9kZSAmJiBjbGlwUGF0aE93bmVyLmdldEF0dHJpYnV0ZSgnY2xpcC1wYXRoJykgIT09IG9iai5jbGlwUGF0aCkge1xuICAgICAgICBjbGlwUGF0aE93bmVyID0gY2xpcFBhdGhPd25lci5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgY2xpcFBhdGhPd25lci5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNsaXBQYXRoVGFnKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpcFBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxlbWVudCA9IGNsaXBQYXRoW2ldO1xuICAgICAgICBrbGFzcyA9IHRoaXMuZmluZFRhZyhlbGVtZW50KTtcbiAgICAgICAga2xhc3MuZnJvbUVsZW1lbnQoXG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICB0aGlzLmNyZWF0ZUNsaXBQYXRoQ2FsbGJhY2sob2JqLCBjb250YWluZXIpLFxuICAgICAgICAgIHRoaXMub3B0aW9uc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRhaW5lci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY2xpcFBhdGggPSBjb250YWluZXJbMF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xpcFBhdGggPSBuZXcgZmFicmljLkdyb3VwKGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgICBnVHJhbnNmb3JtID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhcbiAgICAgICAgb2JqVHJhbnNmb3JtSW52LFxuICAgICAgICBjbGlwUGF0aC5jYWxjVHJhbnNmb3JtTWF0cml4KClcbiAgICAgICk7XG4gICAgICBpZiAoY2xpcFBhdGguY2xpcFBhdGgpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ2xpcFBhdGgoY2xpcFBhdGgsIGNsaXBQYXRoT3duZXIpO1xuICAgICAgfVxuICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZShnVHJhbnNmb3JtKTtcbiAgICAgIGNsaXBQYXRoLmZsaXBYID0gZmFsc2U7XG4gICAgICBjbGlwUGF0aC5mbGlwWSA9IGZhbHNlO1xuICAgICAgY2xpcFBhdGguc2V0KCdzY2FsZVgnLCBvcHRpb25zLnNjYWxlWCk7XG4gICAgICBjbGlwUGF0aC5zZXQoJ3NjYWxlWScsIG9wdGlvbnMuc2NhbGVZKTtcbiAgICAgIGNsaXBQYXRoLmFuZ2xlID0gb3B0aW9ucy5hbmdsZTtcbiAgICAgIGNsaXBQYXRoLnNrZXdYID0gb3B0aW9ucy5za2V3WDtcbiAgICAgIGNsaXBQYXRoLnNrZXdZID0gMDtcbiAgICAgIGNsaXBQYXRoLnNldFBvc2l0aW9uQnlPcmlnaW4oeyB4OiBvcHRpb25zLnRyYW5zbGF0ZVgsIHk6IG9wdGlvbnMudHJhbnNsYXRlWSB9LCAnY2VudGVyJywgJ2NlbnRlcicpO1xuICAgICAgb2JqLmNsaXBQYXRoID0gY2xpcFBhdGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gaWYgY2xpcC1wYXRoIGRvZXMgbm90IHJlc29sdmUgdG8gYW55IGVsZW1lbnQsIGRlbGV0ZSB0aGUgcHJvcGVydHkuXG4gICAgICBkZWxldGUgb2JqLmNsaXBQYXRoO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5jaGVja0lmRG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgtLXRoaXMubnVtRWxlbWVudHMgPT09IDApIHtcbiAgICAgIHRoaXMuaW5zdGFuY2VzID0gdGhpcy5pbnN0YW5jZXMuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLCBlcWVxZXFcbiAgICAgICAgcmV0dXJuIGVsICE9IG51bGw7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5pbnN0YW5jZXMsIHRoaXMuZWxlbWVudHMpO1xuICAgIH1cbiAgfTtcbn0pKGZhYnJpYy5FbGVtZW50c1BhcnNlci5wcm90b3R5cGUpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQWRhcHRhdGlvbiBvZiB3b3JrIG9mIEtldmluIExpbmRzZXkgKGtldmluQGtldmxpbmRldi5jb20pICovXG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pO1xuXG4gIGlmIChmYWJyaWMuUG9pbnQpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlBvaW50IGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZhYnJpYy5Qb2ludCA9IFBvaW50O1xuXG4gIC8qKlxuICAgKiBQb2ludCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlBvaW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgKi9cbiAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIFBvaW50LnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgZmFicmljLlBvaW50LnByb3RvdHlwZSAqLyB7XG5cbiAgICB0eXBlOiAncG9pbnQnLFxuXG4gICAgY29uc3RydWN0b3I6IFBvaW50LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbm90aGVyIHBvaW50IHRvIHRoaXMgb25lIGFuZCByZXR1cm5zIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IG5ldyBQb2ludCBpbnN0YW5jZSB3aXRoIGFkZGVkIHZhbHVlc1xuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICsgdGhhdC54LCB0aGlzLnkgKyB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFub3RoZXIgcG9pbnQgdG8gdGhpcyBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBhZGRFcXVhbHM6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICB0aGlzLnggKz0gdGhhdC54O1xuICAgICAgdGhpcy55ICs9IHRoYXQueTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHZhbHVlIHRvIHRoaXMgcG9pbnQgYW5kIHJldHVybnMgYSBuZXcgb25lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gbmV3IFBvaW50IHdpdGggYWRkZWQgdmFsdWVcbiAgICAgKi9cbiAgICBzY2FsYXJBZGQ6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICsgc2NhbGFyLCB0aGlzLnkgKyBzY2FsYXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHZhbHVlIHRvIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNjYWxhckFkZEVxdWFsczogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgdGhpcy54ICs9IHNjYWxhcjtcbiAgICAgIHRoaXMueSArPSBzY2FsYXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIGFub3RoZXIgcG9pbnQgZnJvbSB0aGlzIHBvaW50IGFuZCByZXR1cm5zIGEgbmV3IG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBuZXcgUG9pbnQgb2JqZWN0IHdpdGggc3VidHJhY3RlZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzdWJ0cmFjdDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54IC0gdGhhdC54LCB0aGlzLnkgLSB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgYW5vdGhlciBwb2ludCBmcm9tIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzdWJ0cmFjdEVxdWFsczogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHRoaXMueCAtPSB0aGF0Lng7XG4gICAgICB0aGlzLnkgLT0gdGhhdC55O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB2YWx1ZSBmcm9tIHRoaXMgcG9pbnQgYW5kIHJldHVybnMgYSBuZXcgb25lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBzY2FsYXJTdWJ0cmFjdDogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLSBzY2FsYXIsIHRoaXMueSAtIHNjYWxhcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB2YWx1ZSBmcm9tIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNjYWxhclN1YnRyYWN0RXF1YWxzOiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICB0aGlzLnggLT0gc2NhbGFyO1xuICAgICAgdGhpcy55IC09IHNjYWxhcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoaXMgcG9pbnQgYnkgYSB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyBvbmVcbiAgICAgKiBUT0RPOiByZW5hbWUgaW4gc2NhbGFyTXVsdGlwbHkgaW4gMi4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBtdWx0aXBseTogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKiBzY2FsYXIsIHRoaXMueSAqIHNjYWxhcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhpcyBwb2ludCBieSBhIHZhbHVlXG4gICAgICogVE9ETzogcmVuYW1lIGluIHNjYWxhck11bHRpcGx5RXF1YWxzIGluIDIuMFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgbXVsdGlwbHlFcXVhbHM6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHRoaXMueCAqPSBzY2FsYXI7XG4gICAgICB0aGlzLnkgKj0gc2NhbGFyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgdGhpcyBwb2ludCBieSBhIHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IG9uZVxuICAgICAqIFRPRE86IHJlbmFtZSBpbiBzY2FsYXJEaXZpZGUgaW4gMi4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBkaXZpZGU6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54IC8gc2NhbGFyLCB0aGlzLnkgLyBzY2FsYXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHRoaXMgcG9pbnQgYnkgYSB2YWx1ZVxuICAgICAqIFRPRE86IHJlbmFtZSBpbiBzY2FsYXJEaXZpZGVFcXVhbHMgaW4gMi4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBkaXZpZGVFcXVhbHM6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHRoaXMueCAvPSBzY2FsYXI7XG4gICAgICB0aGlzLnkgLz0gc2NhbGFyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGVxdWFsIHRvIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGVxOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuICh0aGlzLnggPT09IHRoYXQueCAmJiB0aGlzLnkgPT09IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGxlc3MgdGhhbiBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBsdDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiAodGhpcy54IDwgdGhhdC54ICYmIHRoaXMueSA8IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBsdGU6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gKHRoaXMueCA8PSB0aGF0LnggJiYgdGhpcy55IDw9IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgcG9pbnQgaXMgZ3JlYXRlciBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBndDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiAodGhpcy54ID4gdGhhdC54ICYmIHRoaXMueSA+IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBndGU6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gKHRoaXMueCA+PSB0aGF0LnggJiYgdGhpcy55ID49IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgbmV3IHBvaW50IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgbGluZWFyIGludGVycG9sYXRpb24gd2l0aCB0aGlzIG9uZSBhbmQgYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0ICwgcG9zaXRpb24gb2YgaW50ZXJwb2xhdGlvbiwgYmV0d2VlbiAwIGFuZCAxIGRlZmF1bHQgMC41XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIGxlcnA6IGZ1bmN0aW9uICh0aGF0LCB0KSB7XG4gICAgICBpZiAodHlwZW9mIHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHQgPSAwLjU7XG4gICAgICB9XG4gICAgICB0ID0gTWF0aC5tYXgoTWF0aC5taW4oMSwgdCksIDApO1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKyAodGhhdC54IC0gdGhpcy54KSAqIHQsIHRoaXMueSArICh0aGF0LnkgLSB0aGlzLnkpICogdCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IGFuZCBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGRpc3RhbmNlRnJvbTogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHZhciBkeCA9IHRoaXMueCAtIHRoYXQueCxcbiAgICAgICAgICBkeSA9IHRoaXMueSAtIHRoYXQueTtcbiAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwb2ludCBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgbWlkUG9pbnRGcm9tOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVycCh0aGF0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBwb2ludCB3aGljaCBpcyB0aGUgbWluIG9mIHRoaXMgYW5kIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgbWluOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludChNYXRoLm1pbih0aGlzLngsIHRoYXQueCksIE1hdGgubWluKHRoaXMueSwgdGhhdC55KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgcG9pbnQgd2hpY2ggaXMgdGhlIG1heCBvZiB0aGlzIGFuZCBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIG1heDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQoTWF0aC5tYXgodGhpcy54LCB0aGF0LngpLCBNYXRoLm1heCh0aGlzLnksIHRoYXQueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHBvaW50XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy54ICsgJywnICsgdGhpcy55O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHgveSBvZiB0aGlzIHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRYWTogZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgIHRoaXMueCA9IHg7XG4gICAgICB0aGlzLnkgPSB5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgeCBvZiB0aGlzIHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0WDogZnVuY3Rpb24gKHgpIHtcbiAgICAgIHRoaXMueCA9IHg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB5IG9mIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRZOiBmdW5jdGlvbiAoeSkge1xuICAgICAgdGhpcy55ID0geTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHgveSBvZiB0aGlzIHBvaW50IGZyb20gYW5vdGhlciBwb2ludFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldEZyb21Qb2ludDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHRoaXMueCA9IHRoYXQueDtcbiAgICAgIHRoaXMueSA9IHRoYXQueTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTd2FwcyB4L3kgb2YgdGhpcyBwb2ludCBhbmQgYW5vdGhlciBwb2ludFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICovXG4gICAgc3dhcDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHZhciB4ID0gdGhpcy54LFxuICAgICAgICAgIHkgPSB0aGlzLnk7XG4gICAgICB0aGlzLnggPSB0aGF0Lng7XG4gICAgICB0aGlzLnkgPSB0aGF0Lnk7XG4gICAgICB0aGF0LnggPSB4O1xuICAgICAgdGhhdC55ID0geTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGEgY2xvbmVkIGluc3RhbmNlIG9mIHRoZSBwb2ludFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gICAgfVxuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICAvKiBBZGFwdGF0aW9uIG9mIHdvcmsgb2YgS2V2aW4gTGluZHNleSAoa2V2aW5Aa2V2bGluZGV2LmNvbSkgKi9cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pO1xuXG4gIGlmIChmYWJyaWMuSW50ZXJzZWN0aW9uKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5JbnRlcnNlY3Rpb24gaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyc2VjdGlvbiBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkludGVyc2VjdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gSW50ZXJzZWN0aW9uKHN0YXR1cykge1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMucG9pbnRzID0gW107XG4gIH1cblxuICBmYWJyaWMuSW50ZXJzZWN0aW9uID0gSW50ZXJzZWN0aW9uO1xuXG4gIGZhYnJpYy5JbnRlcnNlY3Rpb24ucHJvdG90eXBlID0gLyoqIEBsZW5kcyBmYWJyaWMuSW50ZXJzZWN0aW9uLnByb3RvdHlwZSAqLyB7XG5cbiAgICBjb25zdHJ1Y3RvcjogSW50ZXJzZWN0aW9uLFxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIHBvaW50IHRvIGludGVyc2VjdGlvblxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYXBwZW5kUG9pbnQ6IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBwb2ludHMgdG8gaW50ZXJzZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAgICogQHJldHVybiB7ZmFicmljLkludGVyc2VjdGlvbn0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBhcHBlbmRQb2ludHM6IGZ1bmN0aW9uIChwb2ludHMpIHtcbiAgICAgIHRoaXMucG9pbnRzID0gdGhpcy5wb2ludHMuY29uY2F0KHBvaW50cyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBvbmUgbGluZSBpbnRlcnNlY3RzIGFub3RoZXJcbiAgICogVE9ETzogcmVuYW1lIGluIGludGVyc2VjdFNlZ21lbnRTZWdtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGExXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBhMlxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gYjFcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGIyXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259XG4gICAqL1xuICBmYWJyaWMuSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVMaW5lID0gZnVuY3Rpb24gKGExLCBhMiwgYjEsIGIyKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgdWFUID0gKGIyLnggLSBiMS54KSAqIChhMS55IC0gYjEueSkgLSAoYjIueSAtIGIxLnkpICogKGExLnggLSBiMS54KSxcbiAgICAgICAgdWJUID0gKGEyLnggLSBhMS54KSAqIChhMS55IC0gYjEueSkgLSAoYTIueSAtIGExLnkpICogKGExLnggLSBiMS54KSxcbiAgICAgICAgdUIgPSAoYjIueSAtIGIxLnkpICogKGEyLnggLSBhMS54KSAtIChiMi54IC0gYjEueCkgKiAoYTIueSAtIGExLnkpO1xuICAgIGlmICh1QiAhPT0gMCkge1xuICAgICAgdmFyIHVhID0gdWFUIC8gdUIsXG4gICAgICAgICAgdWIgPSB1YlQgLyB1QjtcbiAgICAgIGlmICgwIDw9IHVhICYmIHVhIDw9IDEgJiYgMCA8PSB1YiAmJiB1YiA8PSAxKSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ0ludGVyc2VjdGlvbicpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQobmV3IGZhYnJpYy5Qb2ludChhMS54ICsgdWEgKiAoYTIueCAtIGExLngpLCBhMS55ICsgdWEgKiAoYTIueSAtIGExLnkpKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmICh1YVQgPT09IDAgfHwgdWJUID09PSAwKSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ0NvaW5jaWRlbnQnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdQYXJhbGxlbCcpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgbGluZSBpbnRlcnNlY3RzIHBvbHlnb25cbiAgICogVE9ETzogcmVuYW1lIGluIGludGVyc2VjdFNlZ21lbnRQb2x5Z29uXG4gICAqIGZpeCBkZXRlY3Rpb24gb2YgY29pbmNpZGVudFxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBhMVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gYTJcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259XG4gICAqL1xuICBmYWJyaWMuSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uID0gZnVuY3Rpb24oYTEsIGEyLCBwb2ludHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpLFxuICAgICAgICBsZW5ndGggPSBwb2ludHMubGVuZ3RoLFxuICAgICAgICBiMSwgYjIsIGludGVyLCBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBiMSA9IHBvaW50c1tpXTtcbiAgICAgIGIyID0gcG9pbnRzWyhpICsgMSkgJSBsZW5ndGhdO1xuICAgICAgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZUxpbmUoYTEsIGEyLCBiMSwgYjIpO1xuXG4gICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyLnBvaW50cyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnSW50ZXJzZWN0aW9uJztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHBvbHlnb24gaW50ZXJzZWN0cyBhbm90aGVyIHBvbHlnb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHMxXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50czJcbiAgICogQHJldHVybiB7ZmFicmljLkludGVyc2VjdGlvbn1cbiAgICovXG4gIGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0UG9seWdvblBvbHlnb24gPSBmdW5jdGlvbiAocG9pbnRzMSwgcG9pbnRzMikge1xuICAgIHZhciByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCksXG4gICAgICAgIGxlbmd0aCA9IHBvaW50czEubGVuZ3RoLCBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYTEgPSBwb2ludHMxW2ldLFxuICAgICAgICAgIGEyID0gcG9pbnRzMVsoaSArIDEpICUgbGVuZ3RoXSxcbiAgICAgICAgICBpbnRlciA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbihhMSwgYTIsIHBvaW50czIpO1xuXG4gICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyLnBvaW50cyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnSW50ZXJzZWN0aW9uJztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHBvbHlnb24gaW50ZXJzZWN0cyByZWN0YW5nbGVcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHNcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHIxXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSByMlxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW50ZXJzZWN0aW9ufVxuICAgKi9cbiAgZmFicmljLkludGVyc2VjdGlvbi5pbnRlcnNlY3RQb2x5Z29uUmVjdGFuZ2xlID0gZnVuY3Rpb24gKHBvaW50cywgcjEsIHIyKSB7XG4gICAgdmFyIG1pbiA9IHIxLm1pbihyMiksXG4gICAgICAgIG1heCA9IHIxLm1heChyMiksXG4gICAgICAgIHRvcFJpZ2h0ID0gbmV3IGZhYnJpYy5Qb2ludChtYXgueCwgbWluLnkpLFxuICAgICAgICBib3R0b21MZWZ0ID0gbmV3IGZhYnJpYy5Qb2ludChtaW4ueCwgbWF4LnkpLFxuICAgICAgICBpbnRlcjEgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24obWluLCB0b3BSaWdodCwgcG9pbnRzKSxcbiAgICAgICAgaW50ZXIyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKHRvcFJpZ2h0LCBtYXgsIHBvaW50cyksXG4gICAgICAgIGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbihtYXgsIGJvdHRvbUxlZnQsIHBvaW50cyksXG4gICAgICAgIGludGVyNCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbihib3R0b21MZWZ0LCBtaW4sIHBvaW50cyksXG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKTtcblxuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIxLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjIucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMy5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXI0LnBvaW50cyk7XG5cbiAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ0ludGVyc2VjdGlvbic7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KTtcblxuICBpZiAoZmFicmljLkNvbG9yKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5Db2xvciBpcyBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbG9yIGNsYXNzXG4gICAqIFRoZSBwdXJwb3NlIG9mIHtAbGluayBmYWJyaWMuQ29sb3J9IGlzIHRvIGFic3RyYWN0IGFuZCBlbmNhcHN1bGF0ZSBjb21tb24gY29sb3Igb3BlcmF0aW9ucztcbiAgICoge0BsaW5rIGZhYnJpYy5Db2xvcn0gaXMgYSBjb25zdHJ1Y3RvciBhbmQgY3JlYXRlcyBpbnN0YW5jZXMgb2Yge0BsaW5rIGZhYnJpYy5Db2xvcn0gb2JqZWN0cy5cbiAgICpcbiAgICogQGNsYXNzIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3Igb3B0aW9uYWwgaW4gaGV4IG9yIHJnYihhKSBvciBoc2wgZm9ybWF0IG9yIGZyb20ga25vd24gY29sb3IgbGlzdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9IHRoaXNBcmdcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIvI2NvbG9yc31cbiAgICovXG4gIGZ1bmN0aW9uIENvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCFjb2xvcikge1xuICAgICAgdGhpcy5zZXRTb3VyY2UoWzAsIDAsIDAsIDFdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl90cnlQYXJzaW5nQ29sb3IoY29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZhYnJpYy5Db2xvciA9IENvbG9yO1xuXG4gIGZhYnJpYy5Db2xvci5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5Db2xvci5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gY29sb3IgQ29sb3IgdmFsdWUgdG8gcGFyc2VcbiAgICAgKi9cbiAgICBfdHJ5UGFyc2luZ0NvbG9yOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgdmFyIHNvdXJjZTtcblxuICAgICAgaWYgKGNvbG9yIGluIENvbG9yLmNvbG9yTmFtZU1hcCkge1xuICAgICAgICBjb2xvciA9IENvbG9yLmNvbG9yTmFtZU1hcFtjb2xvcl07XG4gICAgICB9XG5cbiAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICBzb3VyY2UgPSBbMjU1LCAyNTUsIDI1NSwgMF07XG4gICAgICB9XG5cbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHNvdXJjZSA9IENvbG9yLnNvdXJjZUZyb21IZXgoY29sb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgc291cmNlID0gQ29sb3Iuc291cmNlRnJvbVJnYihjb2xvcik7XG4gICAgICB9XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBzb3VyY2UgPSBDb2xvci5zb3VyY2VGcm9tSHNsKGNvbG9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIC8vaWYgY29sb3IgaXMgbm90IHJlY29nbml6ZSBsZXQncyBtYWtlIGJsYWNrIGFzIGNhbnZhcyBkb2VzXG4gICAgICAgIHNvdXJjZSA9IFswLCAwLCAwLCAxXTtcbiAgICAgIH1cbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5zZXRTb3VyY2Uoc291cmNlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRhcHRlZCBmcm9tIDxhIGhyZWY9XCJodHRwczovL3Jhd2dpdGh1Yi5jb20vbWppamFja3Nvbi9tamlqYWNrc29uLmdpdGh1Yi5jb20vbWFzdGVyLzIwMDgvMDIvcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jb252ZXJzaW9uLWFsZ29yaXRobXMtaW4tamF2YXNjcmlwdC5odG1sXCI+aHR0cHM6Ly9naXRodWIuY29tL21qaWphY2tzb248L2E+XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gciBSZWQgY29sb3IgdmFsdWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZyBHcmVlbiBjb2xvciB2YWx1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIEJsdWUgY29sb3IgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gSHNsIGNvbG9yXG4gICAgICovXG4gICAgX3JnYlRvSHNsOiBmdW5jdGlvbihyLCBnLCBiKSB7XG4gICAgICByIC89IDI1NTsgZyAvPSAyNTU7IGIgLz0gMjU1O1xuXG4gICAgICB2YXIgaCwgcywgbCxcbiAgICAgICAgICBtYXggPSBmYWJyaWMudXRpbC5hcnJheS5tYXgoW3IsIGcsIGJdKSxcbiAgICAgICAgICBtaW4gPSBmYWJyaWMudXRpbC5hcnJheS5taW4oW3IsIGcsIGJdKTtcblxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcblxuICAgICAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgICAgIGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBkID0gbWF4IC0gbWluO1xuICAgICAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbik7XG4gICAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgICAgY2FzZSByOlxuICAgICAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBnOlxuICAgICAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgYjpcbiAgICAgICAgICAgIGggPSAociAtIGcpIC8gZCArIDQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBoIC89IDY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbXG4gICAgICAgIE1hdGgucm91bmQoaCAqIDM2MCksXG4gICAgICAgIE1hdGgucm91bmQocyAqIDEwMCksXG4gICAgICAgIE1hdGgucm91bmQobCAqIDEwMClcbiAgICAgIF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc291cmNlIG9mIHRoaXMgY29sb3IgKHdoZXJlIHNvdXJjZSBpcyBhbiBhcnJheSByZXByZXNlbnRhdGlvbjsgZXg6IFsyMDAsIDIwMCwgMTAwLCAxXSlcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRTb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzb3VyY2Ugb2YgdGhpcyBjb2xvciAod2hlcmUgc291cmNlIGlzIGFuIGFycmF5IHJlcHJlc2VudGF0aW9uOyBleDogWzIwMCwgMjAwLCAxMDAsIDFdKVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZVxuICAgICAqL1xuICAgIHNldFNvdXJjZTogZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICB0aGlzLl9zb3VyY2UgPSBzb3VyY2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gUkdCIGZvcm1hdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gZXg6IHJnYigwLTI1NSwwLTI1NSwwLTI1NSlcbiAgICAgKi9cbiAgICB0b1JnYjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICAgIHJldHVybiAncmdiKCcgKyBzb3VyY2VbMF0gKyAnLCcgKyBzb3VyY2VbMV0gKyAnLCcgKyBzb3VyY2VbMl0gKyAnKSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gUkdCQSBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGV4OiByZ2JhKDAtMjU1LDAtMjU1LDAtMjU1LDAtMSlcbiAgICAgKi9cbiAgICB0b1JnYmE6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgICByZXR1cm4gJ3JnYmEoJyArIHNvdXJjZVswXSArICcsJyArIHNvdXJjZVsxXSArICcsJyArIHNvdXJjZVsyXSArICcsJyArIHNvdXJjZVszXSArICcpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2xvciByZXByZXNlbnRhdGlvbiBpbiBIU0wgZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogaHNsKDAtMzYwLDAlLTEwMCUsMCUtMTAwJSlcbiAgICAgKi9cbiAgICB0b0hzbDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBoc2wgPSB0aGlzLl9yZ2JUb0hzbChzb3VyY2VbMF0sIHNvdXJjZVsxXSwgc291cmNlWzJdKTtcblxuICAgICAgcmV0dXJuICdoc2woJyArIGhzbFswXSArICcsJyArIGhzbFsxXSArICclLCcgKyBoc2xbMl0gKyAnJSknO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbG9yIHJlcHJlc2VudGF0aW9uIGluIEhTTEEgZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogaHNsYSgwLTM2MCwwJS0xMDAlLDAlLTEwMCUsMC0xKVxuICAgICAqL1xuICAgIHRvSHNsYTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBoc2wgPSB0aGlzLl9yZ2JUb0hzbChzb3VyY2VbMF0sIHNvdXJjZVsxXSwgc291cmNlWzJdKTtcblxuICAgICAgcmV0dXJuICdoc2xhKCcgKyBoc2xbMF0gKyAnLCcgKyBoc2xbMV0gKyAnJSwnICsgaHNsWzJdICsgJyUsJyArIHNvdXJjZVszXSArICcpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2xvciByZXByZXNlbnRhdGlvbiBpbiBIRVggZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogRkY1NTU1XG4gICAgICovXG4gICAgdG9IZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksIHIsIGcsIGI7XG5cbiAgICAgIHIgPSBzb3VyY2VbMF0udG9TdHJpbmcoMTYpO1xuICAgICAgciA9IChyLmxlbmd0aCA9PT0gMSkgPyAoJzAnICsgcikgOiByO1xuXG4gICAgICBnID0gc291cmNlWzFdLnRvU3RyaW5nKDE2KTtcbiAgICAgIGcgPSAoZy5sZW5ndGggPT09IDEpID8gKCcwJyArIGcpIDogZztcblxuICAgICAgYiA9IHNvdXJjZVsyXS50b1N0cmluZygxNik7XG4gICAgICBiID0gKGIubGVuZ3RoID09PSAxKSA/ICgnMCcgKyBiKSA6IGI7XG5cbiAgICAgIHJldHVybiByLnRvVXBwZXJDYXNlKCkgKyBnLnRvVXBwZXJDYXNlKCkgKyBiLnRvVXBwZXJDYXNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gSEVYQSBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGV4OiBGRjU1NTVDQ1xuICAgICAqL1xuICAgIHRvSGV4YTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSwgYTtcblxuICAgICAgYSA9IE1hdGgucm91bmQoc291cmNlWzNdICogMjU1KTtcbiAgICAgIGEgPSBhLnRvU3RyaW5nKDE2KTtcbiAgICAgIGEgPSAoYS5sZW5ndGggPT09IDEpID8gKCcwJyArIGEpIDogYTtcblxuICAgICAgcmV0dXJuIHRoaXMudG9IZXgoKSArIGEudG9VcHBlckNhc2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB2YWx1ZSBvZiBhbHBoYSBjaGFubmVsIGZvciB0aGlzIGNvbG9yXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAwLTFcbiAgICAgKi9cbiAgICBnZXRBbHBoYTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRTb3VyY2UoKVszXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWx1ZSBvZiBhbHBoYSBjaGFubmVsIGZvciB0aGlzIGNvbG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFscGhhIEFscGhhIHZhbHVlIDAtMVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHNldEFscGhhOiBmdW5jdGlvbihhbHBoYSkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgICBzb3VyY2VbM10gPSBhbHBoYTtcbiAgICAgIHRoaXMuc2V0U291cmNlKHNvdXJjZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjb2xvciB0byBpdHMgZ3JheXNjYWxlIHJlcHJlc2VudGF0aW9uXG4gICAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfSB0aGlzQXJnXG4gICAgICovXG4gICAgdG9HcmF5c2NhbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksXG4gICAgICAgICAgYXZlcmFnZSA9IHBhcnNlSW50KChzb3VyY2VbMF0gKiAwLjMgKyBzb3VyY2VbMV0gKiAwLjU5ICsgc291cmNlWzJdICogMC4xMSkudG9GaXhlZCgwKSwgMTApLFxuICAgICAgICAgIGN1cnJlbnRBbHBoYSA9IHNvdXJjZVszXTtcbiAgICAgIHRoaXMuc2V0U291cmNlKFthdmVyYWdlLCBhdmVyYWdlLCBhdmVyYWdlLCBjdXJyZW50QWxwaGFdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGNvbG9yIHRvIGl0cyBibGFjayBhbmQgd2hpdGUgcmVwcmVzZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGhyZXNob2xkXG4gICAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfSB0aGlzQXJnXG4gICAgICovXG4gICAgdG9CbGFja1doaXRlOiBmdW5jdGlvbih0aHJlc2hvbGQpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpLFxuICAgICAgICAgIGF2ZXJhZ2UgPSAoc291cmNlWzBdICogMC4zICsgc291cmNlWzFdICogMC41OSArIHNvdXJjZVsyXSAqIDAuMTEpLnRvRml4ZWQoMCksXG4gICAgICAgICAgY3VycmVudEFscGhhID0gc291cmNlWzNdO1xuXG4gICAgICB0aHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgMTI3O1xuXG4gICAgICBhdmVyYWdlID0gKE51bWJlcihhdmVyYWdlKSA8IE51bWJlcih0aHJlc2hvbGQpKSA/IDAgOiAyNTU7XG4gICAgICB0aGlzLnNldFNvdXJjZShbYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY3VycmVudEFscGhhXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogT3ZlcmxheXMgY29sb3Igd2l0aCBhbm90aGVyIGNvbG9yXG4gICAgICogQHBhcmFtIHtTdHJpbmd8ZmFicmljLkNvbG9yfSBvdGhlckNvbG9yXG4gICAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfSB0aGlzQXJnXG4gICAgICovXG4gICAgb3ZlcmxheVdpdGg6IGZ1bmN0aW9uKG90aGVyQ29sb3IpIHtcbiAgICAgIGlmICghKG90aGVyQ29sb3IgaW5zdGFuY2VvZiBDb2xvcikpIHtcbiAgICAgICAgb3RoZXJDb2xvciA9IG5ldyBDb2xvcihvdGhlckNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIGFscGhhID0gdGhpcy5nZXRBbHBoYSgpLFxuICAgICAgICAgIG90aGVyQWxwaGEgPSAwLjUsXG4gICAgICAgICAgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBvdGhlclNvdXJjZSA9IG90aGVyQ29sb3IuZ2V0U291cmNlKCksIGk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2goTWF0aC5yb3VuZCgoc291cmNlW2ldICogKDEgLSBvdGhlckFscGhhKSkgKyAob3RoZXJTb3VyY2VbaV0gKiBvdGhlckFscGhhKSkpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbM10gPSBhbHBoYTtcbiAgICAgIHRoaXMuc2V0U291cmNlKHJlc3VsdCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZ2V4IG1hdGNoaW5nIGNvbG9yIGluIFJHQiBvciBSR0JBIGZvcm1hdHMgKGV4OiByZ2IoMCwgMCwgMCksIHJnYmEoMjU1LCAxMDAsIDEwLCAwLjUpLCByZ2JhKCAyNTUgLCAxMDAgLCAxMCAsIDAuNSApLCByZ2IoMSwxLDEpLCByZ2JhKDEwMCUsIDYwJSwgMTAlLCAwLjUpKVxuICAgKiBAc3RhdGljXG4gICAqIEBmaWVsZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICBmYWJyaWMuQ29sb3IucmVSR0JhID0gL15yZ2JhP1xcKFxccyooXFxkezEsM30oPzpcXC5cXGQrKT9cXCU/KVxccyosXFxzKihcXGR7MSwzfSg/OlxcLlxcZCspP1xcJT8pXFxzKixcXHMqKFxcZHsxLDN9KD86XFwuXFxkKyk/XFwlPylcXHMqKD86XFxzKixcXHMqKCg/OlxcZCpcXC4/XFxkKyk/KVxccyopP1xcKSQvaTtcblxuICAvKipcbiAgICogUmVnZXggbWF0Y2hpbmcgY29sb3IgaW4gSFNMIG9yIEhTTEEgZm9ybWF0cyAoZXg6IGhzbCgyMDAsIDgwJSwgMTAlKSwgaHNsYSgzMDAsIDUwJSwgODAlLCAwLjUpLCBoc2xhKCAzMDAgLCA1MCUgLCA4MCUgLCAwLjUgKSlcbiAgICogQHN0YXRpY1xuICAgKiBAZmllbGRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKi9cbiAgZmFicmljLkNvbG9yLnJlSFNMYSA9IC9eaHNsYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfVxcJSlcXHMqLFxccyooXFxkezEsM31cXCUpXFxzKig/OlxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyopP1xcKSQvaTtcblxuICAvKipcbiAgICogUmVnZXggbWF0Y2hpbmcgY29sb3IgaW4gSEVYIGZvcm1hdCAoZXg6ICNGRjU1NDRDQywgI0ZGNTU1NSwgMDEwMTU1LCBhZmYpXG4gICAqIEBzdGF0aWNcbiAgICogQGZpZWxkXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICovXG4gIGZhYnJpYy5Db2xvci5yZUhleCA9IC9eIz8oWzAtOWEtZl17OH18WzAtOWEtZl17Nn18WzAtOWEtZl17NH18WzAtOWEtZl17M30pJC9pO1xuXG4gIC8qKlxuICAgKiBNYXAgb2YgdGhlIDE0OCBjb2xvciBuYW1lcyB3aXRoIEhFWCBjb2RlXG4gICAqIEBzdGF0aWNcbiAgICogQGZpZWxkXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHNlZTogaHR0cHM6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICAgKi9cbiAgZmFicmljLkNvbG9yLmNvbG9yTmFtZU1hcCA9IHtcbiAgICBhbGljZWJsdWU6ICAgICAgICAgICAgJyNGMEY4RkYnLFxuICAgIGFudGlxdWV3aGl0ZTogICAgICAgICAnI0ZBRUJENycsXG4gICAgYXF1YTogICAgICAgICAgICAgICAgICcjMDBGRkZGJyxcbiAgICBhcXVhbWFyaW5lOiAgICAgICAgICAgJyM3RkZGRDQnLFxuICAgIGF6dXJlOiAgICAgICAgICAgICAgICAnI0YwRkZGRicsXG4gICAgYmVpZ2U6ICAgICAgICAgICAgICAgICcjRjVGNURDJyxcbiAgICBiaXNxdWU6ICAgICAgICAgICAgICAgJyNGRkU0QzQnLFxuICAgIGJsYWNrOiAgICAgICAgICAgICAgICAnIzAwMDAwMCcsXG4gICAgYmxhbmNoZWRhbG1vbmQ6ICAgICAgICcjRkZFQkNEJyxcbiAgICBibHVlOiAgICAgICAgICAgICAgICAgJyMwMDAwRkYnLFxuICAgIGJsdWV2aW9sZXQ6ICAgICAgICAgICAnIzhBMkJFMicsXG4gICAgYnJvd246ICAgICAgICAgICAgICAgICcjQTUyQTJBJyxcbiAgICBidXJseXdvb2Q6ICAgICAgICAgICAgJyNERUI4ODcnLFxuICAgIGNhZGV0Ymx1ZTogICAgICAgICAgICAnIzVGOUVBMCcsXG4gICAgY2hhcnRyZXVzZTogICAgICAgICAgICcjN0ZGRjAwJyxcbiAgICBjaG9jb2xhdGU6ICAgICAgICAgICAgJyNEMjY5MUUnLFxuICAgIGNvcmFsOiAgICAgICAgICAgICAgICAnI0ZGN0Y1MCcsXG4gICAgY29ybmZsb3dlcmJsdWU6ICAgICAgICcjNjQ5NUVEJyxcbiAgICBjb3Juc2lsazogICAgICAgICAgICAgJyNGRkY4REMnLFxuICAgIGNyaW1zb246ICAgICAgICAgICAgICAnI0RDMTQzQycsXG4gICAgY3lhbjogICAgICAgICAgICAgICAgICcjMDBGRkZGJyxcbiAgICBkYXJrYmx1ZTogICAgICAgICAgICAgJyMwMDAwOEInLFxuICAgIGRhcmtjeWFuOiAgICAgICAgICAgICAnIzAwOEI4QicsXG4gICAgZGFya2dvbGRlbnJvZDogICAgICAgICcjQjg4NjBCJyxcbiAgICBkYXJrZ3JheTogICAgICAgICAgICAgJyNBOUE5QTknLFxuICAgIGRhcmtncmV5OiAgICAgICAgICAgICAnI0E5QTlBOScsXG4gICAgZGFya2dyZWVuOiAgICAgICAgICAgICcjMDA2NDAwJyxcbiAgICBkYXJra2hha2k6ICAgICAgICAgICAgJyNCREI3NkInLFxuICAgIGRhcmttYWdlbnRhOiAgICAgICAgICAnIzhCMDA4QicsXG4gICAgZGFya29saXZlZ3JlZW46ICAgICAgICcjNTU2QjJGJyxcbiAgICBkYXJrb3JhbmdlOiAgICAgICAgICAgJyNGRjhDMDAnLFxuICAgIGRhcmtvcmNoaWQ6ICAgICAgICAgICAnIzk5MzJDQycsXG4gICAgZGFya3JlZDogICAgICAgICAgICAgICcjOEIwMDAwJyxcbiAgICBkYXJrc2FsbW9uOiAgICAgICAgICAgJyNFOTk2N0EnLFxuICAgIGRhcmtzZWFncmVlbjogICAgICAgICAnIzhGQkM4RicsXG4gICAgZGFya3NsYXRlYmx1ZTogICAgICAgICcjNDgzRDhCJyxcbiAgICBkYXJrc2xhdGVncmF5OiAgICAgICAgJyMyRjRGNEYnLFxuICAgIGRhcmtzbGF0ZWdyZXk6ICAgICAgICAnIzJGNEY0RicsXG4gICAgZGFya3R1cnF1b2lzZTogICAgICAgICcjMDBDRUQxJyxcbiAgICBkYXJrdmlvbGV0OiAgICAgICAgICAgJyM5NDAwRDMnLFxuICAgIGRlZXBwaW5rOiAgICAgICAgICAgICAnI0ZGMTQ5MycsXG4gICAgZGVlcHNreWJsdWU6ICAgICAgICAgICcjMDBCRkZGJyxcbiAgICBkaW1ncmF5OiAgICAgICAgICAgICAgJyM2OTY5NjknLFxuICAgIGRpbWdyZXk6ICAgICAgICAgICAgICAnIzY5Njk2OScsXG4gICAgZG9kZ2VyYmx1ZTogICAgICAgICAgICcjMUU5MEZGJyxcbiAgICBmaXJlYnJpY2s6ICAgICAgICAgICAgJyNCMjIyMjInLFxuICAgIGZsb3JhbHdoaXRlOiAgICAgICAgICAnI0ZGRkFGMCcsXG4gICAgZm9yZXN0Z3JlZW46ICAgICAgICAgICcjMjI4QjIyJyxcbiAgICBmdWNoc2lhOiAgICAgICAgICAgICAgJyNGRjAwRkYnLFxuICAgIGdhaW5zYm9ybzogICAgICAgICAgICAnI0RDRENEQycsXG4gICAgZ2hvc3R3aGl0ZTogICAgICAgICAgICcjRjhGOEZGJyxcbiAgICBnb2xkOiAgICAgICAgICAgICAgICAgJyNGRkQ3MDAnLFxuICAgIGdvbGRlbnJvZDogICAgICAgICAgICAnI0RBQTUyMCcsXG4gICAgZ3JheTogICAgICAgICAgICAgICAgICcjODA4MDgwJyxcbiAgICBncmV5OiAgICAgICAgICAgICAgICAgJyM4MDgwODAnLFxuICAgIGdyZWVuOiAgICAgICAgICAgICAgICAnIzAwODAwMCcsXG4gICAgZ3JlZW55ZWxsb3c6ICAgICAgICAgICcjQURGRjJGJyxcbiAgICBob25leWRldzogICAgICAgICAgICAgJyNGMEZGRjAnLFxuICAgIGhvdHBpbms6ICAgICAgICAgICAgICAnI0ZGNjlCNCcsXG4gICAgaW5kaWFucmVkOiAgICAgICAgICAgICcjQ0Q1QzVDJyxcbiAgICBpbmRpZ286ICAgICAgICAgICAgICAgJyM0QjAwODInLFxuICAgIGl2b3J5OiAgICAgICAgICAgICAgICAnI0ZGRkZGMCcsXG4gICAga2hha2k6ICAgICAgICAgICAgICAgICcjRjBFNjhDJyxcbiAgICBsYXZlbmRlcjogICAgICAgICAgICAgJyNFNkU2RkEnLFxuICAgIGxhdmVuZGVyYmx1c2g6ICAgICAgICAnI0ZGRjBGNScsXG4gICAgbGF3bmdyZWVuOiAgICAgICAgICAgICcjN0NGQzAwJyxcbiAgICBsZW1vbmNoaWZmb246ICAgICAgICAgJyNGRkZBQ0QnLFxuICAgIGxpZ2h0Ymx1ZTogICAgICAgICAgICAnI0FERDhFNicsXG4gICAgbGlnaHRjb3JhbDogICAgICAgICAgICcjRjA4MDgwJyxcbiAgICBsaWdodGN5YW46ICAgICAgICAgICAgJyNFMEZGRkYnLFxuICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnI0ZBRkFEMicsXG4gICAgbGlnaHRncmF5OiAgICAgICAgICAgICcjRDNEM0QzJyxcbiAgICBsaWdodGdyZXk6ICAgICAgICAgICAgJyNEM0QzRDMnLFxuICAgIGxpZ2h0Z3JlZW46ICAgICAgICAgICAnIzkwRUU5MCcsXG4gICAgbGlnaHRwaW5rOiAgICAgICAgICAgICcjRkZCNkMxJyxcbiAgICBsaWdodHNhbG1vbjogICAgICAgICAgJyNGRkEwN0EnLFxuICAgIGxpZ2h0c2VhZ3JlZW46ICAgICAgICAnIzIwQjJBQScsXG4gICAgbGlnaHRza3libHVlOiAgICAgICAgICcjODdDRUZBJyxcbiAgICBsaWdodHNsYXRlZ3JheTogICAgICAgJyM3Nzg4OTknLFxuICAgIGxpZ2h0c2xhdGVncmV5OiAgICAgICAnIzc3ODg5OScsXG4gICAgbGlnaHRzdGVlbGJsdWU6ICAgICAgICcjQjBDNERFJyxcbiAgICBsaWdodHllbGxvdzogICAgICAgICAgJyNGRkZGRTAnLFxuICAgIGxpbWU6ICAgICAgICAgICAgICAgICAnIzAwRkYwMCcsXG4gICAgbGltZWdyZWVuOiAgICAgICAgICAgICcjMzJDRDMyJyxcbiAgICBsaW5lbjogICAgICAgICAgICAgICAgJyNGQUYwRTYnLFxuICAgIG1hZ2VudGE6ICAgICAgICAgICAgICAnI0ZGMDBGRicsXG4gICAgbWFyb29uOiAgICAgICAgICAgICAgICcjODAwMDAwJyxcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiAgICAgJyM2NkNEQUEnLFxuICAgIG1lZGl1bWJsdWU6ICAgICAgICAgICAnIzAwMDBDRCcsXG4gICAgbWVkaXVtb3JjaGlkOiAgICAgICAgICcjQkE1NUQzJyxcbiAgICBtZWRpdW1wdXJwbGU6ICAgICAgICAgJyM5MzcwREInLFxuICAgIG1lZGl1bXNlYWdyZWVuOiAgICAgICAnIzNDQjM3MScsXG4gICAgbWVkaXVtc2xhdGVibHVlOiAgICAgICcjN0I2OEVFJyxcbiAgICBtZWRpdW1zcHJpbmdncmVlbjogICAgJyMwMEZBOUEnLFxuICAgIG1lZGl1bXR1cnF1b2lzZTogICAgICAnIzQ4RDFDQycsXG4gICAgbWVkaXVtdmlvbGV0cmVkOiAgICAgICcjQzcxNTg1JyxcbiAgICBtaWRuaWdodGJsdWU6ICAgICAgICAgJyMxOTE5NzAnLFxuICAgIG1pbnRjcmVhbTogICAgICAgICAgICAnI0Y1RkZGQScsXG4gICAgbWlzdHlyb3NlOiAgICAgICAgICAgICcjRkZFNEUxJyxcbiAgICBtb2NjYXNpbjogICAgICAgICAgICAgJyNGRkU0QjUnLFxuICAgIG5hdmFqb3doaXRlOiAgICAgICAgICAnI0ZGREVBRCcsXG4gICAgbmF2eTogICAgICAgICAgICAgICAgICcjMDAwMDgwJyxcbiAgICBvbGRsYWNlOiAgICAgICAgICAgICAgJyNGREY1RTYnLFxuICAgIG9saXZlOiAgICAgICAgICAgICAgICAnIzgwODAwMCcsXG4gICAgb2xpdmVkcmFiOiAgICAgICAgICAgICcjNkI4RTIzJyxcbiAgICBvcmFuZ2U6ICAgICAgICAgICAgICAgJyNGRkE1MDAnLFxuICAgIG9yYW5nZXJlZDogICAgICAgICAgICAnI0ZGNDUwMCcsXG4gICAgb3JjaGlkOiAgICAgICAgICAgICAgICcjREE3MEQ2JyxcbiAgICBwYWxlZ29sZGVucm9kOiAgICAgICAgJyNFRUU4QUEnLFxuICAgIHBhbGVncmVlbjogICAgICAgICAgICAnIzk4RkI5OCcsXG4gICAgcGFsZXR1cnF1b2lzZTogICAgICAgICcjQUZFRUVFJyxcbiAgICBwYWxldmlvbGV0cmVkOiAgICAgICAgJyNEQjcwOTMnLFxuICAgIHBhcGF5YXdoaXA6ICAgICAgICAgICAnI0ZGRUZENScsXG4gICAgcGVhY2hwdWZmOiAgICAgICAgICAgICcjRkZEQUI5JyxcbiAgICBwZXJ1OiAgICAgICAgICAgICAgICAgJyNDRDg1M0YnLFxuICAgIHBpbms6ICAgICAgICAgICAgICAgICAnI0ZGQzBDQicsXG4gICAgcGx1bTogICAgICAgICAgICAgICAgICcjRERBMEREJyxcbiAgICBwb3dkZXJibHVlOiAgICAgICAgICAgJyNCMEUwRTYnLFxuICAgIHB1cnBsZTogICAgICAgICAgICAgICAnIzgwMDA4MCcsXG4gICAgcmViZWNjYXB1cnBsZTogICAgICAgICcjNjYzMzk5JyxcbiAgICByZWQ6ICAgICAgICAgICAgICAgICAgJyNGRjAwMDAnLFxuICAgIHJvc3licm93bjogICAgICAgICAgICAnI0JDOEY4RicsXG4gICAgcm95YWxibHVlOiAgICAgICAgICAgICcjNDE2OUUxJyxcbiAgICBzYWRkbGVicm93bjogICAgICAgICAgJyM4QjQ1MTMnLFxuICAgIHNhbG1vbjogICAgICAgICAgICAgICAnI0ZBODA3MicsXG4gICAgc2FuZHlicm93bjogICAgICAgICAgICcjRjRBNDYwJyxcbiAgICBzZWFncmVlbjogICAgICAgICAgICAgJyMyRThCNTcnLFxuICAgIHNlYXNoZWxsOiAgICAgICAgICAgICAnI0ZGRjVFRScsXG4gICAgc2llbm5hOiAgICAgICAgICAgICAgICcjQTA1MjJEJyxcbiAgICBzaWx2ZXI6ICAgICAgICAgICAgICAgJyNDMEMwQzAnLFxuICAgIHNreWJsdWU6ICAgICAgICAgICAgICAnIzg3Q0VFQicsXG4gICAgc2xhdGVibHVlOiAgICAgICAgICAgICcjNkE1QUNEJyxcbiAgICBzbGF0ZWdyYXk6ICAgICAgICAgICAgJyM3MDgwOTAnLFxuICAgIHNsYXRlZ3JleTogICAgICAgICAgICAnIzcwODA5MCcsXG4gICAgc25vdzogICAgICAgICAgICAgICAgICcjRkZGQUZBJyxcbiAgICBzcHJpbmdncmVlbjogICAgICAgICAgJyMwMEZGN0YnLFxuICAgIHN0ZWVsYmx1ZTogICAgICAgICAgICAnIzQ2ODJCNCcsXG4gICAgdGFuOiAgICAgICAgICAgICAgICAgICcjRDJCNDhDJyxcbiAgICB0ZWFsOiAgICAgICAgICAgICAgICAgJyMwMDgwODAnLFxuICAgIHRoaXN0bGU6ICAgICAgICAgICAgICAnI0Q4QkZEOCcsXG4gICAgdG9tYXRvOiAgICAgICAgICAgICAgICcjRkY2MzQ3JyxcbiAgICB0dXJxdW9pc2U6ICAgICAgICAgICAgJyM0MEUwRDAnLFxuICAgIHZpb2xldDogICAgICAgICAgICAgICAnI0VFODJFRScsXG4gICAgd2hlYXQ6ICAgICAgICAgICAgICAgICcjRjVERUIzJyxcbiAgICB3aGl0ZTogICAgICAgICAgICAgICAgJyNGRkZGRkYnLFxuICAgIHdoaXRlc21va2U6ICAgICAgICAgICAnI0Y1RjVGNScsXG4gICAgeWVsbG93OiAgICAgICAgICAgICAgICcjRkZGRjAwJyxcbiAgICB5ZWxsb3dncmVlbjogICAgICAgICAgJyM5QUNEMzInXG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBxXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMCkge1xuICAgICAgdCArPSAxO1xuICAgIH1cbiAgICBpZiAodCA+IDEpIHtcbiAgICAgIHQgLT0gMTtcbiAgICB9XG4gICAgaWYgKHQgPCAxIC8gNikge1xuICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgfVxuICAgIGlmICh0IDwgMSAvIDIpIHtcbiAgICAgIHJldHVybiBxO1xuICAgIH1cbiAgICBpZiAodCA8IDIgLyAzKSB7XG4gICAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBhIGNvbG9yIGluIFJHQiBmb3JtYXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQ29sb3IgdmFsdWUgZXg6IHJnYigwLTI1NSwwLTI1NSwwLTI1NSlcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21SZ2IgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiBDb2xvci5mcm9tU291cmNlKENvbG9yLnNvdXJjZUZyb21SZ2IoY29sb3IpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhcnJheSByZXByZXNlbnRhdGlvbiAoZXg6IFsxMDAsIDEwMCwgMjAwLCAxXSkgb2YgYSBjb2xvciB0aGF0J3MgaW4gUkdCIG9yIFJHQkEgZm9ybWF0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiByZ2IoMC0yNTUsMC0yNTUsMC0yNTUpLCByZ2IoMCUtMTAwJSwwJS0xMDAlLDAlLTEwMCUpXG4gICAqIEByZXR1cm4ge0FycmF5fSBzb3VyY2VcbiAgICovXG4gIGZhYnJpYy5Db2xvci5zb3VyY2VGcm9tUmdiID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICB2YXIgbWF0Y2ggPSBjb2xvci5tYXRjaChDb2xvci5yZVJHQmEpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgdmFyIHIgPSBwYXJzZUludChtYXRjaFsxXSwgMTApIC8gKC8lJC8udGVzdChtYXRjaFsxXSkgPyAxMDAgOiAxKSAqICgvJSQvLnRlc3QobWF0Y2hbMV0pID8gMjU1IDogMSksXG4gICAgICAgICAgZyA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCkgLyAoLyUkLy50ZXN0KG1hdGNoWzJdKSA/IDEwMCA6IDEpICogKC8lJC8udGVzdChtYXRjaFsyXSkgPyAyNTUgOiAxKSxcbiAgICAgICAgICBiID0gcGFyc2VJbnQobWF0Y2hbM10sIDEwKSAvICgvJSQvLnRlc3QobWF0Y2hbM10pID8gMTAwIDogMSkgKiAoLyUkLy50ZXN0KG1hdGNoWzNdKSA/IDI1NSA6IDEpO1xuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBwYXJzZUludChyLCAxMCksXG4gICAgICAgIHBhcnNlSW50KGcsIDEwKSxcbiAgICAgICAgcGFyc2VJbnQoYiwgMTApLFxuICAgICAgICBtYXRjaFs0XSA/IHBhcnNlRmxvYXQobWF0Y2hbNF0pIDogMVxuICAgICAgXTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBhIGNvbG9yIGluIFJHQkEgZm9ybWF0XG4gICAqIEBzdGF0aWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tUmdiYSA9IENvbG9yLmZyb21SZ2I7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBhIGNvbG9yIGluIEhTTCBmb3JtYXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiBoc2woMC0yNjAsMCUtMTAwJSwwJS0xMDAlKVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tSHNsID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICByZXR1cm4gQ29sb3IuZnJvbVNvdXJjZShDb2xvci5zb3VyY2VGcm9tSHNsKGNvbG9yKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYXJyYXkgcmVwcmVzZW50YXRpb24gKGV4OiBbMTAwLCAxMDAsIDIwMCwgMV0pIG9mIGEgY29sb3IgdGhhdCdzIGluIEhTTCBvciBIU0xBIGZvcm1hdC5cbiAgICogQWRhcHRlZCBmcm9tIDxhIGhyZWY9XCJodHRwczovL3Jhd2dpdGh1Yi5jb20vbWppamFja3Nvbi9tamlqYWNrc29uLmdpdGh1Yi5jb20vbWFzdGVyLzIwMDgvMDIvcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jb252ZXJzaW9uLWFsZ29yaXRobXMtaW4tamF2YXNjcmlwdC5odG1sXCI+aHR0cHM6Ly9naXRodWIuY29tL21qaWphY2tzb248L2E+XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiBoc2woMC0zNjAsMCUtMTAwJSwwJS0xMDAlKSBvciBoc2xhKDAtMzYwLDAlLTEwMCUsMCUtMTAwJSwgMC0xKVxuICAgKiBAcmV0dXJuIHtBcnJheX0gc291cmNlXG4gICAqIEBzZWUgaHR0cDovL2h0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI2hzbC1jb2xvclxuICAgKi9cbiAgZmFicmljLkNvbG9yLnNvdXJjZUZyb21Ic2wgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHZhciBtYXRjaCA9IGNvbG9yLm1hdGNoKENvbG9yLnJlSFNMYSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBoID0gKCgocGFyc2VGbG9hdChtYXRjaFsxXSkgJSAzNjApICsgMzYwKSAlIDM2MCkgLyAzNjAsXG4gICAgICAgIHMgPSBwYXJzZUZsb2F0KG1hdGNoWzJdKSAvICgvJSQvLnRlc3QobWF0Y2hbMl0pID8gMTAwIDogMSksXG4gICAgICAgIGwgPSBwYXJzZUZsb2F0KG1hdGNoWzNdKSAvICgvJSQvLnRlc3QobWF0Y2hbM10pID8gMTAwIDogMSksXG4gICAgICAgIHIsIGcsIGI7XG5cbiAgICBpZiAocyA9PT0gMCkge1xuICAgICAgciA9IGcgPSBiID0gbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgcSA9IGwgPD0gMC41ID8gbCAqIChzICsgMSkgOiBsICsgcyAtIGwgKiBzLFxuICAgICAgICAgIHAgPSBsICogMiAtIHE7XG5cbiAgICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxIC8gMyk7XG4gICAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIE1hdGgucm91bmQociAqIDI1NSksXG4gICAgICBNYXRoLnJvdW5kKGcgKiAyNTUpLFxuICAgICAgTWF0aC5yb3VuZChiICogMjU1KSxcbiAgICAgIG1hdGNoWzRdID8gcGFyc2VGbG9hdChtYXRjaFs0XSkgOiAxXG4gICAgXTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBuZXcgY29sb3Igb2JqZWN0LCB3aGVuIGdpdmVuIGEgY29sb3IgaW4gSFNMQSBmb3JtYXRcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3JcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21Ic2xhID0gQ29sb3IuZnJvbUhzbDtcblxuICAvKipcbiAgICogUmV0dXJucyBuZXcgY29sb3Igb2JqZWN0LCB3aGVuIGdpdmVuIGEgY29sb3IgaW4gSEVYIGZvcm1hdFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiBGRjU1NTVcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21IZXggPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiBDb2xvci5mcm9tU291cmNlKENvbG9yLnNvdXJjZUZyb21IZXgoY29sb3IpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhcnJheSByZXByZXNlbnRhdGlvbiAoZXg6IFsxMDAsIDEwMCwgMjAwLCAxXSkgb2YgYSBjb2xvciB0aGF0J3MgaW4gSEVYIGZvcm1hdFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIGV4OiBGRjU1NTUgb3IgRkY1NTQ0Q0MgKFJHQmEpXG4gICAqIEByZXR1cm4ge0FycmF5fSBzb3VyY2VcbiAgICovXG4gIGZhYnJpYy5Db2xvci5zb3VyY2VGcm9tSGV4ID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICBpZiAoY29sb3IubWF0Y2goQ29sb3IucmVIZXgpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBjb2xvci5zbGljZShjb2xvci5pbmRleE9mKCcjJykgKyAxKSxcbiAgICAgICAgICBpc1Nob3J0Tm90YXRpb24gPSAodmFsdWUubGVuZ3RoID09PSAzIHx8IHZhbHVlLmxlbmd0aCA9PT0gNCksXG4gICAgICAgICAgaXNSR0JhID0gKHZhbHVlLmxlbmd0aCA9PT0gOCB8fCB2YWx1ZS5sZW5ndGggPT09IDQpLFxuICAgICAgICAgIHIgPSBpc1Nob3J0Tm90YXRpb24gPyAodmFsdWUuY2hhckF0KDApICsgdmFsdWUuY2hhckF0KDApKSA6IHZhbHVlLnN1YnN0cmluZygwLCAyKSxcbiAgICAgICAgICBnID0gaXNTaG9ydE5vdGF0aW9uID8gKHZhbHVlLmNoYXJBdCgxKSArIHZhbHVlLmNoYXJBdCgxKSkgOiB2YWx1ZS5zdWJzdHJpbmcoMiwgNCksXG4gICAgICAgICAgYiA9IGlzU2hvcnROb3RhdGlvbiA/ICh2YWx1ZS5jaGFyQXQoMikgKyB2YWx1ZS5jaGFyQXQoMikpIDogdmFsdWUuc3Vic3RyaW5nKDQsIDYpLFxuICAgICAgICAgIGEgPSBpc1JHQmEgPyAoaXNTaG9ydE5vdGF0aW9uID8gKHZhbHVlLmNoYXJBdCgzKSArIHZhbHVlLmNoYXJBdCgzKSkgOiB2YWx1ZS5zdWJzdHJpbmcoNiwgOCkpIDogJ0ZGJztcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgcGFyc2VJbnQociwgMTYpLFxuICAgICAgICBwYXJzZUludChnLCAxNiksXG4gICAgICAgIHBhcnNlSW50KGIsIDE2KSxcbiAgICAgICAgcGFyc2VGbG9hdCgocGFyc2VJbnQoYSwgMTYpIC8gMjU1KS50b0ZpeGVkKDIpKVxuICAgICAgXTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBjb2xvciBpbiBhcnJheSByZXByZXNlbnRhdGlvbiAoZXg6IFsyMDAsIDEwMCwgMTAwLCAwLjVdKVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtBcnJheX0gc291cmNlXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tU291cmNlID0gZnVuY3Rpb24oc291cmNlKSB7XG4gICAgdmFyIG9Db2xvciA9IG5ldyBDb2xvcigpO1xuICAgIG9Db2xvci5zZXRTb3VyY2Uoc291cmNlKTtcbiAgICByZXR1cm4gb0NvbG9yO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBzY2FsZU1hcCA9IFsnZScsICdzZScsICdzJywgJ3N3JywgJ3cnLCAnbncnLCAnbicsICduZScsICdlJ10sXG4gICAgICBza2V3TWFwID0gWyducycsICduZXN3JywgJ2V3JywgJ253c2UnXSxcbiAgICAgIGNvbnRyb2xzID0ge30sXG4gICAgICBMRUZUID0gJ2xlZnQnLCBUT1AgPSAndG9wJywgUklHSFQgPSAncmlnaHQnLCBCT1RUT00gPSAnYm90dG9tJywgQ0VOVEVSID0gJ2NlbnRlcicsXG4gICAgICBvcHBvc2l0ZSA9IHtcbiAgICAgICAgdG9wOiBCT1RUT00sXG4gICAgICAgIGJvdHRvbTogVE9QLFxuICAgICAgICBsZWZ0OiBSSUdIVCxcbiAgICAgICAgcmlnaHQ6IExFRlQsXG4gICAgICAgIGNlbnRlcjogQ0VOVEVSLFxuICAgICAgfSwgcmFkaWFuc1RvRGVncmVlcyA9IGZhYnJpYy51dGlsLnJhZGlhbnNUb0RlZ3JlZXMsXG4gICAgICBzaWduID0gKE1hdGguc2lnbiB8fCBmdW5jdGlvbih4KSB7IHJldHVybiAoKHggPiAwKSAtICh4IDwgMCkpIHx8ICt4OyB9KTtcblxuICAvKipcbiAgICogQ29tYmluZSBjb250cm9sIHBvc2l0aW9uIGFuZCBvYmplY3QgYW5nbGUgdG8gZmluZCB0aGUgY29udHJvbCBkaXJlY3Rpb24gY29tcGFyZWRcbiAgICogdG8gdGhlIG9iamVjdCBjZW50ZXIuXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBmYWJyaWMgb2JqZWN0IGZvciB3aGljaCB3ZSBhcmUgcmVuZGVyaW5nIGNvbnRyb2xzXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgY2xhc3NcbiAgICogQHJldHVybiB7TnVtYmVyfSAwIC0gNyBhIHF1YWRyYW50IG51bWJlclxuICAgKi9cbiAgZnVuY3Rpb24gZmluZENvcm5lclF1YWRyYW50KGZhYnJpY09iamVjdCwgY29udHJvbCkge1xuICAgIHZhciBjb3JuZXJBbmdsZSA9IGZhYnJpY09iamVjdC5hbmdsZSArIHJhZGlhbnNUb0RlZ3JlZXMoTWF0aC5hdGFuMihjb250cm9sLnksIGNvbnRyb2wueCkpICsgMzYwO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKChjb3JuZXJBbmdsZSAlIDM2MCkgLyA0NSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlRXZlbnQoZXZlbnROYW1lLCBvcHRpb25zKSB7XG4gICAgdmFyIHRhcmdldCA9IG9wdGlvbnMudHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgY2FudmFzID0gdGFyZ2V0LmNhbnZhcyxcbiAgICAgICAgY2FudmFzT3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvcHRpb25zKTtcbiAgICBjYW52YXNPcHRpb25zLnRhcmdldCA9IHRhcmdldDtcbiAgICBjYW52YXMgJiYgY2FudmFzLmZpcmUoJ29iamVjdDonICsgZXZlbnROYW1lLCBjYW52YXNPcHRpb25zKTtcbiAgICB0YXJnZXQuZmlyZShldmVudE5hbWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc3BlY3QgZXZlbnQgYW5kIGZhYnJpY09iamVjdCBwcm9wZXJ0aWVzIHRvIHVuZGVyc3RhbmQgaWYgdGhlIHNjYWxpbmcgYWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBmcm9tIHRoZSB1c2VyIGFjdGlvblxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCBhYm91dCB0byBzY2FsZVxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNjYWxlIGlzIHByb3BvcnRpb25hbFxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVJc1Byb3BvcnRpb25hbChldmVudERhdGEsIGZhYnJpY09iamVjdCkge1xuICAgIHZhciBjYW52YXMgPSBmYWJyaWNPYmplY3QuY2FudmFzLCB1bmlTY2FsZUtleSA9IGNhbnZhcy51bmlTY2FsZUtleSxcbiAgICAgICAgdW5pZm9ybUlzVG9nZ2xlZCA9IGV2ZW50RGF0YVt1bmlTY2FsZUtleV07XG4gICAgcmV0dXJuIChjYW52YXMudW5pZm9ybVNjYWxpbmcgJiYgIXVuaWZvcm1Jc1RvZ2dsZWQpIHx8XG4gICAgKCFjYW52YXMudW5pZm9ybVNjYWxpbmcgJiYgdW5pZm9ybUlzVG9nZ2xlZCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRyYW5zZm9ybSBpcyBjZW50ZXJlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIHRyYW5zZm9ybSBkYXRhXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdHJhbnNmb3JtIGlzIGNlbnRlcmVkXG4gICAqL1xuICBmdW5jdGlvbiBpc1RyYW5zZm9ybUNlbnRlcmVkKHRyYW5zZm9ybSkge1xuICAgIHJldHVybiB0cmFuc2Zvcm0ub3JpZ2luWCA9PT0gQ0VOVEVSICYmIHRyYW5zZm9ybS5vcmlnaW5ZID09PSBDRU5URVI7XG4gIH1cblxuICAvKipcbiAgICogSW5zcGVjdCBmYWJyaWNPYmplY3QgdG8gdW5kZXJzdGFuZCBpZiB0aGUgY3VycmVudCBzY2FsaW5nIGFjdGlvbiBpcyBhbGxvd2VkXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBmYWJyaWMgb2JqZWN0IGFib3V0IHRvIHNjYWxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBieSAneCcgb3IgJ3knIG9yICcnXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2NhbGVQcm9wb3J0aW9uYWxseSB0cnVlIGlmIHdlIGFyZSB0cnlpbmcgdG8gc2NhbGUgcHJvcG9ydGlvbmFsbHlcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzY2FsaW5nIGlzIG5vdCBhbGxvd2VkIGF0IGN1cnJlbnQgY29uZGl0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGluZ0lzRm9yYmlkZGVuKGZhYnJpY09iamVjdCwgYnksIHNjYWxlUHJvcG9ydGlvbmFsbHkpIHtcbiAgICB2YXIgbG9ja1ggPSBmYWJyaWNPYmplY3QubG9ja1NjYWxpbmdYLCBsb2NrWSA9IGZhYnJpY09iamVjdC5sb2NrU2NhbGluZ1k7XG4gICAgaWYgKGxvY2tYICYmIGxvY2tZKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFieSAmJiAobG9ja1ggfHwgbG9ja1kpICYmIHNjYWxlUHJvcG9ydGlvbmFsbHkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobG9ja1ggJiYgYnkgPT09ICd4Jykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChsb2NrWSAmJiBieSA9PT0gJ3knKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgY29ycmVjdCBjdXJzb3Igc3R5bGUgZm9yIHRoZSBzY2FsZSBhY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgY2F1c2luZyB0aGUgc2NhbGVcbiAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY29udHJvbCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGEgdmFsaWQgY3NzIHN0cmluZyBmb3IgdGhlIGN1cnNvclxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVDdXJzb3JTdHlsZUhhbmRsZXIoZXZlbnREYXRhLCBjb250cm9sLCBmYWJyaWNPYmplY3QpIHtcbiAgICB2YXIgbm90QWxsb3dlZCA9ICdub3QtYWxsb3dlZCcsXG4gICAgICAgIHNjYWxlUHJvcG9ydGlvbmFsbHkgPSBzY2FsZUlzUHJvcG9ydGlvbmFsKGV2ZW50RGF0YSwgZmFicmljT2JqZWN0KSxcbiAgICAgICAgYnkgPSAnJztcbiAgICBpZiAoY29udHJvbC54ICE9PSAwICYmIGNvbnRyb2wueSA9PT0gMCkge1xuICAgICAgYnkgPSAneCc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRyb2wueCA9PT0gMCAmJiBjb250cm9sLnkgIT09IDApIHtcbiAgICAgIGJ5ID0gJ3knO1xuICAgIH1cbiAgICBpZiAoc2NhbGluZ0lzRm9yYmlkZGVuKGZhYnJpY09iamVjdCwgYnksIHNjYWxlUHJvcG9ydGlvbmFsbHkpKSB7XG4gICAgICByZXR1cm4gbm90QWxsb3dlZDtcbiAgICB9XG4gICAgdmFyIG4gPSBmaW5kQ29ybmVyUXVhZHJhbnQoZmFicmljT2JqZWN0LCBjb250cm9sKTtcbiAgICByZXR1cm4gc2NhbGVNYXBbbl0gKyAnLXJlc2l6ZSc7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJuIHRoZSBjb3JyZWN0IGN1cnNvciBzdHlsZSBmb3IgdGhlIHNrZXcgYWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGNhdXNpbmcgdGhlIHNjYWxlXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBhIHZhbGlkIGNzcyBzdHJpbmcgZm9yIHRoZSBjdXJzb3JcbiAgICovXG4gIGZ1bmN0aW9uIHNrZXdDdXJzb3JTdHlsZUhhbmRsZXIoZXZlbnREYXRhLCBjb250cm9sLCBmYWJyaWNPYmplY3QpIHtcbiAgICB2YXIgbm90QWxsb3dlZCA9ICdub3QtYWxsb3dlZCc7XG4gICAgaWYgKGNvbnRyb2wueCAhPT0gMCAmJiBmYWJyaWNPYmplY3QubG9ja1NrZXdpbmdZKSB7XG4gICAgICByZXR1cm4gbm90QWxsb3dlZDtcbiAgICB9XG4gICAgaWYgKGNvbnRyb2wueSAhPT0gMCAmJiBmYWJyaWNPYmplY3QubG9ja1NrZXdpbmdYKSB7XG4gICAgICByZXR1cm4gbm90QWxsb3dlZDtcbiAgICB9XG4gICAgdmFyIG4gPSBmaW5kQ29ybmVyUXVhZHJhbnQoZmFicmljT2JqZWN0LCBjb250cm9sKSAlIDQ7XG4gICAgcmV0dXJuIHNrZXdNYXBbbl0gKyAnLXJlc2l6ZSc7XG4gIH1cblxuICAvKipcbiAgICogQ29tYmluZSBza2V3IGFuZCBzY2FsZSBzdHlsZSBoYW5kbGVycyB0byBjb3ZlciBmYWJyaWMgc3RhbmRhcmQgdXNlIGNhc2VcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgY2F1c2luZyB0aGUgc2NhbGVcbiAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY29udHJvbCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGEgdmFsaWQgY3NzIHN0cmluZyBmb3IgdGhlIGN1cnNvclxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVTa2V3Q3Vyc29yU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KSB7XG4gICAgaWYgKGV2ZW50RGF0YVtmYWJyaWNPYmplY3QuY2FudmFzLmFsdEFjdGlvbktleV0pIHtcbiAgICAgIHJldHVybiBjb250cm9scy5za2V3Q3Vyc29yU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyb2xzLnNjYWxlQ3Vyc29yU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNwZWN0IGV2ZW50LCBjb250cm9sIGFuZCBmYWJyaWNPYmplY3QgdG8gcmV0dXJuIHRoZSBjb3JyZWN0IGFjdGlvbiBuYW1lXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGNhdXNpbmcgdGhlIHNjYWxlXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBhbiBhY3Rpb24gbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVPclNrZXdBY3Rpb25OYW1lKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KSB7XG4gICAgdmFyIGlzQWx0ZXJuYXRpdmUgPSBldmVudERhdGFbZmFicmljT2JqZWN0LmNhbnZhcy5hbHRBY3Rpb25LZXldO1xuICAgIGlmIChjb250cm9sLnggPT09IDApIHtcbiAgICAgIC8vIHRoZW4gaXMgc2NhbGVZIG9yIHNrZXdYXG4gICAgICByZXR1cm4gaXNBbHRlcm5hdGl2ZSA/ICdza2V3WCcgOiAnc2NhbGVZJztcbiAgICB9XG4gICAgaWYgKGNvbnRyb2wueSA9PT0gMCkge1xuICAgICAgLy8gdGhlbiBpcyBzY2FsZVkgb3Igc2tld1hcbiAgICAgIHJldHVybiBpc0FsdGVybmF0aXZlID8gJ3NrZXdZJyA6ICdzY2FsZVgnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBjb3JyZWN0IHN0eWxlIGZvciB0aGUgY29udHJvbCB0aGF0IGlzIHVzZWQgZm9yIHJvdGF0aW9uLlxuICAgKiB0aGlzIGZ1bmN0aW9uIGlzIHZlcnkgc2ltcGxlIGFuZCBpdCBqdXN0IHRha2UgY2FyZSBvZiBub3QtYWxsb3dlZCBvciBzdGFuZGFyZCBjdXJzb3JcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgY2F1c2luZyB0aGUgc2NhbGVcbiAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY29udHJvbCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGEgdmFsaWQgY3NzIHN0cmluZyBmb3IgdGhlIGN1cnNvclxuICAgKi9cbiAgZnVuY3Rpb24gcm90YXRpb25TdHlsZUhhbmRsZXIoZXZlbnREYXRhLCBjb250cm9sLCBmYWJyaWNPYmplY3QpIHtcbiAgICBpZiAoZmFicmljT2JqZWN0LmxvY2tSb3RhdGlvbikge1xuICAgICAgcmV0dXJuICdub3QtYWxsb3dlZCc7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9sLmN1cnNvclN0eWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tbW9uRXZlbnRJbmZvKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGU6IGV2ZW50RGF0YSxcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgcG9pbnRlcjoge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5LFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogV3JhcCBhbiBhY3Rpb24gaGFuZGxlciB3aXRoIHNhdmluZy9yZXN0b3Jpbmcgb2JqZWN0IHBvc2l0aW9uIG9uIHRoZSB0cmFuc2Zvcm0uXG4gICAqIHRoaXMgaXMgdGhlIGNvZGUgdGhhdCBwZXJtaXRzIHRvIG9iamVjdHMgdG8ga2VlcCB0aGVpciBwb3NpdGlvbiB3aGlsZSB0cmFuc2Zvcm1pbmcuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbkhhbmRsZXIgdGhlIGZ1bmN0aW9uIHRvIHdyYXBcbiAgICogQHJldHVybiB7RnVuY3Rpb259IGEgZnVuY3Rpb24gd2l0aCBhbiBhY3Rpb24gaGFuZGxlciBzaWduYXR1cmVcbiAgICovXG4gIGZ1bmN0aW9uIHdyYXBXaXRoRml4ZWRBbmNob3IoYWN0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsIGNlbnRlclBvaW50ID0gdGFyZ2V0LmdldENlbnRlclBvaW50KCksXG4gICAgICAgICAgY29uc3RyYWludCA9IHRhcmdldC50cmFuc2xhdGVUb09yaWdpblBvaW50KGNlbnRlclBvaW50LCB0cmFuc2Zvcm0ub3JpZ2luWCwgdHJhbnNmb3JtLm9yaWdpblkpLFxuICAgICAgICAgIGFjdGlvblBlcmZvcm1lZCA9IGFjdGlvbkhhbmRsZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICAgICAgdGFyZ2V0LnNldFBvc2l0aW9uQnlPcmlnaW4oY29uc3RyYWludCwgdHJhbnNmb3JtLm9yaWdpblgsIHRyYW5zZm9ybS5vcmlnaW5ZKTtcbiAgICAgIHJldHVybiBhY3Rpb25QZXJmb3JtZWQ7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwIGFuIGFjdGlvbiBoYW5kbGVyIHdpdGggZmlyaW5nIGFuIGV2ZW50IGlmIHRoZSBhY3Rpb24gaXMgcGVyZm9ybWVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbkhhbmRsZXIgdGhlIGZ1bmN0aW9uIHRvIHdyYXBcbiAgICogQHJldHVybiB7RnVuY3Rpb259IGEgZnVuY3Rpb24gd2l0aCBhbiBhY3Rpb24gaGFuZGxlciBzaWduYXR1cmVcbiAgICovXG4gIGZ1bmN0aW9uIHdyYXBXaXRoRmlyZUV2ZW50KGV2ZW50TmFtZSwgYWN0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgICAgdmFyIGFjdGlvblBlcmZvcm1lZCA9IGFjdGlvbkhhbmRsZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICAgICAgaWYgKGFjdGlvblBlcmZvcm1lZCkge1xuICAgICAgICBmaXJlRXZlbnQoZXZlbnROYW1lLCBjb21tb25FdmVudEluZm8oZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY3Rpb25QZXJmb3JtZWQ7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm1zIGEgcG9pbnQgZGVzY3JpYmVkIGJ5IHggYW5kIHkgaW4gYSBkaXN0YW5jZSBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIG9iamVjdFxuICAgKiBib3VuZGluZyBib3guXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblhcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpbllcbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICogQHJldHVybiB7RmFicmljLlBvaW50fSB0aGUgbm9ybWFsaXplZCBwb2ludFxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0TG9jYWxQb2ludCh0cmFuc2Zvcm0sIG9yaWdpblgsIG9yaWdpblksIHgsIHkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgY29udHJvbCA9IHRhcmdldC5jb250cm9sc1t0cmFuc2Zvcm0uY29ybmVyXSxcbiAgICAgICAgem9vbSA9IHRhcmdldC5jYW52YXMuZ2V0Wm9vbSgpLFxuICAgICAgICBwYWRkaW5nID0gdGFyZ2V0LnBhZGRpbmcgLyB6b29tLFxuICAgICAgICBsb2NhbFBvaW50ID0gdGFyZ2V0LnRvTG9jYWxQb2ludChuZXcgZmFicmljLlBvaW50KHgsIHkpLCBvcmlnaW5YLCBvcmlnaW5ZKTtcbiAgICBpZiAobG9jYWxQb2ludC54ID49IHBhZGRpbmcpIHtcbiAgICAgIGxvY2FsUG9pbnQueCAtPSBwYWRkaW5nO1xuICAgIH1cbiAgICBpZiAobG9jYWxQb2ludC54IDw9IC1wYWRkaW5nKSB7XG4gICAgICBsb2NhbFBvaW50LnggKz0gcGFkZGluZztcbiAgICB9XG4gICAgaWYgKGxvY2FsUG9pbnQueSA+PSBwYWRkaW5nKSB7XG4gICAgICBsb2NhbFBvaW50LnkgLT0gcGFkZGluZztcbiAgICB9XG4gICAgaWYgKGxvY2FsUG9pbnQueSA8PSBwYWRkaW5nKSB7XG4gICAgICBsb2NhbFBvaW50LnkgKz0gcGFkZGluZztcbiAgICB9XG4gICAgbG9jYWxQb2ludC54IC09IGNvbnRyb2wub2Zmc2V0WDtcbiAgICBsb2NhbFBvaW50LnkgLT0gY29udHJvbC5vZmZzZXRZO1xuICAgIHJldHVybiBsb2NhbFBvaW50O1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCBpZiB0aGUgZmFicmljIG9iamVjdCBpcyBmbGlwcGVkIG9uIG9uZSBzaWRlLlxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIG9uZSBmbGlwLCBidXQgbm90IHR3by5cbiAgICovXG4gIGZ1bmN0aW9uIHRhcmdldEhhc09uZUZsaXAodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldC5mbGlwWCAhPT0gdGFyZ2V0LmZsaXBZO1xuICB9XG5cbiAgLyoqXG4gICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29tcGVuc2F0ZSB0aGUgc2NhbGUgZmFjdG9yIHdoZW4gc2tldyBpcyBhcHBsaWVkIG9uIGJvdGggYXhlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGVuc2F0ZVNjYWxlRm9yU2tldyh0YXJnZXQsIG9wcG9zaXRlU2tldywgc2NhbGVUb0NvbXBlbnNhdGUsIGF4aXMsIHJlZmVyZW5jZSkge1xuICAgIGlmICh0YXJnZXRbb3Bwb3NpdGVTa2V3XSAhPT0gMCkge1xuICAgICAgdmFyIG5ld0RpbSA9IHRhcmdldC5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKClbYXhpc107XG4gICAgICB2YXIgbmV3VmFsdWUgPSByZWZlcmVuY2UgLyBuZXdEaW0gKiB0YXJnZXRbc2NhbGVUb0NvbXBlbnNhdGVdO1xuICAgICAgdGFyZ2V0LnNldChzY2FsZVRvQ29tcGVuc2F0ZSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBY3Rpb24gaGFuZGxlciBmb3Igc2tld2luZyBvbiB0aGUgWCBheGlzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBza2V3T2JqZWN0WChldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIHZhciB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAvLyBmaW5kIGhvdyBiaWcgdGhlIG9iamVjdCB3b3VsZCBiZSwgaWYgdGhlcmUgd2FzIG5vIHNrZXdYLiB0YWtlcyBpbiBhY2NvdW50IHNjYWxpbmdcbiAgICAgICAgZGltTm9Ta2V3ID0gdGFyZ2V0Ll9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoMCwgdGFyZ2V0LnNrZXdZKSxcbiAgICAgICAgbG9jYWxQb2ludCA9IGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCB0cmFuc2Zvcm0ub3JpZ2luWCwgdHJhbnNmb3JtLm9yaWdpblksIHgsIHkpLFxuICAgICAgICAvLyB0aGUgbW91c2UgaXMgaW4gdGhlIGNlbnRlciBvZiB0aGUgb2JqZWN0LCBhbmQgd2Ugd2FudCBpdCB0byBzdGF5IHRoZXJlLlxuICAgICAgICAvLyBzbyB0aGUgb2JqZWN0IHdpbGwgZ3JvdyB0d2ljZSBhcyBtdWNoIGFzIHRoZSBtb3VzZS5cbiAgICAgICAgLy8gdGhpcyBtYWtlcyB0aGUgc2tldyBncm93dGggdG8gbG9jYWxQb2ludCAqIDIgLSBkaW1Ob1NrZXcuXG4gICAgICAgIHRvdGFsU2tld1NpemUgPSBNYXRoLmFicyhsb2NhbFBvaW50LnggKiAyKSAtIGRpbU5vU2tldy54LFxuICAgICAgICBjdXJyZW50U2tldyA9IHRhcmdldC5za2V3WCwgbmV3U2tldztcbiAgICBpZiAodG90YWxTa2V3U2l6ZSA8IDIpIHtcbiAgICAgIC8vIGxldCdzIG1ha2UgaXQgZWFzeSB0byBnbyBiYWNrIHRvIHBvc2l0aW9uIDAuXG4gICAgICBuZXdTa2V3ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBuZXdTa2V3ID0gcmFkaWFuc1RvRGVncmVlcyhcbiAgICAgICAgTWF0aC5hdGFuMigodG90YWxTa2V3U2l6ZSAvIHRhcmdldC5zY2FsZVgpLCAoZGltTm9Ta2V3LnkgLyB0YXJnZXQuc2NhbGVZKSlcbiAgICAgICk7XG4gICAgICAvLyBub3cgd2UgaGF2ZSB0byBmaW5kIHRoZSBzaWduIG9mIHRoZSBza2V3LlxuICAgICAgLy8gaXQgbW9zdGx5IGRlcGVuZCBvbiB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uLlxuICAgICAgaWYgKHRyYW5zZm9ybS5vcmlnaW5YID09PSBMRUZUICYmIHRyYW5zZm9ybS5vcmlnaW5ZID09PSBCT1RUT00pIHtcbiAgICAgICAgbmV3U2tldyA9IC1uZXdTa2V3O1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zZm9ybS5vcmlnaW5YID09PSBSSUdIVCAmJiB0cmFuc2Zvcm0ub3JpZ2luWSA9PT0gVE9QKSB7XG4gICAgICAgIG5ld1NrZXcgPSAtbmV3U2tldztcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXRIYXNPbmVGbGlwKHRhcmdldCkpIHtcbiAgICAgICAgbmV3U2tldyA9IC1uZXdTa2V3O1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaGFzU2tld2VkID0gY3VycmVudFNrZXcgIT09IG5ld1NrZXc7XG4gICAgaWYgKGhhc1NrZXdlZCkge1xuICAgICAgdmFyIGRpbUJlZm9yZVNrZXdpbmcgPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLnk7XG4gICAgICB0YXJnZXQuc2V0KCdza2V3WCcsIG5ld1NrZXcpO1xuICAgICAgY29tcGVuc2F0ZVNjYWxlRm9yU2tldyh0YXJnZXQsICdza2V3WScsICdzY2FsZVknLCAneScsIGRpbUJlZm9yZVNrZXdpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gaGFzU2tld2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiBoYW5kbGVyIGZvciBza2V3aW5nIG9uIHRoZSBZIGF4aXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHNrZXdPYmplY3RZKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsXG4gICAgICAgIC8vIGZpbmQgaG93IGJpZyB0aGUgb2JqZWN0IHdvdWxkIGJlLCBpZiB0aGVyZSB3YXMgbm8gc2tld1guIHRha2VzIGluIGFjY291bnQgc2NhbGluZ1xuICAgICAgICBkaW1Ob1NrZXcgPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucyh0YXJnZXQuc2tld1gsIDApLFxuICAgICAgICBsb2NhbFBvaW50ID0gZ2V0TG9jYWxQb2ludCh0cmFuc2Zvcm0sIHRyYW5zZm9ybS5vcmlnaW5YLCB0cmFuc2Zvcm0ub3JpZ2luWSwgeCwgeSksXG4gICAgICAgIC8vIHRoZSBtb3VzZSBpcyBpbiB0aGUgY2VudGVyIG9mIHRoZSBvYmplY3QsIGFuZCB3ZSB3YW50IGl0IHRvIHN0YXkgdGhlcmUuXG4gICAgICAgIC8vIHNvIHRoZSBvYmplY3Qgd2lsbCBncm93IHR3aWNlIGFzIG11Y2ggYXMgdGhlIG1vdXNlLlxuICAgICAgICAvLyB0aGlzIG1ha2VzIHRoZSBza2V3IGdyb3d0aCB0byBsb2NhbFBvaW50ICogMiAtIGRpbU5vU2tldy5cbiAgICAgICAgdG90YWxTa2V3U2l6ZSA9IE1hdGguYWJzKGxvY2FsUG9pbnQueSAqIDIpIC0gZGltTm9Ta2V3LnksXG4gICAgICAgIGN1cnJlbnRTa2V3ID0gdGFyZ2V0LnNrZXdZLCBuZXdTa2V3O1xuICAgIGlmICh0b3RhbFNrZXdTaXplIDwgMikge1xuICAgICAgLy8gbGV0J3MgbWFrZSBpdCBlYXN5IHRvIGdvIGJhY2sgdG8gcG9zaXRpb24gMC5cbiAgICAgIG5ld1NrZXcgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG5ld1NrZXcgPSByYWRpYW5zVG9EZWdyZWVzKFxuICAgICAgICBNYXRoLmF0YW4yKCh0b3RhbFNrZXdTaXplIC8gdGFyZ2V0LnNjYWxlWSksIChkaW1Ob1NrZXcueCAvIHRhcmdldC5zY2FsZVgpKVxuICAgICAgKTtcbiAgICAgIC8vIG5vdyB3ZSBoYXZlIHRvIGZpbmQgdGhlIHNpZ24gb2YgdGhlIHNrZXcuXG4gICAgICAvLyBpdCBtb3N0bHkgZGVwZW5kIG9uIHRoZSBvcmlnaW4gb2YgdHJhbnNmb3JtYXRpb24uXG4gICAgICBpZiAodHJhbnNmb3JtLm9yaWdpblggPT09IExFRlQgJiYgdHJhbnNmb3JtLm9yaWdpblkgPT09IEJPVFRPTSkge1xuICAgICAgICBuZXdTa2V3ID0gLW5ld1NrZXc7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmb3JtLm9yaWdpblggPT09IFJJR0hUICYmIHRyYW5zZm9ybS5vcmlnaW5ZID09PSBUT1ApIHtcbiAgICAgICAgbmV3U2tldyA9IC1uZXdTa2V3O1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldEhhc09uZUZsaXAodGFyZ2V0KSkge1xuICAgICAgICBuZXdTa2V3ID0gLW5ld1NrZXc7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBoYXNTa2V3ZWQgPSBjdXJyZW50U2tldyAhPT0gbmV3U2tldztcbiAgICBpZiAoaGFzU2tld2VkKSB7XG4gICAgICB2YXIgZGltQmVmb3JlU2tld2luZyA9IHRhcmdldC5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCkueDtcbiAgICAgIHRhcmdldC5zZXQoJ3NrZXdZJywgbmV3U2tldyk7XG4gICAgICBjb21wZW5zYXRlU2NhbGVGb3JTa2V3KHRhcmdldCwgJ3NrZXdYJywgJ3NjYWxlWCcsICd4JywgZGltQmVmb3JlU2tld2luZyk7XG4gICAgfVxuICAgIHJldHVybiBoYXNTa2V3ZWQ7XG4gIH1cblxuICAvKipcbiAgICogV3JhcHBlZCBBY3Rpb24gaGFuZGxlciBmb3Igc2tld2luZyBvbiB0aGUgWSBheGlzLCB0YWtlcyBjYXJlIG9mIHRoZVxuICAgKiBza2V3IGRpcmVjdGlvbiBhbmQgZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHRyYW5zZm9ybSBvcmlnaW4gZm9yIHRoZSBhbmNob3IgcG9pbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBza2V3SGFuZGxlclgoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICAvLyBzdGVwMSBmaWd1cmUgb3V0IGFuZCBjaGFuZ2UgdHJhbnNmb3JtIG9yaWdpbi5cbiAgICAvLyBpZiBza2V3WCA+IDAgYW5kIG9yaWdpblkgYm90dG9tIHdlIGFuY2hvciBvbiByaWdodFxuICAgIC8vIGlmIHNrZXdYID4gMCBhbmQgb3JpZ2luWSB0b3Agd2UgYW5jaG9yIG9uIGxlZnRcbiAgICAvLyBpZiBza2V3WCA8IDAgYW5kIG9yaWdpblkgYm90dG9tIHdlIGFuY2hvciBvbiBsZWZ0XG4gICAgLy8gaWYgc2tld1ggPCAwIGFuZCBvcmlnaW5ZIHRvcCB3ZSBhbmNob3Igb24gcmlnaHRcbiAgICAvLyBpZiBza2V3WCBpcyAwLCB3ZSBsb29rIGZvciBtb3VzZSBwb3NpdGlvbiB0byB1bmRlcnN0YW5kIHdoZXJlIGFyZSB3ZSBnb2luZy5cbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCwgY3VycmVudFNrZXcgPSB0YXJnZXQuc2tld1gsIG9yaWdpblgsIG9yaWdpblkgPSB0cmFuc2Zvcm0ub3JpZ2luWTtcbiAgICBpZiAodGFyZ2V0LmxvY2tTa2V3aW5nWCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFNrZXcgPT09IDApIHtcbiAgICAgIHZhciBsb2NhbFBvaW50RnJvbUNlbnRlciA9IGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCBDRU5URVIsIENFTlRFUiwgeCwgeSk7XG4gICAgICBpZiAobG9jYWxQb2ludEZyb21DZW50ZXIueCA+IDApIHtcbiAgICAgICAgLy8gd2UgYXJlIHB1bGxpbmcgcmlnaHQsIGFuY2hvciBsZWZ0O1xuICAgICAgICBvcmlnaW5YID0gTEVGVDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyB3ZSBhcmUgcHVsbGluZyByaWdodCwgYW5jaG9yIHJpZ2h0XG4gICAgICAgIG9yaWdpblggPSBSSUdIVDtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoY3VycmVudFNrZXcgPiAwKSB7XG4gICAgICAgIG9yaWdpblggPSBvcmlnaW5ZID09PSBUT1AgPyBMRUZUIDogUklHSFQ7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFNrZXcgPCAwKSB7XG4gICAgICAgIG9yaWdpblggPSBvcmlnaW5ZID09PSBUT1AgPyBSSUdIVCA6IExFRlQ7XG4gICAgICB9XG4gICAgICAvLyBpcyB0aGUgb2JqZWN0IGZsaXBwZWQgb24gb25lIHNpZGUgb25seT8gc3dhcCB0aGUgb3JpZ2luLlxuICAgICAgaWYgKHRhcmdldEhhc09uZUZsaXAodGFyZ2V0KSkge1xuICAgICAgICBvcmlnaW5YID0gb3JpZ2luWCA9PT0gTEVGVCA/IFJJR0hUIDogTEVGVDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBvbmNlIHdlIGhhdmUgdGhlIG9yaWdpbiwgd2UgZmluZCB0aGUgYW5jaG9yIHBvaW50XG4gICAgdHJhbnNmb3JtLm9yaWdpblggPSBvcmlnaW5YO1xuICAgIHZhciBmaW5hbEhhbmRsZXIgPSB3cmFwV2l0aEZpcmVFdmVudCgnc2tld2luZycsIHdyYXBXaXRoRml4ZWRBbmNob3Ioc2tld09iamVjdFgpKTtcbiAgICByZXR1cm4gZmluYWxIYW5kbGVyKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcGVkIEFjdGlvbiBoYW5kbGVyIGZvciBza2V3aW5nIG9uIHRoZSBZIGF4aXMsIHRha2VzIGNhcmUgb2YgdGhlXG4gICAqIHNrZXcgZGlyZWN0aW9uIGFuZCBkZXRlcm1pbmUgdGhlIGNvcnJlY3QgdHJhbnNmb3JtIG9yaWdpbiBmb3IgdGhlIGFuY2hvciBwb2ludFxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGRvaW5nIHRoZSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSBqYXZhc2NyaXB0IG9iamVjdCBjb250YWluaW5nIGEgc2VyaWVzIG9mIGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBtb3VzZSB4IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge251bWJlcn0geSBjdXJyZW50IG1vdXNlIHkgcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICovXG4gIGZ1bmN0aW9uIHNrZXdIYW5kbGVyWShldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIC8vIHN0ZXAxIGZpZ3VyZSBvdXQgYW5kIGNoYW5nZSB0cmFuc2Zvcm0gb3JpZ2luLlxuICAgIC8vIGlmIHNrZXdZID4gMCBhbmQgb3JpZ2luWCBsZWZ0IHdlIGFuY2hvciBvbiB0b3BcbiAgICAvLyBpZiBza2V3WSA+IDAgYW5kIG9yaWdpblggcmlnaHQgd2UgYW5jaG9yIG9uIGJvdHRvbVxuICAgIC8vIGlmIHNrZXdZIDwgMCBhbmQgb3JpZ2luWCBsZWZ0IHdlIGFuY2hvciBvbiBib3R0b21cbiAgICAvLyBpZiBza2V3WSA8IDAgYW5kIG9yaWdpblggcmlnaHQgd2UgYW5jaG9yIG9uIHRvcFxuICAgIC8vIGlmIHNrZXdZIGlzIDAsIHdlIGxvb2sgZm9yIG1vdXNlIHBvc2l0aW9uIHRvIHVuZGVyc3RhbmQgd2hlcmUgYXJlIHdlIGdvaW5nLlxuICAgIHZhciB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LCBjdXJyZW50U2tldyA9IHRhcmdldC5za2V3WSwgb3JpZ2luWSwgb3JpZ2luWCA9IHRyYW5zZm9ybS5vcmlnaW5YO1xuICAgIGlmICh0YXJnZXQubG9ja1NrZXdpbmdZKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjdXJyZW50U2tldyA9PT0gMCkge1xuICAgICAgdmFyIGxvY2FsUG9pbnRGcm9tQ2VudGVyID0gZ2V0TG9jYWxQb2ludCh0cmFuc2Zvcm0sIENFTlRFUiwgQ0VOVEVSLCB4LCB5KTtcbiAgICAgIGlmIChsb2NhbFBvaW50RnJvbUNlbnRlci55ID4gMCkge1xuICAgICAgICAvLyB3ZSBhcmUgcHVsbGluZyBkb3duLCBhbmNob3IgdXA7XG4gICAgICAgIG9yaWdpblkgPSBUT1A7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gd2UgYXJlIHB1bGxpbmcgdXAsIGFuY2hvciBkb3duXG4gICAgICAgIG9yaWdpblkgPSBCT1RUT007XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGN1cnJlbnRTa2V3ID4gMCkge1xuICAgICAgICBvcmlnaW5ZID0gb3JpZ2luWCA9PT0gTEVGVCA/IFRPUCA6IEJPVFRPTTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50U2tldyA8IDApIHtcbiAgICAgICAgb3JpZ2luWSA9IG9yaWdpblggPT09IExFRlQgPyBCT1RUT00gOiBUT1A7XG4gICAgICB9XG4gICAgICAvLyBpcyB0aGUgb2JqZWN0IGZsaXBwZWQgb24gb25lIHNpZGUgb25seT8gc3dhcCB0aGUgb3JpZ2luLlxuICAgICAgaWYgKHRhcmdldEhhc09uZUZsaXAodGFyZ2V0KSkge1xuICAgICAgICBvcmlnaW5ZID0gb3JpZ2luWSA9PT0gVE9QID8gQk9UVE9NIDogVE9QO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG9uY2Ugd2UgaGF2ZSB0aGUgb3JpZ2luLCB3ZSBmaW5kIHRoZSBhbmNob3IgcG9pbnRcbiAgICB0cmFuc2Zvcm0ub3JpZ2luWSA9IG9yaWdpblk7XG4gICAgdmFyIGZpbmFsSGFuZGxlciA9IHdyYXBXaXRoRmlyZUV2ZW50KCdza2V3aW5nJywgd3JhcFdpdGhGaXhlZEFuY2hvcihza2V3T2JqZWN0WSkpO1xuICAgIHJldHVybiBmaW5hbEhhbmRsZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiBoYW5kbGVyIGZvciByb3RhdGlvbiBhbmQgc25hcHBpbmcsIHdpdGhvdXQgYW5jaG9yIHBvaW50LlxuICAgKiBOZWVkcyB0byBiZSB3cmFwcGVkIHdpdGggYHdyYXBXaXRoRml4ZWRBbmNob3JgIHRvIGJlIGVmZmVjdGl2ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGRvaW5nIHRoZSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSBqYXZhc2NyaXB0IG9iamVjdCBjb250YWluaW5nIGEgc2VyaWVzIG9mIGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBtb3VzZSB4IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge251bWJlcn0geSBjdXJyZW50IG1vdXNlIHkgcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHJvdGF0aW9uV2l0aFNuYXBwaW5nKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgdmFyIHQgPSB0cmFuc2Zvcm0sXG4gICAgICAgIHRhcmdldCA9IHQudGFyZ2V0LFxuICAgICAgICBwaXZvdFBvaW50ID0gdGFyZ2V0LnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQodGFyZ2V0LmdldENlbnRlclBvaW50KCksIHQub3JpZ2luWCwgdC5vcmlnaW5ZKTtcblxuICAgIGlmICh0YXJnZXQubG9ja1JvdGF0aW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxhc3RBbmdsZSA9IE1hdGguYXRhbjIodC5leSAtIHBpdm90UG9pbnQueSwgdC5leCAtIHBpdm90UG9pbnQueCksXG4gICAgICAgIGN1ckFuZ2xlID0gTWF0aC5hdGFuMih5IC0gcGl2b3RQb2ludC55LCB4IC0gcGl2b3RQb2ludC54KSxcbiAgICAgICAgYW5nbGUgPSByYWRpYW5zVG9EZWdyZWVzKGN1ckFuZ2xlIC0gbGFzdEFuZ2xlICsgdC50aGV0YSksXG4gICAgICAgIGhhc1JvdGF0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKHRhcmdldC5zbmFwQW5nbGUgPiAwKSB7XG4gICAgICB2YXIgc25hcEFuZ2xlICA9IHRhcmdldC5zbmFwQW5nbGUsXG4gICAgICAgICAgc25hcFRocmVzaG9sZCAgPSB0YXJnZXQuc25hcFRocmVzaG9sZCB8fCBzbmFwQW5nbGUsXG4gICAgICAgICAgcmlnaHRBbmdsZUxvY2tlZCA9IE1hdGguY2VpbChhbmdsZSAvIHNuYXBBbmdsZSkgKiBzbmFwQW5nbGUsXG4gICAgICAgICAgbGVmdEFuZ2xlTG9ja2VkID0gTWF0aC5mbG9vcihhbmdsZSAvIHNuYXBBbmdsZSkgKiBzbmFwQW5nbGU7XG5cbiAgICAgIGlmIChNYXRoLmFicyhhbmdsZSAtIGxlZnRBbmdsZUxvY2tlZCkgPCBzbmFwVGhyZXNob2xkKSB7XG4gICAgICAgIGFuZ2xlID0gbGVmdEFuZ2xlTG9ja2VkO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoTWF0aC5hYnMoYW5nbGUgLSByaWdodEFuZ2xlTG9ja2VkKSA8IHNuYXBUaHJlc2hvbGQpIHtcbiAgICAgICAgYW5nbGUgPSByaWdodEFuZ2xlTG9ja2VkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vcm1hbGl6ZSBhbmdsZSB0byBwb3NpdGl2ZSB2YWx1ZVxuICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgIGFuZ2xlID0gMzYwICsgYW5nbGU7XG4gICAgfVxuICAgIGFuZ2xlICU9IDM2MDtcblxuICAgIGhhc1JvdGF0ZWQgPSB0YXJnZXQuYW5nbGUgIT09IGFuZ2xlO1xuICAgIHRhcmdldC5hbmdsZSA9IGFuZ2xlO1xuICAgIHJldHVybiBoYXNSb3RhdGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhc2ljIHNjYWxpbmcgbG9naWMsIHJldXNlZCB3aXRoIGRpZmZlcmVudCBjb25zdHJhaW4gZm9yIHNjYWxpbmcgWCxZLCBmcmVlbHkgb3IgZXF1YWxseS5cbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGZvciBzY2FsaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmJ5ICd4JywgJ3knLCAnZXF1YWxseScgb3IgJycgdG8gaW5kaWNhdGUgdHlwZSBvZiBzY2FsaW5nXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxlT2JqZWN0KGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsXG4gICAgICAgIGxvY2tTY2FsaW5nWCA9IHRhcmdldC5sb2NrU2NhbGluZ1gsIGxvY2tTY2FsaW5nWSA9IHRhcmdldC5sb2NrU2NhbGluZ1ksXG4gICAgICAgIGJ5ID0gb3B0aW9ucy5ieSwgbmV3UG9pbnQsIHNjYWxlWCwgc2NhbGVZLCBkaW0sXG4gICAgICAgIHNjYWxlUHJvcG9ydGlvbmFsbHkgPSBzY2FsZUlzUHJvcG9ydGlvbmFsKGV2ZW50RGF0YSwgdGFyZ2V0KSxcbiAgICAgICAgZm9yYmlkU2NhbGluZyA9IHNjYWxpbmdJc0ZvcmJpZGRlbih0YXJnZXQsIGJ5LCBzY2FsZVByb3BvcnRpb25hbGx5KSxcbiAgICAgICAgc2lnblgsIHNpZ25ZLCBnZXN0dXJlU2NhbGUgPSB0cmFuc2Zvcm0uZ2VzdHVyZVNjYWxlO1xuXG4gICAgaWYgKGZvcmJpZFNjYWxpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGdlc3R1cmVTY2FsZSkge1xuICAgICAgc2NhbGVYID0gdHJhbnNmb3JtLnNjYWxlWCAqIGdlc3R1cmVTY2FsZTtcbiAgICAgIHNjYWxlWSA9IHRyYW5zZm9ybS5zY2FsZVkgKiBnZXN0dXJlU2NhbGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbmV3UG9pbnQgPSBnZXRMb2NhbFBvaW50KHRyYW5zZm9ybSwgdHJhbnNmb3JtLm9yaWdpblgsIHRyYW5zZm9ybS5vcmlnaW5ZLCB4LCB5KTtcbiAgICAgIC8vIHVzZSBvZiBzaWduOiBXZSB1c2Ugc2lnbiB0byBkZXRlY3QgY2hhbmdlIG9mIGRpcmVjdGlvbiBvZiBhbiBhY3Rpb24uIHNpZ24gdXN1YWxseSBjaGFuZ2Ugd2hlblxuICAgICAgLy8gd2UgY3Jvc3MgdGhlIG9yaWdpbiBwb2ludCB3aXRoIHRoZSBtb3VzZS4gU28gYSBzY2FsZSBmbGlwIGZvciBleGFtcGxlLiBUaGVyZSBpcyBhbiBpc3N1ZSB3aGVuIHNjYWxpbmdcbiAgICAgIC8vIGJ5IGNlbnRlciBhbmQgc2NhbGluZyB1c2luZyBvbmUgbWlkZGxlIGNvbnRyb2wgKCBkZWZhdWx0OiBtciwgbXQsIG1sLCBtYiksIHRoZSBtb3VzZSBtb3ZlbWVudCBjYW4gZWFzaWx5XG4gICAgICAvLyBjcm9zcyBtYW55IHRpbWUgdGhlIG9yaWdpbiBwb2ludCBhbmQgZmxpcCB0aGUgb2JqZWN0LiBzbyB3ZSBuZWVkIGEgd2F5IHRvIGZpbHRlciBvdXQgdGhlIG5vaXNlLlxuICAgICAgLy8gVGhpcyB0ZXJuYXJ5IGhlcmUgc2hvdWxkIGJlIG9rIHRvIGZpbHRlciBvdXQgWCBzY2FsaW5nIHdoZW4gd2Ugd2FudCBZIG9ubHkgYW5kIHZpY2UgdmVyc2EuXG4gICAgICBzaWduWCA9IGJ5ICE9PSAneScgPyBzaWduKG5ld1BvaW50LngpIDogMTtcbiAgICAgIHNpZ25ZID0gYnkgIT09ICd4JyA/IHNpZ24obmV3UG9pbnQueSkgOiAxO1xuICAgICAgaWYgKCF0cmFuc2Zvcm0uc2lnblgpIHtcbiAgICAgICAgdHJhbnNmb3JtLnNpZ25YID0gc2lnblg7XG4gICAgICB9XG4gICAgICBpZiAoIXRyYW5zZm9ybS5zaWduWSkge1xuICAgICAgICB0cmFuc2Zvcm0uc2lnblkgPSBzaWduWTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldC5sb2NrU2NhbGluZ0ZsaXAgJiZcbiAgICAgICAgKHRyYW5zZm9ybS5zaWduWCAhPT0gc2lnblggfHwgdHJhbnNmb3JtLnNpZ25ZICE9PSBzaWduWSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGRpbSA9IHRhcmdldC5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCk7XG4gICAgICAvLyBtaXNzaW5nIGRldGVjdGlvbiBvZiBmbGlwIGFuZCBsb2dpYyB0byBzd2l0Y2ggdGhlIG9yaWdpblxuICAgICAgaWYgKHNjYWxlUHJvcG9ydGlvbmFsbHkgJiYgIWJ5KSB7XG4gICAgICAgIC8vIHVuaWZvcm0gc2NhbGluZ1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhuZXdQb2ludC54KSArIE1hdGguYWJzKG5ld1BvaW50LnkpLFxuICAgICAgICAgICAgb3JpZ2luYWwgPSB0cmFuc2Zvcm0ub3JpZ2luYWwsXG4gICAgICAgICAgICBvcmlnaW5hbERpc3RhbmNlID0gTWF0aC5hYnMoZGltLnggKiBvcmlnaW5hbC5zY2FsZVggLyB0YXJnZXQuc2NhbGVYKSArXG4gICAgICAgICAgICAgIE1hdGguYWJzKGRpbS55ICogb3JpZ2luYWwuc2NhbGVZIC8gdGFyZ2V0LnNjYWxlWSksXG4gICAgICAgICAgICBzY2FsZSA9IGRpc3RhbmNlIC8gb3JpZ2luYWxEaXN0YW5jZTtcbiAgICAgICAgc2NhbGVYID0gb3JpZ2luYWwuc2NhbGVYICogc2NhbGU7XG4gICAgICAgIHNjYWxlWSA9IG9yaWdpbmFsLnNjYWxlWSAqIHNjYWxlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNjYWxlWCA9IE1hdGguYWJzKG5ld1BvaW50LnggKiB0YXJnZXQuc2NhbGVYIC8gZGltLngpO1xuICAgICAgICBzY2FsZVkgPSBNYXRoLmFicyhuZXdQb2ludC55ICogdGFyZ2V0LnNjYWxlWSAvIGRpbS55KTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHdlIGFyZSBzY2FsaW5nIGJ5IGNlbnRlciwgd2UgbmVlZCB0byBkb3VibGUgdGhlIHNjYWxlXG4gICAgICBpZiAoaXNUcmFuc2Zvcm1DZW50ZXJlZCh0cmFuc2Zvcm0pKSB7XG4gICAgICAgIHNjYWxlWCAqPSAyO1xuICAgICAgICBzY2FsZVkgKj0gMjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm0uc2lnblggIT09IHNpZ25YICYmIGJ5ICE9PSAneScpIHtcbiAgICAgICAgdHJhbnNmb3JtLm9yaWdpblggPSBvcHBvc2l0ZVt0cmFuc2Zvcm0ub3JpZ2luWF07XG4gICAgICAgIHNjYWxlWCAqPSAtMTtcbiAgICAgICAgdHJhbnNmb3JtLnNpZ25YID0gc2lnblg7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmb3JtLnNpZ25ZICE9PSBzaWduWSAmJiBieSAhPT0gJ3gnKSB7XG4gICAgICAgIHRyYW5zZm9ybS5vcmlnaW5ZID0gb3Bwb3NpdGVbdHJhbnNmb3JtLm9yaWdpblldO1xuICAgICAgICBzY2FsZVkgKj0gLTE7XG4gICAgICAgIHRyYW5zZm9ybS5zaWduWSA9IHNpZ25ZO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBtaW5TY2FsZSBpcyB0YWtlbiBhcmUgaW4gdGhlIHNldHRlci5cbiAgICB2YXIgb2xkU2NhbGVYID0gdGFyZ2V0LnNjYWxlWCwgb2xkU2NhbGVZID0gdGFyZ2V0LnNjYWxlWTtcbiAgICBpZiAoIWJ5KSB7XG4gICAgICAhbG9ja1NjYWxpbmdYICYmIHRhcmdldC5zZXQoJ3NjYWxlWCcsIHNjYWxlWCk7XG4gICAgICAhbG9ja1NjYWxpbmdZICYmIHRhcmdldC5zZXQoJ3NjYWxlWScsIHNjYWxlWSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gZm9yYmlkZGVuIGNhc2VzIGFscmVhZHkgaGFuZGxlZCBvbiB0b3AgaGVyZS5cbiAgICAgIGJ5ID09PSAneCcgJiYgdGFyZ2V0LnNldCgnc2NhbGVYJywgc2NhbGVYKTtcbiAgICAgIGJ5ID09PSAneScgJiYgdGFyZ2V0LnNldCgnc2NhbGVZJywgc2NhbGVZKTtcbiAgICB9XG4gICAgcmV0dXJuIG9sZFNjYWxlWCAhPT0gdGFyZ2V0LnNjYWxlWCB8fCBvbGRTY2FsZVkgIT09IHRhcmdldC5zY2FsZVk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBzY2FsaW5nIGxvZ2ljLCB0byBzY2FsZSBmcm9tIGNvcm5lcnMgZWl0aGVyIGVxdWFsbHkgb3IgZnJlZWx5LlxuICAgKiBOZWVkcyB0byBiZSB3cmFwcGVkIHdpdGggYHdyYXBXaXRoRml4ZWRBbmNob3JgIHRvIGJlIGVmZmVjdGl2ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGRvaW5nIHRoZSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSBqYXZhc2NyaXB0IG9iamVjdCBjb250YWluaW5nIGEgc2VyaWVzIG9mIGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBtb3VzZSB4IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge251bWJlcn0geSBjdXJyZW50IG1vdXNlIHkgcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxlT2JqZWN0RnJvbUNvcm5lcihldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIHJldHVybiBzY2FsZU9iamVjdChldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGluZyBsb2dpYyBmb3IgdGhlIFggYXhpcy5cbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBzY2FsZU9iamVjdFgoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICByZXR1cm4gc2NhbGVPYmplY3QoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkgLCB7IGJ5OiAneCcgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGluZyBsb2dpYyBmb3IgdGhlIFkgYXhpcy5cbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBzY2FsZU9iamVjdFkoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICByZXR1cm4gc2NhbGVPYmplY3QoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkgLCB7IGJ5OiAneScgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcG9zZWQgYWN0aW9uIGhhbmRsZXIgdG8gZWl0aGVyIHNjYWxlIFkgb3Igc2tldyBYXG4gICAqIE5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCBgd3JhcFdpdGhGaXhlZEFuY2hvcmAgdG8gYmUgZWZmZWN0aXZlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzb21lIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGluZ1lPclNrZXdpbmdYKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgLy8gb2sgc29tZSBzYWZldHkgbmVlZGVkIGhlcmUuXG4gICAgaWYgKGV2ZW50RGF0YVt0cmFuc2Zvcm0udGFyZ2V0LmNhbnZhcy5hbHRBY3Rpb25LZXldKSB7XG4gICAgICByZXR1cm4gY29udHJvbHMuc2tld0hhbmRsZXJYKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyb2xzLnNjYWxpbmdZKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wb3NlZCBhY3Rpb24gaGFuZGxlciB0byBlaXRoZXIgc2NhbGUgWCBvciBza2V3IFlcbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBzY2FsaW5nWE9yU2tld2luZ1koZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICAvLyBvayBzb21lIHNhZmV0eSBuZWVkZWQgaGVyZS5cbiAgICBpZiAoZXZlbnREYXRhW3RyYW5zZm9ybS50YXJnZXQuY2FudmFzLmFsdEFjdGlvbktleV0pIHtcbiAgICAgIHJldHVybiBjb250cm9scy5za2V3SGFuZGxlclkoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udHJvbHMuc2NhbGluZ1goZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiBoYW5kbGVyIHRvIGNoYW5nZSB0ZXh0Ym94IHdpZHRoXG4gICAqIE5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCBgd3JhcFdpdGhGaXhlZEFuY2hvcmAgdG8gYmUgZWZmZWN0aXZlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzb21lIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgZnVuY3Rpb24gY2hhbmdlV2lkdGgoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCwgbG9jYWxQb2ludCA9IGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCB0cmFuc2Zvcm0ub3JpZ2luWCwgdHJhbnNmb3JtLm9yaWdpblksIHgsIHkpLFxuICAgICAgICBzdHJva2VQYWRkaW5nID0gdGFyZ2V0LnN0cm9rZVdpZHRoIC8gKHRhcmdldC5zdHJva2VVbmlmb3JtID8gdGFyZ2V0LnNjYWxlWCA6IDEpLFxuICAgICAgICBtdWx0aXBsaWVyID0gaXNUcmFuc2Zvcm1DZW50ZXJlZCh0cmFuc2Zvcm0pID8gMiA6IDEsXG4gICAgICAgIG9sZFdpZHRoID0gdGFyZ2V0LndpZHRoLFxuICAgICAgICBuZXdXaWR0aCA9IE1hdGguYWJzKGxvY2FsUG9pbnQueCAqIG11bHRpcGxpZXIgLyB0YXJnZXQuc2NhbGVYKSAtIHN0cm9rZVBhZGRpbmc7XG4gICAgdGFyZ2V0LnNldCgnd2lkdGgnLCBNYXRoLm1heChuZXdXaWR0aCwgMCkpO1xuICAgIHJldHVybiBvbGRXaWR0aCAhPT0gbmV3V2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogQWN0aW9uIGhhbmRsZXJcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSB0cmFuc2xhdGlvbiBvY2N1cnJlZFxuICAgKi9cbiAgZnVuY3Rpb24gZHJhZ0hhbmRsZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgbmV3TGVmdCA9IHggLSB0cmFuc2Zvcm0ub2Zmc2V0WCxcbiAgICAgICAgbmV3VG9wID0geSAtIHRyYW5zZm9ybS5vZmZzZXRZLFxuICAgICAgICBtb3ZlWCA9ICF0YXJnZXQuZ2V0KCdsb2NrTW92ZW1lbnRYJykgJiYgdGFyZ2V0LmxlZnQgIT09IG5ld0xlZnQsXG4gICAgICAgIG1vdmVZID0gIXRhcmdldC5nZXQoJ2xvY2tNb3ZlbWVudFknKSAmJiB0YXJnZXQudG9wICE9PSBuZXdUb3A7XG4gICAgbW92ZVggJiYgdGFyZ2V0LnNldCgnbGVmdCcsIG5ld0xlZnQpO1xuICAgIG1vdmVZICYmIHRhcmdldC5zZXQoJ3RvcCcsIG5ld1RvcCk7XG4gICAgaWYgKG1vdmVYIHx8IG1vdmVZKSB7XG4gICAgICBmaXJlRXZlbnQoJ21vdmluZycsIGNvbW1vbkV2ZW50SW5mbyhldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkpO1xuICAgIH1cbiAgICByZXR1cm4gbW92ZVggfHwgbW92ZVk7XG4gIH1cblxuICBjb250cm9scy5zY2FsZUN1cnNvclN0eWxlSGFuZGxlciA9IHNjYWxlQ3Vyc29yU3R5bGVIYW5kbGVyO1xuICBjb250cm9scy5za2V3Q3Vyc29yU3R5bGVIYW5kbGVyID0gc2tld0N1cnNvclN0eWxlSGFuZGxlcjtcbiAgY29udHJvbHMuc2NhbGVTa2V3Q3Vyc29yU3R5bGVIYW5kbGVyID0gc2NhbGVTa2V3Q3Vyc29yU3R5bGVIYW5kbGVyO1xuICBjb250cm9scy5yb3RhdGlvbldpdGhTbmFwcGluZyA9IHdyYXBXaXRoRmlyZUV2ZW50KCdyb3RhdGluZycsIHdyYXBXaXRoRml4ZWRBbmNob3Iocm90YXRpb25XaXRoU25hcHBpbmcpKTtcbiAgY29udHJvbHMuc2NhbGluZ0VxdWFsbHkgPSB3cmFwV2l0aEZpcmVFdmVudCgnc2NhbGluZycsIHdyYXBXaXRoRml4ZWRBbmNob3IoIHNjYWxlT2JqZWN0RnJvbUNvcm5lcikpO1xuICBjb250cm9scy5zY2FsaW5nWCA9IHdyYXBXaXRoRmlyZUV2ZW50KCdzY2FsaW5nJywgd3JhcFdpdGhGaXhlZEFuY2hvcihzY2FsZU9iamVjdFgpKTtcbiAgY29udHJvbHMuc2NhbGluZ1kgPSB3cmFwV2l0aEZpcmVFdmVudCgnc2NhbGluZycsIHdyYXBXaXRoRml4ZWRBbmNob3Ioc2NhbGVPYmplY3RZKSk7XG4gIGNvbnRyb2xzLnNjYWxpbmdZT3JTa2V3aW5nWCA9IHNjYWxpbmdZT3JTa2V3aW5nWDtcbiAgY29udHJvbHMuc2NhbGluZ1hPclNrZXdpbmdZID0gc2NhbGluZ1hPclNrZXdpbmdZO1xuICBjb250cm9scy5jaGFuZ2VXaWR0aCA9IHdyYXBXaXRoRmlyZUV2ZW50KCdyZXNpemluZycsIHdyYXBXaXRoRml4ZWRBbmNob3IoY2hhbmdlV2lkdGgpKTtcbiAgY29udHJvbHMuc2tld0hhbmRsZXJYID0gc2tld0hhbmRsZXJYO1xuICBjb250cm9scy5za2V3SGFuZGxlclkgPSBza2V3SGFuZGxlclk7XG4gIGNvbnRyb2xzLmRyYWdIYW5kbGVyID0gZHJhZ0hhbmRsZXI7XG4gIGNvbnRyb2xzLnNjYWxlT3JTa2V3QWN0aW9uTmFtZSA9IHNjYWxlT3JTa2V3QWN0aW9uTmFtZTtcbiAgY29udHJvbHMucm90YXRpb25TdHlsZUhhbmRsZXIgPSByb3RhdGlvblN0eWxlSGFuZGxlcjtcbiAgY29udHJvbHMuZmlyZUV2ZW50ID0gZmlyZUV2ZW50O1xuICBjb250cm9scy53cmFwV2l0aEZpeGVkQW5jaG9yID0gd3JhcFdpdGhGaXhlZEFuY2hvcjtcbiAgY29udHJvbHMud3JhcFdpdGhGaXJlRXZlbnQgPSB3cmFwV2l0aEZpcmVFdmVudDtcbiAgY29udHJvbHMuZ2V0TG9jYWxQb2ludCA9IGdldExvY2FsUG9pbnQ7XG4gIGZhYnJpYy5jb250cm9sc1V0aWxzID0gY29udHJvbHM7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zLFxuICAgICAgY29udHJvbHMgPSBmYWJyaWMuY29udHJvbHNVdGlscztcblxuICAvKipcbiAgICogUmVuZGVyIGEgcm91bmQgY29udHJvbCwgYXMgcGVyIGZhYnJpYyBmZWF0dXJlcy5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyB3cml0dGVuIHRvIHJlc3BlY3Qgb2JqZWN0IHByb3BlcnRpZXMgbGlrZSB0cmFuc3BhcmVudENvcm5lcnMsIGNvcm5lclNpemVcbiAgICogY29ybmVyQ29sb3IsIGNvcm5lclN0cm9rZUNvbG9yXG4gICAqIHBsdXMgdGhlIGFkZGl0aW9uIG9mIG9mZnNldFkgYW5kIG9mZnNldFguXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgeCBjb29yZGluYXRlIHdoZXJlIHRoZSBjb250cm9sIGNlbnRlciBzaG91bGQgYmVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRvcCB5IGNvb3JkaW5hdGUgd2hlcmUgdGhlIGNvbnRyb2wgY2VudGVyIHNob3VsZCBiZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVPdmVycmlkZSBvdmVycmlkZSBmb3IgZmFicmljLk9iamVjdCBjb250cm9scyBzdHlsZVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCBmb3Igd2hpY2ggd2UgYXJlIHJlbmRlcmluZyBjb250cm9sc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVuZGVyQ2lyY2xlQ29udHJvbCAoY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCkge1xuICAgIHN0eWxlT3ZlcnJpZGUgPSBzdHlsZU92ZXJyaWRlIHx8IHt9O1xuICAgIHZhciB4U2l6ZSA9IHRoaXMuc2l6ZVggfHwgc3R5bGVPdmVycmlkZS5jb3JuZXJTaXplIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTaXplLFxuICAgICAgICB5U2l6ZSA9IHRoaXMuc2l6ZVkgfHwgc3R5bGVPdmVycmlkZS5jb3JuZXJTaXplIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTaXplLFxuICAgICAgICB0cmFuc3BhcmVudENvcm5lcnMgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS50cmFuc3BhcmVudENvcm5lcnMgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgICBzdHlsZU92ZXJyaWRlLnRyYW5zcGFyZW50Q29ybmVycyA6IGZhYnJpY09iamVjdC50cmFuc3BhcmVudENvcm5lcnMsXG4gICAgICAgIG1ldGhvZE5hbWUgPSB0cmFuc3BhcmVudENvcm5lcnMgPyAnc3Ryb2tlJyA6ICdmaWxsJyxcbiAgICAgICAgc3Ryb2tlID0gIXRyYW5zcGFyZW50Q29ybmVycyAmJiAoc3R5bGVPdmVycmlkZS5jb3JuZXJTdHJva2VDb2xvciB8fCBmYWJyaWNPYmplY3QuY29ybmVyU3Ryb2tlQ29sb3IpLFxuICAgICAgICBteUxlZnQgPSBsZWZ0LFxuICAgICAgICBteVRvcCA9IHRvcCwgc2l6ZTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lckNvbG9yIHx8IGZhYnJpY09iamVjdC5jb3JuZXJDb2xvcjtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lclN0cm9rZUNvbG9yIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTdHJva2VDb2xvcjtcbiAgICAvLyBhcyBzb29uIGFzIGZhYnJpYyByZWFjdCB2NSwgcmVtb3ZlIGllMTEsIHVzZSBwcm9wZXIgZWxsaXBzZSBjb2RlLlxuICAgIGlmICh4U2l6ZSA+IHlTaXplKSB7XG4gICAgICBzaXplID0geFNpemU7XG4gICAgICBjdHguc2NhbGUoMS4wLCB5U2l6ZSAvIHhTaXplKTtcbiAgICAgIG15VG9wID0gdG9wICogeFNpemUgLyB5U2l6ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoeVNpemUgPiB4U2l6ZSkge1xuICAgICAgc2l6ZSA9IHlTaXplO1xuICAgICAgY3R4LnNjYWxlKHhTaXplIC8geVNpemUsIDEuMCk7XG4gICAgICBteUxlZnQgPSBsZWZ0ICogeVNpemUgLyB4U2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzaXplID0geFNpemU7XG4gICAgfVxuICAgIC8vIHRoaXMgaXMgc3RpbGwgd3JvbmdcbiAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhteUxlZnQsIG15VG9wLCBzaXplIC8gMiwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICBjdHhbbWV0aG9kTmFtZV0oKTtcbiAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgc3F1YXJlIGNvbnRyb2wsIGFzIHBlciBmYWJyaWMgZmVhdHVyZXMuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgd3JpdHRlbiB0byByZXNwZWN0IG9iamVjdCBwcm9wZXJ0aWVzIGxpa2UgdHJhbnNwYXJlbnRDb3JuZXJzLCBjb3JuZXJTaXplXG4gICAqIGNvcm5lckNvbG9yLCBjb3JuZXJTdHJva2VDb2xvclxuICAgKiBwbHVzIHRoZSBhZGRpdGlvbiBvZiBvZmZzZXRZIGFuZCBvZmZzZXRYLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IHggY29vcmRpbmF0ZSB3aGVyZSB0aGUgY29udHJvbCBjZW50ZXIgc2hvdWxkIGJlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgeSBjb29yZGluYXRlIHdoZXJlIHRoZSBjb250cm9sIGNlbnRlciBzaG91bGQgYmVcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb3ZlcnJpZGUgZm9yIGZhYnJpYy5PYmplY3QgY29udHJvbHMgc3R5bGVcbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgZm9yIHdoaWNoIHdlIGFyZSByZW5kZXJpbmcgY29udHJvbHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlbmRlclNxdWFyZUNvbnRyb2woY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCkge1xuICAgIHN0eWxlT3ZlcnJpZGUgPSBzdHlsZU92ZXJyaWRlIHx8IHt9O1xuICAgIHZhciB4U2l6ZSA9IHRoaXMuc2l6ZVggfHwgc3R5bGVPdmVycmlkZS5jb3JuZXJTaXplIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTaXplLFxuICAgICAgICB5U2l6ZSA9IHRoaXMuc2l6ZVkgfHwgc3R5bGVPdmVycmlkZS5jb3JuZXJTaXplIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTaXplLFxuICAgICAgICB0cmFuc3BhcmVudENvcm5lcnMgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS50cmFuc3BhcmVudENvcm5lcnMgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgICBzdHlsZU92ZXJyaWRlLnRyYW5zcGFyZW50Q29ybmVycyA6IGZhYnJpY09iamVjdC50cmFuc3BhcmVudENvcm5lcnMsXG4gICAgICAgIG1ldGhvZE5hbWUgPSB0cmFuc3BhcmVudENvcm5lcnMgPyAnc3Ryb2tlJyA6ICdmaWxsJyxcbiAgICAgICAgc3Ryb2tlID0gIXRyYW5zcGFyZW50Q29ybmVycyAmJiAoXG4gICAgICAgICAgc3R5bGVPdmVycmlkZS5jb3JuZXJTdHJva2VDb2xvciB8fCBmYWJyaWNPYmplY3QuY29ybmVyU3Ryb2tlQ29sb3JcbiAgICAgICAgKSwgeFNpemVCeTIgPSB4U2l6ZSAvIDIsIHlTaXplQnkyID0geVNpemUgLyAyO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHN0eWxlT3ZlcnJpZGUuY29ybmVyQ29sb3IgfHwgZmFicmljT2JqZWN0LmNvcm5lckNvbG9yO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0eWxlT3ZlcnJpZGUuY29ybmVyU3Ryb2tlQ29sb3IgfHwgZmFicmljT2JqZWN0LmNvcm5lclN0cm9rZUNvbG9yO1xuICAgIC8vIHRoaXMgaXMgc3RpbGwgd3JvbmdcbiAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICBjdHgudHJhbnNsYXRlKGxlZnQsIHRvcCk7XG4gICAgY3R4LnJvdGF0ZShkZWdyZWVzVG9SYWRpYW5zKGZhYnJpY09iamVjdC5hbmdsZSkpO1xuICAgIC8vIHRoaXMgZG9lcyBub3Qgd29yaywgYW5kIGZpeGVkIHdpdGggKCAmJiApIGRvZXMgbm90IG1ha2Ugc2Vuc2UuXG4gICAgLy8gdG8gaGF2ZSByZWFsIHRyYW5zcGFyZW50IGNvcm5lcnMgd2UgbmVlZCB0aGUgY29udHJvbHMgb24gdXBwZXJDYW52YXNcbiAgICAvLyB0cmFuc3BhcmVudENvcm5lcnMgfHwgY3R4LmNsZWFyUmVjdCgteFNpemVCeTIsIC15U2l6ZUJ5MiwgeFNpemUsIHlTaXplKTtcbiAgICBjdHhbbWV0aG9kTmFtZSArICdSZWN0J10oLXhTaXplQnkyLCAteVNpemVCeTIsIHhTaXplLCB5U2l6ZSk7XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgY3R4LnN0cm9rZVJlY3QoLXhTaXplQnkyLCAteVNpemVCeTIsIHhTaXplLCB5U2l6ZSk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBjb250cm9scy5yZW5kZXJDaXJjbGVDb250cm9sID0gcmVuZGVyQ2lyY2xlQ29udHJvbDtcbiAgY29udHJvbHMucmVuZGVyU3F1YXJlQ29udHJvbCA9IHJlbmRlclNxdWFyZUNvbnRyb2w7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KTtcblxuICBmdW5jdGlvbiBDb250cm9sKG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXNbaV0gPSBvcHRpb25zW2ldO1xuICAgIH1cbiAgfVxuXG4gIGZhYnJpYy5Db250cm9sID0gQ29udHJvbDtcblxuICBmYWJyaWMuQ29udHJvbC5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5Db250cm9sLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBrZWVwIHRyYWNrIG9mIGNvbnRyb2wgdmlzaWJpbGl0eS5cbiAgICAgKiBtYWlubHkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXG4gICAgICogaWYgeW91IGRvIG5vdCB3YW50IHRvIHNlZSBhIGNvbnRyb2wsIHlvdSBjYW4gcmVtb3ZlIGl0XG4gICAgICogZnJvbSB0aGUgY29udHJvbHNldC5cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdmlzaWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGFjdGlvbiB0aGF0IHRoZSBjb250cm9sIHdpbGwgbGlrZWx5IGV4ZWN1dGUuXG4gICAgICogVGhpcyBpcyBvcHRpb25hbC4gRmFicmljSlMgdXNlcyB0byBpZGVudGlmeSB3aGF0IHRoZSB1c2VyIGlzIGRvaW5nIGZvciBzb21lXG4gICAgICogZXh0cmEgb3B0aW1pemF0aW9ucy4gSWYgeW91IGFyZSB3cml0aW5nIGEgY3VzdG9tIGNvbnRyb2wgYW5kIHlvdSB3YW50IHRvIGtub3dcbiAgICAgKiBzb21ld2hlcmUgZWxzZSBpbiB0aGUgY29kZSB3aGF0IGlzIGdvaW5nIG9uLCB5b3UgY2FuIHVzZSB0aGlzIHN0cmluZyBoZXJlLlxuICAgICAqIHlvdSBjYW4gYWxzbyBwcm92aWRlIGEgY3VzdG9tIGdldEFjdGlvbk5hbWUgaWYgeW91ciBjb250cm9sIHJ1biBtdWx0aXBsZSBhY3Rpb25zXG4gICAgICogZGVwZW5kaW5nIG9uIHNvbWUgZXh0ZXJuYWwgc3RhdGUuXG4gICAgICogZGVmYXVsdCB0byBzY2FsZSBzaW5jZSBpcyB0aGUgbW9zdCBjb21tb24sIHVzZWQgb24gNCBjb3JuZXJzIGJ5IGRlZmF1bHRcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0ICdzY2FsZSdcbiAgICAgKi9cbiAgICBhY3Rpb25OYW1lOiAnc2NhbGUnLFxuXG4gICAgLyoqXG4gICAgICogRHJhd2luZyBhbmdsZSBvZiB0aGUgY29udHJvbC5cbiAgICAgKiBOT1QgdXNlZCBmb3Igbm93LCBidXQgbmFtZSBtYXJrZWQgYXMgbmVlZGVkIGZvciBpbnRlcm5hbCBsb2dpY1xuICAgICAqIGV4YW1wbGU6IHRvIHJldXNlIHRoZSBzYW1lIGRyYXdpbmcgZnVuY3Rpb24gZm9yIGRpZmZlcmVudCByb3RhdGVkIGNvbnRyb2xzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgYW5nbGU6IDAsXG5cbiAgICAvKipcbiAgICAgKiBSZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbC4gWFxuICAgICAqIDAsMCBpcyB0aGUgY2VudGVyIG9mIHRoZSBPYmplY3QsIHdoaWxlIC0wLjUgKGxlZnQpIG9yIDAuNSAocmlnaHQpIGFyZSB0aGUgZXh0cmVtaXRpZXNcbiAgICAgKiBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBSZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbC4gWVxuICAgICAqIDAsMCBpcyB0aGUgY2VudGVyIG9mIHRoZSBPYmplY3QsIHdoaWxlIC0wLjUgKHRvcCkgb3IgMC41IChib3R0b20pIGFyZSB0aGUgZXh0cmVtaXRpZXNcbiAgICAgKiBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBIb3Jpem9udGFsIG9mZnNldCBvZiB0aGUgY29udHJvbCBmcm9tIHRoZSBkZWZpbmVkIHBvc2l0aW9uLiBJbiBwaXhlbHNcbiAgICAgKiBQb3NpdGl2ZSBvZmZzZXQgbW92ZXMgdGhlIGNvbnRyb2wgdG8gdGhlIHJpZ2h0LCBuZWdhdGl2ZSB0byB0aGUgbGVmdC5cbiAgICAgKiBJdCB1c2VkIHdoZW4geW91IHdhbnQgdG8gaGF2ZSBwb3NpdGlvbiBvZiBjb250cm9sIHRoYXQgZG9lcyBub3Qgc2NhbGUgd2l0aFxuICAgICAqIHRoZSBib3VuZGluZyBib3guIEV4YW1wbGU6IHJvdGF0aW9uIGNvbnRyb2wgaXMgcGxhY2VkIGF0IHg6MCwgeTogMC41IG9uXG4gICAgICogdGhlIGJvdW5kaW5kYm94LCB3aXRoIGFuIG9mZnNldCBvZiAzMCBwaXhlbHMgdmVydGljYWxseS4gVGhvc2UgMzAgcGl4ZWxzIHdpbGxcbiAgICAgKiBzdGF5IDMwIHBpeGVscyBubyBtYXR0ZXIgaG93IHRoZSBvYmplY3QgaXMgYmlnLiBBbm90aGVyIGV4YW1wbGUgaXMgaGF2aW5nIDJcbiAgICAgKiBjb250cm9scyBpbiB0aGUgY29ybmVyLCB0aGF0IHN0YXkgaW4gdGhlIHNhbWUgcG9zaXRpb24gd2hlbiB0aGUgb2JqZWN0IHNjYWxlLlxuICAgICAqIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgb2Zmc2V0WDogMCxcblxuICAgIC8qKlxuICAgICAqIFZlcnRpY2FsIG9mZnNldCBvZiB0aGUgY29udHJvbCBmcm9tIHRoZSBkZWZpbmVkIHBvc2l0aW9uLiBJbiBwaXhlbHNcbiAgICAgKiBQb3NpdGl2ZSBvZmZzZXQgbW92ZXMgdGhlIGNvbnRyb2wgdG8gdGhlIGJvdHRvbSwgbmVnYXRpdmUgdG8gdGhlIHRvcC5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBvZmZzZXRZOiAwLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGVuZ3RoIG9mIHRoZSBjb250cm9sLiBJZiBudWxsLCBkZWZhdWx0cyB0byBvYmplY3QncyBjb3JuZXJTaXplLlxuICAgICAqIEV4cGVjdHMgYm90aCBzaXplWCBhbmQgc2l6ZVkgdG8gYmUgc2V0IHdoZW4gc2V0LlxuICAgICAqIEB0eXBlIHs/TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBzaXplWDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhlaWdodCBvZiB0aGUgY29udHJvbC4gSWYgbnVsbCwgZGVmYXVsdHMgdG8gb2JqZWN0J3MgY29ybmVyU2l6ZS5cbiAgICAgKiBFeHBlY3RzIGJvdGggc2l6ZVggYW5kIHNpemVZIHRvIGJlIHNldCB3aGVuIHNldC5cbiAgICAgKiBAdHlwZSB7P051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgc2l6ZVk6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsZW5ndGggb2YgdGhlIHRvdWNoIGFyZWEgb2YgdGhlIGNvbnRyb2wuIElmIG51bGwsIGRlZmF1bHRzIHRvIG9iamVjdCdzIHRvdWNoQ29ybmVyU2l6ZS5cbiAgICAgKiBFeHBlY3RzIGJvdGggdG91Y2hTaXplWCBhbmQgdG91Y2hTaXplWSB0byBiZSBzZXQgd2hlbiBzZXQuXG4gICAgICogQHR5cGUgez9OdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHRvdWNoU2l6ZVg6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoZWlnaHQgb2YgdGhlIHRvdWNoIGFyZWEgb2YgdGhlIGNvbnRyb2wuIElmIG51bGwsIGRlZmF1bHRzIHRvIG9iamVjdCdzIHRvdWNoQ29ybmVyU2l6ZS5cbiAgICAgKiBFeHBlY3RzIGJvdGggdG91Y2hTaXplWCBhbmQgdG91Y2hTaXplWSB0byBiZSBzZXQgd2hlbiBzZXQuXG4gICAgICogQHR5cGUgez9OdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHRvdWNoU2l6ZVk6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDc3MgY3Vyc29yIHN0eWxlIHRvIGRpc3BsYXkgd2hlbiB0aGUgY29udHJvbCBpcyBob3ZlcmVkLlxuICAgICAqIGlmIHRoZSBtZXRob2QgYGN1cnNvclN0eWxlSGFuZGxlcmAgaXMgcHJvdmlkZWQsIHRoaXMgcHJvcGVydHkgaXMgaWdub3JlZC5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0ICdjcm9zc2hhaXInXG4gICAgICovXG4gICAgY3Vyc29yU3R5bGU6ICdjcm9zc2hhaXInLFxuXG4gICAgLyoqXG4gICAgICogSWYgY29udHJvbHMgaGFzIGFuIG9mZnNldFkgb3Igb2Zmc2V0WCwgZHJhdyBhIGxpbmUgdGhhdCBjb25uZWN0c1xuICAgICAqIHRoZSBjb250cm9sIHRvIHRoZSBib3VuZGluZyBib3hcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHdpdGhDb25uZWN0aW9uOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250cm9sIGFjdGlvbkhhbmRsZXIsIHByb3ZpZGUgb25lIHRvIGhhbmRsZSBhY3Rpb24gKCBjb250cm9sIGJlaW5nIG1vdmVkIClcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIG5hdGl2ZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm1EYXRhIHByb3BlcnRpZXMgb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggeCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgeSBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgYWN0aW9uL2V2ZW50IG1vZGlmaWVkIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIHRyYW5zZm9ybURhdGEsIHgsIHkgKi8pIHsgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250cm9sIGhhbmRsZXIgZm9yIG1vdXNlIGRvd24sIHByb3ZpZGUgb25lIHRvIGhhbmRsZSBtb3VzZSBkb3duIG9uIGNvbnRyb2xcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIG5hdGl2ZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm1EYXRhIHByb3BlcnRpZXMgb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggeCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgeSBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgYWN0aW9uL2V2ZW50IG1vZGlmaWVkIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBtb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIHRyYW5zZm9ybURhdGEsIHgsIHkgKi8pIHsgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250cm9sIG1vdXNlVXBIYW5kbGVyLCBwcm92aWRlIG9uZSB0byBoYW5kbGUgYW4gZWZmZWN0IG9uIG1vdXNlIHVwLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybURhdGEgcHJvcGVydGllcyBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCB4IHBvc2l0aW9uIG9mIHRoZSBjdXJzb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB5IHBvc2l0aW9uIG9mIHRoZSBjdXJzb3JcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBhY3Rpb24vZXZlbnQgbW9kaWZpZWQgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIG1vdXNlVXBIYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIHRyYW5zZm9ybURhdGEsIHgsIHkgKi8pIHsgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29udHJvbCBhY3Rpb25IYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBuYXRpdmUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCBvbiB3aGljaCB0aGUgY29udHJvbCBpcyBkaXNwbGF5ZWRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIGNvbnRyb2wgZm9yIHdoaWNoIHRoZSBhY3Rpb24gaGFuZGxlciBpcyBiZWluZyBhc2tlZFxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgYWN0aW9uIGhhbmRsZXJcbiAgICAgKi9cbiAgICBnZXRBY3Rpb25IYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIGZhYnJpY09iamVjdCwgY29udHJvbCAqLykge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uSGFuZGxlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250cm9sIG1vdXNlRG93biBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBuYXRpdmUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCBvbiB3aGljaCB0aGUgY29udHJvbCBpcyBkaXNwbGF5ZWRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIGNvbnRyb2wgZm9yIHdoaWNoIHRoZSBhY3Rpb24gaGFuZGxlciBpcyBiZWluZyBhc2tlZFxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgYWN0aW9uIGhhbmRsZXJcbiAgICAgKi9cbiAgICBnZXRNb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIGZhYnJpY09iamVjdCwgY29udHJvbCAqLykge1xuICAgICAgcmV0dXJuIHRoaXMubW91c2VEb3duSGFuZGxlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250cm9sIG1vdXNlVXAgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCBjb250cm9sIGZvciB3aGljaCB0aGUgYWN0aW9uIGhhbmRsZXIgaXMgYmVpbmcgYXNrZWRcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGFjdGlvbiBoYW5kbGVyXG4gICAgICovXG4gICAgZ2V0TW91c2VVcEhhbmRsZXI6IGZ1bmN0aW9uKC8qIGV2ZW50RGF0YSwgZmFicmljT2JqZWN0LCBjb250cm9sICovKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb3VzZVVwSGFuZGxlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250cm9sIGN1cnNvclN0eWxlIGZvciBjc3MgdXNpbmcgY3Vyc29yU3R5bGUuIElmIHlvdSBuZWVkIGEgbW9yZSBlbGFib3JhdGVcbiAgICAgKiBmdW5jdGlvbiB5b3UgY2FuIHBhc3Mgb25lIGluIHRoZSBjb25zdHJ1Y3RvclxuICAgICAqIHRoZSBjdXJzb3JTdHlsZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY3VycmVudCBjb250cm9sICggbGlrZWx5IHRoaXMpXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGN1cnNvclN0eWxlSGFuZGxlcjogZnVuY3Rpb24oZXZlbnREYXRhLCBjb250cm9sIC8qIGZhYnJpY09iamVjdCAqLykge1xuICAgICAgcmV0dXJuIGNvbnRyb2wuY3Vyc29yU3R5bGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFjdGlvbiBuYW1lLiBUaGUgYmFzaWMgaW1wbGVtZW50YXRpb24ganVzdCByZXR1cm4gdGhlIGFjdGlvbk5hbWUgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBuYXRpdmUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIHRoZSBjdXJyZW50IGNvbnRyb2wgKCBsaWtlbHkgdGhpcylcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBvbiB3aGljaCB0aGUgY29udHJvbCBpcyBkaXNwbGF5ZWRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0QWN0aW9uTmFtZTogZnVuY3Rpb24oZXZlbnREYXRhLCBjb250cm9sIC8qIGZhYnJpY09iamVjdCAqLykge1xuICAgICAgcmV0dXJuIGNvbnRyb2wuYWN0aW9uTmFtZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250cm9scyB2aXNpYmlsaXR5XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRyb2xLZXkga2V5IHdoZXJlIHRoZSBjb250cm9sIGlzIG1lbW9yaXplZCBvbiB0aGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGdldFZpc2liaWxpdHk6IGZ1bmN0aW9uKGZhYnJpY09iamVjdCwgY29udHJvbEtleSkge1xuICAgICAgdmFyIG9iamVjdFZpc2liaWxpdHkgPSBmYWJyaWNPYmplY3QuX2NvbnRyb2xzVmlzaWJpbGl0eTtcbiAgICAgIGlmIChvYmplY3RWaXNpYmlsaXR5ICYmIHR5cGVvZiBvYmplY3RWaXNpYmlsaXR5W2NvbnRyb2xLZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gb2JqZWN0VmlzaWJpbGl0eVtjb250cm9sS2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnZpc2libGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgY29udHJvbHMgdmlzaWJpbGl0eVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdmlzaWJpbGl0eSBmb3IgdGhlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc2V0VmlzaWJpbGl0eTogZnVuY3Rpb24odmlzaWJpbGl0eSAvKiBuYW1lLCBmYWJyaWNPYmplY3QgKi8pIHtcbiAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2liaWxpdHk7XG4gICAgfSxcblxuXG4gICAgcG9zaXRpb25IYW5kbGVyOiBmdW5jdGlvbihkaW0sIGZpbmFsTWF0cml4IC8qLCBmYWJyaWNPYmplY3QsIGN1cnJlbnRDb250cm9sICovKSB7XG4gICAgICB2YXIgcG9pbnQgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludCh7XG4gICAgICAgIHg6IHRoaXMueCAqIGRpbS54ICsgdGhpcy5vZmZzZXRYLFxuICAgICAgICB5OiB0aGlzLnkgKiBkaW0ueSArIHRoaXMub2Zmc2V0WSB9LCBmaW5hbE1hdHJpeCk7XG4gICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvb3JkcyBmb3IgdGhpcyBjb250cm9sIGJhc2VkIG9uIG9iamVjdCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9iamVjdEFuZ2xlIGFuZ2xlIGZyb20gdGhlIGZhYnJpYyBvYmplY3QgaG9sZGluZyB0aGUgY29udHJvbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvYmplY3RDb3JuZXJTaXplIGNvcm5lclNpemUgZnJvbSB0aGUgZmFicmljIG9iamVjdCBob2xkaW5nIHRoZSBjb250cm9sIChvciB0b3VjaENvcm5lclNpemUgaWZcbiAgICAgKiAgIGlzVG91Y2ggaXMgdHJ1ZSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2VudGVyWCB4IGNvb3JkaW5hdGUgd2hlcmUgdGhlIGNvbnRyb2wgY2VudGVyIHNob3VsZCBiZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjZW50ZXJZIHkgY29vcmRpbmF0ZSB3aGVyZSB0aGUgY29udHJvbCBjZW50ZXIgc2hvdWxkIGJlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1RvdWNoIHRydWUgaWYgdG91Y2ggY29ybmVyLCBmYWxzZSBpZiBub3JtYWwgY29ybmVyXG4gICAgICovXG4gICAgY2FsY0Nvcm5lckNvb3JkczogZnVuY3Rpb24ob2JqZWN0QW5nbGUsIG9iamVjdENvcm5lclNpemUsIGNlbnRlclgsIGNlbnRlclksIGlzVG91Y2gpIHtcbiAgICAgIHZhciBjb3NIYWxmT2Zmc2V0LFxuICAgICAgICAgIHNpbkhhbGZPZmZzZXQsXG4gICAgICAgICAgY29zSGFsZk9mZnNldENvbXAsXG4gICAgICAgICAgc2luSGFsZk9mZnNldENvbXAsXG4gICAgICAgICAgeFNpemUgPSAoaXNUb3VjaCkgPyB0aGlzLnRvdWNoU2l6ZVggOiB0aGlzLnNpemVYLFxuICAgICAgICAgIHlTaXplID0gKGlzVG91Y2gpID8gdGhpcy50b3VjaFNpemVZIDogdGhpcy5zaXplWTtcbiAgICAgIGlmICh4U2l6ZSAmJiB5U2l6ZSAmJiB4U2l6ZSAhPT0geVNpemUpIHtcbiAgICAgICAgLy8gaGFuZGxlIHJlY3Rhbmd1bGFyIGNvcm5lcnNcbiAgICAgICAgdmFyIGNvbnRyb2xUcmlhbmdsZUFuZ2xlID0gTWF0aC5hdGFuMih5U2l6ZSwgeFNpemUpO1xuICAgICAgICB2YXIgY29ybmVySHlwb3RlbnVzZSA9IE1hdGguc3FydCh4U2l6ZSAqIHhTaXplICsgeVNpemUgKiB5U2l6ZSkgLyAyO1xuICAgICAgICB2YXIgbmV3VGhldGEgPSBjb250cm9sVHJpYW5nbGVBbmdsZSAtIGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMob2JqZWN0QW5nbGUpO1xuICAgICAgICB2YXIgbmV3VGhldGFDb21wID0gTWF0aC5QSSAvIDIgLSBjb250cm9sVHJpYW5nbGVBbmdsZSAtIGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMob2JqZWN0QW5nbGUpO1xuICAgICAgICBjb3NIYWxmT2Zmc2V0ID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLmNvcyhuZXdUaGV0YSk7XG4gICAgICAgIHNpbkhhbGZPZmZzZXQgPSBjb3JuZXJIeXBvdGVudXNlICogZmFicmljLnV0aWwuc2luKG5ld1RoZXRhKTtcbiAgICAgICAgLy8gdXNlIGNvbXBsZW1lbnRhcnkgYW5nbGUgZm9yIHR3byBjb3JuZXJzXG4gICAgICAgIGNvc0hhbGZPZmZzZXRDb21wID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLmNvcyhuZXdUaGV0YUNvbXApO1xuICAgICAgICBzaW5IYWxmT2Zmc2V0Q29tcCA9IGNvcm5lckh5cG90ZW51c2UgKiBmYWJyaWMudXRpbC5zaW4obmV3VGhldGFDb21wKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBoYW5kbGUgc3F1YXJlIGNvcm5lcnNcbiAgICAgICAgLy8gdXNlIGRlZmF1bHQgb2JqZWN0IGNvcm5lciBzaXplIHVubGVzcyBzaXplIGlzIGRlZmluZWRcbiAgICAgICAgdmFyIGNvcm5lclNpemUgPSAoeFNpemUgJiYgeVNpemUpID8geFNpemUgOiBvYmplY3RDb3JuZXJTaXplO1xuICAgICAgICAvKiAwLjcwNzEwNjc4MTIgc3RhbmRzIGZvciBzcXJ0KDIpLzIgKi9cbiAgICAgICAgY29ybmVySHlwb3RlbnVzZSA9IGNvcm5lclNpemUgKiAwLjcwNzEwNjc4MTI7XG4gICAgICAgIC8vIGNvbXBsZW1lbnRhcnkgYW5nbGVzIGFyZSBlcXVhbCBzaW5jZSB0aGV5J3JlIGJvdGggNDUgZGVncmVlc1xuICAgICAgICB2YXIgbmV3VGhldGEgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKDQ1IC0gb2JqZWN0QW5nbGUpO1xuICAgICAgICBjb3NIYWxmT2Zmc2V0ID0gY29zSGFsZk9mZnNldENvbXAgPSBjb3JuZXJIeXBvdGVudXNlICogZmFicmljLnV0aWwuY29zKG5ld1RoZXRhKTtcbiAgICAgICAgc2luSGFsZk9mZnNldCA9IHNpbkhhbGZPZmZzZXRDb21wID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLnNpbihuZXdUaGV0YSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRsOiB7XG4gICAgICAgICAgeDogY2VudGVyWCAtIHNpbkhhbGZPZmZzZXRDb21wLFxuICAgICAgICAgIHk6IGNlbnRlclkgLSBjb3NIYWxmT2Zmc2V0Q29tcCxcbiAgICAgICAgfSxcbiAgICAgICAgdHI6IHtcbiAgICAgICAgICB4OiBjZW50ZXJYICsgY29zSGFsZk9mZnNldCxcbiAgICAgICAgICB5OiBjZW50ZXJZIC0gc2luSGFsZk9mZnNldCxcbiAgICAgICAgfSxcbiAgICAgICAgYmw6IHtcbiAgICAgICAgICB4OiBjZW50ZXJYIC0gY29zSGFsZk9mZnNldCxcbiAgICAgICAgICB5OiBjZW50ZXJZICsgc2luSGFsZk9mZnNldCxcbiAgICAgICAgfSxcbiAgICAgICAgYnI6IHtcbiAgICAgICAgICB4OiBjZW50ZXJYICsgc2luSGFsZk9mZnNldENvbXAsXG4gICAgICAgICAgeTogY2VudGVyWSArIGNvc0hhbGZPZmZzZXRDb21wLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgKiBSZW5kZXIgZnVuY3Rpb24gZm9yIHRoZSBjb250cm9sLlxuICAgICogV2hlbiB0aGlzIGZ1bmN0aW9uIHJ1bnMgdGhlIGNvbnRleHQgaXMgdW5zY2FsZWQuIHVucm90YXRlLiBKdXN0IHJldGluYSBzY2FsZWQuXG4gICAgKiBhbGwgdGhlIGZ1bmN0aW9ucyB3aWxsIGhhdmUgdG8gdHJhbnNsYXRlIHRvIHRoZSBwb2ludCBsZWZ0LHRvcCBiZWZvcmUgc3RhcnRpbmcgRHJhd2luZ1xuICAgICogaWYgdGhleSB3YW50IHRvIGRyYXcgYSBjb250cm9sIHdoZXJlIHRoZSBwb3NpdGlvbiBpcyBkZXRlY3RlZC5cbiAgICAqIGxlZnQgYW5kIHRvcCBhcmUgdGhlIHJlc3VsdCBvZiB0aGUgcG9zaXRpb25IYW5kbGVyIGZ1bmN0aW9uXG4gICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IHRoZSBjb250ZXh0IHdoZXJlIHRoZSBjb250cm9sIHdpbGwgYmUgZHJhd25cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IHBvc2l0aW9uIG9mIHRoZSBjYW52YXMgd2hlcmUgd2UgYXJlIGFib3V0IHRvIHJlbmRlciB0aGUgY29udHJvbC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgcG9zaXRpb24gb2YgdGhlIGNhbnZhcyB3aGVyZSB3ZSBhcmUgYWJvdXQgdG8gcmVuZGVyIHRoZSBjb250cm9sLlxuICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGVcbiAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBvYmplY3Qgd2hlcmUgdGhlIGNvbnRyb2wgaXMgYWJvdXQgdG8gYmUgcmVuZGVyZWRcbiAgICAqL1xuICAgIHJlbmRlcjogZnVuY3Rpb24oY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCkge1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwge307XG4gICAgICBzd2l0Y2ggKHN0eWxlT3ZlcnJpZGUuY29ybmVyU3R5bGUgfHwgZmFicmljT2JqZWN0LmNvcm5lclN0eWxlKSB7XG4gICAgICAgIGNhc2UgJ2NpcmNsZSc6XG4gICAgICAgICAgZmFicmljLmNvbnRyb2xzVXRpbHMucmVuZGVyQ2lyY2xlQ29udHJvbC5jYWxsKHRoaXMsIGN0eCwgbGVmdCwgdG9wLCBzdHlsZU92ZXJyaWRlLCBmYWJyaWNPYmplY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGZhYnJpYy5jb250cm9sc1V0aWxzLnJlbmRlclNxdWFyZUNvbnRyb2wuY2FsbCh0aGlzLCBjdHgsIGxlZnQsIHRvcCwgc3R5bGVPdmVycmlkZSwgZmFicmljT2JqZWN0KTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgZnVuY3Rpb24gZ2V0Q29sb3JTdG9wKGVsLCBtdWx0aXBsaWVyKSB7XG4gICAgdmFyIHN0eWxlID0gZWwuZ2V0QXR0cmlidXRlKCdzdHlsZScpLFxuICAgICAgICBvZmZzZXQgPSBlbC5nZXRBdHRyaWJ1dGUoJ29mZnNldCcpIHx8IDAsXG4gICAgICAgIGNvbG9yLCBjb2xvckFscGhhLCBvcGFjaXR5LCBpO1xuXG4gICAgLy8gY29udmVydCBwZXJjZW50cyB0byBhYnNvbHV0ZSB2YWx1ZXNcbiAgICBvZmZzZXQgPSBwYXJzZUZsb2F0KG9mZnNldCkgLyAoLyUkLy50ZXN0KG9mZnNldCkgPyAxMDAgOiAxKTtcbiAgICBvZmZzZXQgPSBvZmZzZXQgPCAwID8gMCA6IG9mZnNldCA+IDEgPyAxIDogb2Zmc2V0O1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgdmFyIGtleVZhbHVlUGFpcnMgPSBzdHlsZS5zcGxpdCgvXFxzKjtcXHMqLyk7XG5cbiAgICAgIGlmIChrZXlWYWx1ZVBhaXJzW2tleVZhbHVlUGFpcnMubGVuZ3RoIC0gMV0gPT09ICcnKSB7XG4gICAgICAgIGtleVZhbHVlUGFpcnMucG9wKCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IGtleVZhbHVlUGFpcnMubGVuZ3RoOyBpLS07ICkge1xuXG4gICAgICAgIHZhciBzcGxpdCA9IGtleVZhbHVlUGFpcnNbaV0uc3BsaXQoL1xccyo6XFxzKi8pLFxuICAgICAgICAgICAga2V5ID0gc3BsaXRbMF0udHJpbSgpLFxuICAgICAgICAgICAgdmFsdWUgPSBzcGxpdFsxXS50cmltKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ3N0b3AtY29sb3InKSB7XG4gICAgICAgICAgY29sb3IgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdG9wLW9wYWNpdHknKSB7XG4gICAgICAgICAgb3BhY2l0eSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjb2xvcikge1xuICAgICAgY29sb3IgPSBlbC5nZXRBdHRyaWJ1dGUoJ3N0b3AtY29sb3InKSB8fCAncmdiKDAsMCwwKSc7XG4gICAgfVxuICAgIGlmICghb3BhY2l0eSkge1xuICAgICAgb3BhY2l0eSA9IGVsLmdldEF0dHJpYnV0ZSgnc3RvcC1vcGFjaXR5Jyk7XG4gICAgfVxuXG4gICAgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKGNvbG9yKTtcbiAgICBjb2xvckFscGhhID0gY29sb3IuZ2V0QWxwaGEoKTtcbiAgICBvcGFjaXR5ID0gaXNOYU4ocGFyc2VGbG9hdChvcGFjaXR5KSkgPyAxIDogcGFyc2VGbG9hdChvcGFjaXR5KTtcbiAgICBvcGFjaXR5ICo9IGNvbG9yQWxwaGEgKiBtdWx0aXBsaWVyO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgY29sb3I6IGNvbG9yLnRvUmdiKCksXG4gICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExpbmVhckNvb3JkcyhlbCkge1xuICAgIHJldHVybiB7XG4gICAgICB4MTogZWwuZ2V0QXR0cmlidXRlKCd4MScpIHx8IDAsXG4gICAgICB5MTogZWwuZ2V0QXR0cmlidXRlKCd5MScpIHx8IDAsXG4gICAgICB4MjogZWwuZ2V0QXR0cmlidXRlKCd4MicpIHx8ICcxMDAlJyxcbiAgICAgIHkyOiBlbC5nZXRBdHRyaWJ1dGUoJ3kyJykgfHwgMFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSYWRpYWxDb29yZHMoZWwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDE6IGVsLmdldEF0dHJpYnV0ZSgnZngnKSB8fCBlbC5nZXRBdHRyaWJ1dGUoJ2N4JykgfHwgJzUwJScsXG4gICAgICB5MTogZWwuZ2V0QXR0cmlidXRlKCdmeScpIHx8IGVsLmdldEF0dHJpYnV0ZSgnY3knKSB8fCAnNTAlJyxcbiAgICAgIHIxOiAwLFxuICAgICAgeDI6IGVsLmdldEF0dHJpYnV0ZSgnY3gnKSB8fCAnNTAlJyxcbiAgICAgIHkyOiBlbC5nZXRBdHRyaWJ1dGUoJ2N5JykgfHwgJzUwJScsXG4gICAgICByMjogZWwuZ2V0QXR0cmlidXRlKCdyJykgfHwgJzUwJSdcbiAgICB9O1xuICB9XG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgdmFyIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lO1xuXG4gIC8qKlxuICAgKiBHcmFkaWVudCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkdyYWRpZW50XG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0yI2dyYWRpZW50c31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkdyYWRpZW50I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuR3JhZGllbnQgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcygvKiogQGxlbmRzIGZhYnJpYy5HcmFkaWVudC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogSG9yaXpvbnRhbCBvZmZzZXQgZm9yIGFsaWduaW5nIGdyYWRpZW50cyBjb21pbmcgZnJvbSBTVkcgd2hlbiBvdXRzaWRlIHBhdGhncm91cHNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgb2Zmc2V0WDogMCxcblxuICAgIC8qKlxuICAgICAqIFZlcnRpY2FsIG9mZnNldCBmb3IgYWxpZ25pbmcgZ3JhZGllbnRzIGNvbWluZyBmcm9tIFNWRyB3aGVuIG91dHNpZGUgcGF0aGdyb3Vwc1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBvZmZzZXRZOiAwLFxuXG4gICAgLyoqXG4gICAgICogQSB0cmFuc2Zvcm0gbWF0cml4IHRvIGFwcGx5IHRvIHRoZSBncmFkaWVudCBiZWZvcmUgcGFpbnRpbmcuXG4gICAgICogSW1wb3J0ZWQgZnJvbSBzdmcgZ3JhZGllbnRzLCBpcyBub3QgYXBwbGllZCB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybSBpbiB0aGUgY2VudGVyLlxuICAgICAqIEJlZm9yZSB0aGlzIHRyYW5zZm9ybSBpcyBhcHBsaWVkLCB0aGUgb3JpZ2luIHBvaW50IGlzIGF0IHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIG9iamVjdFxuICAgICAqIHBsdXMgdGhlIGFkZGl0aW9uIG9mIG9mZnNldFkgYW5kIG9mZnNldFguXG4gICAgICogQHR5cGUgTnVtYmVyW11cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgZ3JhZGllbnRUcmFuc2Zvcm06IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBjb29yZGluYXRlcyB1bml0cyBmb3IgY29vcmRzLlxuICAgICAqIElmIGBwaXhlbHNgLCB0aGUgbnVtYmVyIG9mIGNvb3JkcyBhcmUgaW4gdGhlIHNhbWUgdW5pdCBvZiB3aWR0aCAvIGhlaWdodC5cbiAgICAgKiBJZiBzZXQgYXMgYHBlcmNlbnRhZ2VgIHRoZSBjb29yZHMgYXJlIHN0aWxsIGEgbnVtYmVyLCBidXQgMSBtZWFucyAxMDAlIG9mIHdpZHRoXG4gICAgICogZm9yIHRoZSBYIGFuZCAxMDAlIG9mIHRoZSBoZWlnaHQgZm9yIHRoZSB5LiBJdCBjYW4gYmUgYmlnZ2VyIHRoYW4gMSBhbmQgbmVnYXRpdmUuXG4gICAgICogYWxsb3dlZCB2YWx1ZXMgcGl4ZWxzIG9yIHBlcmNlbnRhZ2UuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHQgJ3BpeGVscydcbiAgICAgKi9cbiAgICBncmFkaWVudFVuaXRzOiAncGl4ZWxzJyxcblxuICAgIC8qKlxuICAgICAqIEdyYWRpZW50IHR5cGUgbGluZWFyIG9yIHJhZGlhbFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICdwaXhlbHMnXG4gICAgICovXG4gICAgdHlwZTogJ2xpbmVhcicsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0IHdpdGggdHlwZSwgY29vcmRzLCBncmFkaWVudFVuaXRzIGFuZCBjb2xvclN0b3BzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnR5cGVdIGdyYWRpZW50IHR5cGUgbGluZWFyIG9yIHJhZGlhbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5ncmFkaWVudFVuaXRzXSBncmFkaWVudCB1bml0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5vZmZzZXRYXSBTVkcgaW1wb3J0IGNvbXBhdGliaWxpdHlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMub2Zmc2V0WV0gU1ZHIGltcG9ydCBjb21wYXRpYmlsaXR5XG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gb3B0aW9ucy5jb2xvclN0b3BzIGNvbnRhaW5zIHRoZSBjb2xvcnN0b3BzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmNvb3JkcyBjb250YWlucyB0aGUgY29vcmRzIG9mIHRoZSBncmFkaWVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMueDFdIFggY29vcmRpYW50ZSBvZiB0aGUgZmlyc3QgcG9pbnQgZm9yIGxpbmVhciBvciBvZiB0aGUgZm9jYWwgcG9pbnQgZm9yIHJhZGlhbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMueTFdIFkgY29vcmRpYW50ZSBvZiB0aGUgZmlyc3QgcG9pbnQgZm9yIGxpbmVhciBvciBvZiB0aGUgZm9jYWwgcG9pbnQgZm9yIHJhZGlhbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMueDJdIFggY29vcmRpYW50ZSBvZiB0aGUgc2Vjb25kIHBvaW50IGZvciBsaW5lYXIgb3Igb2YgdGhlIGNlbnRlciBwb2ludCBmb3IgcmFkaWFsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvb3Jkcy55Ml0gWSBjb29yZGlhbnRlIG9mIHRoZSBzZWNvbmQgcG9pbnQgZm9yIGxpbmVhciBvciBvZiB0aGUgY2VudGVyIHBvaW50IGZvciByYWRpYWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29vcmRzLnIxXSBvbmx5IGZvciByYWRpYWwgZ3JhZGllbnQsIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvb3Jkcy5yMl0gb25seSBmb3IgcmFkaWFsIGdyYWRpZW50LCByYWRpdXMgb2YgdGhlIGV4dGVybmFsIGNpcmNsZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5HcmFkaWVudH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuICAgICAgb3B0aW9ucy5jb29yZHMgfHwgKG9wdGlvbnMuY29vcmRzID0geyB9KTtcblxuICAgICAgdmFyIGNvb3JkcywgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAvLyBzZXRzIGV2ZXJ5dGhpbmcsIHRoZW4gY29vcmRzIGFuZCBjb2xvcnN0b3BzIGdldCBzZXRzIGFnYWluXG4gICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICBfdGhpc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICAgIHRoaXMuaWQgKz0gJ18nICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaWQgPSBmYWJyaWMuT2JqZWN0Ll9fdWlkKys7XG4gICAgICB9XG5cbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDE6IG9wdGlvbnMuY29vcmRzLngxIHx8IDAsXG4gICAgICAgIHkxOiBvcHRpb25zLmNvb3Jkcy55MSB8fCAwLFxuICAgICAgICB4Mjogb3B0aW9ucy5jb29yZHMueDIgfHwgMCxcbiAgICAgICAgeTI6IG9wdGlvbnMuY29vcmRzLnkyIHx8IDBcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdyYWRpYWwnKSB7XG4gICAgICAgIGNvb3Jkcy5yMSA9IG9wdGlvbnMuY29vcmRzLnIxIHx8IDA7XG4gICAgICAgIGNvb3Jkcy5yMiA9IG9wdGlvbnMuY29vcmRzLnIyIHx8IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29vcmRzID0gY29vcmRzO1xuICAgICAgdGhpcy5jb2xvclN0b3BzID0gb3B0aW9ucy5jb2xvclN0b3BzLnNsaWNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW5vdGhlciBjb2xvclN0b3BcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29sb3JTdG9wIE9iamVjdCB3aXRoIG9mZnNldCBhbmQgY29sb3JcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JhZGllbnR9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBhZGRDb2xvclN0b3A6IGZ1bmN0aW9uKGNvbG9yU3RvcHMpIHtcbiAgICAgIGZvciAodmFyIHBvc2l0aW9uIGluIGNvbG9yU3RvcHMpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihjb2xvclN0b3BzW3Bvc2l0aW9uXSk7XG4gICAgICAgIHRoaXMuY29sb3JTdG9wcy5wdXNoKHtcbiAgICAgICAgICBvZmZzZXQ6IHBhcnNlRmxvYXQocG9zaXRpb24pLFxuICAgICAgICAgIGNvbG9yOiBjb2xvci50b1JnYigpLFxuICAgICAgICAgIG9wYWNpdHk6IGNvbG9yLmdldEFscGhhKClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBncmFkaWVudFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBvYmplY3QgPSB7XG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgY29vcmRzOiB0aGlzLmNvb3JkcyxcbiAgICAgICAgY29sb3JTdG9wczogdGhpcy5jb2xvclN0b3BzLFxuICAgICAgICBvZmZzZXRYOiB0aGlzLm9mZnNldFgsXG4gICAgICAgIG9mZnNldFk6IHRoaXMub2Zmc2V0WSxcbiAgICAgICAgZ3JhZGllbnRVbml0czogdGhpcy5ncmFkaWVudFVuaXRzLFxuICAgICAgICBncmFkaWVudFRyYW5zZm9ybTogdGhpcy5ncmFkaWVudFRyYW5zZm9ybSA/IHRoaXMuZ3JhZGllbnRUcmFuc2Zvcm0uY29uY2F0KCkgOiB0aGlzLmdyYWRpZW50VHJhbnNmb3JtXG4gICAgICB9O1xuICAgICAgZmFicmljLnV0aWwucG9wdWxhdGVXaXRoUHJvcGVydGllcyh0aGlzLCBvYmplY3QsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGFuIGdyYWRpZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZm9yXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBTVkcgcmVwcmVzZW50YXRpb24gb2YgYW4gZ3JhZGllbnQgKGxpbmVhci9yYWRpYWwpXG4gICAgICovXG4gICAgdG9TVkc6IGZ1bmN0aW9uKG9iamVjdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGNvb3JkcyA9IGNsb25lKHRoaXMuY29vcmRzLCB0cnVlKSwgaSwgbGVuLCBvcHRpb25zID0gb3B0aW9ucyB8fCB7fSxcbiAgICAgICAgICBtYXJrdXAsIGNvbW1vbkF0dHJpYnV0ZXMsIGNvbG9yU3RvcHMgPSBjbG9uZSh0aGlzLmNvbG9yU3RvcHMsIHRydWUpLFxuICAgICAgICAgIG5lZWRzU3dhcCA9IGNvb3Jkcy5yMSA+IGNvb3Jkcy5yMixcbiAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLmdyYWRpZW50VHJhbnNmb3JtID8gdGhpcy5ncmFkaWVudFRyYW5zZm9ybS5jb25jYXQoKSA6IGZhYnJpYy5pTWF0cml4LmNvbmNhdCgpLFxuICAgICAgICAgIG9mZnNldFggPSAtdGhpcy5vZmZzZXRYLCBvZmZzZXRZID0gLXRoaXMub2Zmc2V0WSxcbiAgICAgICAgICB3aXRoVmlld3BvcnQgPSAhIW9wdGlvbnMuYWRkaXRpb25hbFRyYW5zZm9ybSxcbiAgICAgICAgICBncmFkaWVudFVuaXRzID0gdGhpcy5ncmFkaWVudFVuaXRzID09PSAncGl4ZWxzJyA/ICd1c2VyU3BhY2VPblVzZScgOiAnb2JqZWN0Qm91bmRpbmdCb3gnO1xuICAgICAgLy8gY29sb3JTdG9wcyBtdXN0IGJlIHNvcnRlZCBhc2NlbmRpbmdcbiAgICAgIGNvbG9yU3RvcHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLm9mZnNldCAtIGIub2Zmc2V0O1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChncmFkaWVudFVuaXRzID09PSAnb2JqZWN0Qm91bmRpbmdCb3gnKSB7XG4gICAgICAgIG9mZnNldFggLz0gb2JqZWN0LndpZHRoO1xuICAgICAgICBvZmZzZXRZIC89IG9iamVjdC5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb2Zmc2V0WCArPSBvYmplY3Qud2lkdGggLyAyO1xuICAgICAgICBvZmZzZXRZICs9IG9iamVjdC5oZWlnaHQgLyAyO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdC50eXBlID09PSAncGF0aCcgJiYgdGhpcy5ncmFkaWVudFVuaXRzICE9PSAncGVyY2VudGFnZScpIHtcbiAgICAgICAgb2Zmc2V0WCAtPSBvYmplY3QucGF0aE9mZnNldC54O1xuICAgICAgICBvZmZzZXRZIC09IG9iamVjdC5wYXRoT2Zmc2V0Lnk7XG4gICAgICB9XG5cblxuICAgICAgdHJhbnNmb3JtWzRdIC09IG9mZnNldFg7XG4gICAgICB0cmFuc2Zvcm1bNV0gLT0gb2Zmc2V0WTtcblxuICAgICAgY29tbW9uQXR0cmlidXRlcyA9ICdpZD1cIlNWR0lEXycgKyB0aGlzLmlkICtcbiAgICAgICAgICAgICAgICAgICAgICdcIiBncmFkaWVudFVuaXRzPVwiJyArIGdyYWRpZW50VW5pdHMgKyAnXCInO1xuICAgICAgY29tbW9uQXR0cmlidXRlcyArPSAnIGdyYWRpZW50VHJhbnNmb3JtPVwiJyArICh3aXRoVmlld3BvcnQgP1xuICAgICAgICBvcHRpb25zLmFkZGl0aW9uYWxUcmFuc2Zvcm0gKyAnICcgOiAnJykgKyBmYWJyaWMudXRpbC5tYXRyaXhUb1NWRyh0cmFuc2Zvcm0pICsgJ1wiICc7XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgIG1hcmt1cCA9IFtcbiAgICAgICAgICAnPGxpbmVhckdyYWRpZW50ICcsXG4gICAgICAgICAgY29tbW9uQXR0cmlidXRlcyxcbiAgICAgICAgICAnIHgxPVwiJywgY29vcmRzLngxLFxuICAgICAgICAgICdcIiB5MT1cIicsIGNvb3Jkcy55MSxcbiAgICAgICAgICAnXCIgeDI9XCInLCBjb29yZHMueDIsXG4gICAgICAgICAgJ1wiIHkyPVwiJywgY29vcmRzLnkyLFxuICAgICAgICAgICdcIj5cXG4nXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdyYWRpYWwnKSB7XG4gICAgICAgIC8vIHN2ZyByYWRpYWwgZ3JhZGllbnQgaGFzIGp1c3QgMSByYWRpdXMuIHRoZSBiaWdnZXN0LlxuICAgICAgICBtYXJrdXAgPSBbXG4gICAgICAgICAgJzxyYWRpYWxHcmFkaWVudCAnLFxuICAgICAgICAgIGNvbW1vbkF0dHJpYnV0ZXMsXG4gICAgICAgICAgJyBjeD1cIicsIG5lZWRzU3dhcCA/IGNvb3Jkcy54MSA6IGNvb3Jkcy54MixcbiAgICAgICAgICAnXCIgY3k9XCInLCBuZWVkc1N3YXAgPyBjb29yZHMueTEgOiBjb29yZHMueTIsXG4gICAgICAgICAgJ1wiIHI9XCInLCBuZWVkc1N3YXAgPyBjb29yZHMucjEgOiBjb29yZHMucjIsXG4gICAgICAgICAgJ1wiIGZ4PVwiJywgbmVlZHNTd2FwID8gY29vcmRzLngyIDogY29vcmRzLngxLFxuICAgICAgICAgICdcIiBmeT1cIicsIG5lZWRzU3dhcCA/IGNvb3Jkcy55MiA6IGNvb3Jkcy55MSxcbiAgICAgICAgICAnXCI+XFxuJ1xuICAgICAgICBdO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAncmFkaWFsJykge1xuICAgICAgICBpZiAobmVlZHNTd2FwKSB7XG4gICAgICAgICAgLy8gc3ZnIGdvZXMgZnJvbSBpbnRlcm5hbCB0byBleHRlcm5hbCByYWRpdXMuIGlmIHJhZGl1cyBhcmUgaW52ZXJ0ZWQsIHN3YXAgY29sb3Igc3RvcHMuXG4gICAgICAgICAgY29sb3JTdG9wcyA9IGNvbG9yU3RvcHMuY29uY2F0KCk7XG4gICAgICAgICAgY29sb3JTdG9wcy5yZXZlcnNlKCk7XG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gY29sb3JTdG9wcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29sb3JTdG9wc1tpXS5vZmZzZXQgPSAxIC0gY29sb3JTdG9wc1tpXS5vZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtaW5SYWRpdXMgPSBNYXRoLm1pbihjb29yZHMucjEsIGNvb3Jkcy5yMik7XG4gICAgICAgIGlmIChtaW5SYWRpdXMgPiAwKSB7XG4gICAgICAgICAgLy8gaSBoYXZlIHRvIHNoaWZ0IGFsbCBjb2xvclN0b3BzIGFuZCBhZGQgbmV3IG9uZSBpbiAwLlxuICAgICAgICAgIHZhciBtYXhSYWRpdXMgPSBNYXRoLm1heChjb29yZHMucjEsIGNvb3Jkcy5yMiksXG4gICAgICAgICAgICAgIHBlcmNlbnRhZ2VTaGlmdCA9IG1pblJhZGl1cyAvIG1heFJhZGl1cztcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjb2xvclN0b3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb2xvclN0b3BzW2ldLm9mZnNldCArPSBwZXJjZW50YWdlU2hpZnQgKiAoMSAtIGNvbG9yU3RvcHNbaV0ub2Zmc2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMCwgbGVuID0gY29sb3JTdG9wcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY29sb3JTdG9wID0gY29sb3JTdG9wc1tpXTtcbiAgICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICAgJzxzdG9wICcsXG4gICAgICAgICAgJ29mZnNldD1cIicsIChjb2xvclN0b3Aub2Zmc2V0ICogMTAwKSArICclJyxcbiAgICAgICAgICAnXCIgc3R5bGU9XCJzdG9wLWNvbG9yOicsIGNvbG9yU3RvcC5jb2xvcixcbiAgICAgICAgICAodHlwZW9mIGNvbG9yU3RvcC5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJyA/ICc7c3RvcC1vcGFjaXR5OiAnICsgY29sb3JTdG9wLm9wYWNpdHkgOiAnOycpLFxuICAgICAgICAgICdcIi8+XFxuJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBtYXJrdXAucHVzaCgodGhpcy50eXBlID09PSAnbGluZWFyJyA/ICc8L2xpbmVhckdyYWRpZW50PlxcbicgOiAnPC9yYWRpYWxHcmFkaWVudD5cXG4nKSk7XG5cbiAgICAgIHJldHVybiBtYXJrdXAuam9pbignJyk7XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgQ2FudmFzR3JhZGllbnRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHJldHVybiB7Q2FudmFzR3JhZGllbnR9XG4gICAgICovXG4gICAgdG9MaXZlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBncmFkaWVudCwgY29vcmRzID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKHRoaXMuY29vcmRzKSwgaSwgbGVuO1xuXG4gICAgICBpZiAoIXRoaXMudHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgIGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxuICAgICAgICAgIGNvb3Jkcy54MSwgY29vcmRzLnkxLCBjb29yZHMueDIsIGNvb3Jkcy55Mik7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdyYWRpYWwnKSB7XG4gICAgICAgIGdyYWRpZW50ID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KFxuICAgICAgICAgIGNvb3Jkcy54MSwgY29vcmRzLnkxLCBjb29yZHMucjEsIGNvb3Jkcy54MiwgY29vcmRzLnkyLCBjb29yZHMucjIpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLmNvbG9yU3RvcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5jb2xvclN0b3BzW2ldLmNvbG9yLFxuICAgICAgICAgICAgb3BhY2l0eSA9IHRoaXMuY29sb3JTdG9wc1tpXS5vcGFjaXR5LFxuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5jb2xvclN0b3BzW2ldLm9mZnNldDtcblxuICAgICAgICBpZiAodHlwZW9mIG9wYWNpdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKGNvbG9yKS5zZXRBbHBoYShvcGFjaXR5KS50b1JnYmEoKTtcbiAgICAgICAgfVxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aob2Zmc2V0LCBjb2xvcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9XG4gIH0pO1xuXG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLkdyYWRpZW50LCB7XG5cbiAgICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkdyYWRpZW50fSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuR3JhZGllbnRcbiAgICAgKiBAcGFyYW0ge1NWR0dyYWRpZW50RWxlbWVudH0gZWwgU1ZHIGdyYWRpZW50IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wYWNpdHlBdHRyIEEgZmlsbC1vcGFjaXR5IG9yIHN0cm9rZS1vcGFjaXR5IGF0dHJpYnV0ZSB0byBtdWx0aXBseSB0byBlYWNoIHN0b3AncyBvcGFjaXR5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdmdPcHRpb25zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzaXplIG9mIHRoZSBTVkcgaW4gb3JkZXIgdG8gcGFyc2UgY29ycmVjdGx5IGdyYWRpZW50c1xuICAgICAqIHRoYXQgdXNlcyBncmFkaWVudFVuaXRzIGFzICd1c2VyU3BhY2VPblVzZScgYW5kIHBlcmNlbnRhZ2VzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gdmlld0JveFdpZHRoIHdpZHRoIHBhcnQgb2YgdGhlIHZpZXdCb3ggYXR0cmlidXRlIG9uIHN2Z1xuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gdmlld0JveEhlaWdodCBoZWlnaHQgcGFydCBvZiB0aGUgdmlld0JveCBhdHRyaWJ1dGUgb24gc3ZnXG4gICAgICogQHBhcmFtIHtPYmplY3QubnVtYmVyfSB3aWR0aCB3aWR0aCBwYXJ0IG9mIHRoZSBzdmcgdGFnIGlmIHZpZXdCb3ggaXMgbm90IHNwZWNpZmllZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gaGVpZ2h0IGhlaWdodCBwYXJ0IG9mIHRoZSBzdmcgdGFnIGlmIHZpZXdCb3ggaXMgbm90IHNwZWNpZmllZFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5HcmFkaWVudH0gR3JhZGllbnQgaW5zdGFuY2VcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wc2VydmVycy5odG1sI0xpbmVhckdyYWRpZW50RWxlbWVudFxuICAgICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BzZXJ2ZXJzLmh0bWwjUmFkaWFsR3JhZGllbnRFbGVtZW50XG4gICAgICovXG4gICAgZnJvbUVsZW1lbnQ6IGZ1bmN0aW9uKGVsLCBpbnN0YW5jZSwgb3BhY2l0eUF0dHIsIHN2Z09wdGlvbnMpIHtcbiAgICAgIC8qKlxuICAgICAgICogIEBleGFtcGxlOlxuICAgICAgICpcbiAgICAgICAqICA8bGluZWFyR3JhZGllbnQgaWQ9XCJsaW5lYXJHcmFkMVwiPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIi8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cImJsYWNrXCIvPlxuICAgICAgICogIDwvbGluZWFyR3JhZGllbnQ+XG4gICAgICAgKlxuICAgICAgICogIE9SXG4gICAgICAgKlxuICAgICAgICogIDxsaW5lYXJHcmFkaWVudCBpZD1cImxpbmVhckdyYWQyXCI+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIwXCIgc3R5bGU9XCJzdG9wLWNvbG9yOnJnYigyNTUsMjU1LDI1NSlcIi8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIxXCIgc3R5bGU9XCJzdG9wLWNvbG9yOnJnYigwLDAsMClcIi8+XG4gICAgICAgKiAgPC9saW5lYXJHcmFkaWVudD5cbiAgICAgICAqXG4gICAgICAgKiAgT1JcbiAgICAgICAqXG4gICAgICAgKiAgPHJhZGlhbEdyYWRpZW50IGlkPVwicmFkaWFsR3JhZDFcIj5cbiAgICAgICAqICAgIDxzdG9wIG9mZnNldD1cIjAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIgc3RvcC1vcGFjaXR5PVwiMVwiIC8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCI1MCVcIiBzdG9wLWNvbG9yPVwiYmxhY2tcIiBzdG9wLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjFcIiAvPlxuICAgICAgICogIDwvcmFkaWFsR3JhZGllbnQ+XG4gICAgICAgKlxuICAgICAgICogIE9SXG4gICAgICAgKlxuICAgICAgICogIDxyYWRpYWxHcmFkaWVudCBpZD1cInJhZGlhbEdyYWQyXCI+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIwXCIgc3RvcC1jb2xvcj1cInJnYigyNTUsMjU1LDI1NSlcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMC41XCIgc3RvcC1jb2xvcj1cInJnYigwLDAsMClcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMVwiIHN0b3AtY29sb3I9XCJyZ2IoMjU1LDI1NSwyNTUpXCIgLz5cbiAgICAgICAqICA8L3JhZGlhbEdyYWRpZW50PlxuICAgICAgICpcbiAgICAgICAqL1xuXG4gICAgICB2YXIgbXVsdGlwbGllciA9IHBhcnNlRmxvYXQob3BhY2l0eUF0dHIpIC8gKC8lJC8udGVzdChvcGFjaXR5QXR0cikgPyAxMDAgOiAxKTtcbiAgICAgIG11bHRpcGxpZXIgPSBtdWx0aXBsaWVyIDwgMCA/IDAgOiBtdWx0aXBsaWVyID4gMSA/IDEgOiBtdWx0aXBsaWVyO1xuICAgICAgaWYgKGlzTmFOKG11bHRpcGxpZXIpKSB7XG4gICAgICAgIG11bHRpcGxpZXIgPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29sb3JTdG9wRWxzID0gZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0b3AnKSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGdyYWRpZW50VW5pdHMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2dyYWRpZW50VW5pdHMnKSA9PT0gJ3VzZXJTcGFjZU9uVXNlJyA/XG4gICAgICAgICAgICAncGl4ZWxzJyA6ICdwZXJjZW50YWdlJyxcbiAgICAgICAgICBncmFkaWVudFRyYW5zZm9ybSA9IGVsLmdldEF0dHJpYnV0ZSgnZ3JhZGllbnRUcmFuc2Zvcm0nKSB8fCAnJyxcbiAgICAgICAgICBjb2xvclN0b3BzID0gW10sXG4gICAgICAgICAgY29vcmRzLCBpLCBvZmZzZXRYID0gMCwgb2Zmc2V0WSA9IDAsXG4gICAgICAgICAgdHJhbnNmb3JtTWF0cml4O1xuICAgICAgaWYgKGVsLm5vZGVOYW1lID09PSAnbGluZWFyR3JhZGllbnQnIHx8IGVsLm5vZGVOYW1lID09PSAnTElORUFSR1JBRElFTlQnKSB7XG4gICAgICAgIHR5cGUgPSAnbGluZWFyJztcbiAgICAgICAgY29vcmRzID0gZ2V0TGluZWFyQ29vcmRzKGVsKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0eXBlID0gJ3JhZGlhbCc7XG4gICAgICAgIGNvb3JkcyA9IGdldFJhZGlhbENvb3JkcyhlbCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IGNvbG9yU3RvcEVscy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGNvbG9yU3RvcHMucHVzaChnZXRDb2xvclN0b3AoY29sb3JTdG9wRWxzW2ldLCBtdWx0aXBsaWVyKSk7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zZm9ybU1hdHJpeCA9IGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZShncmFkaWVudFRyYW5zZm9ybSk7XG5cbiAgICAgIF9fY29udmVydFBlcmNlbnRVbml0c1RvVmFsdWVzKGluc3RhbmNlLCBjb29yZHMsIHN2Z09wdGlvbnMsIGdyYWRpZW50VW5pdHMpO1xuXG4gICAgICBpZiAoZ3JhZGllbnRVbml0cyA9PT0gJ3BpeGVscycpIHtcbiAgICAgICAgb2Zmc2V0WCA9IC1pbnN0YW5jZS5sZWZ0O1xuICAgICAgICBvZmZzZXRZID0gLWluc3RhbmNlLnRvcDtcbiAgICAgIH1cblxuICAgICAgdmFyIGdyYWRpZW50ID0gbmV3IGZhYnJpYy5HcmFkaWVudCh7XG4gICAgICAgIGlkOiBlbC5nZXRBdHRyaWJ1dGUoJ2lkJyksXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvb3JkczogY29vcmRzLFxuICAgICAgICBjb2xvclN0b3BzOiBjb2xvclN0b3BzLFxuICAgICAgICBncmFkaWVudFVuaXRzOiBncmFkaWVudFVuaXRzLFxuICAgICAgICBncmFkaWVudFRyYW5zZm9ybTogdHJhbnNmb3JtTWF0cml4LFxuICAgICAgICBvZmZzZXRYOiBvZmZzZXRYLFxuICAgICAgICBvZmZzZXRZOiBvZmZzZXRZLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9XG4gICAgLyogX0ZST01fU1ZHX0VORF8gKi9cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBfX2NvbnZlcnRQZXJjZW50VW5pdHNUb1ZhbHVlcyhpbnN0YW5jZSwgb3B0aW9ucywgc3ZnT3B0aW9ucywgZ3JhZGllbnRVbml0cykge1xuICAgIHZhciBwcm9wVmFsdWUsIGZpbmFsVmFsdWU7XG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgICBwcm9wVmFsdWUgPSBvcHRpb25zW3Byb3BdO1xuICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gJ0luZmluaXR5Jykge1xuICAgICAgICBmaW5hbFZhbHVlID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHByb3BWYWx1ZSA9PT0gJy1JbmZpbml0eScpIHtcbiAgICAgICAgZmluYWxWYWx1ZSA9IDA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZmluYWxWYWx1ZSA9IHBhcnNlRmxvYXQob3B0aW9uc1twcm9wXSwgMTApO1xuICAgICAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3N0cmluZycgJiYgL14oXFxkK1xcLlxcZCspJXwoXFxkKyklJC8udGVzdChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgZmluYWxWYWx1ZSAqPSAwLjAxO1xuICAgICAgICAgIGlmIChncmFkaWVudFVuaXRzID09PSAncGl4ZWxzJykge1xuICAgICAgICAgICAgLy8gdGhlbiB3ZSBuZWVkIHRvIGZpeCB0aG9zZSBwZXJjZW50YWdlcyBoZXJlIGluIHN2ZyBwYXJzaW5nXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3gxJyB8fCBwcm9wID09PSAneDInIHx8IHByb3AgPT09ICdyMicpIHtcbiAgICAgICAgICAgICAgZmluYWxWYWx1ZSAqPSBzdmdPcHRpb25zLnZpZXdCb3hXaWR0aCB8fCBzdmdPcHRpb25zLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICd5MScgfHwgcHJvcCA9PT0gJ3kyJykge1xuICAgICAgICAgICAgICBmaW5hbFZhbHVlICo9IHN2Z09wdGlvbnMudmlld0JveEhlaWdodCB8fCBzdmdPcHRpb25zLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9wdGlvbnNbcHJvcF0gPSBmaW5hbFZhbHVlO1xuICAgIH0pO1xuICB9XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkO1xuXG4gIC8qKlxuICAgKiBQYXR0ZXJuIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUGF0dGVyblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL3BhdHRlcm5zfFBhdHRlcm4gZGVtb31cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9keW5hbWljLXBhdHRlcm5zfER5bmFtaWNQYXR0ZXJuIGRlbW99XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5QYXR0ZXJuI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuXG5cbiAgZmFicmljLlBhdHRlcm4gPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcygvKiogQGxlbmRzIGZhYnJpYy5QYXR0ZXJuLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBSZXBlYXQgcHJvcGVydHkgb2YgYSBwYXR0ZXJuIChvbmUgb2YgcmVwZWF0LCByZXBlYXQteCwgcmVwZWF0LXkgb3Igbm8tcmVwZWF0KVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcmVwZWF0OiAncmVwZWF0JyxcblxuICAgIC8qKlxuICAgICAqIFBhdHRlcm4gaG9yaXpvbnRhbCBvZmZzZXQgZnJvbSBvYmplY3QncyBsZWZ0L3RvcCBjb3JuZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9mZnNldFg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBQYXR0ZXJuIHZlcnRpY2FsIG9mZnNldCBmcm9tIG9iamVjdCdzIGxlZnQvdG9wIGNvcm5lclxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb2Zmc2V0WTogMCxcblxuICAgIC8qKlxuICAgICAqIGNyb3NzT3JpZ2luIHZhbHVlIChvbmUgb2YgXCJcIiwgXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIilcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSFRNTC9DT1JTX3NldHRpbmdzX2F0dHJpYnV0ZXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNyb3NzT3JpZ2luOiAnJyxcblxuICAgIC8qKlxuICAgICAqIHRyYW5zZm9ybSBtYXRyaXggdG8gY2hhbmdlIHRoZSBwYXR0ZXJuLCBpbXBvcnRlZCBmcm9tIHN2Z3MuXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdHRlcm5UcmFuc2Zvcm06IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIGZ1bmN0aW9uIHRvIGludm9rZSBhZnRlciBjYWxsYmFjayBpbml0LlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5QYXR0ZXJufSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB0aGlzLmlkID0gZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgaWYgKCFvcHRpb25zLnNvdXJjZSB8fCAob3B0aW9ucy5zb3VyY2UgJiYgdHlwZW9mIG9wdGlvbnMuc291cmNlICE9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBpbWcgc3JjIHN0cmluZ1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUltYWdlKCk7XG4gICAgICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZShvcHRpb25zLnNvdXJjZSwgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICAgICAgX3RoaXMuc291cmNlID0gaW1nO1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKF90aGlzLCBpc0Vycm9yKTtcbiAgICAgICAgfSwgbnVsbCwgdGhpcy5jcm9zc09yaWdpbik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGEgcGF0dGVyblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIHBhdHRlcm4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIE5VTV9GUkFDVElPTl9ESUdJVFMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFMsXG4gICAgICAgICAgc291cmNlLCBvYmplY3Q7XG5cbiAgICAgIC8vIDxpbWc+IGVsZW1lbnRcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zb3VyY2Uuc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzb3VyY2UgPSB0aGlzLnNvdXJjZS5zcmM7XG4gICAgICB9XG4gICAgICAvLyA8Y2FudmFzPiBlbGVtZW50XG4gICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5zb3VyY2UgPT09ICdvYmplY3QnICYmIHRoaXMuc291cmNlLnRvRGF0YVVSTCkge1xuICAgICAgICBzb3VyY2UgPSB0aGlzLnNvdXJjZS50b0RhdGFVUkwoKTtcbiAgICAgIH1cblxuICAgICAgb2JqZWN0ID0ge1xuICAgICAgICB0eXBlOiAncGF0dGVybicsXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICByZXBlYXQ6IHRoaXMucmVwZWF0LFxuICAgICAgICBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbixcbiAgICAgICAgb2Zmc2V0WDogdG9GaXhlZCh0aGlzLm9mZnNldFgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICBvZmZzZXRZOiB0b0ZpeGVkKHRoaXMub2Zmc2V0WSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgIHBhdHRlcm5UcmFuc2Zvcm06IHRoaXMucGF0dGVyblRyYW5zZm9ybSA/IHRoaXMucGF0dGVyblRyYW5zZm9ybS5jb25jYXQoKSA6IG51bGxcbiAgICAgIH07XG4gICAgICBmYWJyaWMudXRpbC5wb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzKHRoaXMsIG9iamVjdCwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBTVkcgcmVwcmVzZW50YXRpb24gb2YgYSBwYXR0ZXJuXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFNWRyByZXByZXNlbnRhdGlvbiBvZiBhIHBhdHRlcm5cbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcGF0dGVyblNvdXJjZSA9IHR5cGVvZiB0aGlzLnNvdXJjZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuc291cmNlKCkgOiB0aGlzLnNvdXJjZSxcbiAgICAgICAgICBwYXR0ZXJuV2lkdGggPSBwYXR0ZXJuU291cmNlLndpZHRoIC8gb2JqZWN0LndpZHRoLFxuICAgICAgICAgIHBhdHRlcm5IZWlnaHQgPSBwYXR0ZXJuU291cmNlLmhlaWdodCAvIG9iamVjdC5oZWlnaHQsXG4gICAgICAgICAgcGF0dGVybk9mZnNldFggPSB0aGlzLm9mZnNldFggLyBvYmplY3Qud2lkdGgsXG4gICAgICAgICAgcGF0dGVybk9mZnNldFkgPSB0aGlzLm9mZnNldFkgLyBvYmplY3QuaGVpZ2h0LFxuICAgICAgICAgIHBhdHRlcm5JbWdTcmMgPSAnJztcbiAgICAgIGlmICh0aGlzLnJlcGVhdCA9PT0gJ3JlcGVhdC14JyB8fCB0aGlzLnJlcGVhdCA9PT0gJ25vLXJlcGVhdCcpIHtcbiAgICAgICAgcGF0dGVybkhlaWdodCA9IDE7XG4gICAgICAgIGlmIChwYXR0ZXJuT2Zmc2V0WSkge1xuICAgICAgICAgIHBhdHRlcm5IZWlnaHQgKz0gTWF0aC5hYnMocGF0dGVybk9mZnNldFkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yZXBlYXQgPT09ICdyZXBlYXQteScgfHwgdGhpcy5yZXBlYXQgPT09ICduby1yZXBlYXQnKSB7XG4gICAgICAgIHBhdHRlcm5XaWR0aCA9IDE7XG4gICAgICAgIGlmIChwYXR0ZXJuT2Zmc2V0WCkge1xuICAgICAgICAgIHBhdHRlcm5XaWR0aCArPSBNYXRoLmFicyhwYXR0ZXJuT2Zmc2V0WCk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgICAgaWYgKHBhdHRlcm5Tb3VyY2Uuc3JjKSB7XG4gICAgICAgIHBhdHRlcm5JbWdTcmMgPSBwYXR0ZXJuU291cmNlLnNyYztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHBhdHRlcm5Tb3VyY2UudG9EYXRhVVJMKSB7XG4gICAgICAgIHBhdHRlcm5JbWdTcmMgPSBwYXR0ZXJuU291cmNlLnRvRGF0YVVSTCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJzxwYXR0ZXJuIGlkPVwiU1ZHSURfJyArIHRoaXMuaWQgK1xuICAgICAgICAgICAgICAgICAgICAnXCIgeD1cIicgKyBwYXR0ZXJuT2Zmc2V0WCArXG4gICAgICAgICAgICAgICAgICAgICdcIiB5PVwiJyArIHBhdHRlcm5PZmZzZXRZICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIHdpZHRoPVwiJyArIHBhdHRlcm5XaWR0aCArXG4gICAgICAgICAgICAgICAgICAgICdcIiBoZWlnaHQ9XCInICsgcGF0dGVybkhlaWdodCArICdcIj5cXG4nICtcbiAgICAgICAgICAgICAgICc8aW1hZ2UgeD1cIjBcIiB5PVwiMFwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgJyB3aWR0aD1cIicgKyBwYXR0ZXJuU291cmNlLndpZHRoICtcbiAgICAgICAgICAgICAgICAgICAgICAnXCIgaGVpZ2h0PVwiJyArIHBhdHRlcm5Tb3VyY2UuaGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgICAnXCIgeGxpbms6aHJlZj1cIicgKyBwYXR0ZXJuSW1nU3JjICtcbiAgICAgICAgICAgICAgICdcIj48L2ltYWdlPlxcbicgK1xuICAgICAgICAgICAgICc8L3BhdHRlcm4+XFxuJztcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRoaXNbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIENhbnZhc1BhdHRlcm5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gY3JlYXRlIHBhdHRlcm5cbiAgICAgKiBAcmV0dXJuIHtDYW52YXNQYXR0ZXJufVxuICAgICAqL1xuICAgIHRvTGl2ZTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAvLyBpZiB0aGUgaW1hZ2UgZmFpbGVkIHRvIGxvYWQsIHJldHVybiwgYW5kIGFsbG93IHJlc3QgdG8gY29udGludWUgbG9hZGluZ1xuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiBhbiBpbWFnZVxuICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3JjICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc291cmNlLm5hdHVyYWxXaWR0aCA9PT0gMCB8fCBzb3VyY2UubmF0dXJhbEhlaWdodCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGN0eC5jcmVhdGVQYXR0ZXJuKHNvdXJjZSwgdGhpcy5yZXBlYXQpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQ7XG5cbiAgaWYgKGZhYnJpYy5TaGFkb3cpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlNoYWRvdyBpcyBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNoYWRvdyBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlNoYWRvd1xuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL3NoYWRvd3N8U2hhZG93IGRlbW99XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5TaGFkb3cjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5TaGFkb3cgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcygvKiogQGxlbmRzIGZhYnJpYy5TaGFkb3cucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBjb2xvclxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29sb3I6ICdyZ2IoMCwwLDApJyxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBibHVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgYmx1cjogMCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBob3Jpem9udGFsIG9mZnNldFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb2Zmc2V0WDogMCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyB2ZXJ0aWNhbCBvZmZzZXRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9mZnNldFk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzaGFkb3cgc2hvdWxkIGFmZmVjdCBzdHJva2Ugb3BlcmF0aW9uc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFmZmVjdFN0cm9rZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0b09iamVjdCBzaG91bGQgaW5jbHVkZSBkZWZhdWx0IHZhbHVlc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGluY2x1ZGVEZWZhdWx0VmFsdWVzOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgZmFsc2VgLCB0aGUgc2hhZG93IHdpbGwgc2NhbGUgd2l0aCB0aGUgb2JqZWN0LlxuICAgICAqIFdoZW4gYHRydWVgLCB0aGUgc2hhZG93J3Mgb2Zmc2V0WCwgb2Zmc2V0WSwgYW5kIGJsdXIgd2lsbCBub3QgYmUgYWZmZWN0ZWQgYnkgdGhlIG9iamVjdCdzIHNjYWxlLlxuICAgICAqIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBub25TY2FsaW5nOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3Qgd2l0aCBhbnkgb2YgY29sb3IsIGJsdXIsIG9mZnNldFgsIG9mZnNldFkgcHJvcGVydGllcyBvciBzdHJpbmcgKGUuZy4gXCJyZ2JhKDAsMCwwLDAuMikgMnB4IDJweCAxMHB4XCIpXG4gICAgICogQHJldHVybiB7ZmFicmljLlNoYWRvd30gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICBvcHRpb25zID0gdGhpcy5fcGFyc2VTaGFkb3cob3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykge1xuICAgICAgICB0aGlzW3Byb3BdID0gb3B0aW9uc1twcm9wXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pZCA9IGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2hhZG93IFNoYWRvdyB2YWx1ZSB0byBwYXJzZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gU2hhZG93IG9iamVjdCB3aXRoIGNvbG9yLCBvZmZzZXRYLCBvZmZzZXRZIGFuZCBibHVyXG4gICAgICovXG4gICAgX3BhcnNlU2hhZG93OiBmdW5jdGlvbihzaGFkb3cpIHtcbiAgICAgIHZhciBzaGFkb3dTdHIgPSBzaGFkb3cudHJpbSgpLFxuICAgICAgICAgIG9mZnNldHNBbmRCbHVyID0gZmFicmljLlNoYWRvdy5yZU9mZnNldHNBbmRCbHVyLmV4ZWMoc2hhZG93U3RyKSB8fCBbXSxcbiAgICAgICAgICBjb2xvciA9IHNoYWRvd1N0ci5yZXBsYWNlKGZhYnJpYy5TaGFkb3cucmVPZmZzZXRzQW5kQmx1ciwgJycpIHx8ICdyZ2IoMCwwLDApJztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sb3I6IGNvbG9yLnRyaW0oKSxcbiAgICAgICAgb2Zmc2V0WDogcGFyc2VGbG9hdChvZmZzZXRzQW5kQmx1clsxXSwgMTApIHx8IDAsXG4gICAgICAgIG9mZnNldFk6IHBhcnNlRmxvYXQob2Zmc2V0c0FuZEJsdXJbMl0sIDEwKSB8fCAwLFxuICAgICAgICBibHVyOiBwYXJzZUZsb2F0KG9mZnNldHNBbmRCbHVyWzNdLCAxMCkgfHwgMFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvY3NzLXRleHQtZGVjb3ItMy8jdGV4dC1zaGFkb3dcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFJldHVybnMgQ1NTMyB0ZXh0LXNoYWRvdyBkZWNsYXJhdGlvblxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbdGhpcy5vZmZzZXRYLCB0aGlzLm9mZnNldFksIHRoaXMuYmx1ciwgdGhpcy5jb2xvcl0uam9pbigncHggJyk7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBTVkcgcmVwcmVzZW50YXRpb24gb2YgYSBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGEgc2hhZG93XG4gICAgICovXG4gICAgdG9TVkc6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIGZCb3hYID0gNDAsIGZCb3hZID0gNDAsIE5VTV9GUkFDVElPTl9ESUdJVFMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFMsXG4gICAgICAgICAgb2Zmc2V0ID0gZmFicmljLnV0aWwucm90YXRlVmVjdG9yKFxuICAgICAgICAgICAgeyB4OiB0aGlzLm9mZnNldFgsIHk6IHRoaXMub2Zmc2V0WSB9LFxuICAgICAgICAgICAgZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucygtb2JqZWN0LmFuZ2xlKSksXG4gICAgICAgICAgQkxVUl9CT1ggPSAyMCwgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpO1xuXG4gICAgICBpZiAob2JqZWN0LndpZHRoICYmIG9iamVjdC5oZWlnaHQpIHtcbiAgICAgICAgLy9odHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvZmlsdGVycy5odG1sI0ZpbHRlckVmZmVjdHNSZWdpb25cbiAgICAgICAgLy8gd2UgYWRkIHNvbWUgZXh0cmEgc3BhY2UgdG8gZmlsdGVyIGJveCB0byBjb250YWluIHRoZSBibHVyICggMjAgKVxuICAgICAgICBmQm94WCA9IHRvRml4ZWQoKE1hdGguYWJzKG9mZnNldC54KSArIHRoaXMuYmx1cikgLyBvYmplY3Qud2lkdGgsIE5VTV9GUkFDVElPTl9ESUdJVFMpICogMTAwICsgQkxVUl9CT1g7XG4gICAgICAgIGZCb3hZID0gdG9GaXhlZCgoTWF0aC5hYnMob2Zmc2V0LnkpICsgdGhpcy5ibHVyKSAvIG9iamVjdC5oZWlnaHQsIE5VTV9GUkFDVElPTl9ESUdJVFMpICogMTAwICsgQkxVUl9CT1g7XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0LmZsaXBYKSB7XG4gICAgICAgIG9mZnNldC54ICo9IC0xO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdC5mbGlwWSkge1xuICAgICAgICBvZmZzZXQueSAqPSAtMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgJzxmaWx0ZXIgaWQ9XCJTVkdJRF8nICsgdGhpcy5pZCArICdcIiB5PVwiLScgKyBmQm94WSArICclXCIgaGVpZ2h0PVwiJyArICgxMDAgKyAyICogZkJveFkpICsgJyVcIiAnICtcbiAgICAgICAgICAneD1cIi0nICsgZkJveFggKyAnJVwiIHdpZHRoPVwiJyArICgxMDAgKyAyICogZkJveFgpICsgJyVcIiAnICsgJz5cXG4nICtcbiAgICAgICAgICAnXFx0PGZlR2F1c3NpYW5CbHVyIGluPVwiU291cmNlQWxwaGFcIiBzdGREZXZpYXRpb249XCInICtcbiAgICAgICAgICAgIHRvRml4ZWQodGhpcy5ibHVyID8gdGhpcy5ibHVyIC8gMiA6IDAsIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJ1wiPjwvZmVHYXVzc2lhbkJsdXI+XFxuJyArXG4gICAgICAgICAgJ1xcdDxmZU9mZnNldCBkeD1cIicgKyB0b0ZpeGVkKG9mZnNldC54LCBOVU1fRlJBQ1RJT05fRElHSVRTKSArXG4gICAgICAgICAgJ1wiIGR5PVwiJyArIHRvRml4ZWQob2Zmc2V0LnksIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJ1wiIHJlc3VsdD1cIm9CbHVyXCIgPjwvZmVPZmZzZXQ+XFxuJyArXG4gICAgICAgICAgJ1xcdDxmZUZsb29kIGZsb29kLWNvbG9yPVwiJyArIGNvbG9yLnRvUmdiKCkgKyAnXCIgZmxvb2Qtb3BhY2l0eT1cIicgKyBjb2xvci5nZXRBbHBoYSgpICsgJ1wiLz5cXG4nICtcbiAgICAgICAgICAnXFx0PGZlQ29tcG9zaXRlIGluMj1cIm9CbHVyXCIgb3BlcmF0b3I9XCJpblwiIC8+XFxuJyArXG4gICAgICAgICAgJ1xcdDxmZU1lcmdlPlxcbicgK1xuICAgICAgICAgICAgJ1xcdFxcdDxmZU1lcmdlTm9kZT48L2ZlTWVyZ2VOb2RlPlxcbicgK1xuICAgICAgICAgICAgJ1xcdFxcdDxmZU1lcmdlTm9kZSBpbj1cIlNvdXJjZUdyYXBoaWNcIj48L2ZlTWVyZ2VOb2RlPlxcbicgK1xuICAgICAgICAgICdcXHQ8L2ZlTWVyZ2U+XFxuJyArXG4gICAgICAgICc8L2ZpbHRlcj5cXG4nKTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBzaGFkb3dcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIHNoYWRvdyBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgICAgYmx1cjogdGhpcy5ibHVyLFxuICAgICAgICAgIG9mZnNldFg6IHRoaXMub2Zmc2V0WCxcbiAgICAgICAgICBvZmZzZXRZOiB0aGlzLm9mZnNldFksXG4gICAgICAgICAgYWZmZWN0U3Ryb2tlOiB0aGlzLmFmZmVjdFN0cm9rZSxcbiAgICAgICAgICBub25TY2FsaW5nOiB0aGlzLm5vblNjYWxpbmdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciBvYmogPSB7IH0sIHByb3RvID0gZmFicmljLlNoYWRvdy5wcm90b3R5cGU7XG5cbiAgICAgIFsnY29sb3InLCAnYmx1cicsICdvZmZzZXRYJywgJ29mZnNldFknLCAnYWZmZWN0U3Ryb2tlJywgJ25vblNjYWxpbmcnXS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgaWYgKHRoaXNbcHJvcF0gIT09IHByb3RvW3Byb3BdKSB7XG4gICAgICAgICAgb2JqW3Byb3BdID0gdGhpc1twcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmVnZXggbWF0Y2hpbmcgc2hhZG93IG9mZnNldFgsIG9mZnNldFkgYW5kIGJsdXIgKGV4OiBcIjJweCAycHggMTBweCByZ2JhKDAsMCwwLDAuMilcIiwgXCJyZ2IoMCwyNTUsMCkgMnB4IDJweFwiKVxuICAgKiBAc3RhdGljXG4gICAqIEBmaWVsZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLlNoYWRvd1xuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgZmFicmljLlNoYWRvdy5yZU9mZnNldHNBbmRCbHVyID0gLyg/Olxcc3xeKSgtP1xcZCsoPzpcXC5cXGQqKT8oPzpweCk/KD86XFxzP3wkKSk/KC0/XFxkKyg/OlxcLlxcZCopPyg/OnB4KT8oPzpcXHM/fCQpKT8oXFxkKyg/OlxcLlxcZCopPyg/OnB4KT8pPyg/Olxccz98JCkoPzokfFxccykvO1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uICgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKGZhYnJpYy5TdGF0aWNDYW52YXMpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlN0YXRpY0NhbnZhcyBpcyBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gYWxpYXNlcyBmb3IgZmFzdGVyIHJlc29sdXRpb25cbiAgdmFyIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBnZXRFbGVtZW50T2Zmc2V0ID0gZmFicmljLnV0aWwuZ2V0RWxlbWVudE9mZnNldCxcbiAgICAgIHJlbW92ZUZyb21BcnJheSA9IGZhYnJpYy51dGlsLnJlbW92ZUZyb21BcnJheSxcbiAgICAgIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkLFxuICAgICAgdHJhbnNmb3JtUG9pbnQgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludCxcbiAgICAgIGludmVydFRyYW5zZm9ybSA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSxcbiAgICAgIGdldE5vZGVDYW52YXMgPSBmYWJyaWMudXRpbC5nZXROb2RlQ2FudmFzLFxuICAgICAgY3JlYXRlQ2FudmFzRWxlbWVudCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQsXG5cbiAgICAgIENBTlZBU19JTklUX0VSUk9SID0gbmV3IEVycm9yKCdDb3VsZCBub3QgaW5pdGlhbGl6ZSBgY2FudmFzYCBlbGVtZW50Jyk7XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBjYW52YXMgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5TdGF0aWNDYW52YXNcbiAgICogQG1peGVzIGZhYnJpYy5Db2xsZWN0aW9uXG4gICAqIEBtaXhlcyBmYWJyaWMuT2JzZXJ2YWJsZVxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL3N0YXRpY19jYW52YXN8U3RhdGljQ2FudmFzIGRlbW99XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQGZpcmVzIGJlZm9yZTpyZW5kZXJcbiAgICogQGZpcmVzIGFmdGVyOnJlbmRlclxuICAgKiBAZmlyZXMgY2FudmFzOmNsZWFyZWRcbiAgICogQGZpcmVzIG9iamVjdDphZGRlZFxuICAgKiBAZmlyZXMgb2JqZWN0OnJlbW92ZWRcbiAgICovXG4gIGZhYnJpYy5TdGF0aWNDYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuQ29tbW9uTWV0aG9kcywgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTdHJpbmd9IGVsICZsdDtjYW52YXM+IGVsZW1lbnQgdG8gaW5pdGlhbGl6ZSBpbnN0YW5jZSBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICB0aGlzLnJlbmRlckFuZFJlc2V0Qm91bmQgPSB0aGlzLnJlbmRlckFuZFJlc2V0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnJlcXVlc3RSZW5kZXJBbGxCb3VuZCA9IHRoaXMucmVxdWVzdFJlbmRlckFsbC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faW5pdFN0YXRpYyhlbCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEJhY2tncm91bmQgY29sb3Igb2YgY2FudmFzIGluc3RhbmNlLlxuICAgICAqIFNob3VsZCBiZSBzZXQgdmlhIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI3NldEJhY2tncm91bmRDb2xvcn0uXG4gICAgICogQHR5cGUgeyhTdHJpbmd8ZmFicmljLlBhdHRlcm4pfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYmFja2dyb3VuZENvbG9yOiAnJyxcblxuICAgIC8qKlxuICAgICAqIEJhY2tncm91bmQgaW1hZ2Ugb2YgY2FudmFzIGluc3RhbmNlLlxuICAgICAqIHNpbmNlIDIuNC4wIGltYWdlIGNhY2hpbmcgaXMgYWN0aXZlLCBwbGVhc2Ugd2hlbiBwdXR0aW5nIGFuIGltYWdlIGFzIGJhY2tncm91bmQsIGFkZCB0byB0aGVcbiAgICAgKiBjYW52YXMgcHJvcGVydHkgYSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyBpdCBpcyBvbi4gT3RoZXJ3aXNlIHRoZSBpbWFnZSBjYW5ub3QgZGV0ZWN0IHRoZSB6b29tXG4gICAgICogdmFsZS4gQXMgYW4gYWx0ZXJuYXRpdmUgeW91IGNhbiBkaXNhYmxlIGltYWdlIG9iamVjdENhY2hpbmdcbiAgICAgKiBAdHlwZSBmYWJyaWMuSW1hZ2VcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJhY2tncm91bmRJbWFnZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIE92ZXJsYXkgY29sb3Igb2YgY2FudmFzIGluc3RhbmNlLlxuICAgICAqIFNob3VsZCBiZSBzZXQgdmlhIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI3NldE92ZXJsYXlDb2xvcn1cbiAgICAgKiBAc2luY2UgMS4zLjlcbiAgICAgKiBAdHlwZSB7KFN0cmluZ3xmYWJyaWMuUGF0dGVybil9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvdmVybGF5Q29sb3I6ICcnLFxuXG4gICAgLyoqXG4gICAgICogT3ZlcmxheSBpbWFnZSBvZiBjYW52YXMgaW5zdGFuY2UuXG4gICAgICogc2luY2UgMi40LjAgaW1hZ2UgY2FjaGluZyBpcyBhY3RpdmUsIHBsZWFzZSB3aGVuIHB1dHRpbmcgYW4gaW1hZ2UgYXMgb3ZlcmxheSwgYWRkIHRvIHRoZVxuICAgICAqIGNhbnZhcyBwcm9wZXJ0eSBhIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzIGl0IGlzIG9uLiBPdGhlcndpc2UgdGhlIGltYWdlIGNhbm5vdCBkZXRlY3QgdGhlIHpvb21cbiAgICAgKiB2YWxlLiBBcyBhbiBhbHRlcm5hdGl2ZSB5b3UgY2FuIGRpc2FibGUgaW1hZ2Ugb2JqZWN0Q2FjaGluZ1xuICAgICAqIEB0eXBlIGZhYnJpYy5JbWFnZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3ZlcmxheUltYWdlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdG9PYmplY3QvdG9EYXRhbGVzc09iamVjdCBzaG91bGQgaW5jbHVkZSBkZWZhdWx0IHZhbHVlc1xuICAgICAqIGlmIHNldCB0byBmYWxzZSwgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoZSBvYmplY3QgdmFsdWUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaW5jbHVkZURlZmF1bHRWYWx1ZXM6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvYmplY3RzJyBzdGF0ZSBzaG91bGQgYmUgc2F2ZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdGF0ZWZ1bDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB7QGxpbmsgZmFicmljLkNvbGxlY3Rpb24uYWRkfSwge0BsaW5rIGZhYnJpYy5Db2xsZWN0aW9uLmluc2VydEF0fSBhbmQge0BsaW5rIGZhYnJpYy5Db2xsZWN0aW9uLnJlbW92ZX0sXG4gICAgICoge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMubW92ZVRvfSwge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMuY2xlYXJ9IGFuZCBtYW55IG1vcmUsIHNob3VsZCBhbHNvIHJlLXJlbmRlciBjYW52YXMuXG4gICAgICogRGlzYWJsaW5nIHRoaXMgb3B0aW9uIHdpbGwgbm90IGdpdmUgYSBwZXJmb3JtYW5jZSBib29zdCB3aGVuIGFkZGluZy9yZW1vdmluZyBhIGxvdCBvZiBvYmplY3RzIHRvL2Zyb20gY2FudmFzIGF0IG9uY2VcbiAgICAgKiBzaW5jZSB0aGUgcmVuZGVycyBhcmUgcXVlcXVlZCBhbmQgZXhlY3V0ZWQgb25lIHBlciBmcmFtZS5cbiAgICAgKiBEaXNhYmxpbmcgaXMgc3VnZ2VzdGVkIGFueXdheSBhbmQgbWFuYWdpbmcgdGhlIHJlbmRlcnMgb2YgdGhlIGFwcCBtYW51YWxseSBpcyBub3QgYSBiaWcgZWZmb3J0ICggY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKSApXG4gICAgICogTGVmdCBkZWZhdWx0IHRvIHRydWUgdG8gZG8gbm90IGJyZWFrIGRvY3VtZW50YXRpb24gYW5kIG9sZCBhcHAsIGZpZGRsZXMuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcmVuZGVyT25BZGRSZW1vdmU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvYmplY3QgY29udHJvbHMgKGJvcmRlcnMvY29udHJvbHMpIGFyZSByZW5kZXJlZCBhYm92ZSBvdmVybGF5IGltYWdlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29udHJvbHNBYm92ZU92ZXJsYXk6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGJyb3dzZXIgY2FuIGJlIHNjcm9sbGVkIHdoZW4gdXNpbmcgYSB0b3VjaHNjcmVlbiBhbmQgZHJhZ2dpbmcgb24gdGhlIGNhbnZhc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFsbG93VG91Y2hTY3JvbGxpbmc6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBjYW52YXMgd2lsbCB1c2UgaW1hZ2Ugc21vb3RoaW5nLCB0aGlzIGlzIG9uIGJ5IGRlZmF1bHQgaW4gYnJvd3NlcnNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpbWFnZVNtb290aGluZ0VuYWJsZWQ6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtYXRpb24gKGEgQ2FudmFzIDJEIEFQSSB0cmFuc2Zvcm0gbWF0cml4KSB3aGljaCBmb2N1c2VzIHRoZSB2aWV3cG9ydFxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+RGVmYXVsdCB0cmFuc2Zvcm08L2NhcHRpb24+XG4gICAgICogY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtID0gWzEsIDAsIDAsIDEsIDAsIDBdO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlNjYWxlIGJ5IDcwJSBhbmQgdHJhbnNsYXRlIHRvd2FyZCBib3R0b20tcmlnaHQgYnkgNTAsIHdpdGhvdXQgc2tld2luZzwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMudmlld3BvcnRUcmFuc2Zvcm0gPSBbMC43LCAwLCAwLCAwLjcsIDUwLCA1MF07XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB2aWV3cG9ydFRyYW5zZm9ybTogZmFicmljLmlNYXRyaXguY29uY2F0KCksXG5cbiAgICAvKipcbiAgICAgKiBpZiBzZXQgdG8gZmFsc2UgYmFja2dyb3VuZCBpbWFnZSBpcyBub3QgYWZmZWN0ZWQgYnkgdmlld3BvcnQgdHJhbnNmb3JtXG4gICAgICogQHNpbmNlIDEuNi4zXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYmFja2dyb3VuZFZwdDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIGlmIHNldCB0byBmYWxzZSBvdmVybHlhIGltYWdlIGlzIG5vdCBhZmZlY3RlZCBieSB2aWV3cG9ydCB0cmFuc2Zvcm1cbiAgICAgKiBAc2luY2UgMS42LjNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvdmVybGF5VnB0OiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBjYW52YXMgaXMgc2NhbGVkIGJ5IGRldmljZVBpeGVsUmF0aW8gZm9yIGJldHRlciByZW5kZXJpbmcgb24gcmV0aW5hIHNjcmVlbnNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBlbmFibGVSZXRpbmFTY2FsaW5nOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmUgY2FudmFzIGVsZW1lbnQgZXh0ZW5zaW9uIG92ZXIgZGVzaWduXG4gICAgICogcHJvcGVydGllcyBhcmUgdGwsdHIsYmwsYnIuXG4gICAgICogaWYgY2FudmFzIGlzIG5vdCB6b29tZWQvcGFubmVkIHRob3NlIHBvaW50cyBhcmUgdGhlIGZvdXIgY29ybmVyIG9mIGNhbnZhc1xuICAgICAqIGlmIGNhbnZhcyBpcyB2aWV3cG9ydFRyYW5zZm9ybWVkIHlvdSB0aG9zZSBwb2ludHMgaW5kaWNhdGUgdGhlIGV4dGVuc2lvblxuICAgICAqIG9mIGNhbnZhcyBlbGVtZW50IGluIHBsYWluIHVudHJhc2Zvcm1lZCBjb29yZGluYXRlc1xuICAgICAqIFRoZSBjb29yZGluYXRlcyBnZXQgdXBkYXRlZCB3aXRoIEBtZXRob2QgY2FsY1ZpZXdwb3J0Qm91bmRhcmllcy5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGVcbiAgICAgKi9cbiAgICB2cHRDb29yZHM6IHsgfSxcblxuICAgIC8qKlxuICAgICAqIEJhc2VkIG9uIHZwdENvb3JkcyBhbmQgb2JqZWN0LmFDb29yZHMsIHNraXAgcmVuZGVyaW5nIG9mIG9iamVjdHMgdGhhdFxuICAgICAqIGFyZSBub3QgaW5jbHVkZWQgaW4gY3VycmVudCB2aWV3cG9ydC5cbiAgICAgKiBNYXkgZ3JlYXRseSBoZWxwIGluIGFwcGxpY2F0aW9ucyB3aXRoIGNyb3dkZWQgY2FudmFzIGFuZCB1c2Ugb2Ygem9vbS9wYW5cbiAgICAgKiBJZiBPbmUgb2YgdGhlIGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSBvYmplY3QgaXMgb24gdGhlIGNhbnZhc1xuICAgICAqIHRoZSBvYmplY3RzIGdldCByZW5kZXJlZC5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2lwT2Zmc2NyZWVuOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogYSBmYWJyaWNPYmplY3QgdGhhdCwgd2l0aG91dCBzdHJva2UgZGVmaW5lIGEgY2xpcHBpbmcgYXJlYSB3aXRoIHRoZWlyIHNoYXBlLiBmaWxsZWQgaW4gYmxhY2tcbiAgICAgKiB0aGUgY2xpcFBhdGggb2JqZWN0IGdldHMgdXNlZCB3aGVuIHRoZSBjYW52YXMgaGFzIHJlbmRlcmVkLCBhbmQgdGhlIGNvbnRleHQgaXMgcGxhY2VkIGluIHRoZVxuICAgICAqIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgY2FudmFzLlxuICAgICAqIGNsaXBQYXRoIHdpbGwgY2xpcCBhd2F5IGNvbnRyb2xzLCBpZiB5b3UgZG8gbm90IHdhbnQgdGhpcyB0byBoYXBwZW4gdXNlIGNvbnRyb2xzQWJvdmVPdmVybGF5ID0gdHJ1ZVxuICAgICAqIEB0eXBlIGZhYnJpYy5PYmplY3RcbiAgICAgKi9cbiAgICBjbGlwUGF0aDogdW5kZWZpbmVkLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU3RyaW5nfSBlbCAmbHQ7Y2FudmFzPiBlbGVtZW50IHRvIGluaXRpYWxpemUgaW5zdGFuY2Ugb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgX2luaXRTdGF0aWM6IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgICB2YXIgY2IgPSB0aGlzLnJlcXVlc3RSZW5kZXJBbGxCb3VuZDtcbiAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICAgIHRoaXMuX2NyZWF0ZUxvd2VyQ2FudmFzKGVsKTtcbiAgICAgIHRoaXMuX2luaXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgLy8gb25seSBpbml0aWFsaXplIHJldGluYSBzY2FsaW5nIG9uY2VcbiAgICAgIGlmICghdGhpcy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICB0aGlzLl9pbml0UmV0aW5hU2NhbGluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5vdmVybGF5SW1hZ2UpIHtcbiAgICAgICAgdGhpcy5zZXRPdmVybGF5SW1hZ2Uob3B0aW9ucy5vdmVybGF5SW1hZ2UsIGNiKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRJbWFnZShvcHRpb25zLmJhY2tncm91bmRJbWFnZSwgY2IpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yLCBjYik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5vdmVybGF5Q29sb3IpIHtcbiAgICAgICAgdGhpcy5zZXRPdmVybGF5Q29sb3Iob3B0aW9ucy5vdmVybGF5Q29sb3IsIGNiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1JldGluYVNjYWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIChmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgJiYgdGhpcy5lbmFibGVSZXRpbmFTY2FsaW5nKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHJldGluYVNjYWxpbmcgaWYgYXBwbGllZCwgb3RoZXJ3aXNlIDE7XG4gICAgICovXG4gICAgZ2V0UmV0aW5hU2NhbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXNSZXRpbmFTY2FsaW5nKCkgPyBNYXRoLm1heCgxLCBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbykgOiAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0UmV0aW5hU2NhbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzUmV0aW5hU2NhbGluZygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBzY2FsZVJhdGlvID0gZmFicmljLmRldmljZVBpeGVsUmF0aW87XG4gICAgICB0aGlzLl9faW5pdFJldGluYVNjYWxpbmcoc2NhbGVSYXRpbywgdGhpcy5sb3dlckNhbnZhc0VsLCB0aGlzLmNvbnRleHRDb250YWluZXIpO1xuICAgICAgaWYgKHRoaXMudXBwZXJDYW52YXNFbCkge1xuICAgICAgICB0aGlzLl9faW5pdFJldGluYVNjYWxpbmcoc2NhbGVSYXRpbywgdGhpcy51cHBlckNhbnZhc0VsLCB0aGlzLmNvbnRleHRUb3ApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfX2luaXRSZXRpbmFTY2FsaW5nOiBmdW5jdGlvbihzY2FsZVJhdGlvLCBjYW52YXMsIGNvbnRleHQpIHtcbiAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy53aWR0aCAqIHNjYWxlUmF0aW8pO1xuICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5oZWlnaHQgKiBzY2FsZVJhdGlvKTtcbiAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGVSYXRpbywgc2NhbGVSYXRpbyk7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBjYW52YXMgZWxlbWVudCBvZmZzZXQgcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50XG4gICAgICogVGhpcyBtZXRob2QgaXMgYWxzbyBhdHRhY2hlZCBhcyBcInJlc2l6ZVwiIGV2ZW50IGhhbmRsZXIgb2Ygd2luZG93XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2FsY09mZnNldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5fb2Zmc2V0ID0gZ2V0RWxlbWVudE9mZnNldCh0aGlzLmxvd2VyQ2FudmFzRWwpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjb3ZlcmxheUltYWdlfG92ZXJsYXkgaW1hZ2V9IGZvciB0aGlzIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7KGZhYnJpYy5JbWFnZXxTdHJpbmcpfSBpbWFnZSBmYWJyaWMuSW1hZ2UgaW5zdGFuY2Ugb3IgVVJMIG9mIGFuIGltYWdlIHRvIHNldCBvdmVybGF5IHRvXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gaW1hZ2UgaXMgbG9hZGVkIGFuZCBzZXQgYXMgYW4gb3ZlcmxheVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBzZXQgZm9yIHRoZSB7QGxpbmsgZmFicmljLkltYWdlfG92ZXJsYXkgaW1hZ2V9LlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9NbnpIVC98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgb3ZlcmxheUltYWdlIHdpdGggbGVmdC90b3AgPSAwPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRPdmVybGF5SW1hZ2UoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2phaWxfY2VsbF9iYXJzLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICAvLyBOZWVkZWQgdG8gcG9zaXRpb24gb3ZlcmxheUltYWdlIGF0IDAvMFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5vdmVybGF5SW1hZ2Ugd2l0aCBkaWZmZXJlbnQgcHJvcGVydGllczwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgb3BhY2l0eTogMC41LFxuICAgICAqICAgYW5nbGU6IDQ1LFxuICAgICAqICAgbGVmdDogNDAwLFxuICAgICAqICAgdG9wOiA0MDAsXG4gICAgICogICBvcmlnaW5YOiAnbGVmdCcsXG4gICAgICogICBvcmlnaW5ZOiAndG9wJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlN0cmV0Y2hlZCBvdmVybGF5SW1hZ2UgIzEgLSB3aWR0aC9oZWlnaHQgY29ycmVzcG9uZCB0byBjYW52YXMgd2lkdGgvaGVpZ2h0PC9jYXB0aW9uPlxuICAgICAqIGZhYnJpYy5JbWFnZS5mcm9tVVJMKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBmdW5jdGlvbihpbWcsIGlzRXJyb3IpIHtcbiAgICAgKiAgICBpbWcuc2V0KHt3aWR0aDogY2FudmFzLndpZHRoLCBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQsIG9yaWdpblg6ICdsZWZ0Jywgb3JpZ2luWTogJ3RvcCd9KTtcbiAgICAgKiAgICBjYW52YXMuc2V0T3ZlcmxheUltYWdlKGltZywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlN0cmV0Y2hlZCBvdmVybGF5SW1hZ2UgIzIgLSB3aWR0aC9oZWlnaHQgY29ycmVzcG9uZCB0byBjYW52YXMgd2lkdGgvaGVpZ2h0PC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRPdmVybGF5SW1hZ2UoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2phaWxfY2VsbF9iYXJzLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAqICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAqICAgLy8gTmVlZGVkIHRvIHBvc2l0aW9uIG92ZXJsYXlJbWFnZSBhdCAwLzBcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+b3ZlcmxheUltYWdlIGxvYWRlZCBmcm9tIGNyb3NzLW9yaWdpbjwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgb3BhY2l0eTogMC41LFxuICAgICAqICAgYW5nbGU6IDQ1LFxuICAgICAqICAgbGVmdDogNDAwLFxuICAgICAqICAgdG9wOiA0MDAsXG4gICAgICogICBvcmlnaW5YOiAnbGVmdCcsXG4gICAgICogICBvcmlnaW5ZOiAndG9wJyxcbiAgICAgKiAgIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJ1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHNldE92ZXJsYXlJbWFnZTogZnVuY3Rpb24gKGltYWdlLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX19zZXRCZ092ZXJsYXlJbWFnZSgnb3ZlcmxheUltYWdlJywgaW1hZ2UsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNiYWNrZ3JvdW5kSW1hZ2V8YmFja2dyb3VuZCBpbWFnZX0gZm9yIHRoaXMgY2FudmFzXG4gICAgICogQHBhcmFtIHsoZmFicmljLkltYWdlfFN0cmluZyl9IGltYWdlIGZhYnJpYy5JbWFnZSBpbnN0YW5jZSBvciBVUkwgb2YgYW4gaW1hZ2UgdG8gc2V0IGJhY2tncm91bmQgdG9cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBpbWFnZSBpcyBsb2FkZWQgYW5kIHNldCBhcyBiYWNrZ3JvdW5kXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIHNldCBmb3IgdGhlIHtAbGluayBmYWJyaWMuSW1hZ2V8YmFja2dyb3VuZCBpbWFnZX0uXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2RqbnI4bzdhLzI4L3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPk5vcm1hbCBiYWNrZ3JvdW5kSW1hZ2Ugd2l0aCBsZWZ0L3RvcCA9IDA8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICAvLyBOZWVkZWQgdG8gcG9zaXRpb24gYmFja2dyb3VuZEltYWdlIGF0IDAvMFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5iYWNrZ3JvdW5kSW1hZ2Ugd2l0aCBkaWZmZXJlbnQgcHJvcGVydGllczwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZEltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9ob25leV9pbV9zdWJ0bGUucG5nJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIHtcbiAgICAgKiAgIG9wYWNpdHk6IDAuNSxcbiAgICAgKiAgIGFuZ2xlOiA0NSxcbiAgICAgKiAgIGxlZnQ6IDQwMCxcbiAgICAgKiAgIHRvcDogNDAwLFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TdHJldGNoZWQgYmFja2dyb3VuZEltYWdlICMxIC0gd2lkdGgvaGVpZ2h0IGNvcnJlc3BvbmQgdG8gY2FudmFzIHdpZHRoL2hlaWdodDwvY2FwdGlvbj5cbiAgICAgKiBmYWJyaWMuSW1hZ2UuZnJvbVVSTCgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGZ1bmN0aW9uKGltZywgaXNFcnJvcikge1xuICAgICAqICAgIGltZy5zZXQoe3dpZHRoOiBjYW52YXMud2lkdGgsIGhlaWdodDogY2FudmFzLmhlaWdodCwgb3JpZ2luWDogJ2xlZnQnLCBvcmlnaW5ZOiAndG9wJ30pO1xuICAgICAqICAgIGNhbnZhcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoaW1nLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U3RyZXRjaGVkIGJhY2tncm91bmRJbWFnZSAjMiAtIHdpZHRoL2hlaWdodCBjb3JyZXNwb25kIHRvIGNhbnZhcyB3aWR0aC9oZWlnaHQ8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAqICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAqICAgLy8gTmVlZGVkIHRvIHBvc2l0aW9uIGJhY2tncm91bmRJbWFnZSBhdCAwLzBcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+YmFja2dyb3VuZEltYWdlIGxvYWRlZCBmcm9tIGNyb3NzLW9yaWdpbjwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZEltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9ob25leV9pbV9zdWJ0bGUucG5nJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIHtcbiAgICAgKiAgIG9wYWNpdHk6IDAuNSxcbiAgICAgKiAgIGFuZ2xlOiA0NSxcbiAgICAgKiAgIGxlZnQ6IDQwMCxcbiAgICAgKiAgIHRvcDogNDAwLFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCcsXG4gICAgICogICBjcm9zc09yaWdpbjogJ2Fub255bW91cydcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICAvLyBUT0RPOiBmaXggc3RyZXRjaGVkIGV4YW1wbGVzXG4gICAgc2V0QmFja2dyb3VuZEltYWdlOiBmdW5jdGlvbiAoaW1hZ2UsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3NldEJnT3ZlcmxheUltYWdlKCdiYWNrZ3JvdW5kSW1hZ2UnLCBpbWFnZSwgY2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI292ZXJsYXlDb2xvcnxmb3JlZ3JvdW5kIGNvbG9yfSBmb3IgdGhpcyBjYW52YXNcbiAgICAgKiBAcGFyYW0geyhTdHJpbmd8ZmFicmljLlBhdHRlcm4pfSBvdmVybGF5Q29sb3IgQ29sb3Igb3IgcGF0dGVybiB0byBzZXQgZm9yZWdyb3VuZCBjb2xvciB0b1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGZvcmVncm91bmQgY29sb3IgaXMgc2V0XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL3BCNTVoL3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPk5vcm1hbCBvdmVybGF5Q29sb3IgLSBjb2xvciB2YWx1ZTwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUNvbG9yKCdyZ2JhKDI1NSwgNzMsIDY0LCAwLjYpJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmZhYnJpYy5QYXR0ZXJuIHVzZWQgYXMgb3ZlcmxheUNvbG9yPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRPdmVybGF5Q29sb3Ioe1xuICAgICAqICAgc291cmNlOiAnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvZXNjaGVyZXNxdWVfc3RlLnBuZydcbiAgICAgKiB9LCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+ZmFicmljLlBhdHRlcm4gdXNlZCBhcyBvdmVybGF5Q29sb3Igd2l0aCByZXBlYXQgYW5kIG9mZnNldDwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUNvbG9yKHtcbiAgICAgKiAgIHNvdXJjZTogJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2VzY2hlcmVzcXVlX3N0ZS5wbmcnLFxuICAgICAqICAgcmVwZWF0OiAncmVwZWF0JyxcbiAgICAgKiAgIG9mZnNldFg6IDIwMCxcbiAgICAgKiAgIG9mZnNldFk6IDEwMFxuICAgICAqIH0sIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKi9cbiAgICBzZXRPdmVybGF5Q29sb3I6IGZ1bmN0aW9uKG92ZXJsYXlDb2xvciwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc2V0QmdPdmVybGF5Q29sb3IoJ292ZXJsYXlDb2xvcicsIG92ZXJsYXlDb2xvciwgY2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI2JhY2tncm91bmRDb2xvcnxiYWNrZ3JvdW5kIGNvbG9yfSBmb3IgdGhpcyBjYW52YXNcbiAgICAgKiBAcGFyYW0geyhTdHJpbmd8ZmFicmljLlBhdHRlcm4pfSBiYWNrZ3JvdW5kQ29sb3IgQ29sb3Igb3IgcGF0dGVybiB0byBzZXQgYmFja2dyb3VuZCBjb2xvciB0b1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGJhY2tncm91bmQgY29sb3IgaXMgc2V0XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL2hYenZrL3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPk5vcm1hbCBiYWNrZ3JvdW5kQ29sb3IgLSBjb2xvciB2YWx1ZTwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDI1NSwgNzMsIDY0LCAwLjYpJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmZhYnJpYy5QYXR0ZXJuIHVzZWQgYXMgYmFja2dyb3VuZENvbG9yPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRCYWNrZ3JvdW5kQ29sb3Ioe1xuICAgICAqICAgc291cmNlOiAnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvZXNjaGVyZXNxdWVfc3RlLnBuZydcbiAgICAgKiB9LCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+ZmFicmljLlBhdHRlcm4gdXNlZCBhcyBiYWNrZ3JvdW5kQ29sb3Igd2l0aCByZXBlYXQgYW5kIG9mZnNldDwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZENvbG9yKHtcbiAgICAgKiAgIHNvdXJjZTogJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2VzY2hlcmVzcXVlX3N0ZS5wbmcnLFxuICAgICAqICAgcmVwZWF0OiAncmVwZWF0JyxcbiAgICAgKiAgIG9mZnNldFg6IDIwMCxcbiAgICAgKiAgIG9mZnNldFk6IDEwMFxuICAgICAqIH0sIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKi9cbiAgICBzZXRCYWNrZ3JvdW5kQ29sb3I6IGZ1bmN0aW9uKGJhY2tncm91bmRDb2xvciwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc2V0QmdPdmVybGF5Q29sb3IoJ2JhY2tncm91bmRDb2xvcicsIGJhY2tncm91bmRDb2xvciwgY2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBzZXQgKHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI2JhY2tncm91bmRJbWFnZXxiYWNrZ3JvdW5kSW1hZ2V9XG4gICAgICogb3Ige0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjb3ZlcmxheUltYWdlfG92ZXJsYXlJbWFnZX0pXG4gICAgICogQHBhcmFtIHsoZmFicmljLkltYWdlfFN0cmluZ3xudWxsKX0gaW1hZ2UgZmFicmljLkltYWdlIGluc3RhbmNlLCBVUkwgb2YgYW4gaW1hZ2Ugb3IgbnVsbCB0byBzZXQgYmFja2dyb3VuZCBvciBvdmVybGF5IHRvXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gaW1hZ2UgaXMgbG9hZGVkIGFuZCBzZXQgYXMgYmFja2dyb3VuZCBvciBvdmVybGF5LiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlIGNyZWF0ZWQgaW1hZ2UsIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgYSBmbGFnIGluZGljYXRpbmcgd2hldGhlciBhbiBlcnJvciBvY2N1cnJlZCBvciBub3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIHNldCBmb3IgdGhlIHtAbGluayBmYWJyaWMuSW1hZ2V8aW1hZ2V9LlxuICAgICAqL1xuICAgIF9fc2V0QmdPdmVybGF5SW1hZ2U6IGZ1bmN0aW9uKHByb3BlcnR5LCBpbWFnZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIGlmICh0eXBlb2YgaW1hZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZShpbWFnZSwgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICAgICAgaWYgKGltZykge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IGZhYnJpYy5JbWFnZShpbWcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIGluc3RhbmNlLmNhbnZhcyA9IHRoaXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGltZywgaXNFcnJvcik7XG4gICAgICAgIH0sIHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5jcm9zc09yaWdpbik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyAmJiBpbWFnZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IGltYWdlO1xuICAgICAgICBpbWFnZSAmJiAoaW1hZ2UuY2FudmFzID0gdGhpcyk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGltYWdlLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBzZXQgKHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI2JhY2tncm91bmRDb2xvcnxiYWNrZ3JvdW5kQ29sb3J9XG4gICAgICogb3Ige0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjb3ZlcmxheUNvbG9yfG92ZXJsYXlDb2xvcn0pXG4gICAgICogQHBhcmFtIHsoT2JqZWN0fFN0cmluZ3xudWxsKX0gY29sb3IgT2JqZWN0IHdpdGggcGF0dGVybiBpbmZvcm1hdGlvbiwgY29sb3IgdmFsdWUgb3IgbnVsbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgaXMgaW52b2tlZCB3aGVuIGNvbG9yIGlzIHNldFxuICAgICAqL1xuICAgIF9fc2V0QmdPdmVybGF5Q29sb3I6IGZ1bmN0aW9uKHByb3BlcnR5LCBjb2xvciwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXNbcHJvcGVydHldID0gY29sb3I7XG4gICAgICB0aGlzLl9pbml0R3JhZGllbnQoY29sb3IsIHByb3BlcnR5KTtcbiAgICAgIHRoaXMuX2luaXRQYXR0ZXJuKGNvbG9yLCBwcm9wZXJ0eSwgY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUNhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBjcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgQ0FOVkFTX0lOSVRfRVJST1I7XG4gICAgICB9XG4gICAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZSA9IHsgfTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5nZXRDb250ZXh0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBDQU5WQVNfSU5JVF9FUlJPUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBfaW5pdE9wdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICB2YXIgbG93ZXJDYW52YXNFbCA9IHRoaXMubG93ZXJDYW52YXNFbDtcbiAgICAgIHRoaXMuX3NldE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoIHx8IHBhcnNlSW50KGxvd2VyQ2FudmFzRWwud2lkdGgsIDEwKSB8fCAwO1xuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmhlaWdodCB8fCBwYXJzZUludChsb3dlckNhbnZhc0VsLmhlaWdodCwgMTApIHx8IDA7XG5cbiAgICAgIGlmICghdGhpcy5sb3dlckNhbnZhc0VsLnN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG93ZXJDYW52YXNFbC53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICBsb3dlckNhbnZhc0VsLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXG4gICAgICBsb3dlckNhbnZhc0VsLnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICBsb3dlckNhbnZhc0VsLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgdGhpcy52aWV3cG9ydFRyYW5zZm9ybSA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0uc2xpY2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJvdHRvbSBjYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtjYW52YXNFbF1cbiAgICAgKi9cbiAgICBfY3JlYXRlTG93ZXJDYW52YXM6IGZ1bmN0aW9uIChjYW52YXNFbCkge1xuICAgICAgLy8gY2FudmFzRWwgPT09ICdIVE1MQ2FudmFzRWxlbWVudCcgZG9lcyBub3Qgd29yayBvbiBqc2RvbS9ub2RlXG4gICAgICBpZiAoY2FudmFzRWwgJiYgY2FudmFzRWwuZ2V0Q29udGV4dCkge1xuICAgICAgICB0aGlzLmxvd2VyQ2FudmFzRWwgPSBjYW52YXNFbDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmxvd2VyQ2FudmFzRWwgPSBmYWJyaWMudXRpbC5nZXRCeUlkKGNhbnZhc0VsKSB8fCB0aGlzLl9jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB9XG5cbiAgICAgIGZhYnJpYy51dGlsLmFkZENsYXNzKHRoaXMubG93ZXJDYW52YXNFbCwgJ2xvd2VyLWNhbnZhcycpO1xuICAgICAgdGhpcy5fb3JpZ2luYWxDYW52YXNTdHlsZSA9IHRoaXMubG93ZXJDYW52YXNFbC5zdHlsZTtcbiAgICAgIGlmICh0aGlzLmludGVyYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuX2FwcGx5Q2FudmFzU3R5bGUodGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb250ZXh0Q29udGFpbmVyID0gdGhpcy5sb3dlckNhbnZhc0VsLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY2FudmFzIHdpZHRoIChpbiBweClcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0V2lkdGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNhbnZhcyBoZWlnaHQgKGluIHB4KVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aWR0aCBvZiB0aGlzIGNhbnZhcyBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gdmFsdWUgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWUgdG8gc2V0IHdpZHRoIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBbb3B0aW9uc10gICAgICAgICAgICAgICAgICAgICBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuYmFja3N0b3JlT25seT1mYWxzZV0gU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY2FudmFzIGJhY2tzdG9yZSBkaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5jc3NPbmx5PWZhbHNlXSAgICAgICBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjc3MgZGltZW5zaW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0V2lkdGg6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0RGltZW5zaW9ucyh7IHdpZHRoOiB2YWx1ZSB9LCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBoZWlnaHQgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlIHRvIHNldCBoZWlnaHQgdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgIFtvcHRpb25zXSAgICAgICAgICAgICAgICAgICAgIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5iYWNrc3RvcmVPbmx5PWZhbHNlXSBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjYW52YXMgYmFja3N0b3JlIGRpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgIFtvcHRpb25zLmNzc09ubHk9ZmFsc2VdICAgICAgIFNldCB0aGUgZ2l2ZW4gZGltZW5zaW9ucyBvbmx5IGFzIGNzcyBkaW1lbnNpb25zXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICBzZXRIZWlnaHQ6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0RGltZW5zaW9ucyh7IGhlaWdodDogdmFsdWUgfSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgZGltZW5zaW9ucyAod2lkdGgsIGhlaWdodCkgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2UuIHdoZW4gb3B0aW9ucy5jc3NPbmx5IGZsYWcgYWN0aXZlIHlvdSBzaG91bGQgYWxzbyBzdXBwbHkgdGhlIHVuaXQgb2YgbWVhc3VyZSAocHgvJS9lbSlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgIGRpbWVuc2lvbnMgICAgICAgICAgICAgICAgICAgIE9iamVjdCB3aXRoIHdpZHRoL2hlaWdodCBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbZGltZW5zaW9ucy53aWR0aF0gICAgICAgICAgICBXaWR0aCBvZiBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gW2RpbWVuc2lvbnMuaGVpZ2h0XSAgICAgICAgICAgSGVpZ2h0IG9mIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBbb3B0aW9uc10gICAgICAgICAgICAgICAgICAgICBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuYmFja3N0b3JlT25seT1mYWxzZV0gU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY2FudmFzIGJhY2tzdG9yZSBkaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5jc3NPbmx5PWZhbHNlXSAgICAgICBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjc3MgZGltZW5zaW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0RGltZW5zaW9uczogZnVuY3Rpb24gKGRpbWVuc2lvbnMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjc3NWYWx1ZTtcblxuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgIGZvciAodmFyIHByb3AgaW4gZGltZW5zaW9ucykge1xuICAgICAgICBjc3NWYWx1ZSA9IGRpbWVuc2lvbnNbcHJvcF07XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLmNzc09ubHkpIHtcbiAgICAgICAgICB0aGlzLl9zZXRCYWNrc3RvcmVEaW1lbnNpb24ocHJvcCwgZGltZW5zaW9uc1twcm9wXSk7XG4gICAgICAgICAgY3NzVmFsdWUgKz0gJ3B4JztcbiAgICAgICAgICB0aGlzLmhhc0xvc3RDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5iYWNrc3RvcmVPbmx5KSB7XG4gICAgICAgICAgdGhpcy5fc2V0Q3NzRGltZW5zaW9uKHByb3AsIGNzc1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5RHJhd2luZykge1xuICAgICAgICB0aGlzLmZyZWVEcmF3aW5nQnJ1c2ggJiYgdGhpcy5mcmVlRHJhd2luZ0JydXNoLl9zZXRCcnVzaFN0eWxlcyh0aGlzLmNvbnRleHRUb3ApO1xuICAgICAgfVxuICAgICAgdGhpcy5faW5pdFJldGluYVNjYWxpbmcoKTtcbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuXG4gICAgICBpZiAoIW9wdGlvbnMuY3NzT25seSkge1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmb3Igc2V0dGluZyB3aWR0aC9oZWlnaHRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIHByb3BlcnR5ICh3aWR0aHxoZWlnaHQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIHZhbHVlIHRvIHNldCBwcm9wZXJ0eSB0b1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgX3NldEJhY2tzdG9yZURpbWVuc2lvbjogZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgICB0aGlzLmxvd2VyQ2FudmFzRWxbcHJvcF0gPSB2YWx1ZTtcblxuICAgICAgaWYgKHRoaXMudXBwZXJDYW52YXNFbCkge1xuICAgICAgICB0aGlzLnVwcGVyQ2FudmFzRWxbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2FjaGVDYW52YXNFbCkge1xuICAgICAgICB0aGlzLmNhY2hlQ2FudmFzRWxbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpc1twcm9wXSA9IHZhbHVlO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZvciBzZXR0aW5nIGNzcyB3aWR0aC9oZWlnaHRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIHByb3BlcnR5ICh3aWR0aHxoZWlnaHQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIHZhbHVlIHRvIHNldCBwcm9wZXJ0eSB0b1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgX3NldENzc0RpbWVuc2lvbjogZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgICB0aGlzLmxvd2VyQ2FudmFzRWwuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcblxuICAgICAgaWYgKHRoaXMudXBwZXJDYW52YXNFbCkge1xuICAgICAgICB0aGlzLnVwcGVyQ2FudmFzRWwuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMud3JhcHBlckVsKSB7XG4gICAgICAgIHRoaXMud3JhcHBlckVsLnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNhbnZhcyB6b29tIGxldmVsXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFpvb206IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtWzBdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHZpZXdwb3J0IHRyYW5zZm9ybWF0aW9uIG9mIHRoaXMgY2FudmFzIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdnB0IGEgQ2FudmFzIDJEIEFQSSB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICBzZXRWaWV3cG9ydFRyYW5zZm9ybTogZnVuY3Rpb24gKHZwdCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdCA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBiYWNrZ3JvdW5kT2JqZWN0ID0gdGhpcy5iYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgICAgb3ZlcmxheU9iamVjdCA9IHRoaXMub3ZlcmxheUltYWdlLFxuICAgICAgICAgIG9iamVjdCwgaSwgbGVuO1xuICAgICAgdGhpcy52aWV3cG9ydFRyYW5zZm9ybSA9IHZwdDtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgb2JqZWN0ID0gdGhpcy5fb2JqZWN0c1tpXTtcbiAgICAgICAgb2JqZWN0Lmdyb3VwIHx8IG9iamVjdC5zZXRDb29yZHModHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIGFjdGl2ZU9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChiYWNrZ3JvdW5kT2JqZWN0KSB7XG4gICAgICAgIGJhY2tncm91bmRPYmplY3Quc2V0Q29vcmRzKHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKG92ZXJsYXlPYmplY3QpIHtcbiAgICAgICAgb3ZlcmxheU9iamVjdC5zZXRDb29yZHModHJ1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGNWaWV3cG9ydEJvdW5kYXJpZXMoKTtcbiAgICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB6b29tIGxldmVsIG9mIHRoaXMgY2FudmFzIGluc3RhbmNlLCB0aGUgem9vbSBjZW50ZXJlZCBhcm91bmQgcG9pbnRcbiAgICAgKiBtZWFuaW5nIHRoYXQgZm9sbG93aW5nIHpvb20gdG8gcG9pbnQgd2l0aCB0aGUgc2FtZSBwb2ludCB3aWxsIGhhdmUgdGhlIHZpc3VhbFxuICAgICAqIGVmZmVjdCBvZiB0aGUgem9vbSBvcmlnaW5hdGluZyBmcm9tIHRoYXQgcG9pbnQuIFRoZSBwb2ludCB3b24ndCBtb3ZlLlxuICAgICAqIEl0IGhhcyBub3RoaW5nIHRvIGRvIHdpdGggY2FudmFzIGNlbnRlciBvciB2aXN1YWwgY2VudGVyIG9mIHRoZSB2aWV3cG9ydC5cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgdG8gem9vbSB3aXRoIHJlc3BlY3QgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgdG8gc2V0IHpvb20gdG8sIGxlc3MgdGhhbiAxIHpvb21zIG91dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgem9vbVRvUG9pbnQ6IGZ1bmN0aW9uIChwb2ludCwgdmFsdWUpIHtcbiAgICAgIC8vIFRPRE86IGp1c3QgY2hhbmdlIHRoZSBzY2FsZSwgcHJlc2VydmUgb3RoZXIgdHJhbnNmb3JtYXRpb25zXG4gICAgICB2YXIgYmVmb3JlID0gcG9pbnQsIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0uc2xpY2UoMCk7XG4gICAgICBwb2ludCA9IHRyYW5zZm9ybVBvaW50KHBvaW50LCBpbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSkpO1xuICAgICAgdnB0WzBdID0gdmFsdWU7XG4gICAgICB2cHRbM10gPSB2YWx1ZTtcbiAgICAgIHZhciBhZnRlciA9IHRyYW5zZm9ybVBvaW50KHBvaW50LCB2cHQpO1xuICAgICAgdnB0WzRdICs9IGJlZm9yZS54IC0gYWZ0ZXIueDtcbiAgICAgIHZwdFs1XSArPSBiZWZvcmUueSAtIGFmdGVyLnk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRWaWV3cG9ydFRyYW5zZm9ybSh2cHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHpvb20gbGV2ZWwgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgdG8gc2V0IHpvb20gdG8sIGxlc3MgdGhhbiAxIHpvb21zIG91dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0Wm9vbTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aGlzLnpvb21Ub1BvaW50KG5ldyBmYWJyaWMuUG9pbnQoMCwgMCksIHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYW4gdmlld3BvcnQgc28gYXMgdG8gcGxhY2UgcG9pbnQgYXQgdG9wIGxlZnQgY29ybmVyIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICBhYnNvbHV0ZVBhbjogZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICB2YXIgdnB0ID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybS5zbGljZSgwKTtcbiAgICAgIHZwdFs0XSA9IC1wb2ludC54O1xuICAgICAgdnB0WzVdID0gLXBvaW50Lnk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRWaWV3cG9ydFRyYW5zZm9ybSh2cHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYW5zIHZpZXdwb2ludCByZWxhdGl2ZWx5XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IChwb3NpdGlvbiB2ZWN0b3IpIHRvIG1vdmUgYnlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIHJlbGF0aXZlUGFuOiBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFic29sdXRlUGFuKG5ldyBmYWJyaWMuUG9pbnQoXG4gICAgICAgIC1wb2ludC54IC0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybVs0XSxcbiAgICAgICAgLXBvaW50LnkgLSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtWzVdXG4gICAgICApKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAmbHQ7Y2FudmFzPiBlbGVtZW50IGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvd2VyQ2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIGFkZGVkXG4gICAgICovXG4gICAgX29uT2JqZWN0QWRkZWQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgdGhpcy5zdGF0ZWZ1bCAmJiBvYmouc2V0dXBTdGF0ZSgpO1xuICAgICAgb2JqLl9zZXQoJ2NhbnZhcycsIHRoaXMpO1xuICAgICAgb2JqLnNldENvb3JkcygpO1xuICAgICAgdGhpcy5maXJlKCdvYmplY3Q6YWRkZWQnLCB7IHRhcmdldDogb2JqIH0pO1xuICAgICAgb2JqLmZpcmUoJ2FkZGVkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBfb25PYmplY3RSZW1vdmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHRoaXMuZmlyZSgnb2JqZWN0OnJlbW92ZWQnLCB7IHRhcmdldDogb2JqIH0pO1xuICAgICAgb2JqLmZpcmUoJ3JlbW92ZWQnKTtcbiAgICAgIGRlbGV0ZSBvYmouY2FudmFzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgc3BlY2lmaWVkIGNvbnRleHQgb2YgY2FudmFzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gY2xlYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNsZWFyQ29udGV4dDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRleHQgb2YgY2FudmFzIHdoZXJlIG9iamVjdHMgYXJlIGRyYXduXG4gICAgICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHRDb250YWluZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgY29udGV4dHMgKGJhY2tncm91bmQsIG1haW4sIHRvcCkgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnJlbW92ZS5hcHBseSh0aGlzLCB0aGlzLmdldE9iamVjdHMoKSk7XG4gICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IG51bGw7XG4gICAgICB0aGlzLm92ZXJsYXlJbWFnZSA9IG51bGw7XG4gICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAgICAgdGhpcy5vdmVybGF5Q29sb3IgPSAnJztcbiAgICAgIGlmICh0aGlzLl9oYXNJVGV4dEhhbmRsZXJzKSB7XG4gICAgICAgIHRoaXMub2ZmKCdtb3VzZTp1cCcsIHRoaXMuX21vdXNlVXBJVGV4dEhhbmRsZXIpO1xuICAgICAgICB0aGlzLl9pVGV4dEluc3RhbmNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hhc0lUZXh0SGFuZGxlcnMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KHRoaXMuY29udGV4dENvbnRhaW5lcik7XG4gICAgICB0aGlzLmZpcmUoJ2NhbnZhczpjbGVhcmVkJyk7XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNhbnZhc1RvRHJhd09uID0gdGhpcy5jb250ZXh0Q29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoY2FudmFzVG9EcmF3T24sIHRoaXMuX29iamVjdHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNyZWF0ZWQgdG8gYmUgaW5zdGFuY2UgYm91bmQgYXQgaW5pdGlhbGl6YXRpb25cbiAgICAgKiB1c2VkIGluIHJlcXVlc3RBbmltYXRpb25GcmFtZSByZW5kZXJpbmdcbiAgICAgKiBMZXQgdGhlIGZhYnJpY0pTIGNhbGwgaXQuIElmIHlvdSBjYWxsIGl0IG1hbnVhbGx5IHlvdSBjb3VsZCBoYXZlIG1vcmVcbiAgICAgKiBhbmltYXRpb25GcmFtZSBzdGFja2luZyBvbiB0byBvZiBlYWNoIG90aGVyXG4gICAgICogZm9yIGFuIGltcGVyYXRpdmUgcmVuZGVyaW5nLCB1c2UgY2FudmFzLnJlbmRlckFsbFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgcmVuZGVyQW5kUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc1JlbmRlcmluZyA9IDA7XG4gICAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgYSByZW5kZXJBbGwgcmVxdWVzdCB0byBuZXh0IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiB1bmxlc3Mgb25lIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIGluIHRoYXQgY2FzZSBub3RoaW5nIGlzIGRvbmVcbiAgICAgKiBhIGJvb2xlYW4gZmxhZyB3aWxsIGF2b2lkIGFwcGVuZGluZyBtb3JlLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlcXVlc3RSZW5kZXJBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5pc1JlbmRlcmluZykge1xuICAgICAgICB0aGlzLmlzUmVuZGVyaW5nID0gZmFicmljLnV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLnJlbmRlckFuZFJlc2V0Qm91bmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIDQgY29ybmVyIG9mIGNhbnZhcyB3aXRoIGN1cnJlbnQgdmlld3BvcnRUcmFuc2Zvcm0uXG4gICAgICogaGVscHMgdG8gZGV0ZXJtaW5hdGUgd2hlbiBhbiBvYmplY3QgaXMgaW4gdGhlIGN1cnJlbnQgcmVuZGVyaW5nIHZpZXdwb3J0IHVzaW5nXG4gICAgICogb2JqZWN0IGFic29sdXRlIGNvb3JkaW5hdGVzICggYUNvb3JkcyApXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwb2ludHMudGxcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2FsY1ZpZXdwb3J0Qm91bmRhcmllczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcG9pbnRzID0geyB9LCB3aWR0aCA9IHRoaXMud2lkdGgsIGhlaWdodCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIGlWcHQgPSBpbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSk7XG4gICAgICBwb2ludHMudGwgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IDAsIHk6IDAgfSwgaVZwdCk7XG4gICAgICBwb2ludHMuYnIgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IHdpZHRoLCB5OiBoZWlnaHQgfSwgaVZwdCk7XG4gICAgICBwb2ludHMudHIgPSBuZXcgZmFicmljLlBvaW50KHBvaW50cy5ici54LCBwb2ludHMudGwueSk7XG4gICAgICBwb2ludHMuYmwgPSBuZXcgZmFicmljLlBvaW50KHBvaW50cy50bC54LCBwb2ludHMuYnIueSk7XG4gICAgICB0aGlzLnZwdENvb3JkcyA9IHBvaW50cztcbiAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfSxcblxuICAgIGNhbmNlbFJlcXVlc3RlZFJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc1JlbmRlcmluZykge1xuICAgICAgICBmYWJyaWMudXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5pc1JlbmRlcmluZyk7XG4gICAgICAgIHRoaXMuaXNSZW5kZXJpbmcgPSAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGJhY2tncm91bmQsIG9iamVjdHMsIG92ZXJsYXkgYW5kIGNvbnRyb2xzLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckNhbnZhczogZnVuY3Rpb24oY3R4LCBvYmplY3RzKSB7XG4gICAgICB2YXIgdiA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0sIHBhdGggPSB0aGlzLmNsaXBQYXRoO1xuICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0ZWRSZW5kZXIoKTtcbiAgICAgIHRoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHQoY3R4KTtcbiAgICAgIGZhYnJpYy51dGlsLnNldEltYWdlU21vb3RoaW5nKGN0eCwgdGhpcy5pbWFnZVNtb290aGluZ0VuYWJsZWQpO1xuICAgICAgdGhpcy5maXJlKCdiZWZvcmU6cmVuZGVyJywgeyBjdHg6IGN0eCwgfSk7XG4gICAgICB0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKGN0eCk7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAvL2FwcGx5IHZpZXdwb3J0IHRyYW5zZm9ybSBvbmNlIGZvciBhbGwgcmVuZGVyaW5nIHByb2Nlc3NcbiAgICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gICAgICB0aGlzLl9yZW5kZXJPYmplY3RzKGN0eCwgb2JqZWN0cyk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgaWYgKCF0aGlzLmNvbnRyb2xzQWJvdmVPdmVybGF5ICYmIHRoaXMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5kcmF3Q29udHJvbHMoY3R4KTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIHBhdGguY2FudmFzID0gdGhpcztcbiAgICAgICAgLy8gbmVlZGVkIHRvIHNldHVwIGEgY291cGxlIG9mIHZhcmlhYmxlc1xuICAgICAgICBwYXRoLnNob3VsZENhY2hlKCk7XG4gICAgICAgIHBhdGguX3RyYW5zZm9ybURvbmUgPSB0cnVlO1xuICAgICAgICBwYXRoLnJlbmRlckNhY2hlKHsgZm9yQ2xpcHBpbmc6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuZHJhd0NsaXBQYXRoT25DYW52YXMoY3R4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3JlbmRlck92ZXJsYXkoY3R4KTtcbiAgICAgIGlmICh0aGlzLmNvbnRyb2xzQWJvdmVPdmVybGF5ICYmIHRoaXMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5kcmF3Q29udHJvbHMoY3R4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZmlyZSgnYWZ0ZXI6cmVuZGVyJywgeyBjdHg6IGN0eCwgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhaW50IHRoZSBjYWNoZWQgY2xpcFBhdGggb24gdGhlIGxvd2VyQ2FudmFzRWxcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgZHJhd0NsaXBQYXRoT25DYW52YXM6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHYgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLCBwYXRoID0gdGhpcy5jbGlwUGF0aDtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNmb3JtKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10sIHZbNF0sIHZbNV0pO1xuICAgICAgLy8gREVCVUc6IHVuY29tbWVudCB0aGlzIGxpbmUsIGNvbW1lbnQgdGhlIGZvbGxvd2luZ1xuICAgICAgLy8gY3R4Lmdsb2JhbEFscGhhID0gMC40O1xuICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1pbic7XG4gICAgICBwYXRoLnRyYW5zZm9ybShjdHgpO1xuICAgICAgY3R4LnNjYWxlKDEgLyBwYXRoLnpvb21YLCAxIC8gcGF0aC56b29tWSk7XG4gICAgICBjdHguZHJhd0ltYWdlKHBhdGguX2NhY2hlQ2FudmFzLCAtcGF0aC5jYWNoZVRyYW5zbGF0aW9uWCwgLXBhdGguY2FjaGVUcmFuc2xhdGlvblkpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtBcnJheX0gb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKi9cbiAgICBfcmVuZGVyT2JqZWN0czogZnVuY3Rpb24oY3R4LCBvYmplY3RzKSB7XG4gICAgICB2YXIgaSwgbGVuO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBvYmplY3RzW2ldICYmIG9iamVjdHNbaV0ucmVuZGVyKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAnYmFja2dyb3VuZCcgb3IgJ292ZXJsYXknXG4gICAgICovXG4gICAgX3JlbmRlckJhY2tncm91bmRPck92ZXJsYXk6IGZ1bmN0aW9uKGN0eCwgcHJvcGVydHkpIHtcbiAgICAgIHZhciBmaWxsID0gdGhpc1twcm9wZXJ0eSArICdDb2xvciddLCBvYmplY3QgPSB0aGlzW3Byb3BlcnR5ICsgJ0ltYWdlJ10sXG4gICAgICAgICAgdiA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0sIG5lZWRzVnB0ID0gdGhpc1twcm9wZXJ0eSArICdWcHQnXTtcbiAgICAgIGlmICghZmlsbCAmJiAhb2JqZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLndpZHRoLCAwKTtcbiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIGN0eC5saW5lVG8oMCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsLnRvTGl2ZVxuICAgICAgICAgID8gZmlsbC50b0xpdmUoY3R4LCB0aGlzKVxuICAgICAgICAgIDogZmlsbDtcbiAgICAgICAgaWYgKG5lZWRzVnB0KSB7XG4gICAgICAgICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgudHJhbnNmb3JtKDEsIDAsIDAsIDEsIGZpbGwub2Zmc2V0WCB8fCAwLCBmaWxsLm9mZnNldFkgfHwgMCk7XG4gICAgICAgIHZhciBtID0gZmlsbC5ncmFkaWVudFRyYW5zZm9ybSB8fCBmaWxsLnBhdHRlcm5UcmFuc2Zvcm07XG4gICAgICAgIG0gJiYgY3R4LnRyYW5zZm9ybShtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgaWYgKG5lZWRzVnB0KSB7XG4gICAgICAgICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucmVuZGVyKGN0eCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJCYWNrZ3JvdW5kOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuX3JlbmRlckJhY2tncm91bmRPck92ZXJsYXkoY3R4LCAnYmFja2dyb3VuZCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyT3ZlcmxheTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kT3JPdmVybGF5KGN0eCwgJ292ZXJsYXknKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb29yZGluYXRlcyBvZiBhIGNlbnRlciBvZiBjYW52YXMuXG4gICAgICogUmV0dXJuZWQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggdG9wIGFuZCBsZWZ0IHByb3BlcnRpZXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCB3aXRoIFwidG9wXCIgYW5kIFwibGVmdFwiIG51bWJlciB2YWx1ZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBtaWdyYXRlIHRvIGBnZXRDZW50ZXJQb2ludGBcbiAgICAgKi9cbiAgICBnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogdGhpcy5oZWlnaHQgLyAyLFxuICAgICAgICBsZWZ0OiB0aGlzLndpZHRoIC8gMlxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb29yZGluYXRlcyBvZiBhIGNlbnRlciBvZiBjYW52YXMuXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBcbiAgICAgKi9cbiAgICBnZXRDZW50ZXJQb2ludDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQodGhpcy53aWR0aCAvIDIsIHRoaXMuaGVpZ2h0IC8gMik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IGhvcml6b250YWxseSBpbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICovXG4gICAgY2VudGVyT2JqZWN0SDogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdChvYmplY3QsIG5ldyBmYWJyaWMuUG9pbnQodGhpcy5nZXRDZW50ZXJQb2ludCgpLngsIG9iamVjdC5nZXRDZW50ZXJQb2ludCgpLnkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgdmVydGljYWxseSBpbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjZW50ZXJPYmplY3RWOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2VudGVyT2JqZWN0KG9iamVjdCwgbmV3IGZhYnJpYy5Qb2ludChvYmplY3QuZ2V0Q2VudGVyUG9pbnQoKS54LCB0aGlzLmdldENlbnRlclBvaW50KCkueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgaW4gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXIgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjZW50ZXJPYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBjZW50ZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgaW4gdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyT2JqZWN0OiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciB2cENlbnRlciA9IHRoaXMuZ2V0VnBDZW50ZXIoKTtcbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCB2cENlbnRlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IGhvcml6b250YWxseSBpbiB0aGUgdmlld3BvcnQsIG9iamVjdC50b3AgaXMgdW5jaGFuZ2VkXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyT2JqZWN0SDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgdnBDZW50ZXIgPSB0aGlzLmdldFZwQ2VudGVyKCk7XG4gICAgICB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBuZXcgZmFicmljLlBvaW50KHZwQ2VudGVyLngsIG9iamVjdC5nZXRDZW50ZXJQb2ludCgpLnkpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBWZXJ0aWNhbGx5IGluIHRoZSB2aWV3cG9ydCwgb2JqZWN0LnRvcCBpcyB1bmNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgdmlld3BvcnRDZW50ZXJPYmplY3RWOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciB2cENlbnRlciA9IHRoaXMuZ2V0VnBDZW50ZXIoKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdChvYmplY3QsIG5ldyBmYWJyaWMuUG9pbnQob2JqZWN0LmdldENlbnRlclBvaW50KCkueCwgdnBDZW50ZXIueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50IGluIGNhbnZhcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGNlbnRlciBvZiBhY3R1YWwgdmlld3BvcnQuXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB2cENlbnRlciwgdmlld3BvcnQgY2VudGVyXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGdldFZwQ2VudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlclBvaW50KCksXG4gICAgICAgICAgaVZwdCA9IGludmVydFRyYW5zZm9ybSh0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKTtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1Qb2ludChjZW50ZXIsIGlWcHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXJcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gY2VudGVyIENlbnRlciBwb2ludFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgX2NlbnRlck9iamVjdDogZnVuY3Rpb24ob2JqZWN0LCBjZW50ZXIpIHtcbiAgICAgIG9iamVjdC5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNlbnRlciwgJ2NlbnRlcicsICdjZW50ZXInKTtcbiAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRhbGVzcyBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGpzb24gc3RyaW5nXG4gICAgICovXG4gICAgdG9EYXRhbGVzc0pTT046IGZ1bmN0aW9uIChwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0RhdGFsZXNzT2JqZWN0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBjYW52YXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24gKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl90b09iamVjdE1ldGhvZCgndG9PYmplY3QnLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRhbGVzcyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgY2FudmFzXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24gKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl90b09iamVjdE1ldGhvZCgndG9EYXRhbGVzc09iamVjdCcsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90b09iamVjdE1ldGhvZDogZnVuY3Rpb24gKG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcblxuICAgICAgdmFyIGNsaXBQYXRoID0gdGhpcy5jbGlwUGF0aCwgZGF0YSA9IHtcbiAgICAgICAgdmVyc2lvbjogZmFicmljLnZlcnNpb24sXG4gICAgICAgIG9iamVjdHM6IHRoaXMuX3RvT2JqZWN0cyhtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSxcbiAgICAgIH07XG4gICAgICBpZiAoY2xpcFBhdGggJiYgIWNsaXBQYXRoLmV4Y2x1ZGVGcm9tRXhwb3J0KSB7XG4gICAgICAgIGRhdGEuY2xpcFBhdGggPSB0aGlzLl90b09iamVjdCh0aGlzLmNsaXBQYXRoLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIH1cbiAgICAgIGV4dGVuZChkYXRhLCB0aGlzLl9fc2VyaWFsaXplQmdPdmVybGF5KG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpKTtcblxuICAgICAgZmFicmljLnV0aWwucG9wdWxhdGVXaXRoUHJvcGVydGllcyh0aGlzLCBkYXRhLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvT2JqZWN0czogZnVuY3Rpb24obWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gIW9iamVjdC5leGNsdWRlRnJvbUV4cG9ydDtcbiAgICAgIH0pLm1hcChmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9PYmplY3QoaW5zdGFuY2UsIG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvT2JqZWN0OiBmdW5jdGlvbihpbnN0YW5jZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIG9yaWdpbmFsVmFsdWU7XG5cbiAgICAgIGlmICghdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcykge1xuICAgICAgICBvcmlnaW5hbFZhbHVlID0gaW5zdGFuY2UuaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICAgIGluc3RhbmNlLmluY2x1ZGVEZWZhdWx0VmFsdWVzID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3QgPSBpbnN0YW5jZVttZXRob2ROYW1lXShwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIGlmICghdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcykge1xuICAgICAgICBpbnN0YW5jZS5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IG9yaWdpbmFsVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fc2VyaWFsaXplQmdPdmVybGF5OiBmdW5jdGlvbihtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgZGF0YSA9IHt9LCBiZ0ltYWdlID0gdGhpcy5iYWNrZ3JvdW5kSW1hZ2UsIG92ZXJsYXlJbWFnZSA9IHRoaXMub3ZlcmxheUltYWdlLFxuICAgICAgICAgIGJnQ29sb3IgPSB0aGlzLmJhY2tncm91bmRDb2xvciwgb3ZlcmxheUNvbG9yID0gdGhpcy5vdmVybGF5Q29sb3I7XG5cbiAgICAgIGlmIChiZ0NvbG9yICYmIGJnQ29sb3IudG9PYmplY3QpIHtcbiAgICAgICAgaWYgKCFiZ0NvbG9yLmV4Y2x1ZGVGcm9tRXhwb3J0KSB7XG4gICAgICAgICAgZGF0YS5iYWNrZ3JvdW5kID0gYmdDb2xvci50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYmdDb2xvcikge1xuICAgICAgICBkYXRhLmJhY2tncm91bmQgPSBiZ0NvbG9yO1xuICAgICAgfVxuXG4gICAgICBpZiAob3ZlcmxheUNvbG9yICYmIG92ZXJsYXlDb2xvci50b09iamVjdCkge1xuICAgICAgICBpZiAoIW92ZXJsYXlDb2xvci5leGNsdWRlRnJvbUV4cG9ydCkge1xuICAgICAgICAgIGRhdGEub3ZlcmxheSA9IG92ZXJsYXlDb2xvci50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAob3ZlcmxheUNvbG9yKSB7XG4gICAgICAgIGRhdGEub3ZlcmxheSA9IG92ZXJsYXlDb2xvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGJnSW1hZ2UgJiYgIWJnSW1hZ2UuZXhjbHVkZUZyb21FeHBvcnQpIHtcbiAgICAgICAgZGF0YS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLl90b09iamVjdChiZ0ltYWdlLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIH1cbiAgICAgIGlmIChvdmVybGF5SW1hZ2UgJiYgIW92ZXJsYXlJbWFnZS5leGNsdWRlRnJvbUV4cG9ydCkge1xuICAgICAgICBkYXRhLm92ZXJsYXlJbWFnZSA9IHRoaXMuX3RvT2JqZWN0KG92ZXJsYXlJbWFnZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgZ2V0U3ZnVHJhbnNmb3JtKCkgd2lsbCBhcHBseSB0aGUgU3RhdGljQ2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtIHRvIHRoZSBTVkcgdHJhbnNmb3JtYXRpb24uIFdoZW4gdHJ1ZSxcbiAgICAgKiBhIHpvb21lZCBjYW52YXMgd2lsbCB0aGVuIHByb2R1Y2Ugem9vbWVkIFNWRyBvdXRwdXQuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGNhbnZhc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QgZm9yIFNWRyBvdXRwdXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnN1cHByZXNzUHJlYW1ibGU9ZmFsc2VdIElmIHRydWUgeG1sIHRhZyBpcyBub3QgaW5jbHVkZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudmlld0JveF0gU1ZHIHZpZXdib3ggb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpZXdCb3gueF0geC1jb29yZGluYXRlIG9mIHZpZXdib3hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudmlld0JveC55XSB5LWNvb3JkaW5hdGUgb2Ygdmlld2JveFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy52aWV3Qm94LndpZHRoXSBXaWR0aCBvZiB2aWV3Ym94XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpZXdCb3guaGVpZ2h0XSBIZWlnaHQgb2Ygdmlld2JveFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5lbmNvZGluZz1VVEYtOF0gRW5jb2Rpbmcgb2YgU1ZHIG91dHB1dFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy53aWR0aF0gZGVzaXJlZCB3aWR0aCBvZiBzdmcgd2l0aCBvciB3aXRob3V0IHVuaXRzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhlaWdodF0gZGVzaXJlZCBoZWlnaHQgb2Ygc3ZnIHdpdGggb3Igd2l0aG91dCB1bml0c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY29udmVydGVkIGludG8gc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU1ZHIHN0cmluZ1xuICAgICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI3NlcmlhbGl6YXRpb259XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9qUTNaWi98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgU1ZHIG91dHB1dDwvY2FwdGlvbj5cbiAgICAgKiB2YXIgc3ZnID0gY2FudmFzLnRvU1ZHKCk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U1ZHIG91dHB1dCB3aXRob3V0IHByZWFtYmxlICh3aXRob3V0ICZsdDs/eG1sIC4uLz4pPC9jYXB0aW9uPlxuICAgICAqIHZhciBzdmcgPSBjYW52YXMudG9TVkcoe3N1cHByZXNzUHJlYW1ibGU6IHRydWV9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TVkcgb3V0cHV0IHdpdGggdmlld0JveCBhdHRyaWJ1dGU8L2NhcHRpb24+XG4gICAgICogdmFyIHN2ZyA9IGNhbnZhcy50b1NWRyh7XG4gICAgICogICB2aWV3Qm94OiB7XG4gICAgICogICAgIHg6IDEwMCxcbiAgICAgKiAgICAgeTogMTAwLFxuICAgICAqICAgICB3aWR0aDogMjAwLFxuICAgICAqICAgICBoZWlnaHQ6IDMwMFxuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlNWRyBvdXRwdXQgd2l0aCBkaWZmZXJlbnQgZW5jb2RpbmcgKGRlZmF1bHQ6IFVURi04KTwvY2FwdGlvbj5cbiAgICAgKiB2YXIgc3ZnID0gY2FudmFzLnRvU1ZHKHtlbmNvZGluZzogJ0lTTy04ODU5LTEnfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+TW9kaWZ5IFNWRyBvdXRwdXQgd2l0aCByZXZpdmVyIGZ1bmN0aW9uPC9jYXB0aW9uPlxuICAgICAqIHZhciBzdmcgPSBjYW52YXMudG9TVkcobnVsbCwgZnVuY3Rpb24oc3ZnKSB7XG4gICAgICogICByZXR1cm4gc3ZnLnJlcGxhY2UoJ3N0cm9rZS1kYXNoYXJyYXk6IDsgc3Ryb2tlLWxpbmVjYXA6IGJ1dHQ7IHN0cm9rZS1saW5lam9pbjogbWl0ZXI7IHN0cm9rZS1taXRlcmxpbWl0OiAxMDsgJywgJycpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihvcHRpb25zLCByZXZpdmVyKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIG9wdGlvbnMucmV2aXZlciA9IHJldml2ZXI7XG4gICAgICB2YXIgbWFya3VwID0gW107XG5cbiAgICAgIHRoaXMuX3NldFNWR1ByZWFtYmxlKG1hcmt1cCwgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRTVkdIZWFkZXIobWFya3VwLCBvcHRpb25zKTtcbiAgICAgIGlmICh0aGlzLmNsaXBQYXRoKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKCc8ZyBjbGlwLXBhdGg9XCJ1cmwoIycgKyB0aGlzLmNsaXBQYXRoLmNsaXBQYXRoSWQgKyAnKVwiID5cXG4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUNvbG9yKG1hcmt1cCwgJ2JhY2tncm91bmQnKTtcbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUltYWdlKG1hcmt1cCwgJ2JhY2tncm91bmRJbWFnZScsIHJldml2ZXIpO1xuICAgICAgdGhpcy5fc2V0U1ZHT2JqZWN0cyhtYXJrdXAsIHJldml2ZXIpO1xuICAgICAgaWYgKHRoaXMuY2xpcFBhdGgpIHtcbiAgICAgICAgbWFya3VwLnB1c2goJzwvZz5cXG4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUNvbG9yKG1hcmt1cCwgJ292ZXJsYXknKTtcbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUltYWdlKG1hcmt1cCwgJ292ZXJsYXlJbWFnZScsIHJldml2ZXIpO1xuXG4gICAgICBtYXJrdXAucHVzaCgnPC9zdmc+Jyk7XG5cbiAgICAgIHJldHVybiBtYXJrdXAuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR1ByZWFtYmxlOiBmdW5jdGlvbihtYXJrdXAsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLnN1cHByZXNzUHJlYW1ibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCInLCAob3B0aW9ucy5lbmNvZGluZyB8fCAnVVRGLTgnKSwgJ1wiIHN0YW5kYWxvbmU9XCJub1wiID8+XFxuJyxcbiAgICAgICAgJzwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiAnLFxuICAgICAgICAnXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cXG4nXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdIZWFkZXI6IGZ1bmN0aW9uKG1hcmt1cCwgb3B0aW9ucykge1xuICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCB8fCB0aGlzLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIHZwdCwgdmlld0JveCA9ICd2aWV3Qm94PVwiMCAwICcgKyB0aGlzLndpZHRoICsgJyAnICsgdGhpcy5oZWlnaHQgKyAnXCIgJyxcbiAgICAgICAgICBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuXG4gICAgICBpZiAob3B0aW9ucy52aWV3Qm94KSB7XG4gICAgICAgIHZpZXdCb3ggPSAndmlld0JveD1cIicgK1xuICAgICAgICAgICAgICAgIG9wdGlvbnMudmlld0JveC54ICsgJyAnICtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnZpZXdCb3gueSArICcgJyArXG4gICAgICAgICAgICAgICAgb3B0aW9ucy52aWV3Qm94LndpZHRoICsgJyAnICtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnZpZXdCb3guaGVpZ2h0ICsgJ1wiICc7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuc3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm07XG4gICAgICAgICAgdmlld0JveCA9ICd2aWV3Qm94PVwiJyArXG4gICAgICAgICAgICAgICAgICB0b0ZpeGVkKC12cHRbNF0gLyB2cHRbMF0sIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgIHRvRml4ZWQoLXZwdFs1XSAvIHZwdFszXSwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLndpZHRoIC8gdnB0WzBdLCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICcgJyArXG4gICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuaGVpZ2h0IC8gdnB0WzNdLCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICdcIiAnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAnPHN2ZyAnLFxuICAgICAgICAneG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiICcsXG4gICAgICAgICd4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiAnLFxuICAgICAgICAndmVyc2lvbj1cIjEuMVwiICcsXG4gICAgICAgICd3aWR0aD1cIicsIHdpZHRoLCAnXCIgJyxcbiAgICAgICAgJ2hlaWdodD1cIicsIGhlaWdodCwgJ1wiICcsXG4gICAgICAgIHZpZXdCb3gsXG4gICAgICAgICd4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxcbicsXG4gICAgICAgICc8ZGVzYz5DcmVhdGVkIHdpdGggRmFicmljLmpzICcsIGZhYnJpYy52ZXJzaW9uLCAnPC9kZXNjPlxcbicsXG4gICAgICAgICc8ZGVmcz5cXG4nLFxuICAgICAgICB0aGlzLmNyZWF0ZVNWR0ZvbnRGYWNlc01hcmt1cCgpLFxuICAgICAgICB0aGlzLmNyZWF0ZVNWR1JlZkVsZW1lbnRzTWFya3VwKCksXG4gICAgICAgIHRoaXMuY3JlYXRlU1ZHQ2xpcFBhdGhNYXJrdXAob3B0aW9ucyksXG4gICAgICAgICc8L2RlZnM+XFxuJ1xuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlU1ZHQ2xpcFBhdGhNYXJrdXA6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjbGlwUGF0aCA9IHRoaXMuY2xpcFBhdGg7XG4gICAgICBpZiAoY2xpcFBhdGgpIHtcbiAgICAgICAgY2xpcFBhdGguY2xpcFBhdGhJZCA9ICdDTElQUEFUSF8nICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgICByZXR1cm4gICc8Y2xpcFBhdGggaWQ9XCInICsgY2xpcFBhdGguY2xpcFBhdGhJZCArICdcIiA+XFxuJyArXG4gICAgICAgICAgdGhpcy5jbGlwUGF0aC50b0NsaXBQYXRoU1ZHKG9wdGlvbnMucmV2aXZlcikgK1xuICAgICAgICAgICc8L2NsaXBQYXRoPlxcbic7XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbWFya3VwIGNvbnRhaW5pbmcgU1ZHIHJlZmVyZW5jZWQgZWxlbWVudHMgbGlrZSBwYXR0ZXJucywgZ3JhZGllbnRzIGV0Yy5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgY3JlYXRlU1ZHUmVmRWxlbWVudHNNYXJrdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICBtYXJrdXAgPSBbJ2JhY2tncm91bmQnLCAnb3ZlcmxheSddLm1hcChmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICB2YXIgZmlsbCA9IF90aGlzW3Byb3AgKyAnQ29sb3InXTtcbiAgICAgICAgICAgIGlmIChmaWxsICYmIGZpbGwudG9MaXZlKSB7XG4gICAgICAgICAgICAgIHZhciBzaG91bGRUcmFuc2Zvcm0gPSBfdGhpc1twcm9wICsgJ1ZwdCddLCB2cHQgPSBfdGhpcy52aWV3cG9ydFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgIG9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF90aGlzLndpZHRoIC8gKHNob3VsZFRyYW5zZm9ybSA/IHZwdFswXSA6IDEpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IF90aGlzLmhlaWdodCAvIChzaG91bGRUcmFuc2Zvcm0gPyB2cHRbM10gOiAxKVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbGwudG9TVkcoXG4gICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgICAgIHsgYWRkaXRpb25hbFRyYW5zZm9ybTogc2hvdWxkVHJhbnNmb3JtID8gZmFicmljLnV0aWwubWF0cml4VG9TVkcodnB0KSA6ICcnIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIHJldHVybiBtYXJrdXAuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbWFya3VwIGNvbnRhaW5pbmcgU1ZHIGZvbnQgZmFjZXMsXG4gICAgICogZm9udCBVUkxzIGZvciBmb250IGZhY2VzIG11c3QgYmUgY29sbGVjdGVkIGJ5IGRldmVsb3BlcnNcbiAgICAgKiBhbmQgYXJlIG5vdCBleHRyYWN0ZWQgZnJvbSB0aGUgRE9NIGJ5IGZhYnJpY2pzXG4gICAgICogQHBhcmFtIHtBcnJheX0gb2JqZWN0cyBBcnJheSBvZiBmYWJyaWMgb2JqZWN0c1xuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBjcmVhdGVTVkdGb250RmFjZXNNYXJrdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hcmt1cCA9ICcnLCBmb250TGlzdCA9IHsgfSwgb2JqLCBmb250RmFtaWx5LFxuICAgICAgICAgIHN0eWxlLCByb3csIHJvd0luZGV4LCBfY2hhciwgY2hhckluZGV4LCBpLCBsZW4sXG4gICAgICAgICAgZm9udFBhdGhzID0gZmFicmljLmZvbnRQYXRocywgb2JqZWN0cyA9IFtdO1xuXG4gICAgICB0aGlzLl9vYmplY3RzLmZvckVhY2goZnVuY3Rpb24gYWRkKG9iamVjdCkge1xuICAgICAgICBvYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgaWYgKG9iamVjdC5fb2JqZWN0cykge1xuICAgICAgICAgIG9iamVjdC5fb2JqZWN0cy5mb3JFYWNoKGFkZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIG9iaiA9IG9iamVjdHNbaV07XG4gICAgICAgIGZvbnRGYW1pbHkgPSBvYmouZm9udEZhbWlseTtcbiAgICAgICAgaWYgKG9iai50eXBlLmluZGV4T2YoJ3RleHQnKSA9PT0gLTEgfHwgZm9udExpc3RbZm9udEZhbWlseV0gfHwgIWZvbnRQYXRoc1tmb250RmFtaWx5XSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvbnRMaXN0W2ZvbnRGYW1pbHldID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFvYmouc3R5bGVzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGUgPSBvYmouc3R5bGVzO1xuICAgICAgICBmb3IgKHJvd0luZGV4IGluIHN0eWxlKSB7XG4gICAgICAgICAgcm93ID0gc3R5bGVbcm93SW5kZXhdO1xuICAgICAgICAgIGZvciAoY2hhckluZGV4IGluIHJvdykge1xuICAgICAgICAgICAgX2NoYXIgPSByb3dbY2hhckluZGV4XTtcbiAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBfY2hhci5mb250RmFtaWx5O1xuICAgICAgICAgICAgaWYgKCFmb250TGlzdFtmb250RmFtaWx5XSAmJiBmb250UGF0aHNbZm9udEZhbWlseV0pIHtcbiAgICAgICAgICAgICAgZm9udExpc3RbZm9udEZhbWlseV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqIGluIGZvbnRMaXN0KSB7XG4gICAgICAgIG1hcmt1cCArPSBbXG4gICAgICAgICAgJ1xcdFxcdEBmb250LWZhY2Uge1xcbicsXG4gICAgICAgICAgJ1xcdFxcdFxcdGZvbnQtZmFtaWx5OiBcXCcnLCBqLCAnXFwnO1xcbicsXG4gICAgICAgICAgJ1xcdFxcdFxcdHNyYzogdXJsKFxcJycsIGZvbnRQYXRoc1tqXSwgJ1xcJyk7XFxuJyxcbiAgICAgICAgICAnXFx0XFx0fVxcbidcbiAgICAgICAgXS5qb2luKCcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hcmt1cCkge1xuICAgICAgICBtYXJrdXAgPSBbXG4gICAgICAgICAgJ1xcdDxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nLFxuICAgICAgICAgICc8IVtDREFUQVtcXG4nLFxuICAgICAgICAgIG1hcmt1cCxcbiAgICAgICAgICAnXV0+JyxcbiAgICAgICAgICAnPC9zdHlsZT5cXG4nXG4gICAgICAgIF0uam9pbignJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR09iamVjdHM6IGZ1bmN0aW9uKG1hcmt1cCwgcmV2aXZlcikge1xuICAgICAgdmFyIGluc3RhbmNlLCBpLCBsZW4sIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpbnN0YW5jZSA9IG9iamVjdHNbaV07XG4gICAgICAgIGlmIChpbnN0YW5jZS5leGNsdWRlRnJvbUV4cG9ydCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldFNWR09iamVjdChtYXJrdXAsIGluc3RhbmNlLCByZXZpdmVyKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U1ZHT2JqZWN0OiBmdW5jdGlvbihtYXJrdXAsIGluc3RhbmNlLCByZXZpdmVyKSB7XG4gICAgICBtYXJrdXAucHVzaChpbnN0YW5jZS50b1NWRyhyZXZpdmVyKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR0JnT3ZlcmxheUltYWdlOiBmdW5jdGlvbihtYXJrdXAsIHByb3BlcnR5LCByZXZpdmVyKSB7XG4gICAgICBpZiAodGhpc1twcm9wZXJ0eV0gJiYgIXRoaXNbcHJvcGVydHldLmV4Y2x1ZGVGcm9tRXhwb3J0ICYmIHRoaXNbcHJvcGVydHldLnRvU1ZHKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKHRoaXNbcHJvcGVydHldLnRvU1ZHKHJldml2ZXIpKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U1ZHQmdPdmVybGF5Q29sb3I6IGZ1bmN0aW9uKG1hcmt1cCwgcHJvcGVydHkpIHtcbiAgICAgIHZhciBmaWxsZXIgPSB0aGlzW3Byb3BlcnR5ICsgJ0NvbG9yJ10sIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0sIGZpbmFsV2lkdGggPSB0aGlzLndpZHRoLFxuICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICBpZiAoIWZpbGxlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsbGVyLnRvTGl2ZSkge1xuICAgICAgICB2YXIgcmVwZWF0ID0gZmlsbGVyLnJlcGVhdCwgaVZwdCA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSh2cHQpLCBzaG91bGRJbnZlcnQgPSB0aGlzW3Byb3BlcnR5ICsgJ1ZwdCddLFxuICAgICAgICAgICAgYWRkaXRpb25hbFRyYW5zZm9ybSA9IHNob3VsZEludmVydCA/IGZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKGlWcHQpIDogJyc7XG4gICAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAgICc8cmVjdCB0cmFuc2Zvcm09XCInICsgYWRkaXRpb25hbFRyYW5zZm9ybSArICcgdHJhbnNsYXRlKCcsIGZpbmFsV2lkdGggLyAyLCAnLCcsIGZpbmFsSGVpZ2h0IC8gMiwgJylcIicsXG4gICAgICAgICAgJyB4PVwiJywgZmlsbGVyLm9mZnNldFggLSBmaW5hbFdpZHRoIC8gMixcbiAgICAgICAgICAnXCIgeT1cIicsIGZpbGxlci5vZmZzZXRZIC0gZmluYWxIZWlnaHQgLyAyLCAnXCIgJyxcbiAgICAgICAgICAnd2lkdGg9XCInLFxuICAgICAgICAgIChyZXBlYXQgPT09ICdyZXBlYXQteScgfHwgcmVwZWF0ID09PSAnbm8tcmVwZWF0J1xuICAgICAgICAgICAgPyBmaWxsZXIuc291cmNlLndpZHRoXG4gICAgICAgICAgICA6IGZpbmFsV2lkdGggKSxcbiAgICAgICAgICAnXCIgaGVpZ2h0PVwiJyxcbiAgICAgICAgICAocmVwZWF0ID09PSAncmVwZWF0LXgnIHx8IHJlcGVhdCA9PT0gJ25vLXJlcGVhdCdcbiAgICAgICAgICAgID8gZmlsbGVyLnNvdXJjZS5oZWlnaHRcbiAgICAgICAgICAgIDogZmluYWxIZWlnaHQpLFxuICAgICAgICAgICdcIiBmaWxsPVwidXJsKCNTVkdJRF8nICsgZmlsbGVyLmlkICsgJylcIicsXG4gICAgICAgICAgJz48L3JlY3Q+XFxuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAgICc8cmVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiICcsXG4gICAgICAgICAgJ2ZpbGw9XCInLCBmaWxsZXIsICdcIicsXG4gICAgICAgICAgJz48L3JlY3Q+XFxuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBvYmplY3Qgb3IgdGhlIG9iamVjdHMgb2YgYSBtdWx0aXBsZSBzZWxlY3Rpb25cbiAgICAgKiB0byB0aGUgYm90dG9tIG9mIHRoZSBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNlbmQgdG8gYmFja1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2VuZFRvQmFjazogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgYWN0aXZlU2VsZWN0aW9uID0gdGhpcy5fYWN0aXZlT2JqZWN0LFxuICAgICAgICAgIGksIG9iaiwgb2JqcztcbiAgICAgIGlmIChvYmplY3QgPT09IGFjdGl2ZVNlbGVjdGlvbiAmJiBvYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpIHtcbiAgICAgICAgb2JqcyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cztcbiAgICAgICAgZm9yIChpID0gb2Jqcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICBvYmogPSBvYmpzW2ldO1xuICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmopO1xuICAgICAgICAgIHRoaXMuX29iamVjdHMudW5zaGlmdChvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iamVjdCk7XG4gICAgICAgIHRoaXMuX29iamVjdHMudW5zaGlmdChvYmplY3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBvYmplY3Qgb3IgdGhlIG9iamVjdHMgb2YgYSBtdWx0aXBsZSBzZWxlY3Rpb25cbiAgICAgKiB0byB0aGUgdG9wIG9mIHRoZSBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNlbmRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgYWN0aXZlU2VsZWN0aW9uID0gdGhpcy5fYWN0aXZlT2JqZWN0LFxuICAgICAgICAgIGksIG9iaiwgb2JqcztcbiAgICAgIGlmIChvYmplY3QgPT09IGFjdGl2ZVNlbGVjdGlvbiAmJiBvYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpIHtcbiAgICAgICAgb2JqcyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cztcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9ianMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBvYmogPSBvYmpzW2ldO1xuICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmopO1xuICAgICAgICAgIHRoaXMuX29iamVjdHMucHVzaChvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iamVjdCk7XG4gICAgICAgIHRoaXMuX29iamVjdHMucHVzaChvYmplY3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBvYmplY3Qgb3IgYSBzZWxlY3Rpb24gZG93biBpbiBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAgICogQW4gb3B0aW9uYWwgcGFyYW1ldGVyLCBpbnRlcnNlY3RpbmcgYWxsb3dzIHRvIG1vdmUgdGhlIG9iamVjdCBpbiBiZWhpbmRcbiAgICAgKiB0aGUgZmlyc3QgaW50ZXJzZWN0aW5nIG9iamVjdC4gV2hlcmUgaW50ZXJzZWN0aW9uIGlzIGNhbGN1bGF0ZWQgd2l0aFxuICAgICAqIGJvdW5kaW5nIGJveC4gSWYgbm8gaW50ZXJzZWN0aW9uIGlzIGZvdW5kLCB0aGVyZSB3aWxsIG5vdCBiZSBjaGFuZ2UgaW4gdGhlXG4gICAgICogc3RhY2suXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnRlcnNlY3RpbmddIElmIGB0cnVlYCwgc2VuZCBvYmplY3QgYmVoaW5kIG5leHQgbG93ZXIgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2VuZEJhY2t3YXJkczogZnVuY3Rpb24gKG9iamVjdCwgaW50ZXJzZWN0aW5nKSB7XG4gICAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBhY3RpdmVTZWxlY3Rpb24gPSB0aGlzLl9hY3RpdmVPYmplY3QsXG4gICAgICAgICAgaSwgb2JqLCBpZHgsIG5ld0lkeCwgb2Jqcywgb2Jqc01vdmVkID0gMDtcblxuICAgICAgaWYgKG9iamVjdCA9PT0gYWN0aXZlU2VsZWN0aW9uICYmIG9iamVjdC50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgICBvYmpzID0gYWN0aXZlU2VsZWN0aW9uLl9vYmplY3RzO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2Jqcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG9iaiA9IG9ianNbaV07XG4gICAgICAgICAgaWR4ID0gdGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iaik7XG4gICAgICAgICAgaWYgKGlkeCA+IDAgKyBvYmpzTW92ZWQpIHtcbiAgICAgICAgICAgIG5ld0lkeCA9IGlkeCAtIDE7XG4gICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqKTtcbiAgICAgICAgICAgIHRoaXMuX29iamVjdHMuc3BsaWNlKG5ld0lkeCwgMCwgb2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2Jqc01vdmVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZHggPSB0aGlzLl9vYmplY3RzLmluZGV4T2Yob2JqZWN0KTtcbiAgICAgICAgaWYgKGlkeCAhPT0gMCkge1xuICAgICAgICAgIC8vIGlmIG9iamVjdCBpcyBub3Qgb24gdGhlIGJvdHRvbSBvZiBzdGFja1xuICAgICAgICAgIG5ld0lkeCA9IHRoaXMuX2ZpbmROZXdMb3dlckluZGV4KG9iamVjdCwgaWR4LCBpbnRlcnNlY3RpbmcpO1xuICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmplY3QpO1xuICAgICAgICAgIHRoaXMuX29iamVjdHMuc3BsaWNlKG5ld0lkeCwgMCwgb2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maW5kTmV3TG93ZXJJbmRleDogZnVuY3Rpb24ob2JqZWN0LCBpZHgsIGludGVyc2VjdGluZykge1xuICAgICAgdmFyIG5ld0lkeCwgaTtcblxuICAgICAgaWYgKGludGVyc2VjdGluZykge1xuICAgICAgICBuZXdJZHggPSBpZHg7XG5cbiAgICAgICAgLy8gdHJhdmVyc2UgZG93biB0aGUgc3RhY2sgbG9va2luZyBmb3IgdGhlIG5lYXJlc3QgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgICAgICBmb3IgKGkgPSBpZHggLSAxOyBpID49IDA7IC0taSkge1xuXG4gICAgICAgICAgdmFyIGlzSW50ZXJzZWN0aW5nID0gb2JqZWN0LmludGVyc2VjdHNXaXRoT2JqZWN0KHRoaXMuX29iamVjdHNbaV0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlzQ29udGFpbmVkV2l0aGluT2JqZWN0KHRoaXMuX29iamVjdHNbaV0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdChvYmplY3QpO1xuXG4gICAgICAgICAgaWYgKGlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBuZXdJZHggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3SWR4ID0gaWR4IC0gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld0lkeDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYW4gb2JqZWN0IG9yIGEgc2VsZWN0aW9uIHVwIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICAgKiBBbiBvcHRpb25hbCBwYXJhbWV0ZXIsIGludGVyc2VjdGluZyBhbGxvd3MgdG8gbW92ZSB0aGUgb2JqZWN0IGluIGZyb250XG4gICAgICogb2YgdGhlIGZpcnN0IGludGVyc2VjdGluZyBvYmplY3QuIFdoZXJlIGludGVyc2VjdGlvbiBpcyBjYWxjdWxhdGVkIHdpdGhcbiAgICAgKiBib3VuZGluZyBib3guIElmIG5vIGludGVyc2VjdGlvbiBpcyBmb3VuZCwgdGhlcmUgd2lsbCBub3QgYmUgY2hhbmdlIGluIHRoZVxuICAgICAqIHN0YWNrLlxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZW5kXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaW50ZXJzZWN0aW5nXSBJZiBgdHJ1ZWAsIHNlbmQgb2JqZWN0IGluIGZyb250IG9mIG5leHQgdXBwZXIgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYnJpbmdGb3J3YXJkOiBmdW5jdGlvbiAob2JqZWN0LCBpbnRlcnNlY3RpbmcpIHtcbiAgICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBpLCBvYmosIGlkeCwgbmV3SWR4LCBvYmpzLCBvYmpzTW92ZWQgPSAwO1xuXG4gICAgICBpZiAob2JqZWN0ID09PSBhY3RpdmVTZWxlY3Rpb24gJiYgb2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIG9ianMgPSBhY3RpdmVTZWxlY3Rpb24uX29iamVjdHM7XG4gICAgICAgIGZvciAoaSA9IG9ianMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgb2JqID0gb2Jqc1tpXTtcbiAgICAgICAgICBpZHggPSB0aGlzLl9vYmplY3RzLmluZGV4T2Yob2JqKTtcbiAgICAgICAgICBpZiAoaWR4IDwgdGhpcy5fb2JqZWN0cy5sZW5ndGggLSAxIC0gb2Jqc01vdmVkKSB7XG4gICAgICAgICAgICBuZXdJZHggPSBpZHggKyAxO1xuICAgICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iaik7XG4gICAgICAgICAgICB0aGlzLl9vYmplY3RzLnNwbGljZShuZXdJZHgsIDAsIG9iaik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9ianNNb3ZlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWR4ID0gdGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iamVjdCk7XG4gICAgICAgIGlmIChpZHggIT09IHRoaXMuX29iamVjdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIC8vIGlmIG9iamVjdCBpcyBub3Qgb24gdG9wIG9mIHN0YWNrIChsYXN0IGl0ZW0gaW4gYW4gYXJyYXkpXG4gICAgICAgICAgbmV3SWR4ID0gdGhpcy5fZmluZE5ld1VwcGVySW5kZXgob2JqZWN0LCBpZHgsIGludGVyc2VjdGluZyk7XG4gICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iamVjdCk7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0cy5zcGxpY2UobmV3SWR4LCAwLCBvYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpbmROZXdVcHBlckluZGV4OiBmdW5jdGlvbihvYmplY3QsIGlkeCwgaW50ZXJzZWN0aW5nKSB7XG4gICAgICB2YXIgbmV3SWR4LCBpLCBsZW47XG5cbiAgICAgIGlmIChpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgbmV3SWR4ID0gaWR4O1xuXG4gICAgICAgIC8vIHRyYXZlcnNlIHVwIHRoZSBzdGFjayBsb29raW5nIGZvciB0aGUgbmVhcmVzdCBpbnRlcnNlY3Rpbmcgb2JqZWN0XG4gICAgICAgIGZvciAoaSA9IGlkeCArIDEsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcblxuICAgICAgICAgIHZhciBpc0ludGVyc2VjdGluZyA9IG9iamVjdC5pbnRlcnNlY3RzV2l0aE9iamVjdCh0aGlzLl9vYmplY3RzW2ldKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0aGlzLl9vYmplY3RzW2ldKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29iamVjdHNbaV0uaXNDb250YWluZWRXaXRoaW5PYmplY3Qob2JqZWN0KTtcblxuICAgICAgICAgIGlmIChpc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgbmV3SWR4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld0lkeCA9IGlkeCArIDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdJZHg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGFuIG9iamVjdCB0byBzcGVjaWZpZWQgbGV2ZWwgaW4gc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZW5kXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IFBvc2l0aW9uIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIG1vdmVUbzogZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgpIHtcbiAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmplY3QpO1xuICAgICAgdGhpcy5fb2JqZWN0cy5zcGxpY2UoaW5kZXgsIDAsIG9iamVjdCk7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGEgY2FudmFzIGVsZW1lbnQgYW5kIGRpc3Bvc2Ugb2JqZWN0c1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gY2FuY2VsIGV2ZW50dWFsbHkgb25nb2luZyByZW5kZXJzXG4gICAgICBpZiAodGhpcy5pc1JlbmRlcmluZykge1xuICAgICAgICBmYWJyaWMudXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5pc1JlbmRlcmluZyk7XG4gICAgICAgIHRoaXMuaXNSZW5kZXJpbmcgPSAwO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JFYWNoT2JqZWN0KGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBvYmplY3QuZGlzcG9zZSAmJiBvYmplY3QuZGlzcG9zZSgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gW107XG4gICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kSW1hZ2UgJiYgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UuZGlzcG9zZSkge1xuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IG51bGw7XG4gICAgICBpZiAodGhpcy5vdmVybGF5SW1hZ2UgJiYgdGhpcy5vdmVybGF5SW1hZ2UuZGlzcG9zZSkge1xuICAgICAgICB0aGlzLm92ZXJsYXlJbWFnZS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLm92ZXJsYXlJbWFnZSA9IG51bGw7XG4gICAgICB0aGlzLl9pVGV4dEluc3RhbmNlcyA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRleHRDb250YWluZXIgPSBudWxsO1xuICAgICAgLy8gcmVzdG9yZSBjYW52YXMgc3R5bGVcbiAgICAgIHRoaXMubG93ZXJDYW52YXNFbC5jbGFzc0xpc3QucmVtb3ZlKCdsb3dlci1jYW52YXMnKTtcbiAgICAgIGZhYnJpYy51dGlsLnNldFN0eWxlKHRoaXMubG93ZXJDYW52YXNFbCwgdGhpcy5fb3JpZ2luYWxDYW52YXNTdHlsZSk7XG4gICAgICBkZWxldGUgdGhpcy5fb3JpZ2luYWxDYW52YXNTdHlsZTtcbiAgICAgIC8vIHJlc3RvcmUgY2FudmFzIHNpemUgdG8gb3JpZ2luYWwgc2l6ZSBpbiBjYXNlIHJldGluYSBzY2FsaW5nIHdhcyBhcHBsaWVkXG4gICAgICB0aGlzLmxvd2VyQ2FudmFzRWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMud2lkdGgpO1xuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5oZWlnaHQpO1xuICAgICAgZmFicmljLnV0aWwuY2xlYW5VcEpzZG9tTm9kZSh0aGlzLmxvd2VyQ2FudmFzRWwpO1xuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLkNhbnZhcyAoJyArIHRoaXMuY29tcGxleGl0eSgpICsgJyk6ICcgK1xuICAgICAgICAgICAgICAgJ3sgb2JqZWN0czogJyArIHRoaXMuX29iamVjdHMubGVuZ3RoICsgJyB9Pic7XG4gICAgfVxuICB9KTtcblxuICBleHRlbmQoZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUsIGZhYnJpYy5PYnNlcnZhYmxlKTtcbiAgZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCBmYWJyaWMuQ29sbGVjdGlvbik7XG4gIGV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgZmFicmljLkRhdGFVUkxFeHBvcnRlcik7XG5cbiAgZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMsIC8qKiBAbGVuZHMgZmFicmljLlN0YXRpY0NhbnZhcyAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBFTVBUWV9KU09OOiAne1wib2JqZWN0c1wiOiBbXSwgXCJiYWNrZ3JvdW5kXCI6IFwid2hpdGVcIn0nLFxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYSB3YXkgdG8gY2hlY2sgc3VwcG9ydCBvZiBzb21lIG9mIHRoZSBjYW52YXMgbWV0aG9kc1xuICAgICAqIChlaXRoZXIgdGhvc2Ugb2YgSFRNTENhbnZhc0VsZW1lbnQgaXRzZWxmLCBvciByZW5kZXJpbmcgY29udGV4dClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2ROYW1lIE1ldGhvZCB0byBjaGVjayBzdXBwb3J0IGZvcjtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3VsZCBiZSBvbmUgb2YgXCJzZXRMaW5lRGFzaFwiXG4gICAgICogQHJldHVybiB7Qm9vbGVhbiB8IG51bGx9IGB0cnVlYCBpZiBtZXRob2QgaXMgc3VwcG9ydGVkIChvciBhdCBsZWFzdCBleGlzdHMpLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBgbnVsbGAgaWYgY2FudmFzIGVsZW1lbnQgb3IgY29udGV4dCBjYW4gbm90IGJlIGluaXRpYWxpemVkXG4gICAgICovXG4gICAgc3VwcG9ydHM6IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZWwgPSBjcmVhdGVDYW52YXNFbGVtZW50KCk7XG5cbiAgICAgIGlmICghZWwgfHwgIWVsLmdldENvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdHggPSBlbC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuXG4gICAgICAgIGNhc2UgJ3NldExpbmVEYXNoJzpcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGN0eC5zZXRMaW5lRGFzaCAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBjYW52YXNcbiAgICogdGhpcyBhbGlhcyBpcyBwcm92aWRlZCBiZWNhdXNlIGlmIHlvdSBjYWxsIEpTT04uc3RyaW5naWZ5IG9uIGFuIGluc3RhbmNlLFxuICAgKiB0aGUgdG9KU09OIG9iamVjdCB3aWxsIGJlIGludm9rZWQgaWYgaXQgZXhpc3RzLlxuICAgKiBIYXZpbmcgYSB0b0pTT04gbWV0aG9kIG1lYW5zIHlvdSBjYW4gZG8gSlNPTi5zdHJpbmdpZnkobXlDYW52YXMpXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAqIEByZXR1cm4ge09iamVjdH0gSlNPTiBjb21wYXRpYmxlIG9iamVjdFxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNzZXJpYWxpemF0aW9ufVxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL3BlYzg2L3xqc0ZpZGRsZSBkZW1vfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5KU09OIHdpdGhvdXQgYWRkaXRpb25hbCBwcm9wZXJ0aWVzPC9jYXB0aW9uPlxuICAgKiB2YXIganNvbiA9IGNhbnZhcy50b0pTT04oKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+SlNPTiB3aXRoIGFkZGl0aW9uYWwgcHJvcGVydGllcyBpbmNsdWRlZDwvY2FwdGlvbj5cbiAgICogdmFyIGpzb24gPSBjYW52YXMudG9KU09OKFsnbG9ja01vdmVtZW50WCcsICdsb2NrTW92ZW1lbnRZJywgJ2xvY2tSb3RhdGlvbicsICdsb2NrU2NhbGluZ1gnLCAnbG9ja1NjYWxpbmdZJ10pO1xuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5KU09OIHdpdGhvdXQgZGVmYXVsdCB2YWx1ZXM8L2NhcHRpb24+XG4gICAqIGNhbnZhcy5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IGZhbHNlO1xuICAgKiB2YXIganNvbiA9IGNhbnZhcy50b0pTT04oKTtcbiAgICovXG4gIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLnRvSlNPTiA9IGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLnRvT2JqZWN0O1xuXG4gIGlmIChmYWJyaWMuaXNMaWtlbHlOb2RlKSB7XG4gICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuY3JlYXRlUE5HU3RyZWFtID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW1wbCA9IGdldE5vZGVDYW52YXModGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIHJldHVybiBpbXBsICYmIGltcGwuY3JlYXRlUE5HU3RyZWFtKCk7XG4gICAgfTtcbiAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5jcmVhdGVKUEVHU3RyZWFtID0gZnVuY3Rpb24ob3B0cykge1xuICAgICAgdmFyIGltcGwgPSBnZXROb2RlQ2FudmFzKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICByZXR1cm4gaW1wbCAmJiBpbXBsLmNyZWF0ZUpQRUdTdHJlYW0ob3B0cyk7XG4gICAgfTtcbiAgfVxufSkoKTtcblxuXG4vKipcbiAqIEJhc2VCcnVzaCBjbGFzc1xuICogQGNsYXNzIGZhYnJpYy5CYXNlQnJ1c2hcbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZnJlZWRyYXdpbmd8RnJlZWRyYXdpbmcgZGVtb31cbiAqL1xuZmFicmljLkJhc2VCcnVzaCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKC8qKiBAbGVuZHMgZmFicmljLkJhc2VCcnVzaC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBDb2xvciBvZiBhIGJydXNoXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgY29sb3I6ICdyZ2IoMCwgMCwgMCknLFxuXG4gIC8qKlxuICAgKiBXaWR0aCBvZiBhIGJydXNoLCBoYXMgdG8gYmUgYSBOdW1iZXIsIG5vIHN0cmluZyBsaXRlcmFsc1xuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHdpZHRoOiAxLFxuXG4gIC8qKlxuICAgKiBTaGFkb3cgb2JqZWN0IHJlcHJlc2VudGluZyBzaGFkb3cgb2YgdGhpcyBzaGFwZS5cbiAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcInNoYWRvd0NvbG9yXCIgKFN0cmluZyksIFwic2hhZG93T2Zmc2V0WFwiIChOdW1iZXIpLFxuICAgKiBcInNoYWRvd09mZnNldFlcIiAoTnVtYmVyKSBhbmQgXCJzaGFkb3dCbHVyXCIgKE51bWJlcikgc2luY2UgdjEuMi4xMlxuICAgKiBAdHlwZSBmYWJyaWMuU2hhZG93XG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzaGFkb3c6IG51bGwsXG5cbiAgLyoqXG4gICAqIExpbmUgZW5kaW5ncyBzdHlsZSBvZiBhIGJydXNoIChvbmUgb2YgXCJidXR0XCIsIFwicm91bmRcIiwgXCJzcXVhcmVcIilcbiAgICogQHR5cGUgU3RyaW5nXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzdHJva2VMaW5lQ2FwOiAncm91bmQnLFxuXG4gIC8qKlxuICAgKiBDb3JuZXIgc3R5bGUgb2YgYSBicnVzaCAob25lIG9mIFwiYmV2ZWxcIiwgXCJyb3VuZFwiLCBcIm1pdGVyXCIpXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc3Ryb2tlTGluZUpvaW46ICdyb3VuZCcsXG5cbiAgLyoqXG4gICAqIE1heGltdW0gbWl0ZXIgbGVuZ3RoICh1c2VkIGZvciBzdHJva2VMaW5lSm9pbiA9IFwibWl0ZXJcIikgb2YgYSBicnVzaCdzXG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc3Ryb2tlTWl0ZXJMaW1pdDogICAgICAgICAxMCxcblxuICAvKipcbiAgICogU3Ryb2tlIERhc2ggQXJyYXkuXG4gICAqIEB0eXBlIEFycmF5XG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzdHJva2VEYXNoQXJyYXk6IG51bGwsXG5cbiAgLyoqXG4gICAqIFdoZW4gYHRydWVgLCB0aGUgZnJlZSBkcmF3aW5nIGlzIGxpbWl0ZWQgdG8gdGhlIHdoaXRlYm9hcmQgc2l6ZS4gRGVmYXVsdCB0byBmYWxzZS5cbiAgICogQHR5cGUgQm9vbGVhblxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAqL1xuXG4gIGxpbWl0ZWRUb0NhbnZhc1NpemU6IGZhbHNlLFxuXG5cbiAgLyoqXG4gICAqIFNldHMgYnJ1c2ggc3R5bGVzXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICovXG4gIF9zZXRCcnVzaFN0eWxlczogZnVuY3Rpb24gKGN0eCkge1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMud2lkdGg7XG4gICAgY3R4LmxpbmVDYXAgPSB0aGlzLnN0cm9rZUxpbmVDYXA7XG4gICAgY3R4Lm1pdGVyTGltaXQgPSB0aGlzLnN0cm9rZU1pdGVyTGltaXQ7XG4gICAgY3R4LmxpbmVKb2luID0gdGhpcy5zdHJva2VMaW5lSm9pbjtcbiAgICBjdHguc2V0TGluZURhc2godGhpcy5zdHJva2VEYXNoQXJyYXkgfHwgW10pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0cmFuc2Zvcm1hdGlvbiBvbiBnaXZlbiBjb250ZXh0XG4gICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dDJkfSBjdHggY29udGV4dCB0byByZW5kZXIgb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zYXZlQW5kVHJhbnNmb3JtOiBmdW5jdGlvbihjdHgpIHtcbiAgICB2YXIgdiA9IHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBicnVzaCBzaGFkb3cgc3R5bGVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0U2hhZG93OiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hhZG93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICBzaGFkb3cgPSB0aGlzLnNoYWRvdyxcbiAgICAgICAgY3R4ID0gY2FudmFzLmNvbnRleHRUb3AsXG4gICAgICAgIHpvb20gPSBjYW52YXMuZ2V0Wm9vbSgpO1xuICAgIGlmIChjYW52YXMgJiYgY2FudmFzLl9pc1JldGluYVNjYWxpbmcoKSkge1xuICAgICAgem9vbSAqPSBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICB9XG5cbiAgICBjdHguc2hhZG93Q29sb3IgPSBzaGFkb3cuY29sb3I7XG4gICAgY3R4LnNoYWRvd0JsdXIgPSBzaGFkb3cuYmx1ciAqIHpvb207XG4gICAgY3R4LnNoYWRvd09mZnNldFggPSBzaGFkb3cub2Zmc2V0WCAqIHpvb207XG4gICAgY3R4LnNoYWRvd09mZnNldFkgPSBzaGFkb3cub2Zmc2V0WSAqIHpvb207XG4gIH0sXG5cbiAgbmVlZHNGdWxsUmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpO1xuICAgIHJldHVybiBjb2xvci5nZXRBbHBoYSgpIDwgMSB8fCAhIXRoaXMuc2hhZG93O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGJydXNoIHNoYWRvdyBzdHlsZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXNldFNoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3A7XG5cbiAgICBjdHguc2hhZG93Q29sb3IgPSAnJztcbiAgICBjdHguc2hhZG93Qmx1ciA9IGN0eC5zaGFkb3dPZmZzZXRYID0gY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpcyBwb2ludGVyIGlzIG91dHNpZGUgY2FudmFzIGJvdW5kYXJpZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICogQHByaXZhdGVcbiAgKi9cbiAgX2lzT3V0U2lkZUNhbnZhczogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIHJldHVybiBwb2ludGVyLnggPCAwIHx8IHBvaW50ZXIueCA+IHRoaXMuY2FudmFzLmdldFdpZHRoKCkgfHwgcG9pbnRlci55IDwgMCB8fCBwb2ludGVyLnkgPiB0aGlzLmNhbnZhcy5nZXRIZWlnaHQoKTtcbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAvKipcbiAgICogUGVuY2lsQnJ1c2ggY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5QZW5jaWxCcnVzaFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuQmFzZUJydXNoXG4gICAqL1xuICBmYWJyaWMuUGVuY2lsQnJ1c2ggPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuQmFzZUJydXNoLCAvKiogQGxlbmRzIGZhYnJpYy5QZW5jaWxCcnVzaC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRGlzY2FyZCBwb2ludHMgdGhhdCBhcmUgbGVzcyB0aGFuIGBkZWNpbWF0ZWAgcGl4ZWwgZGlzdGFudCBmcm9tIGVhY2ggb3RoZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjRcbiAgICAgKi9cbiAgICBkZWNpbWF0ZTogMC40LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBzdHJhaWdodCBsaW5lIGJldHdlZW4gbGFzdCByZWNvcmRlZCBwb2ludCB0byBjdXJyZW50IHBvaW50ZXJcbiAgICAgKiBVc2VkIGZvciBgc2hpZnRgIGZ1bmN0aW9uYWxpdHlcbiAgICAgKlxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGRyYXdTdHJhaWdodExpbmU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IG1vZGlmaWVyIGtleSB0aGF0IG1ha2VzIHRoZSBicnVzaCBkcmF3IGEgc3RyYWlnaHQgbGluZS5cbiAgICAgKiBJZiBgbnVsbGAgb3IgJ25vbmUnIG9yIGFueSBvdGhlciBzdHJpbmcgdGhhdCBpcyBub3QgYSBtb2RpZmllciBrZXkgdGhlIGZlYXR1cmUgaXMgZGlzYWJsZWQuXG4gICAgICogQHR5cGUgeydhbHRLZXknIHwgJ3NoaWZ0S2V5JyB8ICdjdHJsS2V5JyB8ICdub25lJyB8IHVuZGVmaW5lZCB8IG51bGx9XG4gICAgICovXG4gICAgc3RyYWlnaHRMaW5lS2V5OiAnc2hpZnRLZXknLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5DYW52YXN9IGNhbnZhc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5QZW5jaWxCcnVzaH0gSW5zdGFuY2Ugb2YgYSBwZW5jaWwgYnJ1c2hcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgdGhpcy5fcG9pbnRzID0gW107XG4gICAgfSxcblxuICAgIG5lZWRzRnVsbFJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbFN1cGVyKCduZWVkc0Z1bGxSZW5kZXInKSB8fCB0aGlzLl9oYXNTdHJhaWdodExpbmU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgaW5zaWRlIG9uIG1vdXNlIGRvd24gYW5kIG1vdXNlIG1vdmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgICAqL1xuICAgIF9kcmF3U2VnbWVudDogZnVuY3Rpb24gKGN0eCwgcDEsIHAyKSB7XG4gICAgICB2YXIgbWlkUG9pbnQgPSBwMS5taWRQb2ludEZyb20ocDIpO1xuICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8ocDEueCwgcDEueSwgbWlkUG9pbnQueCwgbWlkUG9pbnQueSk7XG4gICAgICByZXR1cm4gbWlkUG9pbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gbW91c2UgZG93blxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAgICovXG4gICAgb25Nb3VzZURvd246IGZ1bmN0aW9uKHBvaW50ZXIsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5jYW52YXMuX2lzTWFpbkV2ZW50KG9wdGlvbnMuZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5kcmF3U3RyYWlnaHRMaW5lID0gb3B0aW9ucy5lW3RoaXMuc3RyYWlnaHRMaW5lS2V5XTtcbiAgICAgIHRoaXMuX3ByZXBhcmVGb3JEcmF3aW5nKHBvaW50ZXIpO1xuICAgICAgLy8gY2FwdHVyZSBjb29yZGluYXRlcyBpbW1lZGlhdGVseVxuICAgICAgLy8gdGhpcyBhbGxvd3MgdG8gZHJhdyBkb3RzICh3aGVuIG1vdmVtZW50IG5ldmVyIG9jY3VycylcbiAgICAgIHRoaXMuX2NhcHR1cmVEcmF3aW5nUGF0aChwb2ludGVyKTtcbiAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIG1vdXNlIG1vdmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgICAqL1xuICAgIG9uTW91c2VNb3ZlOiBmdW5jdGlvbihwb2ludGVyLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzLl9pc01haW5FdmVudChvcHRpb25zLmUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhd1N0cmFpZ2h0TGluZSA9IG9wdGlvbnMuZVt0aGlzLnN0cmFpZ2h0TGluZUtleV07XG4gICAgICBpZiAodGhpcy5saW1pdGVkVG9DYW52YXNTaXplID09PSB0cnVlICYmIHRoaXMuX2lzT3V0U2lkZUNhbnZhcyhwb2ludGVyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fY2FwdHVyZURyYXdpbmdQYXRoKHBvaW50ZXIpICYmIHRoaXMuX3BvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICh0aGlzLm5lZWRzRnVsbFJlbmRlcigpKSB7XG4gICAgICAgICAgLy8gcmVkcmF3IGN1cnZlXG4gICAgICAgICAgLy8gY2xlYXIgdG9wIGNhbnZhc1xuICAgICAgICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5fcG9pbnRzLCBsZW5ndGggPSBwb2ludHMubGVuZ3RoLCBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuICAgICAgICAgIC8vIGRyYXcgdGhlIGN1cnZlIHVwZGF0ZVxuICAgICAgICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgICAgICBpZiAodGhpcy5vbGRFbmQpIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy5vbGRFbmQueCwgdGhpcy5vbGRFbmQueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMub2xkRW5kID0gdGhpcy5fZHJhd1NlZ21lbnQoY3R4LCBwb2ludHNbbGVuZ3RoIC0gMl0sIHBvaW50c1tsZW5ndGggLSAxXSwgdHJ1ZSk7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBtb3VzZSB1cFxuICAgICAqL1xuICAgIG9uTW91c2VVcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcy5faXNNYWluRXZlbnQob3B0aW9ucy5lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhd1N0cmFpZ2h0TGluZSA9IGZhbHNlO1xuICAgICAgdGhpcy5vbGRFbmQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9maW5hbGl6ZUFuZEFkZFBhdGgoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciBBY3R1YWwgbW91c2UgcG9zaXRpb24gcmVsYXRlZCB0byB0aGUgY2FudmFzLlxuICAgICAqL1xuICAgIF9wcmVwYXJlRm9yRHJhd2luZzogZnVuY3Rpb24ocG9pbnRlcikge1xuXG4gICAgICB2YXIgcCA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpO1xuXG4gICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgdGhpcy5fYWRkUG9pbnQocCk7XG4gICAgICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLm1vdmVUbyhwLngsIHAueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFBvaW50IHRvIGJlIGFkZGVkIHRvIHBvaW50cyBhcnJheVxuICAgICAqL1xuICAgIF9hZGRQb2ludDogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgIGlmICh0aGlzLl9wb2ludHMubGVuZ3RoID4gMSAmJiBwb2ludC5lcSh0aGlzLl9wb2ludHNbdGhpcy5fcG9pbnRzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kcmF3U3RyYWlnaHRMaW5lICYmIHRoaXMuX3BvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMuX2hhc1N0cmFpZ2h0TGluZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BvaW50cy5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3BvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBwb2ludHMgYXJyYXkgYW5kIHNldCBjb250ZXh0VG9wIGNhbnZhcyBzdHlsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9wb2ludHMgPSBbXTtcbiAgICAgIHRoaXMuX3NldEJydXNoU3R5bGVzKHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgICAgdGhpcy5fc2V0U2hhZG93KCk7XG4gICAgICB0aGlzLl9oYXNTdHJhaWdodExpbmUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciBBY3R1YWwgbW91c2UgcG9zaXRpb24gcmVsYXRlZCB0byB0aGUgY2FudmFzLlxuICAgICAqL1xuICAgIF9jYXB0dXJlRHJhd2luZ1BhdGg6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICAgIHZhciBwb2ludGVyUG9pbnQgPSBuZXcgZmFicmljLlBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRQb2ludChwb2ludGVyUG9pbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc21vb3RoIHBhdGggb24gdGhlIHRvcENhbnZhcyB1c2luZyBxdWFkcmF0aWNDdXJ2ZVRvXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gW2N0eF1cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBpLCBsZW4sXG4gICAgICAgICAgcDEgPSB0aGlzLl9wb2ludHNbMF0sXG4gICAgICAgICAgcDIgPSB0aGlzLl9wb2ludHNbMV07XG4gICAgICBjdHggPSBjdHggfHwgdGhpcy5jYW52YXMuY29udGV4dFRvcDtcbiAgICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIC8vaWYgd2Ugb25seSBoYXZlIDIgcG9pbnRzIGluIHRoZSBwYXRoIGFuZCB0aGV5IGFyZSB0aGUgc2FtZVxuICAgICAgLy9pdCBtZWFucyB0aGF0IHRoZSB1c2VyIG9ubHkgY2xpY2tlZCB0aGUgY2FudmFzIHdpdGhvdXQgbW92aW5nIHRoZSBtb3VzZVxuICAgICAgLy90aGVuIHdlIHNob3VsZCBiZSBkcmF3aW5nIGEgZG90LiBBIHBhdGggaXNuJ3QgZHJhd24gYmV0d2VlbiB0d28gaWRlbnRpY2FsIGRvdHNcbiAgICAgIC8vdGhhdCdzIHdoeSB3ZSBzZXQgdGhlbSBhcGFydCBhIGJpdFxuICAgICAgaWYgKHRoaXMuX3BvaW50cy5sZW5ndGggPT09IDIgJiYgcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGggLyAxMDAwO1xuICAgICAgICBwMSA9IG5ldyBmYWJyaWMuUG9pbnQocDEueCwgcDEueSk7XG4gICAgICAgIHAyID0gbmV3IGZhYnJpYy5Qb2ludChwMi54LCBwMi55KTtcbiAgICAgICAgcDEueCAtPSB3aWR0aDtcbiAgICAgICAgcDIueCArPSB3aWR0aDtcbiAgICAgIH1cbiAgICAgIGN0eC5tb3ZlVG8ocDEueCwgcDEueSk7XG5cbiAgICAgIGZvciAoaSA9IDEsIGxlbiA9IHRoaXMuX3BvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyB3ZSBwaWNrIHRoZSBwb2ludCBiZXR3ZWVuIHBpICsgMSAmIHBpICsgMiBhcyB0aGVcbiAgICAgICAgLy8gZW5kIHBvaW50IGFuZCBwMSBhcyBvdXIgY29udHJvbCBwb2ludC5cbiAgICAgICAgdGhpcy5fZHJhd1NlZ21lbnQoY3R4LCBwMSwgcDIpO1xuICAgICAgICBwMSA9IHRoaXMuX3BvaW50c1tpXTtcbiAgICAgICAgcDIgPSB0aGlzLl9wb2ludHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gRHJhdyBsYXN0IGxpbmUgYXMgYSBzdHJhaWdodCBsaW5lIHdoaWxlXG4gICAgICAvLyB3ZSB3YWl0IGZvciB0aGUgbmV4dCBwb2ludCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZVxuICAgICAgLy8gdGhlIGJlemllciBjb250cm9sIHBvaW50XG4gICAgICBjdHgubGluZVRvKHAxLngsIHAxLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgcG9pbnRzIHRvIFNWRyBwYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFycmF5IG9mIHBvaW50c1xuICAgICAqIEByZXR1cm4geyhzdHJpbmd8bnVtYmVyKVtdW119IFNWRyBwYXRoIGNvbW1hbmRzXG4gICAgICovXG4gICAgY29udmVydFBvaW50c1RvU1ZHUGF0aDogZnVuY3Rpb24gKHBvaW50cykge1xuICAgICAgdmFyIGNvcnJlY3Rpb24gPSB0aGlzLndpZHRoIC8gMTAwMDtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5nZXRTbW9vdGhQYXRoRnJvbVBvaW50cyhwb2ludHMsIGNvcnJlY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpW11bXX0gcGF0aERhdGEgU1ZHIHBhdGggY29tbWFuZHNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfaXNFbXB0eVNWR1BhdGg6IGZ1bmN0aW9uIChwYXRoRGF0YSkge1xuICAgICAgdmFyIHBhdGhTdHJpbmcgPSBmYWJyaWMudXRpbC5qb2luUGF0aChwYXRoRGF0YSk7XG4gICAgICByZXR1cm4gcGF0aFN0cmluZyA9PT0gJ00gMCAwIFEgMCAwIDAgMCBMIDAgMCc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgZmFicmljLlBhdGggb2JqZWN0IHRvIGFkZCBvbiBjYW52YXNcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdW119IHBhdGhEYXRhIFBhdGggZGF0YVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5QYXRofSBQYXRoIHRvIGFkZCBvbiBjYW52YXNcbiAgICAgKi9cbiAgICBjcmVhdGVQYXRoOiBmdW5jdGlvbihwYXRoRGF0YSkge1xuICAgICAgdmFyIHBhdGggPSBuZXcgZmFicmljLlBhdGgocGF0aERhdGEsIHtcbiAgICAgICAgZmlsbDogbnVsbCxcbiAgICAgICAgc3Ryb2tlOiB0aGlzLmNvbG9yLFxuICAgICAgICBzdHJva2VXaWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgc3Ryb2tlTGluZUNhcDogdGhpcy5zdHJva2VMaW5lQ2FwLFxuICAgICAgICBzdHJva2VNaXRlckxpbWl0OiB0aGlzLnN0cm9rZU1pdGVyTGltaXQsXG4gICAgICAgIHN0cm9rZUxpbmVKb2luOiB0aGlzLnN0cm9rZUxpbmVKb2luLFxuICAgICAgICBzdHJva2VEYXNoQXJyYXk6IHRoaXMuc3Ryb2tlRGFzaEFycmF5LFxuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5zaGFkb3cpIHtcbiAgICAgICAgdGhpcy5zaGFkb3cuYWZmZWN0U3Ryb2tlID0gdHJ1ZTtcbiAgICAgICAgcGF0aC5zaGFkb3cgPSBuZXcgZmFicmljLlNoYWRvdyh0aGlzLnNoYWRvdyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpbWF0ZSBwb2ludHMgYXJyYXkgd2l0aCB0aGUgZGVjaW1hdGUgdmFsdWVcbiAgICAgKi9cbiAgICBkZWNpbWF0ZVBvaW50czogZnVuY3Rpb24ocG9pbnRzLCBkaXN0YW5jZSkge1xuICAgICAgaWYgKHBvaW50cy5sZW5ndGggPD0gMikge1xuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgICAgfVxuICAgICAgdmFyIHpvb20gPSB0aGlzLmNhbnZhcy5nZXRab29tKCksIGFkanVzdGVkRGlzdGFuY2UgPSBNYXRoLnBvdyhkaXN0YW5jZSAvIHpvb20sIDIpLFxuICAgICAgICAgIGksIGwgPSBwb2ludHMubGVuZ3RoIC0gMSwgbGFzdFBvaW50ID0gcG9pbnRzWzBdLCBuZXdQb2ludHMgPSBbbGFzdFBvaW50XSxcbiAgICAgICAgICBjRGlzdGFuY2U7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbCAtIDE7IGkrKykge1xuICAgICAgICBjRGlzdGFuY2UgPSBNYXRoLnBvdyhsYXN0UG9pbnQueCAtIHBvaW50c1tpXS54LCAyKSArIE1hdGgucG93KGxhc3RQb2ludC55IC0gcG9pbnRzW2ldLnksIDIpO1xuICAgICAgICBpZiAoY0Rpc3RhbmNlID49IGFkanVzdGVkRGlzdGFuY2UpIHtcbiAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgbmV3UG9pbnRzLnB1c2gobGFzdFBvaW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgdGhlIGxhc3QgcG9pbnQgZnJvbSB0aGUgb3JpZ2luYWwgbGluZSB0byB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICAgICAqIFRoaXMgZW5zdXJlcyBkZWNpbWF0ZSBkb2Vzbid0IGRlbGV0ZSB0aGUgbGFzdCBwb2ludCBvbiB0aGUgbGluZSwgYW5kIGVuc3VyZXMgdGhlIGxpbmUgaXMgPiAxIHBvaW50LlxuICAgICAgICovXG4gICAgICBuZXdQb2ludHMucHVzaChwb2ludHNbbF0pO1xuICAgICAgcmV0dXJuIG5ld1BvaW50cztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogT24gbW91c2V1cCBhZnRlciBkcmF3aW5nIHRoZSBwYXRoIG9uIGNvbnRleHRUb3AgY2FudmFzXG4gICAgICogd2UgdXNlIHRoZSBwb2ludHMgY2FwdHVyZWQgdG8gY3JlYXRlIGFuIG5ldyBmYWJyaWMgcGF0aCBvYmplY3RcbiAgICAgKiBhbmQgYWRkIGl0IHRvIHRoZSBmYWJyaWMgY2FudmFzLlxuICAgICAqL1xuICAgIF9maW5hbGl6ZUFuZEFkZFBhdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3A7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBpZiAodGhpcy5kZWNpbWF0ZSkge1xuICAgICAgICB0aGlzLl9wb2ludHMgPSB0aGlzLmRlY2ltYXRlUG9pbnRzKHRoaXMuX3BvaW50cywgdGhpcy5kZWNpbWF0ZSk7XG4gICAgICB9XG4gICAgICB2YXIgcGF0aERhdGEgPSB0aGlzLmNvbnZlcnRQb2ludHNUb1NWR1BhdGgodGhpcy5fcG9pbnRzKTtcbiAgICAgIGlmICh0aGlzLl9pc0VtcHR5U1ZHUGF0aChwYXRoRGF0YSkpIHtcbiAgICAgICAgLy8gZG8gbm90IGNyZWF0ZSAwIHdpZHRoL2hlaWdodCBwYXRocywgYXMgdGhleSBhcmVcbiAgICAgICAgLy8gcmVuZGVyZWQgaW5jb25zaXN0ZW50bHkgYWNyb3NzIGJyb3dzZXJzXG4gICAgICAgIC8vIEZpcmVmb3ggNCwgZm9yIGV4YW1wbGUsIHJlbmRlcnMgYSBkb3QsXG4gICAgICAgIC8vIHdoZXJlYXMgQ2hyb21lIDEwIHJlbmRlcnMgbm90aGluZ1xuICAgICAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhdGggPSB0aGlzLmNyZWF0ZVBhdGgocGF0aERhdGEpO1xuICAgICAgdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgICAgdGhpcy5jYW52YXMuZmlyZSgnYmVmb3JlOnBhdGg6Y3JlYXRlZCcsIHsgcGF0aDogcGF0aCB9KTtcbiAgICAgIHRoaXMuY2FudmFzLmFkZChwYXRoKTtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHBhdGguc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLl9yZXNldFNoYWRvdygpO1xuXG5cbiAgICAgIC8vIGZpcmUgZXZlbnQgJ3BhdGgnIGNyZWF0ZWRcbiAgICAgIHRoaXMuY2FudmFzLmZpcmUoJ3BhdGg6Y3JlYXRlZCcsIHsgcGF0aDogcGF0aCB9KTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG4vKipcbiAqIENpcmNsZUJydXNoIGNsYXNzXG4gKiBAY2xhc3MgZmFicmljLkNpcmNsZUJydXNoXG4gKi9cbmZhYnJpYy5DaXJjbGVCcnVzaCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5CYXNlQnJ1c2gsIC8qKiBAbGVuZHMgZmFicmljLkNpcmNsZUJydXNoLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIFdpZHRoIG9mIGEgYnJ1c2hcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB3aWR0aDogMTAsXG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7ZmFicmljLkNhbnZhc30gY2FudmFzXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DaXJjbGVCcnVzaH0gSW5zdGFuY2Ugb2YgYSBjaXJjbGUgYnJ1c2hcbiAgICovXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgIHRoaXMucG9pbnRzID0gW107XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgaW5zaWRlIG9uIG1vdXNlIGRvd24gYW5kIG1vdXNlIG1vdmVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIGRyYXdEb3Q6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB2YXIgcG9pbnQgPSB0aGlzLmFkZFBvaW50KHBvaW50ZXIpLFxuICAgICAgICBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICB0aGlzLmRvdChjdHgsIHBvaW50KTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9LFxuXG4gIGRvdDogZnVuY3Rpb24oY3R4LCBwb2ludCkge1xuICAgIGN0eC5maWxsU3R5bGUgPSBwb2ludC5maWxsO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHBvaW50LngsIHBvaW50LnksIHBvaW50LnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSBkb3duXG4gICAqL1xuICBvbk1vdXNlRG93bjogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgIHRoaXMuX3NldFNoYWRvdygpO1xuICAgIHRoaXMuZHJhd0RvdChwb2ludGVyKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBmdWxsIHN0YXRlIG9mIHRoZSBicnVzaFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN0eCAgPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCBpLCBsZW4sXG4gICAgICAgIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuZG90KGN0eCwgcG9pbnRzW2ldKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSBtb3ZlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqL1xuICBvbk1vdXNlTW92ZTogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIGlmICh0aGlzLmxpbWl0ZWRUb0NhbnZhc1NpemUgPT09IHRydWUgJiYgdGhpcy5faXNPdXRTaWRlQ2FudmFzKHBvaW50ZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLm5lZWRzRnVsbFJlbmRlcigpKSB7XG4gICAgICB0aGlzLmNhbnZhcy5jbGVhckNvbnRleHQodGhpcy5jYW52YXMuY29udGV4dFRvcCk7XG4gICAgICB0aGlzLmFkZFBvaW50KHBvaW50ZXIpO1xuICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kcmF3RG90KHBvaW50ZXIpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSB1cFxuICAgKi9cbiAgb25Nb3VzZVVwOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZSA9IHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlLCBpLCBsZW47XG4gICAgdGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmUgPSBmYWxzZTtcblxuICAgIHZhciBjaXJjbGVzID0gW107XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLnBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIHBvaW50ID0gdGhpcy5wb2ludHNbaV0sXG4gICAgICAgICAgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICAgICAgICAgICAgcmFkaXVzOiBwb2ludC5yYWRpdXMsXG4gICAgICAgICAgICBsZWZ0OiBwb2ludC54LFxuICAgICAgICAgICAgdG9wOiBwb2ludC55LFxuICAgICAgICAgICAgb3JpZ2luWDogJ2NlbnRlcicsXG4gICAgICAgICAgICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGZpbGw6IHBvaW50LmZpbGxcbiAgICAgICAgICB9KTtcblxuICAgICAgdGhpcy5zaGFkb3cgJiYgKGNpcmNsZS5zaGFkb3cgPSBuZXcgZmFicmljLlNoYWRvdyh0aGlzLnNoYWRvdykpO1xuXG4gICAgICBjaXJjbGVzLnB1c2goY2lyY2xlKTtcbiAgICB9XG4gICAgdmFyIGdyb3VwID0gbmV3IGZhYnJpYy5Hcm91cChjaXJjbGVzKTtcbiAgICBncm91cC5jYW52YXMgPSB0aGlzLmNhbnZhcztcblxuICAgIHRoaXMuY2FudmFzLmZpcmUoJ2JlZm9yZTpwYXRoOmNyZWF0ZWQnLCB7IHBhdGg6IGdyb3VwIH0pO1xuICAgIHRoaXMuY2FudmFzLmFkZChncm91cCk7XG4gICAgdGhpcy5jYW52YXMuZmlyZSgncGF0aDpjcmVhdGVkJywgeyBwYXRoOiBncm91cCB9KTtcblxuICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICB0aGlzLl9yZXNldFNoYWRvdygpO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlID0gb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZTtcbiAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gSnVzdCBhZGRlZCBwb2ludGVyIHBvaW50XG4gICAqL1xuICBhZGRQb2ludDogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIHZhciBwb2ludGVyUG9pbnQgPSBuZXcgZmFicmljLlBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KSxcblxuICAgICAgICBjaXJjbGVSYWRpdXMgPSBmYWJyaWMudXRpbC5nZXRSYW5kb21JbnQoXG4gICAgICAgICAgTWF0aC5tYXgoMCwgdGhpcy53aWR0aCAtIDIwKSwgdGhpcy53aWR0aCArIDIwKSAvIDIsXG5cbiAgICAgICAgY2lyY2xlQ29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpXG4gICAgICAgICAgLnNldEFscGhhKGZhYnJpYy51dGlsLmdldFJhbmRvbUludCgwLCAxMDApIC8gMTAwKVxuICAgICAgICAgIC50b1JnYmEoKTtcblxuICAgIHBvaW50ZXJQb2ludC5yYWRpdXMgPSBjaXJjbGVSYWRpdXM7XG4gICAgcG9pbnRlclBvaW50LmZpbGwgPSBjaXJjbGVDb2xvcjtcblxuICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnRlclBvaW50KTtcblxuICAgIHJldHVybiBwb2ludGVyUG9pbnQ7XG4gIH1cbn0pO1xuXG5cbi8qKlxuICogU3ByYXlCcnVzaCBjbGFzc1xuICogQGNsYXNzIGZhYnJpYy5TcHJheUJydXNoXG4gKi9cbmZhYnJpYy5TcHJheUJydXNoID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoIGZhYnJpYy5CYXNlQnJ1c2gsIC8qKiBAbGVuZHMgZmFicmljLlNwcmF5QnJ1c2gucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogV2lkdGggb2YgYSBzcHJheVxuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHdpZHRoOiAgICAgICAgICAgICAgMTAsXG5cbiAgLyoqXG4gICAqIERlbnNpdHkgb2YgYSBzcHJheSAobnVtYmVyIG9mIGRvdHMgcGVyIGNodW5rKVxuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIGRlbnNpdHk6ICAgICAgICAgICAgMjAsXG5cbiAgLyoqXG4gICAqIFdpZHRoIG9mIHNwcmF5IGRvdHNcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBkb3RXaWR0aDogICAgICAgICAgIDEsXG5cbiAgLyoqXG4gICAqIFdpZHRoIHZhcmlhbmNlIG9mIHNwcmF5IGRvdHNcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBkb3RXaWR0aFZhcmlhbmNlOiAgIDEsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3BhY2l0eSBvZiBhIGRvdCBzaG91bGQgYmUgcmFuZG9tXG4gICAqIEB0eXBlIEJvb2xlYW5cbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHJhbmRvbU9wYWNpdHk6ICAgICAgICBmYWxzZSxcblxuICAvKipcbiAgICogV2hldGhlciBvdmVybGFwcGluZyBkb3RzIChyZWN0YW5nbGVzKSBzaG91bGQgYmUgcmVtb3ZlZCAoZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMpXG4gICAqIEB0eXBlIEJvb2xlYW5cbiAgICogQGRlZmF1bHRcbiAgICovXG4gIG9wdGltaXplT3ZlcmxhcHBpbmc6ICB0cnVlLFxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge2ZhYnJpYy5DYW52YXN9IGNhbnZhc1xuICAgKiBAcmV0dXJuIHtmYWJyaWMuU3ByYXlCcnVzaH0gSW5zdGFuY2Ugb2YgYSBzcHJheSBicnVzaFxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5zcHJheUNodW5rcyA9IFtdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIG1vdXNlIGRvd25cbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIG9uTW91c2VEb3duOiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgdGhpcy5zcHJheUNodW5rcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICB0aGlzLl9zZXRTaGFkb3coKTtcblxuICAgIHRoaXMuYWRkU3ByYXlDaHVuayhwb2ludGVyKTtcbiAgICB0aGlzLnJlbmRlcih0aGlzLnNwcmF5Q2h1bmtQb2ludHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIG1vdXNlIG1vdmVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIG9uTW91c2VNb3ZlOiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgaWYgKHRoaXMubGltaXRlZFRvQ2FudmFzU2l6ZSA9PT0gdHJ1ZSAmJiB0aGlzLl9pc091dFNpZGVDYW52YXMocG9pbnRlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hZGRTcHJheUNodW5rKHBvaW50ZXIpO1xuICAgIHRoaXMucmVuZGVyKHRoaXMuc3ByYXlDaHVua1BvaW50cyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgb24gbW91c2UgdXBcbiAgICovXG4gIG9uTW91c2VVcDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9yaWdpbmFsUmVuZGVyT25BZGRSZW1vdmUgPSB0aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZSA9IGZhbHNlO1xuXG4gICAgdmFyIHJlY3RzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWxlbiA9IHRoaXMuc3ByYXlDaHVua3MubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICB2YXIgc3ByYXlDaHVuayA9IHRoaXMuc3ByYXlDaHVua3NbaV07XG5cbiAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gc3ByYXlDaHVuay5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcblxuICAgICAgICB2YXIgcmVjdCA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gICAgICAgICAgd2lkdGg6IHNwcmF5Q2h1bmtbal0ud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBzcHJheUNodW5rW2pdLndpZHRoLFxuICAgICAgICAgIGxlZnQ6IHNwcmF5Q2h1bmtbal0ueCArIDEsXG4gICAgICAgICAgdG9wOiBzcHJheUNodW5rW2pdLnkgKyAxLFxuICAgICAgICAgIG9yaWdpblg6ICdjZW50ZXInLFxuICAgICAgICAgIG9yaWdpblk6ICdjZW50ZXInLFxuICAgICAgICAgIGZpbGw6IHRoaXMuY29sb3JcbiAgICAgICAgfSk7XG4gICAgICAgIHJlY3RzLnB1c2gocmVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW1pemVPdmVybGFwcGluZykge1xuICAgICAgcmVjdHMgPSB0aGlzLl9nZXRPcHRpbWl6ZWRSZWN0cyhyZWN0cyk7XG4gICAgfVxuXG4gICAgdmFyIGdyb3VwID0gbmV3IGZhYnJpYy5Hcm91cChyZWN0cyk7XG4gICAgdGhpcy5zaGFkb3cgJiYgZ3JvdXAuc2V0KCdzaGFkb3cnLCBuZXcgZmFicmljLlNoYWRvdyh0aGlzLnNoYWRvdykpO1xuICAgIHRoaXMuY2FudmFzLmZpcmUoJ2JlZm9yZTpwYXRoOmNyZWF0ZWQnLCB7IHBhdGg6IGdyb3VwIH0pO1xuICAgIHRoaXMuY2FudmFzLmFkZChncm91cCk7XG4gICAgdGhpcy5jYW52YXMuZmlyZSgncGF0aDpjcmVhdGVkJywgeyBwYXRoOiBncm91cCB9KTtcblxuICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICB0aGlzLl9yZXNldFNoYWRvdygpO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlID0gb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZTtcbiAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHJlY3RzXG4gICAqL1xuICBfZ2V0T3B0aW1pemVkUmVjdHM6IGZ1bmN0aW9uKHJlY3RzKSB7XG5cbiAgICAvLyBhdm9pZCBjcmVhdGluZyBkdXBsaWNhdGUgcmVjdHMgYXQgdGhlIHNhbWUgY29vcmRpbmF0ZXNcbiAgICB2YXIgdW5pcXVlUmVjdHMgPSB7IH0sIGtleSwgaSwgbGVuO1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gcmVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IHJlY3RzW2ldLmxlZnQgKyAnJyArIHJlY3RzW2ldLnRvcDtcbiAgICAgIGlmICghdW5pcXVlUmVjdHNba2V5XSkge1xuICAgICAgICB1bmlxdWVSZWN0c1trZXldID0gcmVjdHNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB1bmlxdWVSZWN0c0FycmF5ID0gW107XG4gICAgZm9yIChrZXkgaW4gdW5pcXVlUmVjdHMpIHtcbiAgICAgIHVuaXF1ZVJlY3RzQXJyYXkucHVzaCh1bmlxdWVSZWN0c1trZXldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pcXVlUmVjdHNBcnJheTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIG5ldyBjaHVuayBvZiBzcHJheSBicnVzaFxuICAgKi9cbiAgcmVuZGVyOiBmdW5jdGlvbihzcHJheUNodW5rKSB7XG4gICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3AsIGksIGxlbjtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcblxuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IHNwcmF5Q2h1bmsubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBwb2ludCA9IHNwcmF5Q2h1bmtbaV07XG4gICAgICBpZiAodHlwZW9mIHBvaW50Lm9wYWNpdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHBvaW50Lm9wYWNpdHk7XG4gICAgICB9XG4gICAgICBjdHguZmlsbFJlY3QocG9pbnQueCwgcG9pbnQueSwgcG9pbnQud2lkdGgsIHBvaW50LndpZHRoKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIGFsbCBzcHJheSBjaHVua3NcbiAgICovXG4gIF9yZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCBpLCBpbGVuO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuXG4gICAgdGhpcy5fc2F2ZUFuZFRyYW5zZm9ybShjdHgpO1xuXG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHRoaXMuc3ByYXlDaHVua3MubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICB0aGlzLnJlbmRlcih0aGlzLnNwcmF5Q2h1bmtzW2ldKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIGFkZFNwcmF5Q2h1bms6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB0aGlzLnNwcmF5Q2h1bmtQb2ludHMgPSBbXTtcblxuICAgIHZhciB4LCB5LCB3aWR0aCwgcmFkaXVzID0gdGhpcy53aWR0aCAvIDIsIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5kZW5zaXR5OyBpKyspIHtcblxuICAgICAgeCA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludChwb2ludGVyLnggLSByYWRpdXMsIHBvaW50ZXIueCArIHJhZGl1cyk7XG4gICAgICB5ID0gZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KHBvaW50ZXIueSAtIHJhZGl1cywgcG9pbnRlci55ICsgcmFkaXVzKTtcblxuICAgICAgaWYgKHRoaXMuZG90V2lkdGhWYXJpYW5jZSkge1xuICAgICAgICB3aWR0aCA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludChcbiAgICAgICAgICAvLyBib3R0b20gY2xhbXAgd2lkdGggdG8gMVxuICAgICAgICAgIE1hdGgubWF4KDEsIHRoaXMuZG90V2lkdGggLSB0aGlzLmRvdFdpZHRoVmFyaWFuY2UpLFxuICAgICAgICAgIHRoaXMuZG90V2lkdGggKyB0aGlzLmRvdFdpZHRoVmFyaWFuY2UpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdpZHRoID0gdGhpcy5kb3RXaWR0aDtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ID0gbmV3IGZhYnJpYy5Qb2ludCh4LCB5KTtcbiAgICAgIHBvaW50LndpZHRoID0gd2lkdGg7XG5cbiAgICAgIGlmICh0aGlzLnJhbmRvbU9wYWNpdHkpIHtcbiAgICAgICAgcG9pbnQub3BhY2l0eSA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludCgwLCAxMDApIC8gMTAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNwcmF5Q2h1bmtQb2ludHMucHVzaChwb2ludCk7XG4gICAgfVxuXG4gICAgdGhpcy5zcHJheUNodW5rcy5wdXNoKHRoaXMuc3ByYXlDaHVua1BvaW50cyk7XG4gIH1cbn0pO1xuXG5cbi8qKlxuICogUGF0dGVybkJydXNoIGNsYXNzXG4gKiBAY2xhc3MgZmFicmljLlBhdHRlcm5CcnVzaFxuICogQGV4dGVuZHMgZmFicmljLkJhc2VCcnVzaFxuICovXG5mYWJyaWMuUGF0dGVybkJydXNoID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLlBlbmNpbEJydXNoLCAvKiogQGxlbmRzIGZhYnJpYy5QYXR0ZXJuQnJ1c2gucHJvdG90eXBlICovIHtcblxuICBnZXRQYXR0ZXJuU3JjOiBmdW5jdGlvbigpIHtcblxuICAgIHZhciBkb3RXaWR0aCA9IDIwLFxuICAgICAgICBkb3REaXN0YW5jZSA9IDUsXG4gICAgICAgIHBhdHRlcm5DYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksXG4gICAgICAgIHBhdHRlcm5DdHggPSBwYXR0ZXJuQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBwYXR0ZXJuQ2FudmFzLndpZHRoID0gcGF0dGVybkNhbnZhcy5oZWlnaHQgPSBkb3RXaWR0aCArIGRvdERpc3RhbmNlO1xuXG4gICAgcGF0dGVybkN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIHBhdHRlcm5DdHguYmVnaW5QYXRoKCk7XG4gICAgcGF0dGVybkN0eC5hcmMoZG90V2lkdGggLyAyLCBkb3RXaWR0aCAvIDIsIGRvdFdpZHRoIC8gMiwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcbiAgICBwYXR0ZXJuQ3R4LmNsb3NlUGF0aCgpO1xuICAgIHBhdHRlcm5DdHguZmlsbCgpO1xuXG4gICAgcmV0dXJuIHBhdHRlcm5DYW52YXM7XG4gIH0sXG5cbiAgZ2V0UGF0dGVyblNyY0Z1bmN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMuZ2V0UGF0dGVyblNyYykucmVwbGFjZSgndGhpcy5jb2xvcicsICdcIicgKyB0aGlzLmNvbG9yICsgJ1wiJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgXCJwYXR0ZXJuXCIgaW5zdGFuY2UgcHJvcGVydHlcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eFxuICAgKi9cbiAgZ2V0UGF0dGVybjogZnVuY3Rpb24oY3R4KSB7XG4gICAgcmV0dXJuIGN0eC5jcmVhdGVQYXR0ZXJuKHRoaXMuc291cmNlIHx8IHRoaXMuZ2V0UGF0dGVyblNyYygpLCAncmVwZWF0Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYnJ1c2ggc3R5bGVzXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICovXG4gIF9zZXRCcnVzaFN0eWxlczogZnVuY3Rpb24oY3R4KSB7XG4gICAgdGhpcy5jYWxsU3VwZXIoJ19zZXRCcnVzaFN0eWxlcycsIGN0eCk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5nZXRQYXR0ZXJuKGN0eCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgcGF0aFxuICAgKi9cbiAgY3JlYXRlUGF0aDogZnVuY3Rpb24ocGF0aERhdGEpIHtcbiAgICB2YXIgcGF0aCA9IHRoaXMuY2FsbFN1cGVyKCdjcmVhdGVQYXRoJywgcGF0aERhdGEpLFxuICAgICAgICB0b3BMZWZ0ID0gcGF0aC5fZ2V0TGVmdFRvcENvb3JkcygpLnNjYWxhckFkZChwYXRoLnN0cm9rZVdpZHRoIC8gMik7XG5cbiAgICBwYXRoLnN0cm9rZSA9IG5ldyBmYWJyaWMuUGF0dGVybih7XG4gICAgICBzb3VyY2U6IHRoaXMuc291cmNlIHx8IHRoaXMuZ2V0UGF0dGVyblNyY0Z1bmN0aW9uKCksXG4gICAgICBvZmZzZXRYOiAtdG9wTGVmdC54LFxuICAgICAgb2Zmc2V0WTogLXRvcExlZnQueVxuICAgIH0pO1xuICAgIHJldHVybiBwYXRoO1xuICB9XG59KTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGdldFBvaW50ZXIgPSBmYWJyaWMudXRpbC5nZXRQb2ludGVyLFxuICAgICAgZGVncmVlc1RvUmFkaWFucyA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMsXG4gICAgICBpc1RvdWNoRXZlbnQgPSBmYWJyaWMudXRpbC5pc1RvdWNoRXZlbnQ7XG5cbiAgLyoqXG4gICAqIENhbnZhcyBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkNhbnZhc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0xI2NhbnZhc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkNhbnZhcyNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKlxuICAgKiBAZmlyZXMgb2JqZWN0Om1vZGlmaWVkIGF0IHRoZSBlbmQgb2YgYSB0cmFuc2Zvcm0gb3IgYW55IGNoYW5nZSB3aGVuIHN0YXRlZnVsbCBpcyB0cnVlXG4gICAqIEBmaXJlcyBvYmplY3Q6cm90YXRpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHJvdGF0ZWQgZnJvbSB0aGUgY29udHJvbFxuICAgKiBAZmlyZXMgb2JqZWN0OnNjYWxpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHNjYWxlZCBieSBjb250cm9sc1xuICAgKiBAZmlyZXMgb2JqZWN0Om1vdmluZyB3aGlsZSBhbiBvYmplY3QgaXMgYmVpbmcgZHJhZ2dlZFxuICAgKiBAZmlyZXMgb2JqZWN0OnNrZXdpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHNrZXdlZCBmcm9tIHRoZSBjb250cm9sc1xuICAgKlxuICAgKiBAZmlyZXMgYmVmb3JlOnRyYW5zZm9ybSBiZWZvcmUgYSB0cmFuc2Zvcm0gaXMgaXMgc3RhcnRlZFxuICAgKiBAZmlyZXMgYmVmb3JlOnNlbGVjdGlvbjpjbGVhcmVkXG4gICAqIEBmaXJlcyBzZWxlY3Rpb246Y2xlYXJlZFxuICAgKiBAZmlyZXMgc2VsZWN0aW9uOnVwZGF0ZWRcbiAgICogQGZpcmVzIHNlbGVjdGlvbjpjcmVhdGVkXG4gICAqXG4gICAqIEBmaXJlcyBwYXRoOmNyZWF0ZWQgYWZ0ZXIgYSBkcmF3aW5nIG9wZXJhdGlvbiBlbmRzIGFuZCB0aGUgcGF0aCBpcyBhZGRlZFxuICAgKiBAZmlyZXMgbW91c2U6ZG93blxuICAgKiBAZmlyZXMgbW91c2U6bW92ZVxuICAgKiBAZmlyZXMgbW91c2U6dXBcbiAgICogQGZpcmVzIG1vdXNlOmRvd246YmVmb3JlICBvbiBtb3VzZSBkb3duLCBiZWZvcmUgdGhlIGlubmVyIGZhYnJpYyBsb2dpYyBydW5zXG4gICAqIEBmaXJlcyBtb3VzZTptb3ZlOmJlZm9yZSBvbiBtb3VzZSBtb3ZlLCBiZWZvcmUgdGhlIGlubmVyIGZhYnJpYyBsb2dpYyBydW5zXG4gICAqIEBmaXJlcyBtb3VzZTp1cDpiZWZvcmUgb24gbW91c2UgdXAsIGJlZm9yZSB0aGUgaW5uZXIgZmFicmljIGxvZ2ljIHJ1bnNcbiAgICogQGZpcmVzIG1vdXNlOm92ZXJcbiAgICogQGZpcmVzIG1vdXNlOm91dFxuICAgKiBAZmlyZXMgbW91c2U6ZGJsY2xpY2sgd2hlbmV2ZXIgYSBuYXRpdmUgZGJsIGNsaWNrIGV2ZW50IGZpcmVzIG9uIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBmaXJlcyBkcmFnb3ZlclxuICAgKiBAZmlyZXMgZHJhZ2VudGVyXG4gICAqIEBmaXJlcyBkcmFnbGVhdmVcbiAgICogQGZpcmVzIGRyb3A6YmVmb3JlIGJlZm9yZSBkcm9wIGV2ZW50LiBzYW1lIG5hdGl2ZSBldmVudC4gVGhpcyBpcyBhZGRlZCB0byBoYW5kbGUgZWRnZSBjYXNlc1xuICAgKiBAZmlyZXMgZHJvcFxuICAgKiBAZmlyZXMgYWZ0ZXI6cmVuZGVyIGF0IHRoZSBlbmQgb2YgdGhlIHJlbmRlciBwcm9jZXNzLCByZWNlaXZlcyB0aGUgY29udGV4dCBpbiB0aGUgY2FsbGJhY2tcbiAgICogQGZpcmVzIGJlZm9yZTpyZW5kZXIgYXQgc3RhcnQgdGhlIHJlbmRlciBwcm9jZXNzLCByZWNlaXZlcyB0aGUgY29udGV4dCBpbiB0aGUgY2FsbGJhY2tcbiAgICpcbiAgICovXG4gIGZhYnJpYy5DYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuU3RhdGljQ2FudmFzLCAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFN0cmluZ30gZWwgJmx0O2NhbnZhcz4gZWxlbWVudCB0byBpbml0aWFsaXplIGluc3RhbmNlIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHRoaXMucmVuZGVyQW5kUmVzZXRCb3VuZCA9IHRoaXMucmVuZGVyQW5kUmVzZXQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMucmVxdWVzdFJlbmRlckFsbEJvdW5kID0gdGhpcy5yZXF1ZXN0UmVuZGVyQWxsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9pbml0U3RhdGljKGVsLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRJbnRlcmFjdGl2ZSgpO1xuICAgICAgdGhpcy5fY3JlYXRlQ2FjaGVDYW52YXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3RzIGNhbiBiZSB0cmFuc2Zvcm1lZCBieSBvbmUgc2lkZSAodW5wcm9wb3J0aW9uYWxseSlcbiAgICAgKiB3aGVuIGRyYWdnZWQgb24gdGhlIGNvcm5lcnMgdGhhdCBub3JtYWxseSB3b3VsZCBub3QgZG8gdGhhdC5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiBAc2luY2UgZmFicmljIDQuMCAvLyBjaGFuZ2VkIG5hbWUgYW5kIGRlZmF1bHQgdmFsdWVcbiAgICAgKi9cbiAgICB1bmlmb3JtU2NhbGluZzogICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGtleSBzd2l0Y2hlcyB1bmlmb3JtIHNjYWxpbmcuXG4gICAgICogdmFsdWVzOiAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLlxuICAgICAqIElmIGBudWxsYCBvciAnbm9uZScgb3IgYW55IG90aGVyIHN0cmluZyB0aGF0IGlzIG5vdCBhIG1vZGlmaWVyIGtleVxuICAgICAqIGZlYXR1cmUgaXMgZGlzYWJsZWQuXG4gICAgICogdG90YWxseSB3cm9uZyBuYW1lZC4gdGhpcyBzb3VuZHMgbGlrZSBgdW5pZm9ybSBzY2FsaW5nYFxuICAgICAqIGlmIENhbnZhcy51bmlmb3JtU2NhbGluZyBpcyB0cnVlLCBwcmVzc2luZyB0aGlzIHdpbGwgc2V0IGl0IHRvIGZhbHNlXG4gICAgICogYW5kIHZpY2V2ZXJzYS5cbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHVuaVNjYWxlS2V5OiAgICAgICAgICAgJ3NoaWZ0S2V5JyxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgb2JqZWN0cyB1c2UgY2VudGVyIHBvaW50IGFzIHRoZSBvcmlnaW4gb2Ygc2NhbGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcImNlbnRlclRyYW5zZm9ybVwiIChCb29sZWFuKS5cbiAgICAgKiBAc2luY2UgMS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjZW50ZXJlZFNjYWxpbmc6ICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgb2JqZWN0cyB1c2UgY2VudGVyIHBvaW50IGFzIHRoZSBvcmlnaW4gb2Ygcm90YXRlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgcmVwbGFjZXMgXCJjZW50ZXJUcmFuc2Zvcm1cIiAoQm9vbGVhbikuXG4gICAgICogQHNpbmNlIDEuMy40XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2VudGVyZWRSb3RhdGlvbjogICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2gga2V5IGVuYWJsZSBjZW50ZXJlZCBUcmFuc2Zvcm1cbiAgICAgKiB2YWx1ZXM6ICdhbHRLZXknLCAnc2hpZnRLZXknLCAnY3RybEtleScuXG4gICAgICogSWYgYG51bGxgIG9yICdub25lJyBvciBhbnkgb3RoZXIgc3RyaW5nIHRoYXQgaXMgbm90IGEgbW9kaWZpZXIga2V5XG4gICAgICogZmVhdHVyZSBpcyBkaXNhYmxlZCBmZWF0dXJlIGRpc2FibGVkLlxuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2VudGVyZWRLZXk6ICAgICAgICAgICAnYWx0S2V5JyxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBrZXkgZW5hYmxlIGFsdGVybmF0ZSBhY3Rpb24gb24gY29ybmVyXG4gICAgICogdmFsdWVzOiAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLlxuICAgICAqIElmIGBudWxsYCBvciAnbm9uZScgb3IgYW55IG90aGVyIHN0cmluZyB0aGF0IGlzIG5vdCBhIG1vZGlmaWVyIGtleVxuICAgICAqIGZlYXR1cmUgaXMgZGlzYWJsZWQgZmVhdHVyZSBkaXNhYmxlZC5cbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFsdEFjdGlvbktleTogICAgICAgICAgICdzaGlmdEtleScsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCBjYW52YXMgaXMgaW50ZXJhY3RpdmUuIFRoaXMgcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGludGVyYWN0aXZlOiAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBncm91cCBzZWxlY3Rpb24gc2hvdWxkIGJlIGVuYWJsZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb246ICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGtleSBvciBrZXlzIGVuYWJsZSBtdWx0aXBsZSBjbGljayBzZWxlY3Rpb25cbiAgICAgKiBQYXNzIHZhbHVlIGFzIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3NcbiAgICAgKiB2YWx1ZXM6ICdhbHRLZXknLCAnc2hpZnRLZXknLCAnY3RybEtleScuXG4gICAgICogSWYgYG51bGxgIG9yIGVtcHR5IG9yIGNvbnRhaW5pbmcgYW55IG90aGVyIHN0cmluZyB0aGF0IGlzIG5vdCBhIG1vZGlmaWVyIGtleVxuICAgICAqIGZlYXR1cmUgaXMgZGlzYWJsZWQuXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nfEFycmF5XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25LZXk6ICAgICAgICAgICAnc2hpZnRLZXknLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGtleSBlbmFibGUgYWx0ZXJuYXRpdmUgc2VsZWN0aW9uXG4gICAgICogaW4gY2FzZSBvZiB0YXJnZXQgb3ZlcmxhcHBpbmcgd2l0aCBhY3RpdmUgb2JqZWN0XG4gICAgICogdmFsdWVzOiAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLlxuICAgICAqIEZvciBhIHNlcmllcyBvZiByZWFzb24gdGhhdCBjb21lIGZyb20gdGhlIGdlbmVyYWwgZXhwZWN0YXRpb25zIG9uIGhvd1xuICAgICAqIHRoaW5ncyBzaG91bGQgd29yaywgdGhpcyBmZWF0dXJlIHdvcmtzIG9ubHkgZm9yIHByZXNlcnZlT2JqZWN0U3RhY2tpbmcgdHJ1ZS5cbiAgICAgKiBJZiBgbnVsbGAgb3IgJ25vbmUnIG9yIGFueSBvdGhlciBzdHJpbmcgdGhhdCBpcyBub3QgYSBtb2RpZmllciBrZXlcbiAgICAgKiBmZWF0dXJlIGlzIGRpc2FibGVkLlxuICAgICAqIEBzaW5jZSAxLjYuNVxuICAgICAqIEB0eXBlIG51bGx8U3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBhbHRTZWxlY3Rpb25LZXk6ICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2Ygc2VsZWN0aW9uXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25Db2xvcjogICAgICAgICAncmdiYSgxMDAsIDEwMCwgMjU1LCAwLjMpJywgLy8gYmx1ZVxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBkYXNoIGFycmF5IHBhdHRlcm5cbiAgICAgKiBJZiBub3QgZW1wdHkgdGhlIHNlbGVjdGlvbiBib3JkZXIgaXMgZGFzaGVkXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25EYXNoQXJyYXk6ICAgICBbXSxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIHRoZSBib3JkZXIgb2Ygc2VsZWN0aW9uICh1c3VhbGx5IHNsaWdodGx5IGRhcmtlciB0aGFuIGNvbG9yIG9mIHNlbGVjdGlvbiBpdHNlbGYpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25Cb3JkZXJDb2xvcjogICAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIGEgbGluZSB1c2VkIGluIG9iamVjdC9ncm91cCBzZWxlY3Rpb25cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGlvbkxpbmVXaWR0aDogICAgIDEsXG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3Qgb25seSBzaGFwZXMgdGhhdCBhcmUgZnVsbHkgY29udGFpbmVkIGluIHRoZSBkcmFnZ2VkIHNlbGVjdGlvbiByZWN0YW5nbGUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uRnVsbHlDb250YWluZWQ6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjdXJzb3IgdmFsdWUgdXNlZCB3aGVuIGhvdmVyaW5nIG92ZXIgYW4gb2JqZWN0IG9uIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaG92ZXJDdXJzb3I6ICAgICAgICAgICAgJ21vdmUnLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjdXJzb3IgdmFsdWUgdXNlZCB3aGVuIG1vdmluZyBhbiBvYmplY3Qgb24gY2FudmFzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtb3ZlQ3Vyc29yOiAgICAgICAgICAgICAnbW92ZScsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGN1cnNvciB2YWx1ZSB1c2VkIGZvciB0aGUgZW50aXJlIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZGVmYXVsdEN1cnNvcjogICAgICAgICAgJ2RlZmF1bHQnLFxuXG4gICAgLyoqXG4gICAgICogQ3Vyc29yIHZhbHVlIHVzZWQgZHVyaW5nIGZyZWUgZHJhd2luZ1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZnJlZURyYXdpbmdDdXJzb3I6ICAgICAgJ2Nyb3NzaGFpcicsXG5cbiAgICAvKipcbiAgICAgKiBDdXJzb3IgdmFsdWUgdXNlZCBmb3IgZGlzYWJsZWQgZWxlbWVudHMgKCBjb3JuZXJzIHdpdGggZGlzYWJsZWQgYWN0aW9uIClcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG5vdEFsbG93ZWRDdXJzb3I6ICAgICAgICAgJ25vdC1hbGxvd2VkJyxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZWxlbWVudCBjbGFzcyB0aGF0J3MgZ2l2ZW4gdG8gd3JhcHBlciAoZGl2KSBlbGVtZW50IG9mIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29udGFpbmVyQ2xhc3M6ICAgICAgICAgJ2NhbnZhcy1jb250YWluZXInLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3QgZGV0ZWN0aW9uIGhhcHBlbnMgb24gcGVyLXBpeGVsIGJhc2lzIHJhdGhlciB0aGFuIG9uIHBlci1ib3VuZGluZy1ib3hcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwZXJQaXhlbFRhcmdldEZpbmQ6ICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBwaXhlbHMgYXJvdW5kIHRhcmdldCBwaXhlbCB0byB0b2xlcmF0ZSAoY29uc2lkZXIgYWN0aXZlKSBkdXJpbmcgb2JqZWN0IGRldGVjdGlvblxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGFyZ2V0RmluZFRvbGVyYW5jZTogICAgMCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgdGFyZ2V0IGRldGVjdGlvbiBpcyBza2lwcGVkLiBUYXJnZXQgZGV0ZWN0aW9uIHdpbGwgcmV0dXJuIGFsd2F5cyB1bmRlZmluZWQuXG4gICAgICogY2xpY2sgc2VsZWN0aW9uIHdvbid0IHdvcmsgYW55bW9yZSwgZXZlbnRzIHdpbGwgZmlyZSB3aXRoIG5vIHRhcmdldHMuXG4gICAgICogaWYgc29tZXRoaW5nIGlzIHNlbGVjdGVkIGJlZm9yZSBzZXR0aW5nIGl0IHRvIHRydWUsIGl0IHdpbGwgYmUgZGVzZWxlY3RlZCBhdCB0aGUgZmlyc3QgY2xpY2suXG4gICAgICogYXJlYSBzZWxlY3Rpb24gd2lsbCBzdGlsbCB3b3JrLiBjaGVjayB0aGUgYHNlbGVjdGlvbmAgcHJvcGVydHkgdG9vLlxuICAgICAqIGlmIHlvdSBkZWFjdGl2YXRlIGJvdGgsIHlvdSBzaG91bGQgbG9vayBpbnRvIHN0YXRpY0NhbnZhcy5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2lwVGFyZ2V0RmluZDogICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgbW91c2UgZXZlbnRzIG9uIGNhbnZhcyAobW91c2Vkb3duL21vdXNlbW92ZS9tb3VzZXVwKSByZXN1bHQgaW4gZnJlZSBkcmF3aW5nLlxuICAgICAqIEFmdGVyIG1vdXNlZG93biwgbW91c2Vtb3ZlIGNyZWF0ZXMgYSBzaGFwZSxcbiAgICAgKiBhbmQgdGhlbiBtb3VzZXVwIGZpbmFsaXplcyBpdCBhbmQgYWRkcyBhbiBpbnN0YW5jZSBvZiBgZmFicmljLlBhdGhgIG9udG8gY2FudmFzLlxuICAgICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC00I2ZyZWVfZHJhd2luZ31cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpc0RyYXdpbmdNb2RlOiAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9iamVjdHMgc2hvdWxkIHJlbWFpbiBpbiBjdXJyZW50IHN0YWNrIHBvc2l0aW9uIHdoZW4gc2VsZWN0ZWQuXG4gICAgICogV2hlbiBmYWxzZSBvYmplY3RzIGFyZSBicm91Z2h0IHRvIHRvcCBhbmQgcmVuZGVyZWQgYXMgcGFydCBvZiB0aGUgc2VsZWN0aW9uIGdyb3VwXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcHJlc2VydmVPYmplY3RTdGFja2luZzogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIGFuZ2xlIHRoYXQgYW4gb2JqZWN0IHdpbGwgbG9jayB0byB3aGlsZSByb3RhdGluZy5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAc2luY2UgMS42LjdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNuYXBBbmdsZTogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc25hcEFuZ2xlIHRoZSByb3RhdGlvbiB3aWxsIGxvY2sgdG8gdGhlIHNuYXBBbmdsZS5cbiAgICAgKiBXaGVuIGBudWxsYCwgdGhlIHNuYXBUaHJlc2hvbGQgd2lsbCBkZWZhdWx0IHRvIHRoZSBzbmFwQW5nbGUuXG4gICAgICogQHR5cGUgbnVsbHxOdW1iZXJcbiAgICAgKiBAc2luY2UgMS42LjdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNuYXBUaHJlc2hvbGQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHJpZ2h0IGNsaWNrIG9uIGNhbnZhcyBjYW4gb3V0cHV0IHRoZSBjb250ZXh0IG1lbnUgb3Igbm90XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBzaW5jZSAxLjYuNVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3RvcENvbnRleHRNZW51OiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgY2FudmFzIGNhbiBmaXJlIHJpZ2h0IGNsaWNrIGV2ZW50c1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAc2luY2UgMS42LjVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZpcmVSaWdodENsaWNrOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgY2FudmFzIGNhbiBmaXJlIG1pZGRsZSBjbGljayBldmVudHNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQHNpbmNlIDEuNy44XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmaXJlTWlkZGxlQ2xpY2s6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogS2VlcCB0cmFjayBvZiB0aGUgc3ViVGFyZ2V0cyBmb3IgTW91c2UgRXZlbnRzXG4gICAgICogQHR5cGUgZmFicmljLk9iamVjdFtdXG4gICAgICovXG4gICAgdGFyZ2V0czogW10sXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBvcHRpb24gaXMgZW5hYmxlZCwgUG9pbnRlckV2ZW50IGlzIHVzZWQgaW5zdGVhZCBvZiBNb3VzZUV2ZW50LlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGVuYWJsZVBvaW50ZXJFdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogS2VlcCB0cmFjayBvZiB0aGUgaG92ZXJlZCB0YXJnZXRcbiAgICAgKiBAdHlwZSBmYWJyaWMuT2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaG92ZXJlZFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGhvbGQgdGhlIGxpc3Qgb2YgbmVzdGVkIHRhcmdldHMgaG92ZXJlZFxuICAgICAqIEB0eXBlIGZhYnJpYy5PYmplY3RbXVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2hvdmVyZWRUYXJnZXRzOiBbXSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRJbnRlcmFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgIHRoaXMuX2dyb3VwU2VsZWN0b3IgPSBudWxsO1xuICAgICAgdGhpcy5faW5pdFdyYXBwZXJFbGVtZW50KCk7XG4gICAgICB0aGlzLl9jcmVhdGVVcHBlckNhbnZhcygpO1xuICAgICAgdGhpcy5faW5pdEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgIHRoaXMuX2luaXRSZXRpbmFTY2FsaW5nKCk7XG5cbiAgICAgIHRoaXMuZnJlZURyYXdpbmdCcnVzaCA9IGZhYnJpYy5QZW5jaWxCcnVzaCAmJiBuZXcgZmFicmljLlBlbmNpbEJydXNoKHRoaXMpO1xuXG4gICAgICB0aGlzLmNhbGNPZmZzZXQoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyBvYmplY3RzIGluIHR3byBncm91cHMsIG9uZSB0byByZW5kZXIgaW1tZWRpYXRlbHlcbiAgICAgKiBhbmQgb25lIHRvIHJlbmRlciBhcyBhY3RpdmVHcm91cC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gb2JqZWN0cyB0byByZW5kZXIgaW1tZWRpYXRlbHkgYW5kIHB1c2hlcyB0aGUgb3RoZXIgaW4gdGhlIGFjdGl2ZUdyb3VwLlxuICAgICAqL1xuICAgIF9jaG9vc2VPYmplY3RzVG9SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBvYmplY3QsIG9ianNUb1JlbmRlciwgYWN0aXZlR3JvdXBPYmplY3RzO1xuXG4gICAgICBpZiAoYWN0aXZlT2JqZWN0cy5sZW5ndGggPiAwICYmICF0aGlzLnByZXNlcnZlT2JqZWN0U3RhY2tpbmcpIHtcbiAgICAgICAgb2Jqc1RvUmVuZGVyID0gW107XG4gICAgICAgIGFjdGl2ZUdyb3VwT2JqZWN0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIG9iamVjdCA9IHRoaXMuX29iamVjdHNbaV07XG4gICAgICAgICAgaWYgKGFjdGl2ZU9iamVjdHMuaW5kZXhPZihvYmplY3QpID09PSAtMSApIHtcbiAgICAgICAgICAgIG9ianNUb1JlbmRlci5wdXNoKG9iamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlR3JvdXBPYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZU9iamVjdHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZU9iamVjdC5fb2JqZWN0cyA9IGFjdGl2ZUdyb3VwT2JqZWN0cztcbiAgICAgICAgfVxuICAgICAgICBvYmpzVG9SZW5kZXIucHVzaC5hcHBseShvYmpzVG9SZW5kZXIsIGFjdGl2ZUdyb3VwT2JqZWN0cyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb2Jqc1RvUmVuZGVyID0gdGhpcy5fb2JqZWN0cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpzVG9SZW5kZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYm90aCB0aGUgdG9wIGNhbnZhcyBhbmQgdGhlIHNlY29uZGFyeSBjb250YWluZXIgY2FudmFzLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dFRvcERpcnR5ICYmICF0aGlzLl9ncm91cFNlbGVjdG9yICYmICF0aGlzLmlzRHJhd2luZ01vZGUpIHtcbiAgICAgICAgdGhpcy5jbGVhckNvbnRleHQodGhpcy5jb250ZXh0VG9wKTtcbiAgICAgICAgdGhpcy5jb250ZXh0VG9wRGlydHkgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhhc0xvc3RDb250ZXh0KSB7XG4gICAgICAgIHRoaXMucmVuZGVyVG9wTGF5ZXIodGhpcy5jb250ZXh0VG9wKTtcbiAgICAgICAgdGhpcy5oYXNMb3N0Q29udGV4dCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGNhbnZhc1RvRHJhd09uID0gdGhpcy5jb250ZXh0Q29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoY2FudmFzVG9EcmF3T24sIHRoaXMuX2Nob29zZU9iamVjdHNUb1JlbmRlcigpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZW5kZXJUb3BMYXllcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSAmJiB0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcpIHtcbiAgICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoICYmIHRoaXMuZnJlZURyYXdpbmdCcnVzaC5fcmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY29udGV4dFRvcERpcnR5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIHdlIHJlbmRlciB0aGUgdG9wIGNvbnRleHQgLSBsYXN0IG9iamVjdFxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uICYmIHRoaXMuX2dyb3VwU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fZHJhd1NlbGVjdGlvbihjdHgpO1xuICAgICAgICB0aGlzLmNvbnRleHRUb3BEaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gcmVuZGVyIG9ubHkgdGhlIHRvcCBjYW52YXMuXG4gICAgICogQWxzbyB1c2VkIHRvIHJlbmRlciB0aGUgZ3JvdXAgc2VsZWN0aW9uIGJveC5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlclRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGN0eCA9IHRoaXMuY29udGV4dFRvcDtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KGN0eCk7XG4gICAgICB0aGlzLnJlbmRlclRvcExheWVyKGN0eCk7XG4gICAgICB0aGlzLmZpcmUoJ2FmdGVyOnJlbmRlcicpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX25vcm1hbGl6ZVBvaW50ZXI6IGZ1bmN0aW9uIChvYmplY3QsIHBvaW50ZXIpIHtcbiAgICAgIHZhciBtID0gb2JqZWN0LmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSxcbiAgICAgICAgICBpbnZlcnRlZE0gPSBmYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0obSksXG4gICAgICAgICAgdnB0UG9pbnRlciA9IHRoaXMucmVzdG9yZVBvaW50ZXJWcHQocG9pbnRlcik7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQodnB0UG9pbnRlciwgaW52ZXJ0ZWRNKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyB0cmFuc3BhcmVudCBhdCBhIGNlcnRhaW4gbG9jYXRpb25cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldCBPYmplY3QgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBMZWZ0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBUb3AgY29vcmRpbmF0ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNUYXJnZXRUcmFuc3BhcmVudDogZnVuY3Rpb24gKHRhcmdldCwgeCwgeSkge1xuICAgICAgLy8gaW4gY2FzZSB0aGUgdGFyZ2V0IGlzIHRoZSBhY3RpdmVPYmplY3QsIHdlIGNhbm5vdCBleGVjdXRlIHRoaXMgb3B0aW1pemF0aW9uXG4gICAgICAvLyBiZWNhdXNlIHdlIG5lZWQgdG8gZHJhdyBjb250cm9scyB0b28uXG4gICAgICBpZiAodGFyZ2V0LnNob3VsZENhY2hlKCkgJiYgdGFyZ2V0Ll9jYWNoZUNhbnZhcyAmJiB0YXJnZXQgIT09IHRoaXMuX2FjdGl2ZU9iamVjdCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZFBvaW50ZXIgPSB0aGlzLl9ub3JtYWxpemVQb2ludGVyKHRhcmdldCwge3g6IHgsIHk6IHl9KSxcbiAgICAgICAgICAgIHRhcmdldFJlbGF0aXZlWCA9IE1hdGgubWF4KHRhcmdldC5jYWNoZVRyYW5zbGF0aW9uWCArIChub3JtYWxpemVkUG9pbnRlci54ICogdGFyZ2V0Lnpvb21YKSwgMCksXG4gICAgICAgICAgICB0YXJnZXRSZWxhdGl2ZVkgPSBNYXRoLm1heCh0YXJnZXQuY2FjaGVUcmFuc2xhdGlvblkgKyAobm9ybWFsaXplZFBvaW50ZXIueSAqIHRhcmdldC56b29tWSksIDApO1xuXG4gICAgICAgIHZhciBpc1RyYW5zcGFyZW50ID0gZmFicmljLnV0aWwuaXNUcmFuc3BhcmVudChcbiAgICAgICAgICB0YXJnZXQuX2NhY2hlQ29udGV4dCwgTWF0aC5yb3VuZCh0YXJnZXRSZWxhdGl2ZVgpLCBNYXRoLnJvdW5kKHRhcmdldFJlbGF0aXZlWSksIHRoaXMudGFyZ2V0RmluZFRvbGVyYW5jZSk7XG5cbiAgICAgICAgcmV0dXJuIGlzVHJhbnNwYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdHggPSB0aGlzLmNvbnRleHRDYWNoZSxcbiAgICAgICAgICBvcmlnaW5hbENvbG9yID0gdGFyZ2V0LnNlbGVjdGlvbkJhY2tncm91bmRDb2xvciwgdiA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm07XG5cbiAgICAgIHRhcmdldC5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IgPSAnJztcblxuICAgICAgdGhpcy5jbGVhckNvbnRleHQoY3R4KTtcblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gICAgICB0YXJnZXQucmVuZGVyKGN0eCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICB0YXJnZXQuc2VsZWN0aW9uQmFja2dyb3VuZENvbG9yID0gb3JpZ2luYWxDb2xvcjtcblxuICAgICAgdmFyIGlzVHJhbnNwYXJlbnQgPSBmYWJyaWMudXRpbC5pc1RyYW5zcGFyZW50KFxuICAgICAgICBjdHgsIHgsIHksIHRoaXMudGFyZ2V0RmluZFRvbGVyYW5jZSk7XG5cbiAgICAgIHJldHVybiBpc1RyYW5zcGFyZW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0YWtlcyBhbiBldmVudCBhbmQgZGV0ZXJtaW5lcyBpZiBzZWxlY3Rpb24ga2V5IGhhcyBiZWVuIHByZXNzZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX2lzU2VsZWN0aW9uS2V5UHJlc3NlZDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHNlbGVjdGlvbktleVByZXNzZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zZWxlY3Rpb25LZXkpKSB7XG4gICAgICAgIHNlbGVjdGlvbktleVByZXNzZWQgPSAhIXRoaXMuc2VsZWN0aW9uS2V5LmZpbmQoZnVuY3Rpb24oa2V5KSB7IHJldHVybiBlW2tleV0gPT09IHRydWU7IH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlbGVjdGlvbktleVByZXNzZWQgPSBlW3RoaXMuc2VsZWN0aW9uS2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGVjdGlvbktleVByZXNzZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgICAqL1xuICAgIF9zaG91bGRDbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgICF0YXJnZXRcbiAgICAgICAgfHxcbiAgICAgICAgKHRhcmdldCAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdCAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdHMubGVuZ3RoID4gMSAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdHMuaW5kZXhPZih0YXJnZXQpID09PSAtMSAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdCAhPT0gdGFyZ2V0ICYmXG4gICAgICAgICAgIXRoaXMuX2lzU2VsZWN0aW9uS2V5UHJlc3NlZChlKSlcbiAgICAgICAgfHxcbiAgICAgICAgKHRhcmdldCAmJiAhdGFyZ2V0LmV2ZW50ZWQpXG4gICAgICAgIHx8XG4gICAgICAgICh0YXJnZXQgJiZcbiAgICAgICAgICAhdGFyZ2V0LnNlbGVjdGFibGUgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3QgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3QgIT09IHRhcmdldClcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNlbnRlcmVkU2NhbGluZyBmcm9tIG9iamVjdCBjYW4ndCBvdmVycmlkZSBjZW50ZXJlZFNjYWxpbmcgZnJvbSBjYW52YXMuXG4gICAgICogdGhpcyBzaG91bGQgYmUgZml4ZWQsIHNpbmNlIG9iamVjdCBzZXR0aW5nIHNob3VsZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBjYW52YXMuXG4gICAgICogYWxzbyB0aGlzIHNob3VsZCBiZSBzb21ldGhpbmcgdGhhdCB3aWxsIGJlIG1pZ3JhdGVkIGluIHRoZSBjb250cm9sIHByb3BlcnRpZXMuXG4gICAgICogYXMgYWJpbGl0eSB0byBkZWZpbmUgdGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCB0aGUgY29udHJvbCBwcm92aWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhbHRLZXlcbiAgICAgKi9cbiAgICBfc2hvdWxkQ2VudGVyVHJhbnNmb3JtOiBmdW5jdGlvbiAodGFyZ2V0LCBhY3Rpb24sIGFsdEtleSkge1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2VudGVyVHJhbnNmb3JtO1xuXG4gICAgICBpZiAoYWN0aW9uID09PSAnc2NhbGUnIHx8IGFjdGlvbiA9PT0gJ3NjYWxlWCcgfHwgYWN0aW9uID09PSAnc2NhbGVZJyB8fCBhY3Rpb24gPT09ICdyZXNpemluZycpIHtcbiAgICAgICAgY2VudGVyVHJhbnNmb3JtID0gdGhpcy5jZW50ZXJlZFNjYWxpbmcgfHwgdGFyZ2V0LmNlbnRlcmVkU2NhbGluZztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3JvdGF0ZScpIHtcbiAgICAgICAgY2VudGVyVHJhbnNmb3JtID0gdGhpcy5jZW50ZXJlZFJvdGF0aW9uIHx8IHRhcmdldC5jZW50ZXJlZFJvdGF0aW9uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2VudGVyVHJhbnNmb3JtID8gIWFsdEtleSA6IGFsdEtleTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2hvdWxkIGRpc2FwcGVhciBiZWZvcmUgcmVsZWFzZSA0LjBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRPcmlnaW5Gcm9tQ29ybmVyOiBmdW5jdGlvbih0YXJnZXQsIGNvcm5lcikge1xuICAgICAgdmFyIG9yaWdpbiA9IHtcbiAgICAgICAgeDogdGFyZ2V0Lm9yaWdpblgsXG4gICAgICAgIHk6IHRhcmdldC5vcmlnaW5ZXG4gICAgICB9O1xuXG4gICAgICBpZiAoY29ybmVyID09PSAnbWwnIHx8IGNvcm5lciA9PT0gJ3RsJyB8fCBjb3JuZXIgPT09ICdibCcpIHtcbiAgICAgICAgb3JpZ2luLnggPSAncmlnaHQnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoY29ybmVyID09PSAnbXInIHx8IGNvcm5lciA9PT0gJ3RyJyB8fCBjb3JuZXIgPT09ICdicicpIHtcbiAgICAgICAgb3JpZ2luLnggPSAnbGVmdCc7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3JuZXIgPT09ICd0bCcgfHwgY29ybmVyID09PSAnbXQnIHx8IGNvcm5lciA9PT0gJ3RyJykge1xuICAgICAgICBvcmlnaW4ueSA9ICdib3R0b20nO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoY29ybmVyID09PSAnYmwnIHx8IGNvcm5lciA9PT0gJ21iJyB8fCBjb3JuZXIgPT09ICdicicpIHtcbiAgICAgICAgb3JpZ2luLnkgPSAndG9wJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcmlnaW47XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhbHJlYWR5U2VsZWN0ZWQgdHJ1ZSBpZiB0YXJnZXQgaXMgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb3JuZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb3JuZXIgbWwsIG1yLCB0bCAuLi5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gW3RhcmdldF0gaW5zZXJ0ZWQgYmFjayB0byBoZWxwIG92ZXJyaWRpbmcuIFVudXNlZFxuICAgICAqL1xuICAgIF9nZXRBY3Rpb25Gcm9tQ29ybmVyOiBmdW5jdGlvbihhbHJlYWR5U2VsZWN0ZWQsIGNvcm5lciwgZSwgdGFyZ2V0KSB7XG4gICAgICBpZiAoIWNvcm5lciB8fCAhYWxyZWFkeVNlbGVjdGVkKSB7XG4gICAgICAgIHJldHVybiAnZHJhZyc7XG4gICAgICB9XG4gICAgICB2YXIgY29udHJvbCA9IHRhcmdldC5jb250cm9sc1tjb3JuZXJdO1xuICAgICAgcmV0dXJuIGNvbnRyb2wuZ2V0QWN0aW9uTmFtZShlLCBjb250cm9sLCB0YXJnZXQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfc2V0dXBDdXJyZW50VHJhbnNmb3JtOiBmdW5jdGlvbiAoZSwgdGFyZ2V0LCBhbHJlYWR5U2VsZWN0ZWQpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSksIGNvcm5lciA9IHRhcmdldC5fX2Nvcm5lcixcbiAgICAgICAgICBjb250cm9sID0gdGFyZ2V0LmNvbnRyb2xzW2Nvcm5lcl0sXG4gICAgICAgICAgYWN0aW9uSGFuZGxlciA9IChhbHJlYWR5U2VsZWN0ZWQgJiYgY29ybmVyKSA/XG4gICAgICAgICAgICBjb250cm9sLmdldEFjdGlvbkhhbmRsZXIoZSwgdGFyZ2V0LCBjb250cm9sKSA6IGZhYnJpYy5jb250cm9sc1V0aWxzLmRyYWdIYW5kbGVyLFxuICAgICAgICAgIGFjdGlvbiA9IHRoaXMuX2dldEFjdGlvbkZyb21Db3JuZXIoYWxyZWFkeVNlbGVjdGVkLCBjb3JuZXIsIGUsIHRhcmdldCksXG4gICAgICAgICAgb3JpZ2luID0gdGhpcy5fZ2V0T3JpZ2luRnJvbUNvcm5lcih0YXJnZXQsIGNvcm5lciksXG4gICAgICAgICAgYWx0S2V5ID0gZVt0aGlzLmNlbnRlcmVkS2V5XSxcbiAgICAgICAgICB0cmFuc2Zvcm0gPSB7XG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgYWN0aW9uSGFuZGxlcjogYWN0aW9uSGFuZGxlcixcbiAgICAgICAgICAgIGNvcm5lcjogY29ybmVyLFxuICAgICAgICAgICAgc2NhbGVYOiB0YXJnZXQuc2NhbGVYLFxuICAgICAgICAgICAgc2NhbGVZOiB0YXJnZXQuc2NhbGVZLFxuICAgICAgICAgICAgc2tld1g6IHRhcmdldC5za2V3WCxcbiAgICAgICAgICAgIHNrZXdZOiB0YXJnZXQuc2tld1ksXG4gICAgICAgICAgICAvLyB1c2VkIGJ5IHRyYW5zYXRpb25cbiAgICAgICAgICAgIG9mZnNldFg6IHBvaW50ZXIueCAtIHRhcmdldC5sZWZ0LFxuICAgICAgICAgICAgb2Zmc2V0WTogcG9pbnRlci55IC0gdGFyZ2V0LnRvcCxcbiAgICAgICAgICAgIG9yaWdpblg6IG9yaWdpbi54LFxuICAgICAgICAgICAgb3JpZ2luWTogb3JpZ2luLnksXG4gICAgICAgICAgICBleDogcG9pbnRlci54LFxuICAgICAgICAgICAgZXk6IHBvaW50ZXIueSxcbiAgICAgICAgICAgIGxhc3RYOiBwb2ludGVyLngsXG4gICAgICAgICAgICBsYXN0WTogcG9pbnRlci55LFxuICAgICAgICAgICAgLy8gdW5zdXJlIHRoZXkgYXJlIHVzZWZ1bCBhbnltb3JlLlxuICAgICAgICAgICAgLy8gbGVmdDogdGFyZ2V0LmxlZnQsXG4gICAgICAgICAgICAvLyB0b3A6IHRhcmdldC50b3AsXG4gICAgICAgICAgICB0aGV0YTogZGVncmVlc1RvUmFkaWFucyh0YXJnZXQuYW5nbGUpLFxuICAgICAgICAgICAgLy8gZW5kIG9mIHVuc3VyZVxuICAgICAgICAgICAgd2lkdGg6IHRhcmdldC53aWR0aCAqIHRhcmdldC5zY2FsZVgsXG4gICAgICAgICAgICBzaGlmdEtleTogZS5zaGlmdEtleSxcbiAgICAgICAgICAgIGFsdEtleTogYWx0S2V5LFxuICAgICAgICAgICAgb3JpZ2luYWw6IGZhYnJpYy51dGlsLnNhdmVPYmplY3RUcmFuc2Zvcm0odGFyZ2V0KSxcbiAgICAgICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5fc2hvdWxkQ2VudGVyVHJhbnNmb3JtKHRhcmdldCwgYWN0aW9uLCBhbHRLZXkpKSB7XG4gICAgICAgIHRyYW5zZm9ybS5vcmlnaW5YID0gJ2NlbnRlcic7XG4gICAgICAgIHRyYW5zZm9ybS5vcmlnaW5ZID0gJ2NlbnRlcic7XG4gICAgICB9XG4gICAgICB0cmFuc2Zvcm0ub3JpZ2luYWwub3JpZ2luWCA9IG9yaWdpbi54O1xuICAgICAgdHJhbnNmb3JtLm9yaWdpbmFsLm9yaWdpblkgPSBvcmlnaW4ueTtcbiAgICAgIHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICB0aGlzLl9iZWZvcmVUcmFuc2Zvcm0oZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3Vyc29yIHR5cGUgb2YgdGhlIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIEN1cnNvciB0eXBlIG9mIHRoZSBjYW52YXMgZWxlbWVudC5cbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtdWkvI2N1cnNvclxuICAgICAqL1xuICAgIHNldEN1cnNvcjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aGlzLnVwcGVyQ2FudmFzRWwuc3R5bGUuY3Vyc29yID0gdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCB0byBkcmF3IHRoZSBzZWxlY3Rpb24gb25cbiAgICAgKi9cbiAgICBfZHJhd1NlbGVjdGlvbjogZnVuY3Rpb24gKGN0eCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5fZ3JvdXBTZWxlY3RvcixcbiAgICAgICAgICB2aWV3cG9ydFN0YXJ0ID0gbmV3IGZhYnJpYy5Qb2ludChzZWxlY3Rvci5leCwgc2VsZWN0b3IuZXkpLFxuICAgICAgICAgIHN0YXJ0ID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQodmlld3BvcnRTdGFydCwgdGhpcy52aWV3cG9ydFRyYW5zZm9ybSksXG4gICAgICAgICAgdmlld3BvcnRFeHRlbnQgPSBuZXcgZmFicmljLlBvaW50KHNlbGVjdG9yLmV4ICsgc2VsZWN0b3IubGVmdCwgc2VsZWN0b3IuZXkgKyBzZWxlY3Rvci50b3ApLFxuICAgICAgICAgIGV4dGVudCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHZpZXdwb3J0RXh0ZW50LCB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKSxcbiAgICAgICAgICBtaW5YID0gTWF0aC5taW4oc3RhcnQueCwgZXh0ZW50LngpLFxuICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihzdGFydC55LCBleHRlbnQueSksXG4gICAgICAgICAgbWF4WCA9IE1hdGgubWF4KHN0YXJ0LngsIGV4dGVudC54KSxcbiAgICAgICAgICBtYXhZID0gTWF0aC5tYXgoc3RhcnQueSwgZXh0ZW50LnkpLFxuICAgICAgICAgIHN0cm9rZU9mZnNldCA9IHRoaXMuc2VsZWN0aW9uTGluZVdpZHRoIC8gMjtcblxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uQ29sb3IpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2VsZWN0aW9uQ29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdChtaW5YLCBtaW5ZLCBtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uTGluZVdpZHRoIHx8ICF0aGlzLnNlbGVjdGlvbkJvcmRlckNvbG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLnNlbGVjdGlvbkxpbmVXaWR0aDtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc2VsZWN0aW9uQm9yZGVyQ29sb3I7XG5cbiAgICAgIG1pblggKz0gc3Ryb2tlT2Zmc2V0O1xuICAgICAgbWluWSArPSBzdHJva2VPZmZzZXQ7XG4gICAgICBtYXhYIC09IHN0cm9rZU9mZnNldDtcbiAgICAgIG1heFkgLT0gc3Ryb2tlT2Zmc2V0O1xuICAgICAgLy8gc2VsZWN0aW9uIGJvcmRlclxuICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuX3NldExpbmVEYXNoLmNhbGwodGhpcywgY3R4LCB0aGlzLnNlbGVjdGlvbkRhc2hBcnJheSk7XG4gICAgICBjdHguc3Ryb2tlUmVjdChtaW5YLCBtaW5ZLCBtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZXRlcm1pbmVzIHdoYXQgb2JqZWN0IHdlIGFyZSBjbGlja2luZyBvblxuICAgICAqIHRoZSBza2lwR3JvdXAgcGFyYW1ldGVyIGlzIGZvciBpbnRlcm5hbCB1c2UsIGlzIG5lZWRlZCBmb3Igc2hpZnQrY2xpY2sgYWN0aW9uXG4gICAgICogMTEvMDkvMjAxOCBUT0RPOiB3b3VsZCBiZSBjb29sIGlmIGZpbmRUYXJnZXQgY291bGQgZGlzY2VybiBiZXR3ZWVuIGJlaW5nIGEgZnVsbCB0YXJnZXRcbiAgICAgKiBvciB0aGUgb3V0c2lkZSBwYXJ0IG9mIHRoZSBjb3JuZXIuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcEdyb3VwIHdoZW4gdHJ1ZSwgYWN0aXZlR3JvdXAgaXMgc2tpcHBlZCBhbmQgb25seSBvYmplY3RzIGFyZSB0cmF2ZXJzZWQgdGhyb3VnaFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoZSB0YXJnZXQgZm91bmRcbiAgICAgKi9cbiAgICBmaW5kVGFyZ2V0OiBmdW5jdGlvbiAoZSwgc2tpcEdyb3VwKSB7XG4gICAgICBpZiAodGhpcy5za2lwVGFyZ2V0RmluZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpZ25vcmVab29tID0gdHJ1ZSxcbiAgICAgICAgICBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUsIGlnbm9yZVpvb20pLFxuICAgICAgICAgIGFjdGl2ZU9iamVjdCA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBhT2JqZWN0cyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLFxuICAgICAgICAgIGFjdGl2ZVRhcmdldCwgYWN0aXZlVGFyZ2V0U3VicyxcbiAgICAgICAgICBpc1RvdWNoID0gaXNUb3VjaEV2ZW50KGUpLFxuICAgICAgICAgIHNob3VsZExvb2tGb3JBY3RpdmUgPSAoYU9iamVjdHMubGVuZ3RoID4gMSAmJiAhc2tpcEdyb3VwKSB8fCBhT2JqZWN0cy5sZW5ndGggPT09IDE7XG5cbiAgICAgIC8vIGZpcnN0IGNoZWNrIGN1cnJlbnQgZ3JvdXAgKGlmIG9uZSBleGlzdHMpXG4gICAgICAvLyBhY3RpdmUgZ3JvdXAgZG9lcyBub3QgY2hlY2sgc3ViIHRhcmdldHMgbGlrZSBub3JtYWwgZ3JvdXBzLlxuICAgICAgLy8gaWYgYWN0aXZlIGdyb3VwIGp1c3QgZXhpdHMuXG4gICAgICB0aGlzLnRhcmdldHMgPSBbXTtcblxuICAgICAgLy8gaWYgd2UgaGl0IHRoZSBjb3JuZXIgb2YgYW4gYWN0aXZlT2JqZWN0LCBsZXQncyByZXR1cm4gdGhhdC5cbiAgICAgIGlmIChzaG91bGRMb29rRm9yQWN0aXZlICYmIGFjdGl2ZU9iamVjdC5fZmluZFRhcmdldENvcm5lcihwb2ludGVyLCBpc1RvdWNoKSkge1xuICAgICAgICByZXR1cm4gYWN0aXZlT2JqZWN0O1xuICAgICAgfVxuICAgICAgaWYgKGFPYmplY3RzLmxlbmd0aCA+IDEgJiYgIXNraXBHcm91cCAmJiBhY3RpdmVPYmplY3QgPT09IHRoaXMuX3NlYXJjaFBvc3NpYmxlVGFyZ2V0cyhbYWN0aXZlT2JqZWN0XSwgcG9pbnRlcikpIHtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZU9iamVjdDtcbiAgICAgIH1cbiAgICAgIGlmIChhT2JqZWN0cy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgYWN0aXZlT2JqZWN0ID09PSB0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHMoW2FjdGl2ZU9iamVjdF0sIHBvaW50ZXIpKSB7XG4gICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZU9iamVjdFN0YWNraW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdGl2ZU9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVUYXJnZXQgPSBhY3RpdmVPYmplY3Q7XG4gICAgICAgICAgYWN0aXZlVGFyZ2V0U3VicyA9IHRoaXMudGFyZ2V0cztcbiAgICAgICAgICB0aGlzLnRhcmdldHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX3NlYXJjaFBvc3NpYmxlVGFyZ2V0cyh0aGlzLl9vYmplY3RzLCBwb2ludGVyKTtcbiAgICAgIGlmIChlW3RoaXMuYWx0U2VsZWN0aW9uS2V5XSAmJiB0YXJnZXQgJiYgYWN0aXZlVGFyZ2V0ICYmIHRhcmdldCAhPT0gYWN0aXZlVGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IGFjdGl2ZVRhcmdldDtcbiAgICAgICAgdGhpcy50YXJnZXRzID0gYWN0aXZlVGFyZ2V0U3VicztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBwb2ludCBpcyBpbnNpZGUgdGhlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BvaW50ZXJdIHgseSBvYmplY3Qgb2YgcG9pbnQgY29vcmRpbmF0ZXMgd2Ugd2FudCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iaiBPYmplY3QgdG8gdGVzdCBhZ2FpbnN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtnbG9iYWxQb2ludGVyXSB4LHkgb2JqZWN0IG9mIHBvaW50IGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIGNhbnZhcyB1c2VkIHRvIHNlYXJjaCBwZXIgcGl4ZWwgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiBhbiBhcmVhIG9mIGdpdmVuIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NoZWNrVGFyZ2V0OiBmdW5jdGlvbihwb2ludGVyLCBvYmosIGdsb2JhbFBvaW50ZXIpIHtcbiAgICAgIGlmIChvYmogJiZcbiAgICAgICAgICBvYmoudmlzaWJsZSAmJlxuICAgICAgICAgIG9iai5ldmVudGVkICYmXG4gICAgICAgICAgLy8gaHR0cDovL3d3dy5nZW9nLnViYy5jYS9jb3Vyc2VzL2tsaW5rL2dpcy5ub3Rlcy9uY2dpYS91MzIuaHRtbFxuICAgICAgICAgIC8vIGh0dHA6Ly9pZGF2LnVjZGF2aXMuZWR1L35va3JleWxvcy9UQXNoaXAvU3ByaW5nMjAwMC9Qb2ludEluUG9seWdvbi5odG1sXG4gICAgICAgICAgb2JqLmNvbnRhaW5zUG9pbnQocG9pbnRlcilcbiAgICAgICkge1xuICAgICAgICBpZiAoKHRoaXMucGVyUGl4ZWxUYXJnZXRGaW5kIHx8IG9iai5wZXJQaXhlbFRhcmdldEZpbmQpICYmICFvYmouaXNFZGl0aW5nKSB7XG4gICAgICAgICAgdmFyIGlzVHJhbnNwYXJlbnQgPSB0aGlzLmlzVGFyZ2V0VHJhbnNwYXJlbnQob2JqLCBnbG9iYWxQb2ludGVyLngsIGdsb2JhbFBvaW50ZXIueSk7XG4gICAgICAgICAgaWYgKCFpc1RyYW5zcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBzZWFyY2ggaW5zaWRlIG9iamVjdHMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgcG9pbnRlciBpbiBib3VuZGluZyBib3ggb3IgdGhhdCBjb250YWlucyBwb2ludGVyT25DYW52YXMgd2hlbiBwYWludGVkXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29iamVjdHNdIG9iamVjdHMgYXJyYXkgdG8gbG9vayBpbnRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwb2ludGVyXSB4LHkgb2JqZWN0IG9mIHBvaW50IGNvb3JkaW5hdGVzIHdlIHdhbnQgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gb2JqZWN0IHRoYXQgY29udGFpbnMgcG9pbnRlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NlYXJjaFBvc3NpYmxlVGFyZ2V0czogZnVuY3Rpb24ob2JqZWN0cywgcG9pbnRlcikge1xuICAgICAgLy8gQ2FjaGUgYWxsIHRhcmdldHMgd2hlcmUgdGhlaXIgYm91bmRpbmcgYm94IGNvbnRhaW5zIHBvaW50LlxuICAgICAgdmFyIHRhcmdldCwgaSA9IG9iamVjdHMubGVuZ3RoLCBzdWJUYXJnZXQ7XG4gICAgICAvLyBEbyBub3QgY2hlY2sgZm9yIGN1cnJlbnRseSBncm91cGVkIG9iamVjdHMsIHNpbmNlIHdlIGNoZWNrIHRoZSBwYXJlbnQgZ3JvdXAgaXRzZWxmLlxuICAgICAgLy8gdW50aWwgd2UgY2FsbCB0aGlzIGZ1bmN0aW9uIHNwZWNpZmljYWxseSB0byBzZWFyY2ggaW5zaWRlIHRoZSBhY3RpdmVHcm91cFxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2YXIgb2JqVG9DaGVjayA9IG9iamVjdHNbaV07XG4gICAgICAgIHZhciBwb2ludGVyVG9Vc2UgPSBvYmpUb0NoZWNrLmdyb3VwID9cbiAgICAgICAgICB0aGlzLl9ub3JtYWxpemVQb2ludGVyKG9ialRvQ2hlY2suZ3JvdXAsIHBvaW50ZXIpIDogcG9pbnRlcjtcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrVGFyZ2V0KHBvaW50ZXJUb1VzZSwgb2JqVG9DaGVjaywgcG9pbnRlcikpIHtcbiAgICAgICAgICB0YXJnZXQgPSBvYmplY3RzW2ldO1xuICAgICAgICAgIGlmICh0YXJnZXQuc3ViVGFyZ2V0Q2hlY2sgJiYgdGFyZ2V0IGluc3RhbmNlb2YgZmFicmljLkdyb3VwKSB7XG4gICAgICAgICAgICBzdWJUYXJnZXQgPSB0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHModGFyZ2V0Ll9vYmplY3RzLCBwb2ludGVyKTtcbiAgICAgICAgICAgIHN1YlRhcmdldCAmJiB0aGlzLnRhcmdldHMucHVzaChzdWJUYXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBwb2ludGVyIGNvb3JkaW5hdGVzIHdpdGhvdXQgdGhlIGVmZmVjdCBvZiB0aGUgdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciB3aXRoIFwieFwiIGFuZCBcInlcIiBudW1iZXIgdmFsdWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBcInhcIiBhbmQgXCJ5XCIgbnVtYmVyIHZhbHVlc1xuICAgICAqL1xuICAgIHJlc3RvcmVQb2ludGVyVnB0OiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQoXG4gICAgICAgIHBvaW50ZXIsXG4gICAgICAgIGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSh0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBwb2ludGVyIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIGNhbnZhcy5cbiAgICAgKiBDYW4gcmV0dXJuIGNvb3JkaW5hdGVzIHdpdGggb3Igd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybS5cbiAgICAgKiBpZ25vcmVab29tIGZhbHNlIGdpdmVzIGJhY2sgY29vcmRpbmF0ZXMgdGhhdCByZXByZXNlbnRcbiAgICAgKiB0aGUgcG9pbnQgY2xpY2tlZCBvbiBjYW52YXMgZWxlbWVudC5cbiAgICAgKiBpZ25vcmVab29tIHRydWUgZ2l2ZXMgYmFjayBjb29yZGluYXRlcyBhZnRlciBiZWluZyBwcm9jZXNzZWRcbiAgICAgKiBieSB0aGUgdmlld3BvcnRUcmFuc2Zvcm0gKCBzb3J0IG9mIGNvb3JkaW5hdGVzIG9mIHdoYXQgaXMgZGlzcGxheWVkXG4gICAgICogb24gdGhlIGNhbnZhcyB3aGVyZSB5b3UgYXJlIGNsaWNraW5nLlxuICAgICAqIGlnbm9yZVpvb20gdHJ1ZSA9IEhUTUxFbGVtZW50IGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRvcCxsZWZ0XG4gICAgICogaWdub3JlWm9vbSBmYWxzZSwgZGVmYXVsdCA9IGZhYnJpYyBzcGFjZSBjb29yZGluYXRlcywgdGhlIHNhbWUgdXNlZCBmb3Igc2hhcGUgcG9zaXRpb25cbiAgICAgKiBUbyBpbnRlcmFjdCB3aXRoIHlvdXIgc2hhcGVzIHRvcCBhbmQgbGVmdCB5b3Ugd2FudCB0byB1c2UgaWdub3JlWm9vbSB0cnVlXG4gICAgICogbW9zdCBvZiB0aGUgdGltZSwgd2hpbGUgaWdub3JlWm9vbSBmYWxzZSB3aWxsIGdpdmUgeW91IGNvb3JkaW5hdGVzXG4gICAgICogY29tcGF0aWJsZSB3aXRoIHRoZSBvYmplY3Qub0Nvb3JkcyBzeXN0ZW0uXG4gICAgICogb2YgdGhlIHRpbWUuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaWdub3JlWm9vbVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggXCJ4XCIgYW5kIFwieVwiIG51bWJlciB2YWx1ZXNcbiAgICAgKi9cbiAgICBnZXRQb2ludGVyOiBmdW5jdGlvbiAoZSwgaWdub3JlWm9vbSkge1xuICAgICAgLy8gcmV0dXJuIGNhY2hlZCB2YWx1ZXMgaWYgd2UgYXJlIGluIHRoZSBldmVudCBwcm9jZXNzaW5nIGNoYWluXG4gICAgICBpZiAodGhpcy5fYWJzb2x1dGVQb2ludGVyICYmICFpZ25vcmVab29tKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hYnNvbHV0ZVBvaW50ZXI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fcG9pbnRlciAmJiBpZ25vcmVab29tKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9pbnRlciA9IGdldFBvaW50ZXIoZSksXG4gICAgICAgICAgdXBwZXJDYW52YXNFbCA9IHRoaXMudXBwZXJDYW52YXNFbCxcbiAgICAgICAgICBib3VuZHMgPSB1cHBlckNhbnZhc0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIGJvdW5kc1dpZHRoID0gYm91bmRzLndpZHRoIHx8IDAsXG4gICAgICAgICAgYm91bmRzSGVpZ2h0ID0gYm91bmRzLmhlaWdodCB8fCAwLFxuICAgICAgICAgIGNzc1NjYWxlO1xuXG4gICAgICBpZiAoIWJvdW5kc1dpZHRoIHx8ICFib3VuZHNIZWlnaHQgKSB7XG4gICAgICAgIGlmICgndG9wJyBpbiBib3VuZHMgJiYgJ2JvdHRvbScgaW4gYm91bmRzKSB7XG4gICAgICAgICAgYm91bmRzSGVpZ2h0ID0gTWF0aC5hYnMoIGJvdW5kcy50b3AgLSBib3VuZHMuYm90dG9tICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdyaWdodCcgaW4gYm91bmRzICYmICdsZWZ0JyBpbiBib3VuZHMpIHtcbiAgICAgICAgICBib3VuZHNXaWR0aCA9IE1hdGguYWJzKCBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgICAgcG9pbnRlci54ID0gcG9pbnRlci54IC0gdGhpcy5fb2Zmc2V0LmxlZnQ7XG4gICAgICBwb2ludGVyLnkgPSBwb2ludGVyLnkgLSB0aGlzLl9vZmZzZXQudG9wO1xuICAgICAgaWYgKCFpZ25vcmVab29tKSB7XG4gICAgICAgIHBvaW50ZXIgPSB0aGlzLnJlc3RvcmVQb2ludGVyVnB0KHBvaW50ZXIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0aW5hU2NhbGluZyA9IHRoaXMuZ2V0UmV0aW5hU2NhbGluZygpO1xuICAgICAgaWYgKHJldGluYVNjYWxpbmcgIT09IDEpIHtcbiAgICAgICAgcG9pbnRlci54IC89IHJldGluYVNjYWxpbmc7XG4gICAgICAgIHBvaW50ZXIueSAvPSByZXRpbmFTY2FsaW5nO1xuICAgICAgfVxuXG4gICAgICBpZiAoYm91bmRzV2lkdGggPT09IDAgfHwgYm91bmRzSGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIC8vIElmIGJvdW5kcyBhcmUgbm90IGF2YWlsYWJsZSAoaS5lLiBub3QgdmlzaWJsZSksIGRvIG5vdCBhcHBseSBzY2FsZS5cbiAgICAgICAgY3NzU2NhbGUgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjc3NTY2FsZSA9IHtcbiAgICAgICAgICB3aWR0aDogdXBwZXJDYW52YXNFbC53aWR0aCAvIGJvdW5kc1dpZHRoLFxuICAgICAgICAgIGhlaWdodDogdXBwZXJDYW52YXNFbC5oZWlnaHQgLyBib3VuZHNIZWlnaHRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcG9pbnRlci54ICogY3NzU2NhbGUud2lkdGgsXG4gICAgICAgIHk6IHBvaW50ZXIueSAqIGNzc1NjYWxlLmhlaWdodFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdGhyb3dzIHtDQU5WQVNfSU5JVF9FUlJPUn0gSWYgY2FudmFzIGNhbiBub3QgYmUgaW5pdGlhbGl6ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlVXBwZXJDYW52YXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsb3dlckNhbnZhc0NsYXNzID0gdGhpcy5sb3dlckNhbnZhc0VsLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqbG93ZXItY2FudmFzXFxzKi8sICcnKSxcbiAgICAgICAgICBsb3dlckNhbnZhc0VsID0gdGhpcy5sb3dlckNhbnZhc0VsLCB1cHBlckNhbnZhc0VsID0gdGhpcy51cHBlckNhbnZhc0VsO1xuXG4gICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIGNyZWF0ZSBhIG5ldyB1cHBlckNhbnZhcyBlbGVtZW50IGlmIHdlIGhhdmUgYWxyZWFkeSBvbmUuXG4gICAgICBpZiAodXBwZXJDYW52YXNFbCkge1xuICAgICAgICB1cHBlckNhbnZhc0VsLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHVwcGVyQ2FudmFzRWwgPSB0aGlzLl9jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgIHRoaXMudXBwZXJDYW52YXNFbCA9IHVwcGVyQ2FudmFzRWw7XG4gICAgICB9XG4gICAgICBmYWJyaWMudXRpbC5hZGRDbGFzcyh1cHBlckNhbnZhc0VsLCAndXBwZXItY2FudmFzICcgKyBsb3dlckNhbnZhc0NsYXNzKTtcblxuICAgICAgdGhpcy53cmFwcGVyRWwuYXBwZW5kQ2hpbGQodXBwZXJDYW52YXNFbCk7XG5cbiAgICAgIHRoaXMuX2NvcHlDYW52YXNTdHlsZShsb3dlckNhbnZhc0VsLCB1cHBlckNhbnZhc0VsKTtcbiAgICAgIHRoaXMuX2FwcGx5Q2FudmFzU3R5bGUodXBwZXJDYW52YXNFbCk7XG4gICAgICB0aGlzLmNvbnRleHRUb3AgPSB1cHBlckNhbnZhc0VsLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29udGV4dCBvZiB0b3AgY2FudmFzIHdoZXJlIGludGVyYWN0aW9ucyBhcmUgZHJhd25cbiAgICAgKiBAcmV0dXJucyB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIGdldFRvcENvbnRleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHRUb3A7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUNhY2hlQ2FudmFzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhY2hlQ2FudmFzRWwgPSB0aGlzLl9jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB0aGlzLmNhY2hlQ2FudmFzRWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMud2lkdGgpO1xuICAgICAgdGhpcy5jYWNoZUNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5oZWlnaHQpO1xuICAgICAgdGhpcy5jb250ZXh0Q2FjaGUgPSB0aGlzLmNhY2hlQ2FudmFzRWwuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdFdyYXBwZXJFbGVtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLndyYXBwZXJFbCA9IGZhYnJpYy51dGlsLndyYXBFbGVtZW50KHRoaXMubG93ZXJDYW52YXNFbCwgJ2RpdicsIHtcbiAgICAgICAgJ2NsYXNzJzogdGhpcy5jb250YWluZXJDbGFzc1xuICAgICAgfSk7XG4gICAgICBmYWJyaWMudXRpbC5zZXRTdHlsZSh0aGlzLndyYXBwZXJFbCwge1xuICAgICAgICB3aWR0aDogdGhpcy53aWR0aCArICdweCcsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgKyAncHgnLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgfSk7XG4gICAgICBmYWJyaWMudXRpbC5tYWtlRWxlbWVudFVuc2VsZWN0YWJsZSh0aGlzLndyYXBwZXJFbCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBjYW52YXMgZWxlbWVudCB0byBhcHBseSBzdHlsZXMgb25cbiAgICAgKi9cbiAgICBfYXBwbHlDYW52YXNTdHlsZTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGggfHwgZWxlbWVudC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCB8fCBlbGVtZW50LmhlaWdodDtcblxuICAgICAgZmFicmljLnV0aWwuc2V0U3R5bGUoZWxlbWVudCwge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgd2lkdGg6IHdpZHRoICsgJ3B4JyxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyAncHgnLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgICd0b3VjaC1hY3Rpb24nOiB0aGlzLmFsbG93VG91Y2hTY3JvbGxpbmcgPyAnbWFuaXB1bGF0aW9uJyA6ICdub25lJyxcbiAgICAgICAgJy1tcy10b3VjaC1hY3Rpb24nOiB0aGlzLmFsbG93VG91Y2hTY3JvbGxpbmcgPyAnbWFuaXB1bGF0aW9uJyA6ICdub25lJ1xuICAgICAgfSk7XG4gICAgICBlbGVtZW50LndpZHRoID0gd2lkdGg7XG4gICAgICBlbGVtZW50LmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGZhYnJpYy51dGlsLm1ha2VFbGVtZW50VW5zZWxlY3RhYmxlKGVsZW1lbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb3B5IHRoZSBlbnRpcmUgaW5saW5lIHN0eWxlIGZyb20gb25lIGVsZW1lbnQgKGZyb21FbCkgdG8gYW5vdGhlciAodG9FbClcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZnJvbUVsIEVsZW1lbnQgc3R5bGUgaXMgY29waWVkIGZyb21cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRvRWwgRWxlbWVudCBjb3BpZWQgc3R5bGUgaXMgYXBwbGllZCB0b1xuICAgICAqL1xuICAgIF9jb3B5Q2FudmFzU3R5bGU6IGZ1bmN0aW9uIChmcm9tRWwsIHRvRWwpIHtcbiAgICAgIHRvRWwuc3R5bGUuY3NzVGV4dCA9IGZyb21FbC5zdHlsZS5jc3NUZXh0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRleHQgb2YgY2FudmFzIHdoZXJlIG9iamVjdCBzZWxlY3Rpb24gaXMgZHJhd25cbiAgICAgKiBAcmV0dXJuIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgZ2V0U2VsZWN0aW9uQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0VG9wO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zICZsdDtjYW52YXM+IGVsZW1lbnQgb24gd2hpY2ggb2JqZWN0IHNlbGVjdGlvbiBpcyBkcmF3blxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIGdldFNlbGVjdGlvbkVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwcGVyQ2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY3VycmVudGx5IGFjdGl2ZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSBhY3RpdmUgb2JqZWN0XG4gICAgICovXG4gICAgZ2V0QWN0aXZlT2JqZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IHdpdGggdGhlIGN1cnJlbnQgc2VsZWN0ZWQgb2JqZWN0c1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IGFjdGl2ZSBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRBY3RpdmVPYmplY3RzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYWN0aXZlID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBpZiAoYWN0aXZlLnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nICYmIGFjdGl2ZS5fb2JqZWN0cykge1xuICAgICAgICAgIHJldHVybiBhY3RpdmUuX29iamVjdHMuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFthY3RpdmVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBfb25PYmplY3RSZW1vdmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIC8vIHJlbW92aW5nIGFjdGl2ZSBvYmplY3Qgc2hvdWxkIGZpcmUgXCJzZWxlY3Rpb246Y2xlYXJlZFwiIGV2ZW50c1xuICAgICAgaWYgKG9iaiA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZmlyZSgnYmVmb3JlOnNlbGVjdGlvbjpjbGVhcmVkJywgeyB0YXJnZXQ6IG9iaiB9KTtcbiAgICAgICAgdGhpcy5fZGlzY2FyZEFjdGl2ZU9iamVjdCgpO1xuICAgICAgICB0aGlzLmZpcmUoJ3NlbGVjdGlvbjpjbGVhcmVkJywgeyB0YXJnZXQ6IG9iaiB9KTtcbiAgICAgICAgb2JqLmZpcmUoJ2Rlc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChvYmogPT09IHRoaXMuX2hvdmVyZWRUYXJnZXQpe1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfb25PYmplY3RSZW1vdmVkJywgb2JqKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBDb21wYXJlcyB0aGUgb2xkIGFjdGl2ZU9iamVjdCB3aXRoIHRoZSBjdXJyZW50IG9uZSBhbmQgZmlyZXMgY29ycmVjdCBldmVudHNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iaiBvbGQgYWN0aXZlT2JqZWN0XG4gICAgICovXG4gICAgX2ZpcmVTZWxlY3Rpb25FdmVudHM6IGZ1bmN0aW9uKG9sZE9iamVjdHMsIGUpIHtcbiAgICAgIHZhciBzb21ldGhpbmdDaGFuZ2VkID0gZmFsc2UsIG9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBhZGRlZCA9IFtdLCByZW1vdmVkID0gW107XG4gICAgICBvbGRPYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2xkT2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3RzLmluZGV4T2Yob2xkT2JqZWN0KSA9PT0gLTEpIHtcbiAgICAgICAgICBzb21ldGhpbmdDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICBvbGRPYmplY3QuZmlyZSgnZGVzZWxlY3RlZCcsIHtcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IG9sZE9iamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlbW92ZWQucHVzaChvbGRPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9sZE9iamVjdHMuaW5kZXhPZihvYmplY3QpID09PSAtMSkge1xuICAgICAgICAgIHNvbWV0aGluZ0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIG9iamVjdC5maXJlKCdzZWxlY3RlZCcsIHtcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IG9iamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFkZGVkLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAob2xkT2JqZWN0cy5sZW5ndGggPiAwICYmIG9iamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBzb21ldGhpbmdDaGFuZ2VkICYmIHRoaXMuZmlyZSgnc2VsZWN0aW9uOnVwZGF0ZWQnLCB7XG4gICAgICAgICAgZTogZSxcbiAgICAgICAgICBzZWxlY3RlZDogYWRkZWQsXG4gICAgICAgICAgZGVzZWxlY3RlZDogcmVtb3ZlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvYmplY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5maXJlKCdzZWxlY3Rpb246Y3JlYXRlZCcsIHtcbiAgICAgICAgICBlOiBlLFxuICAgICAgICAgIHNlbGVjdGVkOiBhZGRlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvbGRPYmplY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5maXJlKCdzZWxlY3Rpb246Y2xlYXJlZCcsIHtcbiAgICAgICAgICBlOiBlLFxuICAgICAgICAgIGRlc2VsZWN0ZWQ6IHJlbW92ZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGdpdmVuIG9iamVjdCBhcyB0aGUgb25seSBhY3RpdmUgb2JqZWN0IG9uIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZXQgYXMgYW4gYWN0aXZlIG9uZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCAocGFzc2VkIGFsb25nIHdoZW4gZmlyaW5nIFwib2JqZWN0OnNlbGVjdGVkXCIpXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRBY3RpdmVPYmplY3Q6IGZ1bmN0aW9uIChvYmplY3QsIGUpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlcyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpO1xuICAgICAgdGhpcy5fc2V0QWN0aXZlT2JqZWN0KG9iamVjdCwgZSk7XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uRXZlbnRzKGN1cnJlbnRBY3RpdmVzLCBlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGEgcHJpdmF0ZSBtZXRob2QgZm9yIG5vdy5cbiAgICAgKiBUaGlzIGlzIHN1cHBvc2VkIHRvIGJlIGVxdWl2YWxlbnQgdG8gc2V0QWN0aXZlT2JqZWN0IGJ1dCB3aXRob3V0IGZpcmluZ1xuICAgICAqIGFueSBldmVudC4gVGhlcmUgaXMgY29tbWl0bWVudCB0byBoYXZlIHRoaXMgc3RheSB0aGlzIHdheS5cbiAgICAgKiBUaGlzIGlzIHRoZSBmdW5jdGlvbmFsIHBhcnQgb2Ygc2V0QWN0aXZlT2JqZWN0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0byBzZXQgYXMgYWN0aXZlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IChwYXNzZWQgYWxvbmcgd2hlbiBmaXJpbmcgXCJvYmplY3Q6c2VsZWN0ZWRcIilcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzZWxlY3Rpb24gaGFwcGVuZWRcbiAgICAgKi9cbiAgICBfc2V0QWN0aXZlT2JqZWN0OiBmdW5jdGlvbihvYmplY3QsIGUpIHtcbiAgICAgIGlmICh0aGlzLl9hY3RpdmVPYmplY3QgPT09IG9iamVjdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX2Rpc2NhcmRBY3RpdmVPYmplY3QoZSwgb2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0Lm9uU2VsZWN0KHsgZTogZSB9KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLl9hY3RpdmVPYmplY3QgPSBvYmplY3Q7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHByaXZhdGUgbWV0aG9kIGZvciBub3cuXG4gICAgICogVGhpcyBpcyBzdXBwb3NlZCB0byBiZSBlcXVpdmFsZW50IHRvIGRpc2NhcmRBY3RpdmVPYmplY3QgYnV0IHdpdGhvdXQgZmlyaW5nXG4gICAgICogYW55IGV2ZW50cy4gVGhlcmUgaXMgY29tbWl0bWVudCB0byBoYXZlIHRoaXMgc3RheSB0aGlzIHdheS5cbiAgICAgKiBUaGlzIGlzIHRoZSBmdW5jdGlvbmFsIHBhcnQgb2YgZGlzY2FyZEFjdGl2ZU9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgKHBhc3NlZCBhbG9uZyB3aGVuIGZpcmluZyBcIm9iamVjdDpkZXNlbGVjdGVkXCIpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0byBzZXQgYXMgYWN0aXZlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgc2VsZWN0aW9uIGhhcHBlbmVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGlzY2FyZEFjdGl2ZU9iamVjdDogZnVuY3Rpb24oZSwgb2JqZWN0KSB7XG4gICAgICB2YXIgb2JqID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgaWYgKG9iaikge1xuICAgICAgICAvLyBvbkRlc2VsZWN0IHJldHVybiBUUlVFIHRvIGNhbmNlbCBzZWxlY3Rpb247XG4gICAgICAgIGlmIChvYmoub25EZXNlbGVjdCh7IGU6IGUsIG9iamVjdDogb2JqZWN0IH0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2ZU9iamVjdCA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlzY2FyZHMgY3VycmVudGx5IGFjdGl2ZSBvYmplY3QgYW5kIGZpcmUgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGZhYnJpY1xuICAgICAqIGFzIGEgY29uc2VxdWVuY2Ugb2YgYSBtb3VzZSBldmVudCwgdGhlIGV2ZW50IGlzIHBhc3NlZCBhcyBhIHBhcmFtZXRlciBhbmRcbiAgICAgKiBzZW50IHRvIHRoZSBmaXJlIGZ1bmN0aW9uIGZvciB0aGUgY3VzdG9tIGV2ZW50cy4gV2hlbiB1c2VkIGFzIGEgbWV0aG9kIHRoZVxuICAgICAqIGUgcGFyYW0gZG9lcyBub3QgaGF2ZSBhbnkgYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtldmVudH0gZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGlzY2FyZEFjdGl2ZU9iamVjdDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlcyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLCBhY3RpdmVPYmplY3QgPSB0aGlzLmdldEFjdGl2ZU9iamVjdCgpO1xuICAgICAgaWYgKGN1cnJlbnRBY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmZpcmUoJ2JlZm9yZTpzZWxlY3Rpb246Y2xlYXJlZCcsIHsgdGFyZ2V0OiBhY3RpdmVPYmplY3QsIGU6IGUgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9kaXNjYXJkQWN0aXZlT2JqZWN0KGUpO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkV2ZW50cyhjdXJyZW50QWN0aXZlcywgZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGEgY2FudmFzIGVsZW1lbnQgYW5kIHJlbW92ZXMgYWxsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLndyYXBwZXJFbDtcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICB3cmFwcGVyLnJlbW92ZUNoaWxkKHRoaXMudXBwZXJDYW52YXNFbCk7XG4gICAgICB3cmFwcGVyLnJlbW92ZUNoaWxkKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICB0aGlzLmNvbnRleHRDYWNoZSA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRleHRUb3AgPSBudWxsO1xuICAgICAgWyd1cHBlckNhbnZhc0VsJywgJ2NhY2hlQ2FudmFzRWwnXS5mb3JFYWNoKChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmNsZWFuVXBKc2RvbU5vZGUodGhpc1tlbGVtZW50XSk7XG4gICAgICAgIHRoaXNbZWxlbWVudF0gPSB1bmRlZmluZWQ7XG4gICAgICB9KS5iaW5kKHRoaXMpKTtcbiAgICAgIGlmICh3cmFwcGVyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgd3JhcHBlci5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLmxvd2VyQ2FudmFzRWwsIHRoaXMud3JhcHBlckVsKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLndyYXBwZXJFbDtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGNvbnRleHRzIChiYWNrZ3JvdW5kLCBtYWluLCB0b3ApIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gdGhpcy5kaXNjYXJkQWN0aXZlR3JvdXAoKTtcbiAgICAgIHRoaXMuZGlzY2FyZEFjdGl2ZU9iamVjdCgpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHQodGhpcy5jb250ZXh0VG9wKTtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxTdXBlcignY2xlYXInKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3Mgb2JqZWN0cycgY29udHJvbHMgKGJvcmRlcnMvY29udHJvbHMpXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBjb250cm9scyBvblxuICAgICAqL1xuICAgIGRyYXdDb250cm9sczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgYWN0aXZlT2JqZWN0ID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuXG4gICAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIGFjdGl2ZU9iamVjdC5fcmVuZGVyQ29udHJvbHMoY3R4KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9PYmplY3Q6IGZ1bmN0aW9uKGluc3RhbmNlLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICAvL0lmIHRoZSBvYmplY3QgaXMgcGFydCBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gZ3JvdXAsIGl0IHNob3VsZFxuICAgICAgLy9iZSB0cmFuc2Zvcm1lZCBhcHByb3ByaWF0ZWx5XG4gICAgICAvL2kuZS4gaXQgc2hvdWxkIGJlIHNlcmlhbGlzZWQgYXMgaXQgd291bGQgYXBwZWFyIGlmIHRoZSBzZWxlY3Rpb24gZ3JvdXBcbiAgICAgIC8vd2VyZSB0byBiZSBkZXN0cm95ZWQuXG4gICAgICB2YXIgb3JpZ2luYWxQcm9wZXJ0aWVzID0gdGhpcy5fcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UpLFxuICAgICAgICAgIG9iamVjdCA9IHRoaXMuY2FsbFN1cGVyKCdfdG9PYmplY3QnLCBpbnN0YW5jZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAvL1VuZG8gdGhlIGRhbWFnZSB3ZSBkaWQgYnkgY2hhbmdpbmcgYWxsIG9mIGl0cyBwcm9wZXJ0aWVzXG4gICAgICB0aGlzLl91bndpbmRHcm91cFRyYW5zZm9ybU9uT2JqZWN0KGluc3RhbmNlLCBvcmlnaW5hbFByb3BlcnRpZXMpO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVhbGlzZXMgYW4gb2JqZWN0J3MgZ3JvdXAgdHJhbnNmb3JtYXRpb24gb24gaXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gW2luc3RhbmNlXSB0aGUgb2JqZWN0IHRvIHRyYW5zZm9ybSAoZ2V0cyBtdXRhdGVkKVxuICAgICAqIEByZXR1cm5zIHRoZSBvcmlnaW5hbCB2YWx1ZXMgb2YgaW5zdGFuY2Ugd2hpY2ggd2VyZSBjaGFuZ2VkXG4gICAgICovXG4gICAgX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0OiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgaWYgKGluc3RhbmNlLmdyb3VwICYmIGluc3RhbmNlLmdyb3VwLnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nICYmIHRoaXMuX2FjdGl2ZU9iamVjdCA9PT0gaW5zdGFuY2UuZ3JvdXApIHtcbiAgICAgICAgdmFyIGxheW91dFByb3BzID0gWydhbmdsZScsICdmbGlwWCcsICdmbGlwWScsICdsZWZ0JywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2tld1gnLCAnc2tld1knLCAndG9wJ107XG4gICAgICAgIC8vQ29weSBhbGwgdGhlIHBvc2l0aW9uYWxseSByZWxldmFudCBwcm9wZXJ0aWVzIGFjcm9zcyBub3dcbiAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWVzID0ge307XG4gICAgICAgIGxheW91dFByb3BzLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgIG9yaWdpbmFsVmFsdWVzW3Byb3BdID0gaW5zdGFuY2VbcHJvcF07XG4gICAgICAgIH0pO1xuICAgICAgICBmYWJyaWMudXRpbC5hZGRUcmFuc2Zvcm1Ub09iamVjdChpbnN0YW5jZSwgdGhpcy5fYWN0aXZlT2JqZWN0LmNhbGNPd25NYXRyaXgoKSk7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbFZhbHVlcztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzdG9yZXMgdGhlIGNoYW5nZWQgcHJvcGVydGllcyBvZiBpbnN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBbaW5zdGFuY2VdIHRoZSBvYmplY3QgdG8gdW4tdHJhbnNmb3JtIChnZXRzIG11dGF0ZWQpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcmlnaW5hbFZhbHVlc10gdGhlIG9yaWdpbmFsIHZhbHVlcyBvZiBpbnN0YW5jZSwgYXMgcmV0dXJuZWQgYnkgX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0XG4gICAgICovXG4gICAgX3Vud2luZEdyb3VwVHJhbnNmb3JtT25PYmplY3Q6IGZ1bmN0aW9uKGluc3RhbmNlLCBvcmlnaW5hbFZhbHVlcykge1xuICAgICAgaWYgKG9yaWdpbmFsVmFsdWVzKSB7XG4gICAgICAgIGluc3RhbmNlLnNldChvcmlnaW5hbFZhbHVlcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR09iamVjdDogZnVuY3Rpb24obWFya3VwLCBpbnN0YW5jZSwgcmV2aXZlcikge1xuICAgICAgLy9JZiB0aGUgb2JqZWN0IGlzIGluIGEgc2VsZWN0aW9uIGdyb3VwLCBzaW11bGF0ZSB3aGF0IHdvdWxkIGhhcHBlbiB0byB0aGF0XG4gICAgICAvL29iamVjdCB3aGVuIHRoZSBncm91cCBpcyBkZXNlbGVjdGVkXG4gICAgICB2YXIgb3JpZ2luYWxQcm9wZXJ0aWVzID0gdGhpcy5fcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UpO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXRTVkdPYmplY3QnLCBtYXJrdXAsIGluc3RhbmNlLCByZXZpdmVyKTtcbiAgICAgIHRoaXMuX3Vud2luZEdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UsIG9yaWdpbmFsUHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIHNldFZpZXdwb3J0VHJhbnNmb3JtOiBmdW5jdGlvbiAodnB0KSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLl9hY3RpdmVPYmplY3QgJiYgdGhpcy5fYWN0aXZlT2JqZWN0LmlzRWRpdGluZykge1xuICAgICAgICB0aGlzLl9hY3RpdmVPYmplY3QuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB9XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5zZXRWaWV3cG9ydFRyYW5zZm9ybS5jYWxsKHRoaXMsIHZwdCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBjb3B5aW5nIHN0YXRpYyBwcm9wZXJ0aWVzIG1hbnVhbGx5IHRvIHdvcmsgYXJvdW5kIE9wZXJhJ3MgYnVnLFxuICAvLyB3aGVyZSBcInByb3RvdHlwZVwiIHByb3BlcnR5IGlzIGVudW1lcmFibGUgYW5kIG92ZXJyaWRlcyBleGlzdGluZyBwcm90b3R5cGVcbiAgZm9yICh2YXIgcHJvcCBpbiBmYWJyaWMuU3RhdGljQ2FudmFzKSB7XG4gICAgaWYgKHByb3AgIT09ICdwcm90b3R5cGUnKSB7XG4gICAgICBmYWJyaWMuQ2FudmFzW3Byb3BdID0gZmFicmljLlN0YXRpY0NhbnZhc1twcm9wXTtcbiAgICB9XG4gIH1cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBhZGRMaXN0ZW5lciA9IGZhYnJpYy51dGlsLmFkZExpc3RlbmVyLFxuICAgICAgcmVtb3ZlTGlzdGVuZXIgPSBmYWJyaWMudXRpbC5yZW1vdmVMaXN0ZW5lcixcbiAgICAgIFJJR0hUX0NMSUNLID0gMywgTUlERExFX0NMSUNLID0gMiwgTEVGVF9DTElDSyA9IDEsXG4gICAgICBhZGRFdmVudE9wdGlvbnMgPSB7IHBhc3NpdmU6IGZhbHNlIH07XG5cbiAgZnVuY3Rpb24gY2hlY2tDbGljayhlLCB2YWx1ZSkge1xuICAgIHJldHVybiBlLmJ1dHRvbiAmJiAoZS5idXR0b24gPT09IHZhbHVlIC0gMSk7XG4gIH1cblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5DYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIENvbnRhaW5zIHRoZSBpZCBvZiB0aGUgdG91Y2ggZXZlbnQgdGhhdCBvd25zIHRoZSBmYWJyaWMgdHJhbnNmb3JtXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYWluVG91Y2hJZDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgbW91c2UgbGlzdGVuZXJzIHRvIGNhbnZhc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRFdmVudExpc3RlbmVyczogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gaW4gY2FzZSB3ZSBpbml0aWFsaXplZCB0aGUgY2xhc3MgdHdpY2UuIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4gbm9ybWFsbHlcbiAgICAgIC8vIGJ1dCBpbiBzb21lIGtpbmQgb2YgYXBwbGljYXRpb25zIHdoZXJlIHRoZSBjYW52YXMgZWxlbWVudCBtYXkgYmUgY2hhbmdlZFxuICAgICAgLy8gdGhpcyBpcyBhIHdvcmthcm91bmQgdG8gaGF2aW5nIGRvdWJsZSBsaXN0ZW5lcnMuXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICAgICAgdGhpcy5hZGRPclJlbW92ZShhZGRMaXN0ZW5lciwgJ2FkZCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gYW4gZXZlbnQgcHJlZml4IHBvaW50ZXIgb3IgbW91c2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0RXZlbnRQcmVmaXg6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuYWJsZVBvaW50ZXJFdmVudHMgPyAncG9pbnRlcicgOiAnbW91c2UnO1xuICAgIH0sXG5cbiAgICBhZGRPclJlbW92ZTogZnVuY3Rpb24oZnVuY3RvciwgZXZlbnRqc0Z1bmN0b3IpIHtcbiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gdGhpcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICBmdW5jdG9yKGZhYnJpYy53aW5kb3csICdyZXNpemUnLCB0aGlzLl9vblJlc2l6ZSk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdkb3duJywgdGhpcy5fb25Nb3VzZURvd24pO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnb3V0JywgdGhpcy5fb25Nb3VzZU91dCk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdlbnRlcicsIHRoaXMuX29uTW91c2VFbnRlcik7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICd3aGVlbCcsIHRoaXMuX29uTW91c2VXaGVlbCk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdjb250ZXh0bWVudScsIHRoaXMuX29uQ29udGV4dE1lbnUpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnZGJsY2xpY2snLCB0aGlzLl9vbkRvdWJsZUNsaWNrKTtcbiAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgJ2RyYWdvdmVyJywgdGhpcy5fb25EcmFnT3Zlcik7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdkcmFnZW50ZXInLCB0aGlzLl9vbkRyYWdFbnRlcik7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdkcmFnbGVhdmUnLCB0aGlzLl9vbkRyYWdMZWF2ZSk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdkcm9wJywgdGhpcy5fb25Ecm9wKTtcbiAgICAgIGlmICghdGhpcy5lbmFibGVQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRvdWNoU3RhcnQsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGV2ZW50anMgIT09ICd1bmRlZmluZWQnICYmIGV2ZW50anNGdW5jdG9yIGluIGV2ZW50anMpIHtcbiAgICAgICAgZXZlbnRqc1tldmVudGpzRnVuY3Rvcl0oY2FudmFzRWxlbWVudCwgJ2dlc3R1cmUnLCB0aGlzLl9vbkdlc3R1cmUpO1xuICAgICAgICBldmVudGpzW2V2ZW50anNGdW5jdG9yXShjYW52YXNFbGVtZW50LCAnZHJhZycsIHRoaXMuX29uRHJhZyk7XG4gICAgICAgIGV2ZW50anNbZXZlbnRqc0Z1bmN0b3JdKGNhbnZhc0VsZW1lbnQsICdvcmllbnRhdGlvbicsIHRoaXMuX29uT3JpZW50YXRpb25DaGFuZ2UpO1xuICAgICAgICBldmVudGpzW2V2ZW50anNGdW5jdG9yXShjYW52YXNFbGVtZW50LCAnc2hha2UnLCB0aGlzLl9vblNoYWtlKTtcbiAgICAgICAgZXZlbnRqc1tldmVudGpzRnVuY3Rvcl0oY2FudmFzRWxlbWVudCwgJ2xvbmdwcmVzcycsIHRoaXMuX29uTG9uZ1ByZXNzKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZXZlbnQgbGlzdGVuZXJzXG4gICAgICovXG4gICAgcmVtb3ZlTGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuYWRkT3JSZW1vdmUocmVtb3ZlTGlzdGVuZXIsICdyZW1vdmUnKTtcbiAgICAgIC8vIGlmIHlvdSBkaXNwb3NlIG9uIGEgbW91c2VEb3duLCBiZWZvcmUgbW91c2UgdXAsIHlvdSBuZWVkIHRvIGNsZWFuIGRvY3VtZW50IHRvLi4uXG4gICAgICB2YXIgZXZlbnRUeXBlUHJlZml4ID0gdGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ3VwJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ21vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9iaW5kRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmV2ZW50c0JvdW5kKSB7XG4gICAgICAgIC8vIGZvciBhbnkgcmVhc29uIHdlIHBhc3MgaGVyZSB0d2ljZSB3ZSBkbyBub3Qgd2FudCB0byBiaW5kIGV2ZW50cyB0d2ljZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fb25Nb3VzZURvd24gPSB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Ub3VjaFN0YXJ0ID0gdGhpcy5fb25Ub3VjaFN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlVXAgPSB0aGlzLl9vbk1vdXNlVXAuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uVG91Y2hFbmQgPSB0aGlzLl9vblRvdWNoRW5kLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vblJlc2l6ZSA9IHRoaXMuX29uUmVzaXplLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkdlc3R1cmUgPSB0aGlzLl9vbkdlc3R1cmUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uRHJhZyA9IHRoaXMuX29uRHJhZy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25TaGFrZSA9IHRoaXMuX29uU2hha2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uTG9uZ1ByZXNzID0gdGhpcy5fb25Mb25nUHJlc3MuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uT3JpZW50YXRpb25DaGFuZ2UgPSB0aGlzLl9vbk9yaWVudGF0aW9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlV2hlZWwgPSB0aGlzLl9vbk1vdXNlV2hlZWwuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uTW91c2VPdXQgPSB0aGlzLl9vbk1vdXNlT3V0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlRW50ZXIgPSB0aGlzLl9vbk1vdXNlRW50ZXIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uQ29udGV4dE1lbnUgPSB0aGlzLl9vbkNvbnRleHRNZW51LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkRvdWJsZUNsaWNrID0gdGhpcy5fb25Eb3VibGVDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25EcmFnT3ZlciA9IHRoaXMuX29uRHJhZ092ZXIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uRHJhZ0VudGVyID0gdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyLmJpbmQodGhpcywgJ2RyYWdlbnRlcicpO1xuICAgICAgdGhpcy5fb25EcmFnTGVhdmUgPSB0aGlzLl9zaW1wbGVFdmVudEhhbmRsZXIuYmluZCh0aGlzLCAnZHJhZ2xlYXZlJyk7XG4gICAgICB0aGlzLl9vbkRyb3AgPSB0aGlzLl9vbkRyb3AuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZXZlbnRzQm91bmQgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgZ2VzdHVyZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtzZWxmXSBJbm5lciBFdmVudCBvYmplY3RcbiAgICAgKi9cbiAgICBfb25HZXN0dXJlOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25UcmFuc2Zvcm1HZXN0dXJlICYmIHRoaXMuX19vblRyYW5zZm9ybUdlc3R1cmUoZSwgc2VsZik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBkcmFnXG4gICAgICogQHBhcmFtIHtFdmVudH0gW3NlbGZdIElubmVyIEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIF9vbkRyYWc6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vbkRyYWcgJiYgdGhpcy5fX29uRHJhZyhlLCBzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgb2JqZWN0IGZpcmVkIG9uIHdoZWVsIGV2ZW50XG4gICAgICovXG4gICAgX29uTW91c2VXaGVlbDogZnVuY3Rpb24oZSkge1xuICAgICAgdGhpcy5fX29uTW91c2VXaGVlbChlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Nb3VzZU91dDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX2hvdmVyZWRUYXJnZXQ7XG4gICAgICB0aGlzLmZpcmUoJ21vdXNlOm91dCcsIHsgdGFyZ2V0OiB0YXJnZXQsIGU6IGUgfSk7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gbnVsbDtcbiAgICAgIHRhcmdldCAmJiB0YXJnZXQuZmlyZSgnbW91c2VvdXQnLCB7IGU6IGUgfSk7XG5cbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKF90YXJnZXQpe1xuICAgICAgICBfdGhpcy5maXJlKCdtb3VzZTpvdXQnLCB7IHRhcmdldDogdGFyZ2V0LCBlOiBlIH0pO1xuICAgICAgICBfdGFyZ2V0ICYmIHRhcmdldC5maXJlKCdtb3VzZW91dCcsIHsgZTogZSB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWVudGVyXG4gICAgICovXG4gICAgX29uTW91c2VFbnRlcjogZnVuY3Rpb24oZSkge1xuICAgICAgLy8gVGhpcyBmaW5kIHRhcmdldCBhbmQgY29uc2VxdWVudCAnbW91c2U6b3ZlcicgaXMgdXNlZCB0b1xuICAgICAgLy8gY2xlYXIgb2xkIGluc3RhbmNlcyBvbiBob3ZlcmVkIHRhcmdldC5cbiAgICAgIC8vIGNhbGxpbmcgZmluZFRhcmdldCBoYXMgdGhlIHNpZGUgZWZmZWN0IG9mIGtpbGxpbmcgdGFyZ2V0Ll9fY29ybmVyLlxuICAgICAgLy8gYXMgYSBzaG9ydCB0ZXJtIGZpeCB3ZSBhcmUgbm90IGZpcmluZyB0aGlzIGlmIHdlIGFyZSBjdXJyZW50bHkgdHJhbnNmb3JtaW5nLlxuICAgICAgLy8gYXMgYSBsb25nIHRlcm0gZml4IHdlIG5lZWQgdG8gc2VwYXJhdGUgdGhlIGFjdGlvbiBvZiBmaW5kaW5nIGEgdGFyZ2V0IHdpdGggdGhlXG4gICAgICAvLyBzaWRlIGVmZmVjdHMgd2UgYWRkZWQgdG8gaXQuXG4gICAgICBpZiAoIXRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gJiYgIXRoaXMuZmluZFRhcmdldChlKSkge1xuICAgICAgICB0aGlzLmZpcmUoJ21vdXNlOm92ZXInLCB7IHRhcmdldDogbnVsbCwgZTogZSB9KTtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gW107XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBvcmllbnRhdGlvbiBjaGFuZ2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uT3JpZW50YXRpb25DaGFuZ2U6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vbk9yaWVudGF0aW9uQ2hhbmdlICYmIHRoaXMuX19vbk9yaWVudGF0aW9uQ2hhbmdlKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgc2hha2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uU2hha2U6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vblNoYWtlICYmIHRoaXMuX19vblNoYWtlKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgc2hha2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uTG9uZ1ByZXNzOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25Mb25nUHJlc3MgJiYgdGhpcy5fX29uTG9uZ1ByZXNzKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBwcmV2ZW50IGRlZmF1bHQgdG8gYWxsb3cgZHJvcCBldmVudCB0byBiZSBmaXJlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBzaGFrZVxuICAgICAqL1xuICAgIF9vbkRyYWdPdmVyOiBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyKCdkcmFnb3ZlcicsIGUpO1xuICAgICAgdGhpcy5fZmlyZUVudGVyTGVhdmVFdmVudHModGFyZ2V0LCBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYGRyb3A6YmVmb3JlYCBpcyBhIGFuIGV2ZW50IHRoYXQgYWxsb3cgeW91IHRvIHNjaGVkdWxlIGxvZ2ljXG4gICAgICogYmVmb3JlIHRoZSBgZHJvcGAgZXZlbnQuIFByZWZlciBgZHJvcGAgZXZlbnQgYWx3YXlzLCBidXQgaWYgeW91IG5lZWRcbiAgICAgKiB0byBydW4gc29tZSBkcm9wLWRpc2FibGluZyBsb2dpYyBvbiBhbiBldmVudCwgc2luY2UgdGhlcmUgaXMgbm8gd2F5XG4gICAgICogdG8gaGFuZGxlIGV2ZW50IGhhbmRsZXJzIG9yZGVyaW5nLCB1c2UgYGRyb3A6YmVmb3JlYFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cbiAgICBfb25Ecm9wOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyKCdkcm9wOmJlZm9yZScsIGUpO1xuICAgICAgcmV0dXJuIHRoaXMuX3NpbXBsZUV2ZW50SGFuZGxlcignZHJvcCcsIGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlZG93blxuICAgICAqL1xuICAgIF9vbkNvbnRleHRNZW51OiBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKHRoaXMuc3RvcENvbnRleHRNZW51KSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Eb3VibGVDbGljazogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2RibGNsaWNrJyk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YShlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgdGhlIGlkIG9mIGFuIGV2ZW50LlxuICAgICAqIHJldHVybnMgZWl0aGVyIHRoZSBwb2ludGVySWQgb3IgdGhlIGlkZW50aWZpZXIgb3IgMCBmb3IgdGhlIG1vdXNlIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldnQgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgZ2V0UG9pbnRlcklkOiBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBjaGFuZ2VkVG91Y2hlcyA9IGV2dC5jaGFuZ2VkVG91Y2hlcztcblxuICAgICAgaWYgKGNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VkVG91Y2hlc1swXSAmJiBjaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lbmFibGVQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgIHJldHVybiBldnQucG9pbnRlcklkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLTE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYW4gZXZlbnQgaGFzIHRoZSBpZCBvZiB0aGUgZXZlbnQgdGhhdCBpcyBjb25zaWRlcmVkIG1haW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZXZ0fSBldmVudCBFdmVudCBvYmplY3RcbiAgICAgKi9cbiAgICBfaXNNYWluRXZlbnQ6IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKGV2dC5pc1ByaW1hcnkgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZXZ0LmlzUHJpbWFyeSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC50eXBlID09PSAndG91Y2hlbmQnICYmIGV2dC50b3VjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgcmV0dXJuIGV2dC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyID09PSB0aGlzLm1haW5Ub3VjaElkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uVG91Y2hTdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHRoaXMubWFpblRvdWNoSWQgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5tYWluVG91Y2hJZCA9IHRoaXMuZ2V0UG9pbnRlcklkKGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX29uTW91c2VEb3duKGUpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtcbiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gdGhpcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICBhZGRMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICBhZGRMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIC8vIFVuYmluZCBtb3VzZWRvd24gdG8gcHJldmVudCBkb3VibGUgdHJpZ2dlcnMgZnJvbSB0b3VjaCBkZXZpY2VzXG4gICAgICByZW1vdmVMaXN0ZW5lcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnZG93bicsIHRoaXMuX29uTW91c2VEb3duKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Nb3VzZURvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9fb25Nb3VzZURvd24oZSk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgdmFyIGNhbnZhc0VsZW1lbnQgPSB0aGlzLnVwcGVyQ2FudmFzRWwsXG4gICAgICAgICAgZXZlbnRUeXBlUHJlZml4ID0gdGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGNhbnZhc0VsZW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICBhZGRMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICd1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICBhZGRMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uVG91Y2hFbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBpZiB0aGVyZSBhcmUgc3RpbGwgdG91Y2hlcyBzdG9wIGhlcmVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fX29uTW91c2VVcChlKTtcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgICB0aGlzLm1haW5Ub3VjaElkID0gbnVsbDtcbiAgICAgIHZhciBldmVudFR5cGVQcmVmaXggPSB0aGlzLl9nZXRFdmVudFByZWZpeCgpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblRvdWNoRW5kLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuX3dpbGxBZGRNb3VzZURvd24pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3dpbGxBZGRNb3VzZURvd24pO1xuICAgICAgfVxuICAgICAgdGhpcy5fd2lsbEFkZE1vdXNlRG93biA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFdhaXQgNDAwbXMgYmVmb3JlIHJlYmluZGluZyBtb3VzZWRvd24gdG8gcHJldmVudCBkb3VibGUgdHJpZ2dlcnNcbiAgICAgICAgLy8gZnJvbSB0b3VjaCBkZXZpY2VzXG4gICAgICAgIGFkZExpc3RlbmVyKF90aGlzLnVwcGVyQ2FudmFzRWwsIGV2ZW50VHlwZVByZWZpeCArICdkb3duJywgX3RoaXMuX29uTW91c2VEb3duKTtcbiAgICAgICAgX3RoaXMuX3dpbGxBZGRNb3VzZURvd24gPSAwO1xuICAgICAgfSwgNDAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZXVwXG4gICAgICovXG4gICAgX29uTW91c2VVcDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX19vbk1vdXNlVXAoZSk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgdmFyIGNhbnZhc0VsZW1lbnQgPSB0aGlzLnVwcGVyQ2FudmFzRWwsXG4gICAgICAgICAgZXZlbnRUeXBlUHJlZml4ID0gdGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTtcbiAgICAgIGlmICh0aGlzLl9pc01haW5FdmVudChlKSkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICd1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ21vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgICAgYWRkTGlzdGVuZXIoY2FudmFzRWxlbWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ21vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICBfb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAhdGhpcy5hbGxvd1RvdWNoU2Nyb2xsaW5nICYmIGUucHJldmVudERlZmF1bHQgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fX29uTW91c2VNb3ZlKGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblJlc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxjT2Zmc2V0KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2lkZXMgd2hldGhlciB0aGUgY2FudmFzIHNob3VsZCBiZSByZWRyYXduIGluIG1vdXNldXAgYW5kIG1vdXNlZG93biBldmVudHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gICAgICovXG4gICAgX3Nob3VsZFJlbmRlcjogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICB2YXIgYWN0aXZlT2JqZWN0ID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuXG4gICAgICBpZiAoXG4gICAgICAgICEhYWN0aXZlT2JqZWN0ICE9PSAhIXRhcmdldCB8fFxuICAgICAgICAoYWN0aXZlT2JqZWN0ICYmIHRhcmdldCAmJiAoYWN0aXZlT2JqZWN0ICE9PSB0YXJnZXQpKVxuICAgICAgKSB7XG4gICAgICAgIC8vIHRoaXMgY292ZXJzOiBzd2l0Y2ggb2YgdGFyZ2V0LCBmcm9tIHRhcmdldCB0byBubyB0YXJnZXQsIHNlbGVjdGlvbiBvZiB0YXJnZXRcbiAgICAgICAgLy8gbXVsdGlTZWxlY3Rpb24gd2l0aCBrZXkgYW5kIG1vdXNlXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYWN0aXZlT2JqZWN0ICYmIGFjdGl2ZU9iamVjdC5pc0VkaXRpbmcpIHtcbiAgICAgICAgLy8gaWYgd2UgbW91c2UgdXAvZG93biBvdmVyIGEgZWRpdGluZyB0ZXh0Ym94IGEgY3Vyc29yIGNoYW5nZSxcbiAgICAgICAgLy8gdGhlcmUgaXMgbm8gbmVlZCB0byByZSByZW5kZXJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZWZpbmVzIHRoZSBhY3Rpb25zIHdoZW4gbW91c2UgaXMgcmVsZWFzZWQgb24gY2FudmFzLlxuICAgICAqIFRoZSBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50VHJhbnNmb3JtIHBhcmFtZXRlcnMsIHN0b3JlIHRoZSBpbWFnZSBjb3JuZXJcbiAgICAgKiBwb3NpdGlvbiBpbiB0aGUgaW1hZ2Ugb2JqZWN0IGFuZCByZW5kZXIgdGhlIGNhbnZhcyBvbiB0b3AuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZXVwXG4gICAgICovXG4gICAgX19vbk1vdXNlVXA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdGFyZ2V0LCB0cmFuc2Zvcm0gPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtLFxuICAgICAgICAgIGdyb3VwU2VsZWN0b3IgPSB0aGlzLl9ncm91cFNlbGVjdG9yLCBzaG91bGRSZW5kZXIgPSBmYWxzZSxcbiAgICAgICAgICBpc0NsaWNrID0gKCFncm91cFNlbGVjdG9yIHx8IChncm91cFNlbGVjdG9yLmxlZnQgPT09IDAgJiYgZ3JvdXBTZWxlY3Rvci50b3AgPT09IDApKTtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwOmJlZm9yZScpO1xuICAgICAgLy8gaWYgcmlnaHQvbWlkZGxlIGNsaWNrIGp1c3QgZmlyZSBldmVudHMgYW5kIHJldHVyblxuICAgICAgLy8gdGFyZ2V0IHVuZGVmaW5lZCB3aWxsIG1ha2UgdGhlIF9oYW5kbGVFdmVudCBzZWFyY2ggdGhlIHRhcmdldFxuICAgICAgaWYgKGNoZWNrQ2xpY2soZSwgUklHSFRfQ0xJQ0spKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcmVSaWdodENsaWNrKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwJywgUklHSFRfQ0xJQ0ssIGlzQ2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoZWNrQ2xpY2soZSwgTUlERExFX0NMSUNLKSkge1xuICAgICAgICBpZiAodGhpcy5maXJlTWlkZGxlQ2xpY2spIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAndXAnLCBNSURETEVfQ0xJQ0ssIGlzQ2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSAmJiB0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcpIHtcbiAgICAgICAgdGhpcy5fb25Nb3VzZVVwSW5EcmF3aW5nTW9kZShlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2lzTWFpbkV2ZW50KGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5fZmluYWxpemVDdXJyZW50VHJhbnNmb3JtKGUpO1xuICAgICAgICBzaG91bGRSZW5kZXIgPSB0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0NsaWNrKSB7XG4gICAgICAgIHZhciB0YXJnZXRXYXNBY3RpdmUgPSB0YXJnZXQgPT09IHRoaXMuX2FjdGl2ZU9iamVjdDtcbiAgICAgICAgdGhpcy5fbWF5YmVHcm91cE9iamVjdHMoZSk7XG4gICAgICAgIGlmICghc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgICAgc2hvdWxkUmVuZGVyID0gKFxuICAgICAgICAgICAgdGhpcy5fc2hvdWxkUmVuZGVyKHRhcmdldCkgfHxcbiAgICAgICAgICAgICghdGFyZ2V0V2FzQWN0aXZlICYmIHRhcmdldCA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjb3JuZXIsIHBvaW50ZXI7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGNvcm5lciA9IHRhcmdldC5fZmluZFRhcmdldENvcm5lcihcbiAgICAgICAgICB0aGlzLmdldFBvaW50ZXIoZSwgdHJ1ZSksXG4gICAgICAgICAgZmFicmljLnV0aWwuaXNUb3VjaEV2ZW50KGUpXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0YXJnZXQuc2VsZWN0YWJsZSAmJiB0YXJnZXQgIT09IHRoaXMuX2FjdGl2ZU9iamVjdCAmJiB0YXJnZXQuYWN0aXZlT24gPT09ICd1cCcpIHtcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZU9iamVjdCh0YXJnZXQsIGUpO1xuICAgICAgICAgIHNob3VsZFJlbmRlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbnRyb2wgPSB0YXJnZXQuY29udHJvbHNbY29ybmVyXSxcbiAgICAgICAgICAgICAgbW91c2VVcEhhbmRsZXIgPSBjb250cm9sICYmIGNvbnRyb2wuZ2V0TW91c2VVcEhhbmRsZXIoZSwgdGFyZ2V0LCBjb250cm9sKTtcbiAgICAgICAgICBpZiAobW91c2VVcEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSk7XG4gICAgICAgICAgICBtb3VzZVVwSGFuZGxlcihlLCB0cmFuc2Zvcm0sIHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBpZiB3ZSBhcmUgZW5kaW5nIHVwIGEgdHJhbnNmb3JtIG9uIGEgZGlmZmVyZW50IGNvbnRyb2wgb3IgYSBuZXcgb2JqZWN0XG4gICAgICAvLyBmaXJlIHRoZSBvcmlnaW5hbCBtb3VzZSB1cCBmcm9tIHRoZSBjb3JuZXIgdGhhdCBzdGFydGVkIHRoZSB0cmFuc2Zvcm1cbiAgICAgIGlmICh0cmFuc2Zvcm0gJiYgKHRyYW5zZm9ybS50YXJnZXQgIT09IHRhcmdldCB8fCB0cmFuc2Zvcm0uY29ybmVyICE9PSBjb3JuZXIpKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbENvbnRyb2wgPSB0cmFuc2Zvcm0udGFyZ2V0ICYmIHRyYW5zZm9ybS50YXJnZXQuY29udHJvbHNbdHJhbnNmb3JtLmNvcm5lcl0sXG4gICAgICAgICAgICBvcmlnaW5hbE1vdXNlVXBIYW5kbGVyID0gb3JpZ2luYWxDb250cm9sICYmIG9yaWdpbmFsQ29udHJvbC5nZXRNb3VzZVVwSGFuZGxlcihlLCB0YXJnZXQsIGNvbnRyb2wpO1xuICAgICAgICBwb2ludGVyID0gcG9pbnRlciB8fCB0aGlzLmdldFBvaW50ZXIoZSk7XG4gICAgICAgIG9yaWdpbmFsTW91c2VVcEhhbmRsZXIgJiYgb3JpZ2luYWxNb3VzZVVwSGFuZGxlcihlLCB0cmFuc2Zvcm0sIHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldEN1cnNvckZyb21FdmVudChlLCB0YXJnZXQpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwJywgTEVGVF9DTElDSywgaXNDbGljayk7XG4gICAgICB0aGlzLl9ncm91cFNlbGVjdG9yID0gbnVsbDtcbiAgICAgIHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgLy8gcmVzZXQgdGhlIHRhcmdldCBpbmZvcm1hdGlvbiBhYm91dCB3aGljaCBjb3JuZXIgaXMgc2VsZWN0ZWRcbiAgICAgIHRhcmdldCAmJiAodGFyZ2V0Ll9fY29ybmVyID0gMCk7XG4gICAgICBpZiAoc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWlzQ2xpY2spIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUb3AoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBIYW5kbGUgZXZlbnQgZmlyaW5nIGZvciB0YXJnZXQgYW5kIHN1YnRhcmdldHNcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIGV2ZW50IGZyb20gbW91c2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlIGV2ZW50IHRvIGZpcmUgKHVwLCBkb3duIG9yIG1vdmUpXG4gICAgICogQHJldHVybiB7RmFicmljLk9iamVjdH0gdGFyZ2V0IHJldHVybiB0aGUgdGhlIHRhcmdldCBmb3VuZCwgZm9yIGludGVybmFsIHJlYXNvbnMuXG4gICAgICovXG4gICAgX3NpbXBsZUV2ZW50SGFuZGxlcjogZnVuY3Rpb24oZXZlbnRUeXBlLCBlKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5maW5kVGFyZ2V0KGUpLFxuICAgICAgICAgIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsXG4gICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIHN1YlRhcmdldHM6IHRhcmdldHMsXG4gICAgICAgICAgfTtcbiAgICAgIHRoaXMuZmlyZShldmVudFR5cGUsIG9wdGlvbnMpO1xuICAgICAgdGFyZ2V0ICYmIHRhcmdldC5maXJlKGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICBpZiAoIXRhcmdldHMpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRzW2ldLmZpcmUoZXZlbnRUeXBlLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogSGFuZGxlIGV2ZW50IGZpcmluZyBmb3IgdGFyZ2V0IGFuZCBzdWJ0YXJnZXRzXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBldmVudCBmcm9tIG1vdXNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZSBldmVudCB0byBmaXJlICh1cCwgZG93biBvciBtb3ZlKVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gdGFyZ2V0T2JqIHJlY2VpdmluZyBldmVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYnV0dG9uXSBidXR0b24gdXNlZCBpbiB0aGUgZXZlbnQgMSA9IGxlZnQsIDIgPSBtaWRkbGUsIDMgPSByaWdodFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNDbGljayBmb3IgbGVmdCBidXR0b24gb25seSwgaW5kaWNhdGVzIHRoYXQgdGhlIG1vdXNlIHVwIGhhcHBlbmVkIHdpdGhvdXQgbW92ZS5cbiAgICAgKi9cbiAgICBfaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uKGUsIGV2ZW50VHlwZSwgYnV0dG9uLCBpc0NsaWNrKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0LFxuICAgICAgICAgIHRhcmdldHMgPSB0aGlzLnRhcmdldHMgfHwgW10sXG4gICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIHN1YlRhcmdldHM6IHRhcmdldHMsXG4gICAgICAgICAgICBidXR0b246IGJ1dHRvbiB8fCBMRUZUX0NMSUNLLFxuICAgICAgICAgICAgaXNDbGljazogaXNDbGljayB8fCBmYWxzZSxcbiAgICAgICAgICAgIHBvaW50ZXI6IHRoaXMuX3BvaW50ZXIsXG4gICAgICAgICAgICBhYnNvbHV0ZVBvaW50ZXI6IHRoaXMuX2Fic29sdXRlUG9pbnRlcixcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5fY3VycmVudFRyYW5zZm9ybVxuICAgICAgICAgIH07XG4gICAgICBpZiAoZXZlbnRUeXBlID09PSAndXAnKSB7XG4gICAgICAgIG9wdGlvbnMuY3VycmVudFRhcmdldCA9IHRoaXMuZmluZFRhcmdldChlKTtcbiAgICAgICAgb3B0aW9ucy5jdXJyZW50U3ViVGFyZ2V0cyA9IHRoaXMudGFyZ2V0cztcbiAgICAgIH1cbiAgICAgIHRoaXMuZmlyZSgnbW91c2U6JyArIGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICB0YXJnZXQgJiYgdGFyZ2V0LmZpcmUoJ21vdXNlJyArIGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0c1tpXS5maXJlKCdtb3VzZScgKyBldmVudFR5cGUsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgc2VuZCB0aGUgbW91c2UgZXZlbnQgdGhhdCBnZW5lcmF0ZSB0aGUgZmluYWxpemUgZG93biwgc28gaXQgY2FuIGJlIHVzZWQgaW4gdGhlIGV2ZW50XG4gICAgICovXG4gICAgX2ZpbmFsaXplQ3VycmVudFRyYW5zZm9ybTogZnVuY3Rpb24oZSkge1xuXG4gICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybSxcbiAgICAgICAgICB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgICAgIGFjdGlvbjogdHJhbnNmb3JtLmFjdGlvbixcbiAgICAgICAgICB9O1xuXG4gICAgICBpZiAodGFyZ2V0Ll9zY2FsaW5nKSB7XG4gICAgICAgIHRhcmdldC5fc2NhbGluZyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0YXJnZXQuc2V0Q29vcmRzKCk7XG5cbiAgICAgIGlmICh0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkIHx8ICh0aGlzLnN0YXRlZnVsICYmIHRhcmdldC5oYXNTdGF0ZUNoYW5nZWQoKSkpIHtcbiAgICAgICAgdGhpcy5fZmlyZSgnbW9kaWZpZWQnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Nb3VzZURvd25JbkRyYXdpbmdNb2RlOiBmdW5jdGlvbihlKSB7XG4gICAgICB0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuZ2V0QWN0aXZlT2JqZWN0KCkpIHtcbiAgICAgICAgdGhpcy5kaXNjYXJkQWN0aXZlT2JqZWN0KGUpLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIH1cbiAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUpO1xuICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoLm9uTW91c2VEb3duKHBvaW50ZXIsIHsgZTogZSwgcG9pbnRlcjogcG9pbnRlciB9KTtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdkb3duJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vtb3ZlXG4gICAgICovXG4gICAgX29uTW91c2VNb3ZlSW5EcmF3aW5nTW9kZTogZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5RHJhd2luZykge1xuICAgICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKTtcbiAgICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoLm9uTW91c2VNb3ZlKHBvaW50ZXIsIHsgZTogZSwgcG9pbnRlcjogcG9pbnRlciB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMuZnJlZURyYXdpbmdDdXJzb3IpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ21vdmUnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZXVwXG4gICAgICovXG4gICAgX29uTW91c2VVcEluRHJhd2luZ01vZGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUpO1xuICAgICAgdGhpcy5faXNDdXJyZW50bHlEcmF3aW5nID0gdGhpcy5mcmVlRHJhd2luZ0JydXNoLm9uTW91c2VVcCh7IGU6IGUsIHBvaW50ZXI6IHBvaW50ZXIgfSk7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAndXAnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgZGVmaW5lcyB0aGUgYWN0aW9ucyB3aGVuIG1vdXNlIGlzIGNsaWNrZWQgb24gY2FudmFzLlxuICAgICAqIFRoZSBtZXRob2QgaW5pdHMgdGhlIGN1cnJlbnRUcmFuc2Zvcm0gcGFyYW1ldGVycyBhbmQgcmVuZGVycyBhbGwgdGhlXG4gICAgICogY2FudmFzIHNvIHRoZSBjdXJyZW50IGltYWdlIGNhbiBiZSBwbGFjZWQgb24gdGhlIHRvcCBjYW52YXMgYW5kIHRoZSByZXN0XG4gICAgICogaW4gb24gdGhlIGNvbnRhaW5lciBvbmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfX29uTW91c2VEb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5fY2FjaGVUcmFuc2Zvcm1FdmVudERhdGEoZSk7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnZG93bjpiZWZvcmUnKTtcbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQ7XG4gICAgICAvLyBpZiByaWdodCBjbGljayBqdXN0IGZpcmUgZXZlbnRzXG4gICAgICBpZiAoY2hlY2tDbGljayhlLCBSSUdIVF9DTElDSykpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyZVJpZ2h0Q2xpY2spIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnZG93bicsIFJJR0hUX0NMSUNLKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGVja0NsaWNrKGUsIE1JRERMRV9DTElDSykpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyZU1pZGRsZUNsaWNrKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd24nLCBNSURETEVfQ0xJQ0spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSkge1xuICAgICAgICB0aGlzLl9vbk1vdXNlRG93bkluRHJhd2luZ01vZGUoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc01haW5FdmVudChlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGlnbm9yZSBpZiBzb21lIG9iamVjdCBpcyBiZWluZyB0cmFuc2Zvcm1lZCBhdCB0aGlzIG1vbWVudFxuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuX3BvaW50ZXI7XG4gICAgICAvLyBzYXZlIHBvaW50ZXIgZm9yIGNoZWNrIGluIF9fb25Nb3VzZVVwIGV2ZW50XG4gICAgICB0aGlzLl9wcmV2aW91c1BvaW50ZXIgPSBwb2ludGVyO1xuICAgICAgdmFyIHNob3VsZFJlbmRlciA9IHRoaXMuX3Nob3VsZFJlbmRlcih0YXJnZXQpLFxuICAgICAgICAgIHNob3VsZEdyb3VwID0gdGhpcy5fc2hvdWxkR3JvdXAoZSwgdGFyZ2V0KTtcbiAgICAgIGlmICh0aGlzLl9zaG91bGRDbGVhclNlbGVjdGlvbihlLCB0YXJnZXQpKSB7XG4gICAgICAgIHRoaXMuZGlzY2FyZEFjdGl2ZU9iamVjdChlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHNob3VsZEdyb3VwKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUdyb3VwaW5nKGUsIHRhcmdldCk7XG4gICAgICAgIHRhcmdldCA9IHRoaXMuX2FjdGl2ZU9iamVjdDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uICYmICghdGFyZ2V0IHx8XG4gICAgICAgICghdGFyZ2V0LnNlbGVjdGFibGUgJiYgIXRhcmdldC5pc0VkaXRpbmcgJiYgdGFyZ2V0ICE9PSB0aGlzLl9hY3RpdmVPYmplY3QpKSkge1xuICAgICAgICB0aGlzLl9ncm91cFNlbGVjdG9yID0ge1xuICAgICAgICAgIGV4OiB0aGlzLl9hYnNvbHV0ZVBvaW50ZXIueCxcbiAgICAgICAgICBleTogdGhpcy5fYWJzb2x1dGVQb2ludGVyLnksXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICB2YXIgYWxyZWFkeVNlbGVjdGVkID0gdGFyZ2V0ID09PSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICAgIGlmICh0YXJnZXQuc2VsZWN0YWJsZSAmJiB0YXJnZXQuYWN0aXZlT24gPT09ICdkb3duJykge1xuICAgICAgICAgIHRoaXMuc2V0QWN0aXZlT2JqZWN0KHRhcmdldCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvcm5lciA9IHRhcmdldC5fZmluZFRhcmdldENvcm5lcihcbiAgICAgICAgICB0aGlzLmdldFBvaW50ZXIoZSwgdHJ1ZSksXG4gICAgICAgICAgZmFicmljLnV0aWwuaXNUb3VjaEV2ZW50KGUpXG4gICAgICAgICk7XG4gICAgICAgIHRhcmdldC5fX2Nvcm5lciA9IGNvcm5lcjtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0ICYmIChjb3JuZXIgfHwgIXNob3VsZEdyb3VwKSkge1xuICAgICAgICAgIHRoaXMuX3NldHVwQ3VycmVudFRyYW5zZm9ybShlLCB0YXJnZXQsIGFscmVhZHlTZWxlY3RlZCk7XG4gICAgICAgICAgdmFyIGNvbnRyb2wgPSB0YXJnZXQuY29udHJvbHNbY29ybmVyXSxcbiAgICAgICAgICAgICAgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKSxcbiAgICAgICAgICAgICAgbW91c2VEb3duSGFuZGxlciA9IGNvbnRyb2wgJiYgY29udHJvbC5nZXRNb3VzZURvd25IYW5kbGVyKGUsIHRhcmdldCwgY29udHJvbCk7XG4gICAgICAgICAgaWYgKG1vdXNlRG93bkhhbmRsZXIpIHtcbiAgICAgICAgICAgIG1vdXNlRG93bkhhbmRsZXIoZSwgdGhpcy5fY3VycmVudFRyYW5zZm9ybSwgcG9pbnRlci54LCBwb2ludGVyLnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd24nKTtcbiAgICAgIC8vIHdlIG11c3QgcmVuZGVyQWxsIHNvIHRoYXQgd2UgdXBkYXRlIHRoZSB2aXN1YWxzXG4gICAgICAoc2hvdWxkUmVuZGVyIHx8IHNob3VsZEdyb3VwKSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVzZXQgY2FjaGUgZm9ybSBjb21tb24gaW5mb3JtYXRpb24gbmVlZGVkIGR1cmluZyBldmVudCBwcm9jZXNzaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzZXRUcmFuc2Zvcm1FdmVudERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICAgIHRoaXMuX3BvaW50ZXIgPSBudWxsO1xuICAgICAgdGhpcy5fYWJzb2x1dGVQb2ludGVyID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FjaGUgY29tbW9uIGluZm9ybWF0aW9uIG5lZWRlZCBkdXJpbmcgZXZlbnQgcHJvY2Vzc2luZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gZXZlbnRcbiAgICAgKi9cbiAgICBfY2FjaGVUcmFuc2Zvcm1FdmVudERhdGE6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIHJlc2V0IGluIG9yZGVyIHRvIGF2b2lkIHN0YWxlIGNhY2hpbmdcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgICB0aGlzLl9wb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUsIHRydWUpO1xuICAgICAgdGhpcy5fYWJzb2x1dGVQb2ludGVyID0gdGhpcy5yZXN0b3JlUG9pbnRlclZwdCh0aGlzLl9wb2ludGVyKTtcbiAgICAgIHRoaXMuX3RhcmdldCA9IHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gPyB0aGlzLl9jdXJyZW50VHJhbnNmb3JtLnRhcmdldCA6IHRoaXMuZmluZFRhcmdldChlKSB8fCBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9iZWZvcmVUcmFuc2Zvcm06IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciB0ID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybTtcbiAgICAgIHRoaXMuc3RhdGVmdWwgJiYgdC50YXJnZXQuc2F2ZVN0YXRlKCk7XG4gICAgICB0aGlzLmZpcmUoJ2JlZm9yZTp0cmFuc2Zvcm0nLCB7XG4gICAgICAgIGU6IGUsXG4gICAgICAgIHRyYW5zZm9ybTogdCxcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZWZpbmVzIHRoZSBhY3Rpb25zIHdoZW4gbW91c2UgaXMgaG92ZXJpbmcgdGhlIGNhbnZhcy5cbiAgICAgKiBUaGUgY3VycmVudFRyYW5zZm9ybSBwYXJhbWV0ZXIgd2lsbCBkZWZpbmUgd2hldGhlciB0aGUgdXNlciBpcyByb3RhdGluZy9zY2FsaW5nL3RyYW5zbGF0aW5nXG4gICAgICogYW4gaW1hZ2Ugb3IgbmVpdGhlciBvZiB0aGVtIChvbmx5IGhvdmVyaW5nKS4gQSBncm91cCBzZWxlY3Rpb24gaXMgYWxzbyBwb3NzaWJsZSBhbmQgd291bGQgY2FuY2VsXG4gICAgICogYWxsIGFueSBvdGhlciB0eXBlIG9mIGFjdGlvbi5cbiAgICAgKiBJbiBjYXNlIG9mIGFuIGltYWdlIHRyYW5zZm9ybWF0aW9uIG9ubHkgdGhlIHRvcCBjYW52YXMgd2lsbCBiZSByZW5kZXJlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlbW92ZVxuICAgICAqL1xuICAgIF9fb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnbW92ZTpiZWZvcmUnKTtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdmFyIHRhcmdldCwgcG9pbnRlcjtcblxuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSkge1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZUluRHJhd2luZ01vZGUoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc01haW5FdmVudChlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBncm91cFNlbGVjdG9yID0gdGhpcy5fZ3JvdXBTZWxlY3RvcjtcblxuICAgICAgLy8gV2UgaW5pdGlhbGx5IGNsaWNrZWQgaW4gYW4gZW1wdHkgYXJlYSwgc28gd2UgZHJhdyBhIGJveCBmb3IgbXVsdGlwbGUgc2VsZWN0aW9uXG4gICAgICBpZiAoZ3JvdXBTZWxlY3Rvcikge1xuICAgICAgICBwb2ludGVyID0gdGhpcy5fYWJzb2x1dGVQb2ludGVyO1xuXG4gICAgICAgIGdyb3VwU2VsZWN0b3IubGVmdCA9IHBvaW50ZXIueCAtIGdyb3VwU2VsZWN0b3IuZXg7XG4gICAgICAgIGdyb3VwU2VsZWN0b3IudG9wID0gcG9pbnRlci55IC0gZ3JvdXBTZWxlY3Rvci5leTtcblxuICAgICAgICB0aGlzLnJlbmRlclRvcCgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIXRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5maW5kVGFyZ2V0KGUpIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3NldEN1cnNvckZyb21FdmVudChlLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLl9maXJlT3Zlck91dEV2ZW50cyh0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybU9iamVjdChlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdtb3ZlJyk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdGhlIG1vdXNlb3V0LCBtb3VzZW92ZXIgZXZlbnRzIGZvciB0aGUgZmFicmljIG9iamVjdCBvbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtGYWJyaWMuT2JqZWN0fSB0YXJnZXQgdGhlIHRhcmdldCB3aGVyZSB0aGUgdGFyZ2V0IGZyb20gdGhlIG1vdXNlbW92ZSBldmVudFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlbW92ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpcmVPdmVyT3V0RXZlbnRzOiBmdW5jdGlvbih0YXJnZXQsIGUpIHtcbiAgICAgIHZhciBfaG92ZXJlZFRhcmdldCA9IHRoaXMuX2hvdmVyZWRUYXJnZXQsXG4gICAgICAgICAgX2hvdmVyZWRUYXJnZXRzID0gdGhpcy5faG92ZXJlZFRhcmdldHMsIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsXG4gICAgICAgICAgbGVuZ3RoID0gTWF0aC5tYXgoX2hvdmVyZWRUYXJnZXRzLmxlbmd0aCwgdGFyZ2V0cy5sZW5ndGgpO1xuXG4gICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXQsIGUsIHtcbiAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldCxcbiAgICAgICAgZXZ0T3V0OiAnbW91c2VvdXQnLFxuICAgICAgICBjYW52YXNFdnRPdXQ6ICdtb3VzZTpvdXQnLFxuICAgICAgICBldnRJbjogJ21vdXNlb3ZlcicsXG4gICAgICAgIGNhbnZhc0V2dEluOiAnbW91c2U6b3ZlcicsXG4gICAgICB9KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspe1xuICAgICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXRzW2ldLCBlLCB7XG4gICAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldHNbaV0sXG4gICAgICAgICAgZXZ0T3V0OiAnbW91c2VvdXQnLFxuICAgICAgICAgIGV2dEluOiAnbW91c2VvdmVyJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMuY29uY2F0KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aGUgZHJhZ0VudGVyLCBkcmFnTGVhdmUgZXZlbnRzIGZvciB0aGUgZmFicmljIG9iamVjdHMgb24gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7RmFicmljLk9iamVjdH0gdGFyZ2V0IHRoZSB0YXJnZXQgd2hlcmUgdGhlIHRhcmdldCBmcm9tIHRoZSBvbkRyYWcgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBvbmRyYWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maXJlRW50ZXJMZWF2ZUV2ZW50czogZnVuY3Rpb24odGFyZ2V0LCBlKSB7XG4gICAgICB2YXIgX2RyYWdnZWRvdmVyVGFyZ2V0ID0gdGhpcy5fZHJhZ2dlZG92ZXJUYXJnZXQsXG4gICAgICAgICAgX2hvdmVyZWRUYXJnZXRzID0gdGhpcy5faG92ZXJlZFRhcmdldHMsIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsXG4gICAgICAgICAgbGVuZ3RoID0gTWF0aC5tYXgoX2hvdmVyZWRUYXJnZXRzLmxlbmd0aCwgdGFyZ2V0cy5sZW5ndGgpO1xuXG4gICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXQsIGUsIHtcbiAgICAgICAgb2xkVGFyZ2V0OiBfZHJhZ2dlZG92ZXJUYXJnZXQsXG4gICAgICAgIGV2dE91dDogJ2RyYWdsZWF2ZScsXG4gICAgICAgIGV2dEluOiAnZHJhZ2VudGVyJyxcbiAgICAgIH0pO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXRzW2ldLCBlLCB7XG4gICAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldHNbaV0sXG4gICAgICAgICAgZXZ0T3V0OiAnZHJhZ2xlYXZlJyxcbiAgICAgICAgICBldnRJbjogJ2RyYWdlbnRlcicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fZHJhZ2dlZG92ZXJUYXJnZXQgPSB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aGUgc3ludGhldGljIGluL291dCBldmVudHMgZm9yIHRoZSBmYWJyaWMgb2JqZWN0cyBvbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtGYWJyaWMuT2JqZWN0fSB0YXJnZXQgdGhlIHRhcmdldCB3aGVyZSB0aGUgdGFyZ2V0IGZyb20gdGhlIHN1cHBvcnRlZCBldmVudHNcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgY29uZmlndXJhdGlvbiBmb3IgdGhlIGZ1bmN0aW9uIHRvIHdvcmtcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnRhcmdldE5hbWUgcHJvcGVydHkgb24gdGhlIGNhbnZhcyB3aGVyZSB0aGUgb2xkIHRhcmdldCBpcyBzdG9yZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5jYW52YXNFdnRPdXRdIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGZpcmUgYXQgY2FudmFzIGxldmVsIGZvciBvdXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmV2dE91dCBuYW1lIG9mIHRoZSBldmVudCB0byBmaXJlIGZvciBvdXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5jYW52YXNFdnRJbl0gbmFtZSBvZiB0aGUgZXZlbnQgdG8gZmlyZSBhdCBjYW52YXMgbGV2ZWwgZm9yIGluXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5ldnRJbiBuYW1lIG9mIHRoZSBldmVudCB0byBmaXJlIGZvciBpblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZmlyZVN5bnRoZXRpY0luT3V0RXZlbnRzOiBmdW5jdGlvbih0YXJnZXQsIGUsIGNvbmZpZykge1xuICAgICAgdmFyIGluT3B0LCBvdXRPcHQsIG9sZFRhcmdldCA9IGNvbmZpZy5vbGRUYXJnZXQsIG91dEZpcmVzLCBpbkZpcmVzLFxuICAgICAgICAgIHRhcmdldENoYW5nZWQgPSBvbGRUYXJnZXQgIT09IHRhcmdldCwgY2FudmFzRXZ0SW4gPSBjb25maWcuY2FudmFzRXZ0SW4sIGNhbnZhc0V2dE91dCA9IGNvbmZpZy5jYW52YXNFdnRPdXQ7XG4gICAgICBpZiAodGFyZ2V0Q2hhbmdlZCkge1xuICAgICAgICBpbk9wdCA9IHsgZTogZSwgdGFyZ2V0OiB0YXJnZXQsIHByZXZpb3VzVGFyZ2V0OiBvbGRUYXJnZXQgfTtcbiAgICAgICAgb3V0T3B0ID0geyBlOiBlLCB0YXJnZXQ6IG9sZFRhcmdldCwgbmV4dFRhcmdldDogdGFyZ2V0IH07XG4gICAgICB9XG4gICAgICBpbkZpcmVzID0gdGFyZ2V0ICYmIHRhcmdldENoYW5nZWQ7XG4gICAgICBvdXRGaXJlcyA9IG9sZFRhcmdldCAmJiB0YXJnZXRDaGFuZ2VkO1xuICAgICAgaWYgKG91dEZpcmVzKSB7XG4gICAgICAgIGNhbnZhc0V2dE91dCAmJiB0aGlzLmZpcmUoY2FudmFzRXZ0T3V0LCBvdXRPcHQpO1xuICAgICAgICBvbGRUYXJnZXQuZmlyZShjb25maWcuZXZ0T3V0LCBvdXRPcHQpO1xuICAgICAgfVxuICAgICAgaWYgKGluRmlyZXMpIHtcbiAgICAgICAgY2FudmFzRXZ0SW4gJiYgdGhpcy5maXJlKGNhbnZhc0V2dEluLCBpbk9wdCk7XG4gICAgICAgIHRhcmdldC5maXJlKGNvbmZpZy5ldnRJbiwgaW5PcHQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZWZpbmVzIGFjdGlvbnMgd2hlbiBhbiBFdmVudCBNb3VzZSBXaGVlbFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNldXBcbiAgICAgKi9cbiAgICBfX29uTW91c2VXaGVlbDogZnVuY3Rpb24oZSkge1xuICAgICAgdGhpcy5fY2FjaGVUcmFuc2Zvcm1FdmVudERhdGEoZSk7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnd2hlZWwnKTtcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBmaXJlZCBvbiBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICBfdHJhbnNmb3JtT2JqZWN0OiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKSxcbiAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtO1xuXG4gICAgICB0cmFuc2Zvcm0ucmVzZXQgPSBmYWxzZTtcbiAgICAgIHRyYW5zZm9ybS5zaGlmdEtleSA9IGUuc2hpZnRLZXk7XG4gICAgICB0cmFuc2Zvcm0uYWx0S2V5ID0gZVt0aGlzLmNlbnRlcmVkS2V5XTtcblxuICAgICAgdGhpcy5fcGVyZm9ybVRyYW5zZm9ybUFjdGlvbihlLCB0cmFuc2Zvcm0sIHBvaW50ZXIpO1xuICAgICAgdHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZCAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGVyZm9ybVRyYW5zZm9ybUFjdGlvbjogZnVuY3Rpb24oZSwgdHJhbnNmb3JtLCBwb2ludGVyKSB7XG4gICAgICB2YXIgeCA9IHBvaW50ZXIueCxcbiAgICAgICAgICB5ID0gcG9pbnRlci55LFxuICAgICAgICAgIGFjdGlvbiA9IHRyYW5zZm9ybS5hY3Rpb24sXG4gICAgICAgICAgYWN0aW9uUGVyZm9ybWVkID0gZmFsc2UsXG4gICAgICAgICAgYWN0aW9uSGFuZGxlciA9IHRyYW5zZm9ybS5hY3Rpb25IYW5kbGVyO1xuICAgICAgICAgIC8vIHRoaXMgb2JqZWN0IGNvdWxkIGJlIGNyZWF0ZWQgZnJvbSB0aGUgZnVuY3Rpb24gaW4gdGhlIGNvbnRyb2wgaGFuZGxlcnNcblxuXG4gICAgICBpZiAoYWN0aW9uSGFuZGxlcikge1xuICAgICAgICBhY3Rpb25QZXJmb3JtZWQgPSBhY3Rpb25IYW5kbGVyKGUsIHRyYW5zZm9ybSwgeCwgeSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uID09PSAnZHJhZycgJiYgYWN0aW9uUGVyZm9ybWVkKSB7XG4gICAgICAgIHRyYW5zZm9ybS50YXJnZXQuaXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldEN1cnNvcih0cmFuc2Zvcm0udGFyZ2V0Lm1vdmVDdXJzb3IgfHwgdGhpcy5tb3ZlQ3Vyc29yKTtcbiAgICAgIH1cbiAgICAgIHRyYW5zZm9ybS5hY3Rpb25QZXJmb3JtZWQgPSB0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkIHx8IGFjdGlvblBlcmZvcm1lZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmlyZTogZmFicmljLmNvbnRyb2xzVXRpbHMuZmlyZUV2ZW50LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3Vyc29yIGRlcGVuZGluZyBvbiB3aGVyZSB0aGUgY2FudmFzIGlzIGJlaW5nIGhvdmVyZWQuXG4gICAgICogTm90ZTogdmVyeSBidWdneSBpbiBPcGVyYVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBPYmplY3QgdGhhdCB0aGUgbW91c2UgaXMgaG92ZXJpbmcsIGlmIHNvLlxuICAgICAqL1xuICAgIF9zZXRDdXJzb3JGcm9tRXZlbnQ6IGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMuZGVmYXVsdEN1cnNvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBob3ZlckN1cnNvciA9IHRhcmdldC5ob3ZlckN1cnNvciB8fCB0aGlzLmhvdmVyQ3Vyc29yLFxuICAgICAgICAgIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCAmJiB0aGlzLl9hY3RpdmVPYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicgP1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlT2JqZWN0IDogbnVsbCxcbiAgICAgICAgICAvLyBvbmx5IHNob3cgcHJvcGVyIGNvcm5lciB3aGVuIGdyb3VwIHNlbGVjdGlvbiBpcyBub3QgYWN0aXZlXG4gICAgICAgICAgY29ybmVyID0gKCFhY3RpdmVTZWxlY3Rpb24gfHwgIWFjdGl2ZVNlbGVjdGlvbi5jb250YWlucyh0YXJnZXQpKVxuICAgICAgICAgIC8vIGhlcmUgd2UgY2FsbCBmaW5kVGFyZ2V0Q29ybmVyIGFsd2F5cyB3aXRoIHVuZGVmaW5lZCBmb3IgdGhlIHRvdWNoIHBhcmFtZXRlci5cbiAgICAgICAgICAvLyB3ZSBhc3N1bWUgdGhhdCBpZiB5b3UgYXJlIHVzaW5nIGEgY3Vyc29yIHlvdSBkbyBub3QgbmVlZCB0byBpbnRlcmFjdCB3aXRoXG4gICAgICAgICAgLy8gdGhlIGJpZ2dlciB0b3VjaCBhcmVhLlxuICAgICAgICAgICAgICAgICAgICAmJiB0YXJnZXQuX2ZpbmRUYXJnZXRDb3JuZXIodGhpcy5nZXRQb2ludGVyKGUsIHRydWUpKTtcblxuICAgICAgaWYgKCFjb3JuZXIpIHtcbiAgICAgICAgaWYgKHRhcmdldC5zdWJUYXJnZXRDaGVjayl7XG4gICAgICAgICAgLy8gaG92ZXJDdXJzb3Igc2hvdWxkIGNvbWUgZnJvbSB0b3AtbW9zdCBzdWJUYXJnZXQsXG4gICAgICAgICAgLy8gc28gd2Ugd2FsayB0aGUgYXJyYXkgYmFja3dhcmRzXG4gICAgICAgICAgdGhpcy50YXJnZXRzLmNvbmNhdCgpLnJldmVyc2UoKS5tYXAoZnVuY3Rpb24oX3RhcmdldCl7XG4gICAgICAgICAgICBob3ZlckN1cnNvciA9IF90YXJnZXQuaG92ZXJDdXJzb3IgfHwgaG92ZXJDdXJzb3I7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDdXJzb3IoaG92ZXJDdXJzb3IpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMuZ2V0Q29ybmVyQ3Vyc29yKGNvcm5lciwgdGFyZ2V0LCBlKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0Q29ybmVyQ3Vyc29yOiBmdW5jdGlvbihjb3JuZXIsIHRhcmdldCwgZSkge1xuICAgICAgdmFyIGNvbnRyb2wgPSB0YXJnZXQuY29udHJvbHNbY29ybmVyXTtcbiAgICAgIHJldHVybiBjb250cm9sLmN1cnNvclN0eWxlSGFuZGxlcihlLCBjb250cm9sLCB0YXJnZXQpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgbWluID0gTWF0aC5taW4sXG4gICAgICBtYXggPSBNYXRoLm1heDtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5DYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgX3Nob3VsZEdyb3VwOiBmdW5jdGlvbihlLCB0YXJnZXQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICByZXR1cm4gYWN0aXZlT2JqZWN0ICYmIHRoaXMuX2lzU2VsZWN0aW9uS2V5UHJlc3NlZChlKSAmJiB0YXJnZXQgJiYgdGFyZ2V0LnNlbGVjdGFibGUgJiYgdGhpcy5zZWxlY3Rpb24gJiZcbiAgICAgICAgICAgIChhY3RpdmVPYmplY3QgIT09IHRhcmdldCB8fCBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpICYmICF0YXJnZXQub25TZWxlY3QoeyBlOiBlIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfaGFuZGxlR3JvdXBpbmc6IGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICAvLyBhdm9pZCBtdWx0aSBzZWxlY3Qgd2hlbiBzaGlmdCBjbGljayBvbiBhIGNvcm5lclxuICAgICAgaWYgKGFjdGl2ZU9iamVjdC5fX2Nvcm5lcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0ID09PSBhY3RpdmVPYmplY3QpIHtcbiAgICAgICAgLy8gaWYgaXQncyBhIGdyb3VwLCBmaW5kIHRhcmdldCBhZ2FpbiwgdXNpbmcgYWN0aXZlR3JvdXAgb2JqZWN0c1xuICAgICAgICB0YXJnZXQgPSB0aGlzLmZpbmRUYXJnZXQoZSwgdHJ1ZSk7XG4gICAgICAgIC8vIGlmIGV2ZW4gb2JqZWN0IGlzIG5vdCBmb3VuZCBvciB3ZSBhcmUgb24gYWN0aXZlT2JqZWN0Q29ybmVyLCBiYWlsIG91dFxuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LnNlbGVjdGFibGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUFjdGl2ZVNlbGVjdGlvbih0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUFjdGl2ZVNlbGVjdGlvbih0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVBY3RpdmVTZWxlY3Rpb246IGZ1bmN0aW9uKHRhcmdldCwgZSkge1xuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBjdXJyZW50QWN0aXZlT2JqZWN0cyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cy5zbGljZSgwKTtcbiAgICAgIGlmIChhY3RpdmVTZWxlY3Rpb24uY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICBhY3RpdmVTZWxlY3Rpb24ucmVtb3ZlV2l0aFVwZGF0ZSh0YXJnZXQpO1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0cy5jb25jYXQoKTtcbiAgICAgICAgaWYgKGFjdGl2ZVNlbGVjdGlvbi5zaXplKCkgPT09IDEpIHtcbiAgICAgICAgICAvLyBhY3RpdmF0ZSBsYXN0IHJlbWFpbmluZyBvYmplY3RcbiAgICAgICAgICB0aGlzLl9zZXRBY3RpdmVPYmplY3QoYWN0aXZlU2VsZWN0aW9uLml0ZW0oMCksIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWN0aXZlU2VsZWN0aW9uLmFkZFdpdGhVcGRhdGUodGFyZ2V0KTtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IGFjdGl2ZVNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMuY29uY2F0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uRXZlbnRzKGN1cnJlbnRBY3RpdmVPYmplY3RzLCBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQWN0aXZlU2VsZWN0aW9uOiBmdW5jdGlvbih0YXJnZXQsIGUpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlcyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLCBncm91cCA9IHRoaXMuX2NyZWF0ZUdyb3VwKHRhcmdldCk7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gZ3JvdXA7XG4gICAgICAvLyBJU1NVRSA0MTE1OiBzaG91bGQgd2UgY29uc2lkZXIgc3ViVGFyZ2V0cyBoZXJlP1xuICAgICAgLy8gdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcbiAgICAgIC8vIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzLmNvbmNhdCgpO1xuICAgICAgdGhpcy5fc2V0QWN0aXZlT2JqZWN0KGdyb3VwLCBlKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25FdmVudHMoY3VycmVudEFjdGl2ZXMsIGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfY3JlYXRlR3JvdXA6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzLFxuICAgICAgICAgIGlzQWN0aXZlTG93ZXIgPSBvYmplY3RzLmluZGV4T2YodGhpcy5fYWN0aXZlT2JqZWN0KSA8IG9iamVjdHMuaW5kZXhPZih0YXJnZXQpLFxuICAgICAgICAgIGdyb3VwT2JqZWN0cyA9IGlzQWN0aXZlTG93ZXJcbiAgICAgICAgICAgID8gW3RoaXMuX2FjdGl2ZU9iamVjdCwgdGFyZ2V0XVxuICAgICAgICAgICAgOiBbdGFyZ2V0LCB0aGlzLl9hY3RpdmVPYmplY3RdO1xuICAgICAgdGhpcy5fYWN0aXZlT2JqZWN0LmlzRWRpdGluZyAmJiB0aGlzLl9hY3RpdmVPYmplY3QuZXhpdEVkaXRpbmcoKTtcbiAgICAgIHJldHVybiBuZXcgZmFicmljLkFjdGl2ZVNlbGVjdGlvbihncm91cE9iamVjdHMsIHtcbiAgICAgICAgY2FudmFzOiB0aGlzXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIG1vdXNlIGV2ZW50XG4gICAgICovXG4gICAgX2dyb3VwU2VsZWN0ZWRPYmplY3RzOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICB2YXIgZ3JvdXAgPSB0aGlzLl9jb2xsZWN0T2JqZWN0cyhlKSxcbiAgICAgICAgICBhR3JvdXA7XG5cbiAgICAgIC8vIGRvIG5vdCBjcmVhdGUgZ3JvdXAgZm9yIDEgZWxlbWVudCBvbmx5XG4gICAgICBpZiAoZ3JvdXAubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlT2JqZWN0KGdyb3VwWzBdLCBlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGdyb3VwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYUdyb3VwID0gbmV3IGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24oZ3JvdXAucmV2ZXJzZSgpLCB7XG4gICAgICAgICAgY2FudmFzOiB0aGlzXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldEFjdGl2ZU9iamVjdChhR3JvdXAsIGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jb2xsZWN0T2JqZWN0czogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGdyb3VwID0gW10sXG4gICAgICAgICAgY3VycmVudE9iamVjdCxcbiAgICAgICAgICB4MSA9IHRoaXMuX2dyb3VwU2VsZWN0b3IuZXgsXG4gICAgICAgICAgeTEgPSB0aGlzLl9ncm91cFNlbGVjdG9yLmV5LFxuICAgICAgICAgIHgyID0geDEgKyB0aGlzLl9ncm91cFNlbGVjdG9yLmxlZnQsXG4gICAgICAgICAgeTIgPSB5MSArIHRoaXMuX2dyb3VwU2VsZWN0b3IudG9wLFxuICAgICAgICAgIHNlbGVjdGlvblgxWTEgPSBuZXcgZmFicmljLlBvaW50KG1pbih4MSwgeDIpLCBtaW4oeTEsIHkyKSksXG4gICAgICAgICAgc2VsZWN0aW9uWDJZMiA9IG5ldyBmYWJyaWMuUG9pbnQobWF4KHgxLCB4MiksIG1heCh5MSwgeTIpKSxcbiAgICAgICAgICBhbGxvd0ludGVyc2VjdCA9ICF0aGlzLnNlbGVjdGlvbkZ1bGx5Q29udGFpbmVkLFxuICAgICAgICAgIGlzQ2xpY2sgPSB4MSA9PT0geDIgJiYgeTEgPT09IHkyO1xuICAgICAgLy8gd2UgaXRlcmF0ZSByZXZlcnNlIG9yZGVyIHRvIGNvbGxlY3QgdG9wIGZpcnN0IGluIGNhc2Ugb2YgY2xpY2suXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGN1cnJlbnRPYmplY3QgPSB0aGlzLl9vYmplY3RzW2ldO1xuXG4gICAgICAgIGlmICghY3VycmVudE9iamVjdCB8fCAhY3VycmVudE9iamVjdC5zZWxlY3RhYmxlIHx8ICFjdXJyZW50T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoYWxsb3dJbnRlcnNlY3QgJiYgY3VycmVudE9iamVjdC5pbnRlcnNlY3RzV2l0aFJlY3Qoc2VsZWN0aW9uWDFZMSwgc2VsZWN0aW9uWDJZMiwgdHJ1ZSkpIHx8XG4gICAgICAgICAgICBjdXJyZW50T2JqZWN0LmlzQ29udGFpbmVkV2l0aGluUmVjdChzZWxlY3Rpb25YMVkxLCBzZWxlY3Rpb25YMlkyLCB0cnVlKSB8fFxuICAgICAgICAgICAgKGFsbG93SW50ZXJzZWN0ICYmIGN1cnJlbnRPYmplY3QuY29udGFpbnNQb2ludChzZWxlY3Rpb25YMVkxLCBudWxsLCB0cnVlKSkgfHxcbiAgICAgICAgICAgIChhbGxvd0ludGVyc2VjdCAmJiBjdXJyZW50T2JqZWN0LmNvbnRhaW5zUG9pbnQoc2VsZWN0aW9uWDJZMiwgbnVsbCwgdHJ1ZSkpXG4gICAgICAgICkge1xuICAgICAgICAgIGdyb3VwLnB1c2goY3VycmVudE9iamVjdCk7XG4gICAgICAgICAgLy8gb25seSBhZGQgb25lIG9iamVjdCBpZiBpdCdzIGEgY2xpY2tcbiAgICAgICAgICBpZiAoaXNDbGljaykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChncm91cC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGdyb3VwID0gZ3JvdXAuZmlsdGVyKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIHJldHVybiAhb2JqZWN0Lm9uU2VsZWN0KHsgZTogZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBncm91cDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWF5YmVHcm91cE9iamVjdHM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbiAmJiB0aGlzLl9ncm91cFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX2dyb3VwU2VsZWN0ZWRPYmplY3RzKGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRDdXJzb3IodGhpcy5kZWZhdWx0Q3Vyc29yKTtcbiAgICAgIC8vIGNsZWFyIHNlbGVjdGlvbiBhbmQgY3VycmVudCB0cmFuc2Zvcm1hdGlvblxuICAgICAgdGhpcy5fZ3JvdXBTZWxlY3RvciA9IG51bGw7XG4gICAgfVxuICB9KTtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24gKCkge1xuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEV4cG9ydHMgY2FudmFzIGVsZW1lbnQgdG8gYSBkYXRhdXJsIGltYWdlLiBOb3RlIHRoYXQgd2hlbiBtdWx0aXBsaWVyIGlzIHVzZWQsIGNyb3BwaW5nIGlzIHNjYWxlZCBhcHByb3ByaWF0ZWx5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9cG5nXSBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuIEVpdGhlciBcImpwZWdcIiBvciBcInBuZ1wiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnF1YWxpdHk9MV0gUXVhbGl0eSBsZXZlbCAoMC4uMSkuIE9ubHkgdXNlZCBmb3IganBlZy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5LCB0byBoYXZlIGNvbnNpc3RlbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVmdF0gQ3JvcHBpbmcgbGVmdCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50b3BdIENyb3BwaW5nIHRvcCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gQ3JvcHBpbmcgd2lkdGguIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIENyb3BwaW5nIGhlaWdodC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5lbmFibGVSZXRpbmFTY2FsaW5nXSBFbmFibGUgcmV0aW5hIHNjYWxpbmcgZm9yIGNsb25lIGltYWdlLiBJbnRyb2R1Y2UgaW4gMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFJldHVybnMgYSBkYXRhOiBVUkwgY29udGFpbmluZyBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gdGhlIGZvcm1hdCBzcGVjaWZpZWQgYnkgb3B0aW9ucy5mb3JtYXRcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL05mWlZiL3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkdlbmVyYXRlIGpwZWcgZGF0YVVSTCB3aXRoIGxvd2VyIHF1YWxpdHk8L2NhcHRpb24+XG4gICAgICogdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKHtcbiAgICAgKiAgIGZvcm1hdDogJ2pwZWcnLFxuICAgICAqICAgcXVhbGl0eTogMC44XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+R2VuZXJhdGUgY3JvcHBlZCBwbmcgZGF0YVVSTCAoY2xpcHBpbmcgb2YgY2FudmFzKTwvY2FwdGlvbj5cbiAgICAgKiB2YXIgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoe1xuICAgICAqICAgZm9ybWF0OiAncG5nJyxcbiAgICAgKiAgIGxlZnQ6IDEwMCxcbiAgICAgKiAgIHRvcDogMTAwLFxuICAgICAqICAgd2lkdGg6IDIwMCxcbiAgICAgKiAgIGhlaWdodDogMjAwXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+R2VuZXJhdGUgZG91YmxlIHNjYWxlZCBwbmcgZGF0YVVSTDwvY2FwdGlvbj5cbiAgICAgKiB2YXIgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoe1xuICAgICAqICAgZm9ybWF0OiAncG5nJyxcbiAgICAgKiAgIG11bHRpcGxpZXI6IDJcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0b0RhdGFVUkw6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgdmFyIGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0IHx8ICdwbmcnLFxuICAgICAgICAgIHF1YWxpdHkgPSBvcHRpb25zLnF1YWxpdHkgfHwgMSxcbiAgICAgICAgICBtdWx0aXBsaWVyID0gKG9wdGlvbnMubXVsdGlwbGllciB8fCAxKSAqIChvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmcgPyB0aGlzLmdldFJldGluYVNjYWxpbmcoKSA6IDEpLFxuICAgICAgICAgIGNhbnZhc0VsID0gdGhpcy50b0NhbnZhc0VsZW1lbnQobXVsdGlwbGllciwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudG9EYXRhVVJMKGNhbnZhc0VsLCBmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSFRNTENhbnZhcyBlbGVtZW50IHBhaW50ZWQgd2l0aCB0aGUgY3VycmVudCBjYW52YXMgY29udGVudC5cbiAgICAgKiBObyBuZWVkIHRvIHJlc2l6ZSB0aGUgYWN0dWFsIG9uZSBvciByZXBhaW50IGl0LlxuICAgICAqIFdpbGwgdHJhbnNmZXIgb2JqZWN0IG93bmVyc2hpcCB0byBhIG5ldyBjYW52YXMsIHBhaW50IGl0LCBhbmQgc2V0IGV2ZXJ5dGhpbmcgYmFjay5cbiAgICAgKiBUaGlzIGlzIGFuIGludGVybWVkaWFyeSBzdGVwIHVzZWQgdG8gZ2V0IHRvIGEgZGF0YVVybCBidXQgYWxzbyBpdCBpcyB1c2VmdWwgdG9cbiAgICAgKiBjcmVhdGUgcXVpY2sgaW1hZ2UgY29waWVzIG9mIGEgY2FudmFzIHdpdGhvdXQgcGFzc2luZyBmb3IgdGhlIGRhdGFVcmwgc3RyaW5nXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFttdWx0aXBsaWVyXSBhIHpvb20gZmFjdG9yLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY3JvcHBpbmddIENyb3BwaW5nIGluZm9ybWF0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY3JvcHBpbmcubGVmdF0gQ3JvcHBpbmcgbGVmdCBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy50b3BdIENyb3BwaW5nIHRvcCBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy53aWR0aF0gQ3JvcHBpbmcgd2lkdGguXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy5oZWlnaHRdIENyb3BwaW5nIGhlaWdodC5cbiAgICAgKi9cbiAgICB0b0NhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKG11bHRpcGxpZXIsIGNyb3BwaW5nKSB7XG4gICAgICBtdWx0aXBsaWVyID0gbXVsdGlwbGllciB8fCAxO1xuICAgICAgY3JvcHBpbmcgPSBjcm9wcGluZyB8fCB7IH07XG4gICAgICB2YXIgc2NhbGVkV2lkdGggPSAoY3JvcHBpbmcud2lkdGggfHwgdGhpcy53aWR0aCkgKiBtdWx0aXBsaWVyLFxuICAgICAgICAgIHNjYWxlZEhlaWdodCA9IChjcm9wcGluZy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQpICogbXVsdGlwbGllcixcbiAgICAgICAgICB6b29tID0gdGhpcy5nZXRab29tKCksXG4gICAgICAgICAgb3JpZ2luYWxXaWR0aCA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgb3JpZ2luYWxIZWlnaHQgPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICBuZXdab29tID0gem9vbSAqIG11bHRpcGxpZXIsXG4gICAgICAgICAgdnAgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLFxuICAgICAgICAgIHRyYW5zbGF0ZVggPSAodnBbNF0gLSAoY3JvcHBpbmcubGVmdCB8fCAwKSkgKiBtdWx0aXBsaWVyLFxuICAgICAgICAgIHRyYW5zbGF0ZVkgPSAodnBbNV0gLSAoY3JvcHBpbmcudG9wIHx8IDApKSAqIG11bHRpcGxpZXIsXG4gICAgICAgICAgb3JpZ2luYWxJbnRlcmFjdGl2ZSA9IHRoaXMuaW50ZXJhY3RpdmUsXG4gICAgICAgICAgbmV3VnAgPSBbbmV3Wm9vbSwgMCwgMCwgbmV3Wm9vbSwgdHJhbnNsYXRlWCwgdHJhbnNsYXRlWV0sXG4gICAgICAgICAgb3JpZ2luYWxSZXRpbmEgPSB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcsXG4gICAgICAgICAgY2FudmFzRWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksXG4gICAgICAgICAgb3JpZ2luYWxDb250ZXh0VG9wID0gdGhpcy5jb250ZXh0VG9wO1xuICAgICAgY2FudmFzRWwud2lkdGggPSBzY2FsZWRXaWR0aDtcbiAgICAgIGNhbnZhc0VsLmhlaWdodCA9IHNjYWxlZEhlaWdodDtcbiAgICAgIHRoaXMuY29udGV4dFRvcCA9IG51bGw7XG4gICAgICB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSBuZXdWcDtcbiAgICAgIHRoaXMud2lkdGggPSBzY2FsZWRXaWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gc2NhbGVkSGVpZ2h0O1xuICAgICAgdGhpcy5jYWxjVmlld3BvcnRCb3VuZGFyaWVzKCk7XG4gICAgICB0aGlzLnJlbmRlckNhbnZhcyhjYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpLCB0aGlzLl9vYmplY3RzKTtcbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSB2cDtcbiAgICAgIHRoaXMud2lkdGggPSBvcmlnaW5hbFdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSBvcmlnaW5hbEhlaWdodDtcbiAgICAgIHRoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpO1xuICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IG9yaWdpbmFsSW50ZXJhY3RpdmU7XG4gICAgICB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcgPSBvcmlnaW5hbFJldGluYTtcbiAgICAgIHRoaXMuY29udGV4dFRvcCA9IG9yaWdpbmFsQ29udGV4dFRvcDtcbiAgICAgIHJldHVybiBjYW52YXNFbDtcbiAgICB9LFxuICB9KTtcblxufSkoKTtcblxuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlICovIHtcbiAgLyoqXG4gICAqIFBvcHVsYXRlcyBjYW52YXMgd2l0aCBkYXRhIGZyb20gdGhlIHNwZWNpZmllZCBKU09OLlxuICAgKiBKU09OIGZvcm1hdCBtdXN0IGNvbmZvcm0gdG8gdGhlIG9uZSBvZiB7QGxpbmsgZmFicmljLkNhbnZhcyN0b0pTT059XG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0ganNvbiBKU09OIHN0cmluZyBvciBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2ssIGludm9rZWQgd2hlbiBqc29uIGlzIHBhcnNlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgY29ycmVzcG9uZGluZyBvYmplY3RzIChlLmc6IHtAbGluayBmYWJyaWMuSW1hZ2V9KVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgaW5pdGlhbGl6ZWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIEpTT04gZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICogQGNoYWluYWJsZVxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNkZXNlcmlhbGl6YXRpb259XG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvZmFicmljanMvZm1nWHQvfGpzRmlkZGxlIGRlbW99XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPmxvYWRGcm9tSlNPTjwvY2FwdGlvbj5cbiAgICogY2FudmFzLmxvYWRGcm9tSlNPTihqc29uLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPmxvYWRGcm9tSlNPTiB3aXRoIHJldml2ZXI8L2NhcHRpb24+XG4gICAqIGNhbnZhcy5sb2FkRnJvbUpTT04oanNvbiwgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIGZ1bmN0aW9uKG8sIG9iamVjdCkge1xuICAgKiAgIC8vIGBvYCA9IGpzb24gb2JqZWN0XG4gICAqICAgLy8gYG9iamVjdGAgPSBmYWJyaWMuT2JqZWN0IGluc3RhbmNlXG4gICAqICAgLy8gLi4uIGRvIHNvbWUgc3R1ZmYgLi4uXG4gICAqIH0pO1xuICAgKi9cbiAgbG9hZEZyb21KU09OOiBmdW5jdGlvbiAoanNvbiwgY2FsbGJhY2ssIHJldml2ZXIpIHtcbiAgICBpZiAoIWpzb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBzZXJpYWxpemUgaWYgaXQgd2Fzbid0IGFscmVhZHlcbiAgICB2YXIgc2VyaWFsaXplZCA9ICh0eXBlb2YganNvbiA9PT0gJ3N0cmluZycpXG4gICAgICA/IEpTT04ucGFyc2UoanNvbilcbiAgICAgIDogZmFicmljLnV0aWwub2JqZWN0LmNsb25lKGpzb24pO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgY2xpcFBhdGggPSBzZXJpYWxpemVkLmNsaXBQYXRoLFxuICAgICAgICByZW5kZXJPbkFkZFJlbW92ZSA9IHRoaXMucmVuZGVyT25BZGRSZW1vdmU7XG5cbiAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlID0gZmFsc2U7XG5cbiAgICBkZWxldGUgc2VyaWFsaXplZC5jbGlwUGF0aDtcblxuICAgIHRoaXMuX2VubGl2ZW5PYmplY3RzKHNlcmlhbGl6ZWQub2JqZWN0cywgZnVuY3Rpb24gKGVubGl2ZW5lZE9iamVjdHMpIHtcbiAgICAgIF90aGlzLmNsZWFyKCk7XG4gICAgICBfdGhpcy5fc2V0QmdPdmVybGF5KHNlcmlhbGl6ZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICAgICAgX3RoaXMuX2VubGl2ZW5PYmplY3RzKFtjbGlwUGF0aF0sIGZ1bmN0aW9uIChlbmxpdmVuZWRDYW52YXNDbGlwKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGlwUGF0aCA9IGVubGl2ZW5lZENhbnZhc0NsaXBbMF07XG4gICAgICAgICAgICBfdGhpcy5fX3NldHVwQ2FudmFzLmNhbGwoX3RoaXMsIHNlcmlhbGl6ZWQsIGVubGl2ZW5lZE9iamVjdHMsIHJlbmRlck9uQWRkUmVtb3ZlLCBjYWxsYmFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3RoaXMuX19zZXR1cENhbnZhcy5jYWxsKF90aGlzLCBzZXJpYWxpemVkLCBlbmxpdmVuZWRPYmplY3RzLCByZW5kZXJPbkFkZFJlbW92ZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCByZXZpdmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNlcmlhbGl6ZWQgT2JqZWN0IHdpdGggYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbmZvcm1hdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSByZXN0b3JlZCBjYW52YXMgb2JqZWN0c1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWNoZWQgcmVuZGVyT25BZGRSZW1vdmUgY2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgSW52b2tlZCBhZnRlciBhbGwgYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbWFnZXMvcGF0dGVybnMgbG9hZGVkXG4gICAqL1xuICBfX3NldHVwQ2FudmFzOiBmdW5jdGlvbihzZXJpYWxpemVkLCBlbmxpdmVuZWRPYmplY3RzLCByZW5kZXJPbkFkZFJlbW92ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGVubGl2ZW5lZE9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICAvLyB3ZSBzcGxpY2UgdGhlIGFycmF5IGp1c3QgaW4gY2FzZSBzb21lIGN1c3RvbSBjbGFzc2VzIHJlc3RvcmVkIGZyb20gSlNPTlxuICAgICAgLy8gd2lsbCBhZGQgbW9yZSBvYmplY3QgdG8gY2FudmFzIGF0IGNhbnZhcyBpbml0LlxuICAgICAgX3RoaXMuaW5zZXJ0QXQob2JqLCBpbmRleCk7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSA9IHJlbmRlck9uQWRkUmVtb3ZlO1xuICAgIC8vIHJlbW92ZSBwYXJ0cyBpIGNhbm5vdCBzZXQgYXMgb3B0aW9uc1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm9iamVjdHM7XG4gICAgZGVsZXRlIHNlcmlhbGl6ZWQuYmFja2dyb3VuZEltYWdlO1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm92ZXJsYXlJbWFnZTtcbiAgICBkZWxldGUgc2VyaWFsaXplZC5iYWNrZ3JvdW5kO1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm92ZXJsYXk7XG4gICAgLy8gdGhpcy5faW5pdE9wdGlvbnMgZG9lcyB0b28gbWFueSB0aGluZ3MgdG8ganVzdFxuICAgIC8vIGNhbGwgaXQuIE5vcm1hbGx5IGxvYWRpbmcgYW4gT2JqZWN0IGZyb20gSlNPTlxuICAgIC8vIGNyZWF0ZSB0aGUgT2JqZWN0IGluc3RhbmNlLiBIZXJlIHRoZSBDYW52YXMgaXNcbiAgICAvLyBhbHJlYWR5IGFuIGluc3RhbmNlIGFuZCB3ZSBhcmUganVzdCBsb2FkaW5nIHRoaW5ncyBvdmVyIGl0XG4gICAgdGhpcy5fc2V0T3B0aW9ucyhzZXJpYWxpemVkKTtcbiAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXJpYWxpemVkIE9iamVjdCB3aXRoIGJhY2tncm91bmQgYW5kIG92ZXJsYXkgaW5mb3JtYXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgSW52b2tlZCBhZnRlciBhbGwgYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbWFnZXMvcGF0dGVybnMgbG9hZGVkXG4gICAqL1xuICBfc2V0QmdPdmVybGF5OiBmdW5jdGlvbihzZXJpYWxpemVkLCBjYWxsYmFjaykge1xuICAgIHZhciBsb2FkZWQgPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZhbHNlLFxuICAgICAgb3ZlcmxheUNvbG9yOiBmYWxzZSxcbiAgICAgIGJhY2tncm91bmRJbWFnZTogZmFsc2UsXG4gICAgICBvdmVybGF5SW1hZ2U6IGZhbHNlXG4gICAgfTtcblxuICAgIGlmICghc2VyaWFsaXplZC5iYWNrZ3JvdW5kSW1hZ2UgJiYgIXNlcmlhbGl6ZWQub3ZlcmxheUltYWdlICYmICFzZXJpYWxpemVkLmJhY2tncm91bmQgJiYgIXNlcmlhbGl6ZWQub3ZlcmxheSkge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2JJZkxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChsb2FkZWQuYmFja2dyb3VuZEltYWdlICYmIGxvYWRlZC5vdmVybGF5SW1hZ2UgJiYgbG9hZGVkLmJhY2tncm91bmRDb2xvciAmJiBsb2FkZWQub3ZlcmxheUNvbG9yKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ2JhY2tncm91bmRJbWFnZScsIHNlcmlhbGl6ZWQuYmFja2dyb3VuZEltYWdlLCBsb2FkZWQsIGNiSWZMb2FkZWQpO1xuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ292ZXJsYXlJbWFnZScsIHNlcmlhbGl6ZWQub3ZlcmxheUltYWdlLCBsb2FkZWQsIGNiSWZMb2FkZWQpO1xuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ2JhY2tncm91bmRDb2xvcicsIHNlcmlhbGl6ZWQuYmFja2dyb3VuZCwgbG9hZGVkLCBjYklmTG9hZGVkKTtcbiAgICB0aGlzLl9fc2V0QmdPdmVybGF5KCdvdmVybGF5Q29sb3InLCBzZXJpYWxpemVkLm92ZXJsYXksIGxvYWRlZCwgY2JJZkxvYWRlZCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBzZXQgKGJhY2tncm91bmRJbWFnZSwgb3ZlcmxheUltYWdlLCBiYWNrZ3JvdW5kQ29sb3IsIG92ZXJsYXlDb2xvcilcbiAgICogQHBhcmFtIHsoT2JqZWN0fFN0cmluZyl9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9hZGVkIFNldCBsb2FkZWQgcHJvcGVydHkgdG8gdHJ1ZSBpZiBwcm9wZXJ0eSBpcyBzZXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGludm9rZSBhZnRlciBwcm9wZXJ0eSBpcyBzZXRcbiAgICovXG4gIF9fc2V0QmdPdmVybGF5OiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUsIGxvYWRlZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgbG9hZGVkW3Byb3BlcnR5XSA9IHRydWU7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2JhY2tncm91bmRJbWFnZScgfHwgcHJvcGVydHkgPT09ICdvdmVybGF5SW1hZ2UnKSB7XG4gICAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhbdmFsdWVdLCBmdW5jdGlvbihlbmxpdmVkT2JqZWN0KXtcbiAgICAgICAgX3RoaXNbcHJvcGVydHldID0gZW5saXZlZE9iamVjdFswXTtcbiAgICAgICAgbG9hZGVkW3Byb3BlcnR5XSA9IHRydWU7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzWydzZXQnICsgZmFicmljLnV0aWwuc3RyaW5nLmNhcGl0YWxpemUocHJvcGVydHksIHRydWUpXSh2YWx1ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvYWRlZFtwcm9wZXJ0eV0gPSB0cnVlO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXVxuICAgKi9cbiAgX2VubGl2ZW5PYmplY3RzOiBmdW5jdGlvbiAob2JqZWN0cywgY2FsbGJhY2ssIHJldml2ZXIpIHtcbiAgICBpZiAoIW9iamVjdHMgfHwgb2JqZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhvYmplY3RzLCBmdW5jdGlvbihlbmxpdmVuZWRPYmplY3RzKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRPYmplY3RzKTtcbiAgICB9LCBudWxsLCByZXZpdmVyKTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgX3RvRGF0YVVSTDogZnVuY3Rpb24gKGZvcm1hdCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmNsb25lKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgY2FsbGJhY2soY2xvbmUudG9EYXRhVVJMKGZvcm1hdCkpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZm9ybWF0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtdWx0aXBsaWVyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBfdG9EYXRhVVJMV2l0aE11bHRpcGxpZXI6IGZ1bmN0aW9uIChmb3JtYXQsIG11bHRpcGxpZXIsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jbG9uZShmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgIGNhbGxiYWNrKGNsb25lLnRvRGF0YVVSTFdpdGhNdWx0aXBsaWVyKGZvcm1hdCwgbXVsdGlwbGllcikpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbG9uZXMgY2FudmFzIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY2FsbGJhY2tdIFJlY2VpdmVzIGNsb25lZCBpbnN0YW5jZSBhcyBhIGZpcnN0IGFyZ3VtZW50XG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzXSBBcnJheSBvZiBwcm9wZXJ0aWVzIHRvIGluY2x1ZGUgaW4gdGhlIGNsb25lZCBjYW52YXMgYW5kIGNoaWxkcmVuXG4gICAqL1xuICBjbG9uZTogZnVuY3Rpb24gKGNhbGxiYWNrLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTihwcm9wZXJ0aWVzKSk7XG4gICAgdGhpcy5jbG9uZVdpdGhvdXREYXRhKGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICBjbG9uZS5sb2FkRnJvbUpTT04oZGF0YSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNsb25lKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbG9uZXMgY2FudmFzIGluc3RhbmNlIHdpdGhvdXQgY2xvbmluZyBleGlzdGluZyBkYXRhLlxuICAgKiBUaGlzIGVzc2VudGlhbGx5IGNvcGllcyBjYW52YXMgZGltZW5zaW9ucywgY2xpcHBpbmcgcHJvcGVydGllcywgZXRjLlxuICAgKiBidXQgbGVhdmVzIGRhdGEgZW1wdHkgKHNvIHRoYXQgeW91IGNhbiBwb3B1bGF0ZSBpdCB3aXRoIHlvdXIgb3duKVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NhbGxiYWNrXSBSZWNlaXZlcyBjbG9uZWQgaW5zdGFuY2UgYXMgYSBmaXJzdCBhcmd1bWVudFxuICAgKi9cbiAgY2xvbmVXaXRob3V0RGF0YTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgZWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG5cbiAgICBlbC53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgZWwuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICB2YXIgY2xvbmUgPSBuZXcgZmFicmljLkNhbnZhcyhlbCk7XG4gICAgaWYgKHRoaXMuYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICBjbG9uZS5zZXRCYWNrZ3JvdW5kSW1hZ2UodGhpcy5iYWNrZ3JvdW5kSW1hZ2Uuc3JjLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xvbmUucmVuZGVyQWxsKCk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNsb25lKTtcbiAgICAgIH0pO1xuICAgICAgY2xvbmUuYmFja2dyb3VuZEltYWdlT3BhY2l0eSA9IHRoaXMuYmFja2dyb3VuZEltYWdlT3BhY2l0eTtcbiAgICAgIGNsb25lLmJhY2tncm91bmRJbWFnZVN0cmV0Y2ggPSB0aGlzLmJhY2tncm91bmRJbWFnZVN0cmV0Y2g7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soY2xvbmUpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgY2xvbmUgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUsXG4gICAgICB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIGNhcGl0YWxpemUgPSBmYWJyaWMudXRpbC5zdHJpbmcuY2FwaXRhbGl6ZSxcbiAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zLFxuICAgICAgb2JqZWN0Q2FjaGluZyA9ICFmYWJyaWMuaXNMaWtlbHlOb2RlLFxuICAgICAgQUxJQVNJTkdfTElNSVQgPSAyO1xuXG4gIGlmIChmYWJyaWMuT2JqZWN0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJvb3Qgb2JqZWN0IGNsYXNzIGZyb20gd2hpY2ggYWxsIDJkIHNoYXBlIGNsYXNzZXMgaW5oZXJpdCBmcm9tXG4gICAqIEBjbGFzcyBmYWJyaWMuT2JqZWN0XG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0xI29iamVjdHN9XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5PYmplY3QjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICpcbiAgICogQGZpcmVzIGFkZGVkXG4gICAqIEBmaXJlcyByZW1vdmVkXG4gICAqXG4gICAqIEBmaXJlcyBzZWxlY3RlZFxuICAgKiBAZmlyZXMgZGVzZWxlY3RlZFxuICAgKiBAZmlyZXMgbW9kaWZpZWRcbiAgICogQGZpcmVzIG1vZGlmaWVkXG4gICAqIEBmaXJlcyBtb3ZlZFxuICAgKiBAZmlyZXMgc2NhbGVkXG4gICAqIEBmaXJlcyByb3RhdGVkXG4gICAqIEBmaXJlcyBza2V3ZWRcbiAgICpcbiAgICogQGZpcmVzIHJvdGF0aW5nXG4gICAqIEBmaXJlcyBzY2FsaW5nXG4gICAqIEBmaXJlcyBtb3ZpbmdcbiAgICogQGZpcmVzIHNrZXdpbmdcbiAgICpcbiAgICogQGZpcmVzIG1vdXNlZG93blxuICAgKiBAZmlyZXMgbW91c2V1cFxuICAgKiBAZmlyZXMgbW91c2VvdmVyXG4gICAqIEBmaXJlcyBtb3VzZW91dFxuICAgKiBAZmlyZXMgbW91c2V3aGVlbFxuICAgKiBAZmlyZXMgbW91c2VkYmxjbGlja1xuICAgKlxuICAgKiBAZmlyZXMgZHJhZ292ZXJcbiAgICogQGZpcmVzIGRyYWdlbnRlclxuICAgKiBAZmlyZXMgZHJhZ2xlYXZlXG4gICAqIEBmaXJlcyBkcm9wXG4gICAqL1xuICBmYWJyaWMuT2JqZWN0ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLkNvbW1vbk1ldGhvZHMsIC8qKiBAbGVuZHMgZmFicmljLk9iamVjdC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3QgKHJlY3QsIGNpcmNsZSwgcGF0aCwgZXRjLikuXG4gICAgICogTm90ZSB0aGF0IHRoaXMgcHJvcGVydHkgaXMgbWVhbnQgdG8gYmUgcmVhZC1vbmx5IGFuZCBub3QgbWVhbnQgdG8gYmUgbW9kaWZpZWQuXG4gICAgICogSWYgeW91IG1vZGlmeSwgY2VydGFpbiBwYXJ0cyBvZiBGYWJyaWMgKHN1Y2ggYXMgSlNPTiBsb2FkaW5nKSB3b24ndCB3b3JrIGNvcnJlY3RseS5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICAgICAgICAgICAgICAgICAgICAgJ29iamVjdCcsXG5cbiAgICAvKipcbiAgICAgKiBIb3Jpem9udGFsIG9yaWdpbiBvZiB0cmFuc2Zvcm1hdGlvbiBvZiBhbiBvYmplY3QgKG9uZSBvZiBcImxlZnRcIiwgXCJyaWdodFwiLCBcImNlbnRlclwiKVxuICAgICAqIFNlZSBodHRwOi8vanNmaWRkbGUubmV0LzFvdzAyZ2VhLzI0NC8gb24gaG93IG9yaWdpblgvb3JpZ2luWSBhZmZlY3Qgb2JqZWN0cyBpbiBncm91cHNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9yaWdpblg6ICAgICAgICAgICAgICAgICAgJ2xlZnQnLFxuXG4gICAgLyoqXG4gICAgICogVmVydGljYWwgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uIG9mIGFuIG9iamVjdCAob25lIG9mIFwidG9wXCIsIFwiYm90dG9tXCIsIFwiY2VudGVyXCIpXG4gICAgICogU2VlIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvMW93MDJnZWEvMjQ0LyBvbiBob3cgb3JpZ2luWC9vcmlnaW5ZIGFmZmVjdCBvYmplY3RzIGluIGdyb3Vwc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3JpZ2luWTogICAgICAgICAgICAgICAgICAndG9wJyxcblxuICAgIC8qKlxuICAgICAqIFRvcCBwb3NpdGlvbiBvZiBhbiBvYmplY3QuIE5vdGUgdGhhdCBieSBkZWZhdWx0IGl0J3MgcmVsYXRpdmUgdG8gb2JqZWN0IHRvcC4gWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBzZXR0aW5nIG9yaWdpblk9e3RvcC9jZW50ZXIvYm90dG9tfVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdG9wOiAgICAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogTGVmdCBwb3NpdGlvbiBvZiBhbiBvYmplY3QuIE5vdGUgdGhhdCBieSBkZWZhdWx0IGl0J3MgcmVsYXRpdmUgdG8gb2JqZWN0IGxlZnQuIFlvdSBjYW4gY2hhbmdlIHRoaXMgYnkgc2V0dGluZyBvcmlnaW5YPXtsZWZ0L2NlbnRlci9yaWdodH1cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxlZnQ6ICAgICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIE9iamVjdCB3aWR0aFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgd2lkdGg6ICAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IGhlaWdodFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaGVpZ2h0OiAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IHNjYWxlIGZhY3RvciAoaG9yaXpvbnRhbClcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNjYWxlWDogICAgICAgICAgICAgICAgICAgMSxcblxuICAgIC8qKlxuICAgICAqIE9iamVjdCBzY2FsZSBmYWN0b3IgKHZlcnRpY2FsKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2NhbGVZOiAgICAgICAgICAgICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBhbiBvYmplY3QgaXMgcmVuZGVyZWQgYXMgZmxpcHBlZCBob3Jpem9udGFsbHlcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmbGlwWDogICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBhbiBvYmplY3QgaXMgcmVuZGVyZWQgYXMgZmxpcHBlZCB2ZXJ0aWNhbGx5XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZmxpcFk6ICAgICAgICAgICAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIE9wYWNpdHkgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvcGFjaXR5OiAgICAgICAgICAgICAgICAgIDEsXG5cbiAgICAvKipcbiAgICAgKiBBbmdsZSBvZiByb3RhdGlvbiBvZiBhbiBvYmplY3QgKGluIGRlZ3JlZXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBhbmdsZTogICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBBbmdsZSBvZiBza2V3IG9uIHggYXhlcyBvZiBhbiBvYmplY3QgKGluIGRlZ3JlZXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2V3WDogICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBBbmdsZSBvZiBza2V3IG9uIHkgYXhlcyBvZiBhbiBvYmplY3QgKGluIGRlZ3JlZXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2V3WTogICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBTaXplIG9mIG9iamVjdCdzIGNvbnRyb2xsaW5nIGNvcm5lcnMgKGluIHBpeGVscylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvcm5lclNpemU6ICAgICAgICAgICAgICAgMTMsXG5cbiAgICAvKipcbiAgICAgKiBTaXplIG9mIG9iamVjdCdzIGNvbnRyb2xsaW5nIGNvcm5lcnMgd2hlbiB0b3VjaCBpbnRlcmFjdGlvbiBpcyBkZXRlY3RlZFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdG91Y2hDb3JuZXJTaXplOiAgICAgICAgICAgICAgIDI0LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3QncyBjb250cm9sbGluZyBjb3JuZXJzIGFyZSByZW5kZXJlZCBhcyB0cmFuc3BhcmVudCBpbnNpZGUgKGkuZS4gc3Ryb2tlIGluc3RlYWQgb2YgZmlsbClcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0cmFuc3BhcmVudENvcm5lcnM6ICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGN1cnNvciB2YWx1ZSB1c2VkIHdoZW4gaG92ZXJpbmcgb3ZlciB0aGlzIG9iamVjdCBvbiBjYW52YXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGhvdmVyQ3Vyc29yOiAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY3Vyc29yIHZhbHVlIHVzZWQgd2hlbiBtb3ZpbmcgdGhpcyBvYmplY3Qgb24gY2FudmFzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtb3ZlQ3Vyc29yOiAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBQYWRkaW5nIGJldHdlZW4gb2JqZWN0IGFuZCBpdHMgY29udHJvbGxpbmcgYm9yZGVycyAoaW4gcGl4ZWxzKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGFkZGluZzogICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgY29udHJvbGxpbmcgYm9yZGVycyBvZiBhbiBvYmplY3QgKHdoZW4gaXQncyBhY3RpdmUpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBib3JkZXJDb2xvcjogICAgICAgICAgICAgICdyZ2IoMTc4LDIwNCwyNTUpJyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IHNwZWNpZnlpbmcgZGFzaCBwYXR0ZXJuIG9mIGFuIG9iamVjdCdzIGJvcmRlcnMgKGhhc0JvcmRlciBtdXN0IGJlIHRydWUpXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBib3JkZXJEYXNoQXJyYXk6ICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiBjb250cm9sbGluZyBjb3JuZXJzIG9mIGFuIG9iamVjdCAod2hlbiBpdCdzIGFjdGl2ZSlcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvcm5lckNvbG9yOiAgICAgICAgICAgICAgJ3JnYigxNzgsMjA0LDI1NSknLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgY29udHJvbGxpbmcgY29ybmVycyBvZiBhbiBvYmplY3QgKHdoZW4gaXQncyBhY3RpdmUgYW5kIHRyYW5zcGFyZW50Q29ybmVycyBmYWxzZSlcbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvcm5lclN0cm9rZUNvbG9yOiAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgc3R5bGUgb2YgY29udHJvbCwgJ3JlY3QnIG9yICdjaXJjbGUnXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICovXG4gICAgY29ybmVyU3R5bGU6ICAgICAgICAgICdyZWN0JyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IHNwZWNpZnlpbmcgZGFzaCBwYXR0ZXJuIG9mIGFuIG9iamVjdCdzIGNvbnRyb2wgKGhhc0JvcmRlciBtdXN0IGJlIHRydWUpXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjb3JuZXJEYXNoQXJyYXk6ICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHRoaXMgb2JqZWN0IHdpbGwgdXNlIGNlbnRlciBwb2ludCBhcyB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uXG4gICAgICogd2hlbiBiZWluZyBzY2FsZWQgdmlhIHRoZSBjb250cm9scy5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGlzIHByb3BlcnR5IHJlcGxhY2VzIFwiY2VudGVyVHJhbnNmb3JtXCIgKEJvb2xlYW4pLlxuICAgICAqIEBzaW5jZSAxLjMuNFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNlbnRlcmVkU2NhbGluZzogICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHRoaXMgb2JqZWN0IHdpbGwgdXNlIGNlbnRlciBwb2ludCBhcyB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uXG4gICAgICogd2hlbiBiZWluZyByb3RhdGVkIHZpYSB0aGUgY29udHJvbHMuXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcImNlbnRlclRyYW5zZm9ybVwiIChCb29sZWFuKS5cbiAgICAgKiBAc2luY2UgMS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjZW50ZXJlZFJvdGF0aW9uOiAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiBvYmplY3QncyBmaWxsXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmaWxsOiAgICAgICAgICAgICAgICAgICAgICdyZ2IoMCwwLDApJyxcblxuICAgIC8qKlxuICAgICAqIEZpbGwgcnVsZSB1c2VkIHRvIGZpbGwgYW4gb2JqZWN0XG4gICAgICogYWNjZXB0ZWQgdmFsdWVzIGFyZSBub256ZXJvLCBldmVub2RkXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSB3YXMgdXNlZCBmb3Igc2V0dGluZyBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gdW50aWwgdjEuNC4xMiAodXNlIGBmYWJyaWMuT2JqZWN0I2dsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbmAgaW5zdGVhZClcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZpbGxSdWxlOiAgICAgICAgICAgICAgICAgJ25vbnplcm8nLFxuXG4gICAgLyoqXG4gICAgICogQ29tcG9zaXRlIHJ1bGUgdXNlZCBmb3IgY2FudmFzIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvblxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiAnc291cmNlLW92ZXInLFxuXG4gICAgLyoqXG4gICAgICogQmFja2dyb3VuZCBjb2xvciBvZiBhbiBvYmplY3QuXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICAgICAgICAgICcnLFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0aW9uIEJhY2tncm91bmQgY29sb3Igb2YgYW4gb2JqZWN0LiBjb2xvcmVkIGxheWVyIGJlaGluZCB0aGUgb2JqZWN0IHdoZW4gaXQgaXMgYWN0aXZlLlxuICAgICAqIGRvZXMgbm90IG1peCBnb29kIHdpdGggZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIG1ldGhvZHMuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3I6ICAgICAgICAgICcnLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBkZWZpbmVkLCBhbiBvYmplY3QgaXMgcmVuZGVyZWQgdmlhIHN0cm9rZSBhbmQgdGhpcyBwcm9wZXJ0eSBzcGVjaWZpZXMgaXRzIGNvbG9yXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2U6ICAgICAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBvZiBhIHN0cm9rZSB1c2VkIHRvIHJlbmRlciB0aGlzIG9iamVjdFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlV2lkdGg6ICAgICAgICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogQXJyYXkgc3BlY2lmeWluZyBkYXNoIHBhdHRlcm4gb2YgYW4gb2JqZWN0J3Mgc3Ryb2tlIChzdHJva2UgbXVzdCBiZSBkZWZpbmVkKVxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3Ryb2tlRGFzaEFycmF5OiAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogTGluZSBvZmZzZXQgb2YgYW4gb2JqZWN0J3Mgc3Ryb2tlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VEYXNoT2Zmc2V0OiAwLFxuXG4gICAgLyoqXG4gICAgICogTGluZSBlbmRpbmdzIHN0eWxlIG9mIGFuIG9iamVjdCdzIHN0cm9rZSAob25lIG9mIFwiYnV0dFwiLCBcInJvdW5kXCIsIFwic3F1YXJlXCIpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VMaW5lQ2FwOiAgICAgICAgICAgICdidXR0JyxcblxuICAgIC8qKlxuICAgICAqIENvcm5lciBzdHlsZSBvZiBhbiBvYmplY3QncyBzdHJva2UgKG9uZSBvZiBcImJldmVsXCIsIFwicm91bmRcIiwgXCJtaXRlclwiKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlTGluZUpvaW46ICAgICAgICAgICAnbWl0ZXInLFxuXG4gICAgLyoqXG4gICAgICogTWF4aW11bSBtaXRlciBsZW5ndGggKHVzZWQgZm9yIHN0cm9rZUxpbmVKb2luID0gXCJtaXRlclwiKSBvZiBhbiBvYmplY3QncyBzdHJva2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN0cm9rZU1pdGVyTGltaXQ6ICAgICAgICAgNCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBvYmplY3QgcmVwcmVzZW50aW5nIHNoYWRvdyBvZiB0aGlzIHNoYXBlXG4gICAgICogQHR5cGUgZmFicmljLlNoYWRvd1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2hhZG93OiAgICAgICAgICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogT3BhY2l0eSBvZiBvYmplY3QncyBjb250cm9sbGluZyBib3JkZXJzIHdoZW4gb2JqZWN0IGlzIGFjdGl2ZSBhbmQgbW92aW5nXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBib3JkZXJPcGFjaXR5V2hlbk1vdmluZzogIDAuNCxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIGZhY3RvciBvZiBvYmplY3QncyBjb250cm9sbGluZyBib3JkZXJzXG4gICAgICogYmlnZ2VyIG51bWJlciB3aWxsIG1ha2UgYSB0aGlja2VyIGJvcmRlclxuICAgICAqIGJvcmRlciBpcyAxLCBzbyB0aGlzIGlzIGJhc2ljYWxseSBhIGJvcmRlciB0aGlja25lc3NcbiAgICAgKiBzaW5jZSB0aGVyZSBpcyBubyB3YXkgdG8gY2hhbmdlIHRoZSBib3JkZXIgaXRzZWxmLlxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYm9yZGVyU2NhbGVGYWN0b3I6ICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogTWluaW11bSBhbGxvd2VkIHNjYWxlIHZhbHVlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbWluU2NhbGVMaW1pdDogICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgYW4gb2JqZWN0IGNhbiBub3QgYmUgc2VsZWN0ZWQgZm9yIG1vZGlmaWNhdGlvbiAodXNpbmcgZWl0aGVyIHBvaW50LWNsaWNrLWJhc2VkIG9yIGdyb3VwLWJhc2VkIHNlbGVjdGlvbikuXG4gICAgICogQnV0IGV2ZW50cyBzdGlsbCBmaXJlIG9uIGl0LlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGFibGU6ICAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIGFuIG9iamVjdCBjYW4gbm90IGJlIGEgdGFyZ2V0IG9mIGV2ZW50cy4gQWxsIGV2ZW50cyBwcm9wYWdhdGUgdGhyb3VnaCBpdC4gSW50cm9kdWNlZCBpbiB2MS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBldmVudGVkOiAgICAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCBhbiBvYmplY3QgaXMgbm90IHJlbmRlcmVkIG9uIGNhbnZhc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHZpc2libGU6ICAgICAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIG9iamVjdCdzIGNvbnRyb2xzIGFyZSBub3QgZGlzcGxheWVkIGFuZCBjYW4gbm90IGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBvYmplY3RcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoYXNDb250cm9sczogICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCBvYmplY3QncyBjb250cm9sbGluZyBib3JkZXJzIGFyZSBub3QgcmVuZGVyZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoYXNCb3JkZXJzOiAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIG9iamVjdHMgYXJlIFwiZm91bmRcIiBvbiBjYW52YXMgb24gcGVyLXBpeGVsIGJhc2lzIHJhdGhlciB0aGFuIGFjY29yZGluZyB0byBib3VuZGluZyBib3hcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwZXJQaXhlbFRhcmdldEZpbmQ6ICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgZmFsc2VgLCBkZWZhdWx0IG9iamVjdCdzIHZhbHVlcyBhcmUgbm90IGluY2x1ZGVkIGluIGl0cyBzZXJpYWxpemF0aW9uXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaW5jbHVkZURlZmF1bHRWYWx1ZXM6ICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBob3Jpem9udGFsIG1vdmVtZW50IGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tNb3ZlbWVudFg6ICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IHZlcnRpY2FsIG1vdmVtZW50IGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tNb3ZlbWVudFk6ICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IHJvdGF0aW9uIGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tSb3RhdGlvbjogICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IGhvcml6b250YWwgc2NhbGluZyBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ1g6ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCB2ZXJ0aWNhbCBzY2FsaW5nIGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tTY2FsaW5nWTogICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IGhvcml6b250YWwgc2tld2luZyBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2tld2luZ1g6ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCB2ZXJ0aWNhbCBza2V3aW5nIGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tTa2V3aW5nWTogICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IGNhbm5vdCBiZSBmbGlwcGVkIGJ5IHNjYWxpbmcgaW50byBuZWdhdGl2ZSB2YWx1ZXNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ0ZsaXA6ICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBpcyBub3QgZXhwb3J0ZWQgaW4gT0JKRUNUL0pTT05cbiAgICAgKiBAc2luY2UgMS42LjNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBleGNsdWRlRnJvbUV4cG9ydDogICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBpcyBjYWNoZWQgb24gYW4gYWRkaXRpb25hbCBjYW52YXMuXG4gICAgICogV2hlbiBgZmFsc2VgLCBvYmplY3QgaXMgbm90IGNhY2hlZCB1bmxlc3MgbmVjZXNzYXJ5ICggY2xpcFBhdGggKVxuICAgICAqIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAqIEBzaW5jZSAxLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgb2JqZWN0Q2FjaGluZzogICAgICAgICAgICBvYmplY3RDYWNoaW5nLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjaGVja2VkIGZvciBjYWNoZSBpbnZhbGlkYXRpb24uIEluIHNvbWUgcGFydGljdWxhclxuICAgICAqIHNpdHVhdGlvbiB5b3UgbWF5IHdhbnQgdGhpcyB0byBiZSBkaXNhYmxlZCAoIHNwcmF5IGJydXNoLCB2ZXJ5IGJpZywgZ3JvdXBzKVxuICAgICAqIG9yIGlmIHlvdXIgYXBwbGljYXRpb24gZG9lcyBub3QgYWxsb3cgeW91IHRvIG1vZGlmeSBwcm9wZXJ0aWVzIGZvciBncm91cHMgY2hpbGQgeW91IHdhbnRcbiAgICAgKiB0byBkaXNhYmxlIGl0IGZvciBncm91cHMuXG4gICAgICogZGVmYXVsdCB0byBmYWxzZVxuICAgICAqIHNpbmNlIDEuNy4wXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgc3RhdGVmdWxsQ2FjaGU6ICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgY2FjaGUgZG9lcyBub3QgZ2V0IHVwZGF0ZWQgZHVyaW5nIHNjYWxpbmcuIFRoZSBwaWN0dXJlIHdpbGwgZ2V0IGJsb2NreSBpZiBzY2FsZWRcbiAgICAgKiB0b28gbXVjaCBhbmQgd2lsbCBiZSByZWRyYXduIHdpdGggY29ycmVjdCBkZXRhaWxzIGF0IHRoZSBlbmQgb2Ygc2NhbGluZy5cbiAgICAgKiB0aGlzIHNldHRpbmcgaXMgcGVyZm9ybWFuY2UgYW5kIGFwcGxpY2F0aW9uIGRlcGVuZGFudC5cbiAgICAgKiBkZWZhdWx0IHRvIHRydWVcbiAgICAgKiBzaW5jZSAxLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgbm9TY2FsZUNhY2hlOiAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYGZhbHNlYCwgdGhlIHN0b2tlIHdpZHRoIHdpbGwgc2NhbGUgd2l0aCB0aGUgb2JqZWN0LlxuICAgICAqIFdoZW4gYHRydWVgLCB0aGUgc3Ryb2tlIHdpbGwgYWx3YXlzIG1hdGNoIHRoZSBleGFjdCBwaXhlbCBzaXplIGVudGVyZWQgZm9yIHN0cm9rZSB3aWR0aC5cbiAgICAgKiB0aGlzIFByb3BlcnR5IGRvZXMgbm90IHdvcmsgb24gVGV4dCBjbGFzc2VzIG9yIGRyYXdpbmcgY2FsbCB0aGF0IHVzZXMgc3Ryb2tlVGV4dCxmaWxsVGV4dCBtZXRob2RzXG4gICAgICogZGVmYXVsdCB0byBmYWxzZVxuICAgICAqIEBzaW5jZSAyLjYuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHN0cm9rZVVuaWZvcm06ICAgICAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgb2JqZWN0J3MgY2FjaGUgd2lsbCBiZSByZXJlbmRlcmVkIG5leHQgcmVuZGVyIGNhbGwuXG4gICAgICogc2luY2UgMS43LjBcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGRpcnR5OiAgICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICoga2VlcHMgdGhlIHZhbHVlIG9mIHRoZSBsYXN0IGhvdmVyZWQgY29ybmVyIGR1cmluZyBtb3VzZSBtb3ZlLlxuICAgICAqIDAgaXMgbm8gY29ybmVyLCBvciAnbXQnLCAnbWwnLCAnbXRyJyBldGMuLlxuICAgICAqIEl0IHNob3VsZCBiZSBwcml2YXRlLCBidXQgdGhlcmUgaXMgbm8gaGFybSBpbiB1c2luZyBpdCBhc1xuICAgICAqIGEgcmVhZC1vbmx5IHByb3BlcnR5LlxuICAgICAqIEB0eXBlIG51bWJlcnxzdHJpbmd8YW55XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIF9fY29ybmVyOiAwLFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZmlsbCBvciB0aGUgc3Ryb2tlIGlzIGRyYXduIGZpcnN0IChvbmUgb2YgXCJmaWxsXCIgb3IgXCJzdHJva2VcIilcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhaW50Rmlyc3Q6ICAgICAgICAgICAnZmlsbCcsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuICdkb3duJywgb2JqZWN0IGlzIHNldCB0byBhY3RpdmUgb24gbW91c2Vkb3duL3RvdWNoc3RhcnRcbiAgICAgKiBXaGVuICd1cCcsIG9iamVjdCBpcyBzZXQgdG8gYWN0aXZlIG9uIG1vdXNldXAvdG91Y2hlbmRcbiAgICAgKiBFeHBlcmltZW50YWwuIExldCdzIHNlZSBpZiB0aGlzIGJyZWFrcyBhbnl0aGluZyBiZWZvcmUgc3VwcG9ydGluZyBvZmZpY2lhbGx5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBzaW5jZSA0LjQuMFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICdkb3duJ1xuICAgICAqL1xuICAgIGFjdGl2ZU9uOiAgICAgICAgICAgJ2Rvd24nLFxuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbnNpZGVyIHdoZW4gY2hlY2tpbmcgaWYgc3RhdGVcbiAgICAgKiBvZiBhbiBvYmplY3QgaXMgY2hhbmdlZCAoZmFicmljLk9iamVjdCNoYXNTdGF0ZUNoYW5nZWQpXG4gICAgICogYXMgd2VsbCBhcyBmb3IgaGlzdG9yeSAodW5kby9yZWRvKSBwdXJwb3Nlc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3RhdGVQcm9wZXJ0aWVzOiAoXG4gICAgICAndG9wIGxlZnQgd2lkdGggaGVpZ2h0IHNjYWxlWCBzY2FsZVkgZmxpcFggZmxpcFkgb3JpZ2luWCBvcmlnaW5ZIHRyYW5zZm9ybU1hdHJpeCAnICtcbiAgICAgICdzdHJva2Ugc3Ryb2tlV2lkdGggc3Ryb2tlRGFzaEFycmF5IHN0cm9rZUxpbmVDYXAgc3Ryb2tlRGFzaE9mZnNldCBzdHJva2VMaW5lSm9pbiBzdHJva2VNaXRlckxpbWl0ICcgK1xuICAgICAgJ2FuZ2xlIG9wYWNpdHkgZmlsbCBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gc2hhZG93IHZpc2libGUgYmFja2dyb3VuZENvbG9yICcgK1xuICAgICAgJ3NrZXdYIHNrZXdZIGZpbGxSdWxlIHBhaW50Rmlyc3QgY2xpcFBhdGggc3Ryb2tlVW5pZm9ybSdcbiAgICApLnNwbGl0KCcgJyksXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZiBjYWNoZSBuZWVkcyByZWZyZXNoXG4gICAgICogVGhvc2UgcHJvcGVydGllcyBhcmUgY2hlY2tlZCBieSBzdGF0ZWZ1bGxDYWNoZSBPTiAoIG9yIGxhenkgbW9kZSBpZiB3ZSB3YW50ICkgb3IgZnJvbSBzaW5nbGVcbiAgICAgKiBjYWxscyB0byBPYmplY3Quc2V0KGtleSwgdmFsdWUpLiBJZiB0aGUga2V5IGlzIGluIHRoaXMgbGlzdCwgdGhlIG9iamVjdCBpcyBtYXJrZWQgYXMgZGlydHlcbiAgICAgKiBhbmQgcmVmcmVzaGVkIGF0IHRoZSBuZXh0IHJlbmRlclxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiAoXG4gICAgICAnZmlsbCBzdHJva2Ugc3Ryb2tlV2lkdGggc3Ryb2tlRGFzaEFycmF5IHdpZHRoIGhlaWdodCBwYWludEZpcnN0IHN0cm9rZVVuaWZvcm0nICtcbiAgICAgICcgc3Ryb2tlTGluZUNhcCBzdHJva2VEYXNoT2Zmc2V0IHN0cm9rZUxpbmVKb2luIHN0cm9rZU1pdGVyTGltaXQgYmFja2dyb3VuZENvbG9yIGNsaXBQYXRoJ1xuICAgICkuc3BsaXQoJyAnKSxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciBmb3IgYW5pbWF0aW5nIGNvbG9ycy5cbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIGNvbG9yUHJvcGVydGllczogKFxuICAgICAgJ2ZpbGwgc3Ryb2tlIGJhY2tncm91bmRDb2xvcidcbiAgICApLnNwbGl0KCcgJyksXG5cbiAgICAvKipcbiAgICAgKiBhIGZhYnJpY09iamVjdCB0aGF0LCB3aXRob3V0IHN0cm9rZSBkZWZpbmUgYSBjbGlwcGluZyBhcmVhIHdpdGggdGhlaXIgc2hhcGUuIGZpbGxlZCBpbiBibGFja1xuICAgICAqIHRoZSBjbGlwUGF0aCBvYmplY3QgZ2V0cyB1c2VkIHdoZW4gdGhlIG9iamVjdCBoYXMgcmVuZGVyZWQsIGFuZCB0aGUgY29udGV4dCBpcyBwbGFjZWQgaW4gdGhlIGNlbnRlclxuICAgICAqIG9mIHRoZSBvYmplY3QgY2FjaGVDYW52YXMuXG4gICAgICogSWYgeW91IHdhbnQgMCwwIG9mIGEgY2xpcFBhdGggdG8gYWxpZ24gd2l0aCBhbiBvYmplY3QgY2VudGVyLCB1c2UgY2xpcFBhdGgub3JpZ2luWC9ZIHRvICdjZW50ZXInXG4gICAgICogQHR5cGUgZmFicmljLk9iamVjdFxuICAgICAqL1xuICAgIGNsaXBQYXRoOiB1bmRlZmluZWQsXG5cbiAgICAvKipcbiAgICAgKiBNZWFuaW5nZnVsIE9OTFkgd2hlbiB0aGUgb2JqZWN0IGlzIHVzZWQgYXMgY2xpcFBhdGguXG4gICAgICogaWYgdHJ1ZSwgdGhlIGNsaXBQYXRoIHdpbGwgbWFrZSB0aGUgb2JqZWN0IGNsaXAgdG8gdGhlIG91dHNpZGUgb2YgdGhlIGNsaXBQYXRoXG4gICAgICogc2luY2UgMi40LjBcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBpbnZlcnRlZDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBNZWFuaW5nZnVsIE9OTFkgd2hlbiB0aGUgb2JqZWN0IGlzIHVzZWQgYXMgY2xpcFBhdGguXG4gICAgICogaWYgdHJ1ZSwgdGhlIGNsaXBQYXRoIHdpbGwgaGF2ZSBpdHMgdG9wIGFuZCBsZWZ0IHJlbGF0aXZlIHRvIGNhbnZhcywgYW5kIHdpbGxcbiAgICAgKiBub3QgYmUgaW5mbHVlbmNlZCBieSB0aGUgb2JqZWN0IHRyYW5zZm9ybS4gVGhpcyB3aWxsIG1ha2UgdGhlIGNsaXBQYXRoIHJlbGF0aXZlXG4gICAgICogdG8gdGhlIGNhbnZhcywgYnV0IGNsaXBwaW5nIGp1c3QgYSBwYXJ0aWN1bGFyIG9iamVjdC5cbiAgICAgKiBXQVJOSU5HIHRoaXMgaXMgYmV0YSwgdGhpcyBmZWF0dXJlIG1heSBjaGFuZ2Ugb3IgYmUgcmVuYW1lZC5cbiAgICAgKiBzaW5jZSAyLjQuMFxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGFic29sdXRlUG9zaXRpb25lZDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRoZSBjYW52YXMgdXNlZCB0byBrZWVwIHRoZSBjYWNoZWQgY29weSBvZiB0aGUgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2FjaGVDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fY2FjaGVQcm9wZXJ0aWVzID0ge307XG4gICAgICB0aGlzLl9jYWNoZUNhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIHRoaXMuX2NhY2hlQ29udGV4dCA9IHRoaXMuX2NhY2hlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICB0aGlzLl91cGRhdGVDYWNoZUNhbnZhcygpO1xuICAgICAgLy8gaWYgY2FudmFzIGdldHMgY3JlYXRlZCwgaXMgZW1wdHksIHNvIGRpcnR5LlxuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpbWl0IHRoZSBjYWNoZSBkaW1lbnNpb25zIHNvIHRoYXQgWCAqIFkgZG8gbm90IGNyb3NzIGZhYnJpYy5wZXJmTGltaXRTaXplVG90YWxcbiAgICAgKiBhbmQgZWFjaCBzaWRlIGRvIG5vdCBjcm9zcyBmYWJyaWMuY2FjaGVTaWRlTGltaXRcbiAgICAgKiB0aG9zZSBudW1iZXJzIGFyZSBjb25maWd1cmFibGUgc28gdGhhdCB5b3UgY2FuIGdldCBhcyBtdWNoIGRldGFpbCBhcyB5b3Ugd2FudFxuICAgICAqIG1ha2luZyBiYXJnYWluIHdpdGggcGVyZm9ybWFuY2VzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW1zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbXMud2lkdGggd2lkdGggb2YgY2FudmFzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbXMuaGVpZ2h0IGhlaWdodCBvZiBjYW52YXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGltcy56b29tWCB6b29tWCB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW1zLnpvb21ZIHpvb21ZIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICogQHJldHVybiB7T2JqZWN0fS53aWR0aCB3aWR0aCBvZiBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LmhlaWdodCBoZWlnaHQgb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS56b29tWCB6b29tWCB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVkgem9vbVkgem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKi9cbiAgICBfbGltaXRDYWNoZVNpemU6IGZ1bmN0aW9uKGRpbXMpIHtcbiAgICAgIHZhciBwZXJmTGltaXRTaXplVG90YWwgPSBmYWJyaWMucGVyZkxpbWl0U2l6ZVRvdGFsLFxuICAgICAgICAgIHdpZHRoID0gZGltcy53aWR0aCwgaGVpZ2h0ID0gZGltcy5oZWlnaHQsXG4gICAgICAgICAgbWF4ID0gZmFicmljLm1heENhY2hlU2lkZUxpbWl0LCBtaW4gPSBmYWJyaWMubWluQ2FjaGVTaWRlTGltaXQ7XG4gICAgICBpZiAod2lkdGggPD0gbWF4ICYmIGhlaWdodCA8PSBtYXggJiYgd2lkdGggKiBoZWlnaHQgPD0gcGVyZkxpbWl0U2l6ZVRvdGFsKSB7XG4gICAgICAgIGlmICh3aWR0aCA8IG1pbikge1xuICAgICAgICAgIGRpbXMud2lkdGggPSBtaW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlaWdodCA8IG1pbikge1xuICAgICAgICAgIGRpbXMuaGVpZ2h0ID0gbWluO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaW1zO1xuICAgICAgfVxuICAgICAgdmFyIGFyID0gd2lkdGggLyBoZWlnaHQsIGxpbWl0ZWREaW1zID0gZmFicmljLnV0aWwubGltaXREaW1zQnlBcmVhKGFyLCBwZXJmTGltaXRTaXplVG90YWwpLFxuICAgICAgICAgIGNhcFZhbHVlID0gZmFicmljLnV0aWwuY2FwVmFsdWUsXG4gICAgICAgICAgeCA9IGNhcFZhbHVlKG1pbiwgbGltaXRlZERpbXMueCwgbWF4KSxcbiAgICAgICAgICB5ID0gY2FwVmFsdWUobWluLCBsaW1pdGVkRGltcy55LCBtYXgpO1xuICAgICAgaWYgKHdpZHRoID4geCkge1xuICAgICAgICBkaW1zLnpvb21YIC89IHdpZHRoIC8geDtcbiAgICAgICAgZGltcy53aWR0aCA9IHg7XG4gICAgICAgIGRpbXMuY2FwcGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChoZWlnaHQgPiB5KSB7XG4gICAgICAgIGRpbXMuem9vbVkgLz0gaGVpZ2h0IC8geTtcbiAgICAgICAgZGltcy5oZWlnaHQgPSB5O1xuICAgICAgICBkaW1zLmNhcHBlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGltcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBkaW1lbnNpb24gYW5kIHRoZSB6b29tIGxldmVsIG5lZWRlZCB0byBjcmVhdGUgYSBjYWNoZSBjYW52YXNcbiAgICAgKiBiaWcgZW5vdWdoIHRvIGhvc3QgdGhlIG9iamVjdCB0byBiZSBjYWNoZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnggd2lkdGggb2Ygb2JqZWN0IHRvIGJlIGNhY2hlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0ueSBoZWlnaHQgb2Ygb2JqZWN0IHRvIGJlIGNhY2hlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0ud2lkdGggd2lkdGggb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS5oZWlnaHQgaGVpZ2h0IG9mIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVggem9vbVggem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnpvb21ZIHpvb21ZIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICovXG4gICAgX2dldENhY2hlQ2FudmFzRGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2JqZWN0U2NhbGUgPSB0aGlzLmdldFRvdGFsT2JqZWN0U2NhbGluZygpLFxuICAgICAgICAgIC8vIGNhY3VsYXRlIGRpbWVuc2lvbnMgd2l0aG91dCBza2V3aW5nXG4gICAgICAgICAgZGltID0gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKDAsIDApLFxuICAgICAgICAgIG5lZWRlZFggPSBkaW0ueCAqIG9iamVjdFNjYWxlLnNjYWxlWCAvIHRoaXMuc2NhbGVYLFxuICAgICAgICAgIG5lZWRlZFkgPSBkaW0ueSAqIG9iamVjdFNjYWxlLnNjYWxlWSAvIHRoaXMuc2NhbGVZO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLy8gZm9yIHN1cmUgdGhpcyBBTElBU0lOR19MSU1JVCBpcyBzbGlnaHRseSBjcmVhdGluZyBwcm9ibGVtXG4gICAgICAgIC8vIGluIHNpdHVhdGlvbiBpbiB3aGljaCB0aGUgY2FjaGUgY2FudmFzIGdldHMgYW4gdXBwZXIgbGltaXRcbiAgICAgICAgLy8gYWxzbyBvYmplY3RTY2FsZSBjb250YWlucyBhbHJlYWR5IHNjYWxlWCBhbmQgc2NhbGVZXG4gICAgICAgIHdpZHRoOiBuZWVkZWRYICsgQUxJQVNJTkdfTElNSVQsXG4gICAgICAgIGhlaWdodDogbmVlZGVkWSArIEFMSUFTSU5HX0xJTUlULFxuICAgICAgICB6b29tWDogb2JqZWN0U2NhbGUuc2NhbGVYLFxuICAgICAgICB6b29tWTogb2JqZWN0U2NhbGUuc2NhbGVZLFxuICAgICAgICB4OiBuZWVkZWRYLFxuICAgICAgICB5OiBuZWVkZWRZXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgY2FudmFzIGZvciBjYWNoZVxuICAgICAqIHJldHVybnMgdHJ1ZSBvciBmYWxzZSBpZiBjYW52YXMgbmVlZGVkIHJlc2l6ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIGNhbnZhcyBoYXMgYmVlbiByZXNpemVkXG4gICAgICovXG4gICAgX3VwZGF0ZUNhY2hlQ2FudmFzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0YXJnZXRDYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGlmICh0aGlzLm5vU2NhbGVDYWNoZSAmJiB0YXJnZXRDYW52YXMgJiYgdGFyZ2V0Q2FudmFzLl9jdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRDYW52YXMuX2N1cnJlbnRUcmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAgICAgYWN0aW9uID0gdGFyZ2V0Q2FudmFzLl9jdXJyZW50VHJhbnNmb3JtLmFjdGlvbjtcbiAgICAgICAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBhY3Rpb24uc2xpY2UgJiYgYWN0aW9uLnNsaWNlKDAsIDUpID09PSAnc2NhbGUnKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2FudmFzID0gdGhpcy5fY2FjaGVDYW52YXMsXG4gICAgICAgICAgZGltcyA9IHRoaXMuX2xpbWl0Q2FjaGVTaXplKHRoaXMuX2dldENhY2hlQ2FudmFzRGltZW5zaW9ucygpKSxcbiAgICAgICAgICBtaW5DYWNoZVNpemUgPSBmYWJyaWMubWluQ2FjaGVTaWRlTGltaXQsXG4gICAgICAgICAgd2lkdGggPSBkaW1zLndpZHRoLCBoZWlnaHQgPSBkaW1zLmhlaWdodCwgZHJhd2luZ1dpZHRoLCBkcmF3aW5nSGVpZ2h0LFxuICAgICAgICAgIHpvb21YID0gZGltcy56b29tWCwgem9vbVkgPSBkaW1zLnpvb21ZLFxuICAgICAgICAgIGRpbWVuc2lvbnNDaGFuZ2VkID0gd2lkdGggIT09IHRoaXMuY2FjaGVXaWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuY2FjaGVIZWlnaHQsXG4gICAgICAgICAgem9vbUNoYW5nZWQgPSB0aGlzLnpvb21YICE9PSB6b29tWCB8fCB0aGlzLnpvb21ZICE9PSB6b29tWSxcbiAgICAgICAgICBzaG91bGRSZWRyYXcgPSBkaW1lbnNpb25zQ2hhbmdlZCB8fCB6b29tQ2hhbmdlZCxcbiAgICAgICAgICBhZGRpdGlvbmFsV2lkdGggPSAwLCBhZGRpdGlvbmFsSGVpZ2h0ID0gMCwgc2hvdWxkUmVzaXplQ2FudmFzID0gZmFsc2U7XG4gICAgICBpZiAoZGltZW5zaW9uc0NoYW5nZWQpIHtcbiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gdGhpcy5fY2FjaGVDYW52YXMud2lkdGgsXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQgPSB0aGlzLl9jYWNoZUNhbnZhcy5oZWlnaHQsXG4gICAgICAgICAgICBzaXplR3Jvd2luZyA9IHdpZHRoID4gY2FudmFzV2lkdGggfHwgaGVpZ2h0ID4gY2FudmFzSGVpZ2h0LFxuICAgICAgICAgICAgc2l6ZVNocmlua2luZyA9ICh3aWR0aCA8IGNhbnZhc1dpZHRoICogMC45IHx8IGhlaWdodCA8IGNhbnZhc0hlaWdodCAqIDAuOSkgJiZcbiAgICAgICAgICAgICAgY2FudmFzV2lkdGggPiBtaW5DYWNoZVNpemUgJiYgY2FudmFzSGVpZ2h0ID4gbWluQ2FjaGVTaXplO1xuICAgICAgICBzaG91bGRSZXNpemVDYW52YXMgPSBzaXplR3Jvd2luZyB8fCBzaXplU2hyaW5raW5nO1xuICAgICAgICBpZiAoc2l6ZUdyb3dpbmcgJiYgIWRpbXMuY2FwcGVkICYmICh3aWR0aCA+IG1pbkNhY2hlU2l6ZSB8fCBoZWlnaHQgPiBtaW5DYWNoZVNpemUpKSB7XG4gICAgICAgICAgYWRkaXRpb25hbFdpZHRoID0gd2lkdGggKiAwLjE7XG4gICAgICAgICAgYWRkaXRpb25hbEhlaWdodCA9IGhlaWdodCAqIDAuMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBmYWJyaWMuVGV4dCAmJiB0aGlzLnBhdGgpIHtcbiAgICAgICAgc2hvdWxkUmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgc2hvdWxkUmVzaXplQ2FudmFzID0gdHJ1ZTtcbiAgICAgICAgYWRkaXRpb25hbFdpZHRoICs9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKDApICogdGhpcy56b29tWDtcbiAgICAgICAgYWRkaXRpb25hbEhlaWdodCArPSB0aGlzLmdldEhlaWdodE9mTGluZSgwKSAqIHRoaXMuem9vbVk7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkUmVkcmF3KSB7XG4gICAgICAgIGlmIChzaG91bGRSZXNpemVDYW52YXMpIHtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGggKyBhZGRpdGlvbmFsV2lkdGgpO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0ICsgYWRkaXRpb25hbEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY2FjaGVDb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgICB0aGlzLl9jYWNoZUNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhd2luZ1dpZHRoID0gZGltcy54IC8gMjtcbiAgICAgICAgZHJhd2luZ0hlaWdodCA9IGRpbXMueSAvIDI7XG4gICAgICAgIHRoaXMuY2FjaGVUcmFuc2xhdGlvblggPSBNYXRoLnJvdW5kKGNhbnZhcy53aWR0aCAvIDIgLSBkcmF3aW5nV2lkdGgpICsgZHJhd2luZ1dpZHRoO1xuICAgICAgICB0aGlzLmNhY2hlVHJhbnNsYXRpb25ZID0gTWF0aC5yb3VuZChjYW52YXMuaGVpZ2h0IC8gMiAtIGRyYXdpbmdIZWlnaHQpICsgZHJhd2luZ0hlaWdodDtcbiAgICAgICAgdGhpcy5jYWNoZVdpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuY2FjaGVIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC50cmFuc2xhdGUodGhpcy5jYWNoZVRyYW5zbGF0aW9uWCwgdGhpcy5jYWNoZVRyYW5zbGF0aW9uWSk7XG4gICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5zY2FsZSh6b29tWCwgem9vbVkpO1xuICAgICAgICB0aGlzLnpvb21YID0gem9vbVg7XG4gICAgICAgIHRoaXMuem9vbVkgPSB6b29tWTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgb2JqZWN0J3MgcHJvcGVydGllcyBmcm9tIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5fc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRHcmFkaWVudChvcHRpb25zLmZpbGwsICdmaWxsJyk7XG4gICAgICB0aGlzLl9pbml0R3JhZGllbnQob3B0aW9ucy5zdHJva2UsICdzdHJva2UnKTtcbiAgICAgIHRoaXMuX2luaXRQYXR0ZXJuKG9wdGlvbnMuZmlsbCwgJ2ZpbGwnKTtcbiAgICAgIHRoaXMuX2luaXRQYXR0ZXJuKG9wdGlvbnMuc3Ryb2tlLCAnc3Ryb2tlJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY29udGV4dCB3aGVuIHJlbmRlcmluZyBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHRcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIG5lZWRGdWxsVHJhbnNmb3JtID0gKHRoaXMuZ3JvdXAgJiYgIXRoaXMuZ3JvdXAuX3RyYW5zZm9ybURvbmUpIHx8XG4gICAgICAgICAodGhpcy5ncm91cCAmJiB0aGlzLmNhbnZhcyAmJiBjdHggPT09IHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgICAgdmFyIG0gPSB0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoIW5lZWRGdWxsVHJhbnNmb3JtKTtcbiAgICAgIGN0eC50cmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTLFxuXG4gICAgICAgICAgb2JqZWN0ID0ge1xuICAgICAgICAgICAgdHlwZTogICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUsXG4gICAgICAgICAgICB2ZXJzaW9uOiAgICAgICAgICAgICAgICAgIGZhYnJpYy52ZXJzaW9uLFxuICAgICAgICAgICAgb3JpZ2luWDogICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpblgsXG4gICAgICAgICAgICBvcmlnaW5ZOiAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luWSxcbiAgICAgICAgICAgIGxlZnQ6ICAgICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLmxlZnQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgdG9wOiAgICAgICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMudG9wLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHdpZHRoOiAgICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLndpZHRoLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIGhlaWdodDogICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLmhlaWdodCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBmaWxsOiAgICAgICAgICAgICAgICAgICAgICh0aGlzLmZpbGwgJiYgdGhpcy5maWxsLnRvT2JqZWN0KSA/IHRoaXMuZmlsbC50b09iamVjdCgpIDogdGhpcy5maWxsLFxuICAgICAgICAgICAgc3Ryb2tlOiAgICAgICAgICAgICAgICAgICAodGhpcy5zdHJva2UgJiYgdGhpcy5zdHJva2UudG9PYmplY3QpID8gdGhpcy5zdHJva2UudG9PYmplY3QoKSA6IHRoaXMuc3Ryb2tlLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6ICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuc3Ryb2tlV2lkdGgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgc3Ryb2tlRGFzaEFycmF5OiAgICAgICAgICB0aGlzLnN0cm9rZURhc2hBcnJheSA/IHRoaXMuc3Ryb2tlRGFzaEFycmF5LmNvbmNhdCgpIDogdGhpcy5zdHJva2VEYXNoQXJyYXksXG4gICAgICAgICAgICBzdHJva2VMaW5lQ2FwOiAgICAgICAgICAgIHRoaXMuc3Ryb2tlTGluZUNhcCxcbiAgICAgICAgICAgIHN0cm9rZURhc2hPZmZzZXQ6ICAgICAgICAgdGhpcy5zdHJva2VEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgc3Ryb2tlTGluZUpvaW46ICAgICAgICAgICB0aGlzLnN0cm9rZUxpbmVKb2luLFxuICAgICAgICAgICAgc3Ryb2tlVW5pZm9ybTogICAgICAgICAgICB0aGlzLnN0cm9rZVVuaWZvcm0sXG4gICAgICAgICAgICBzdHJva2VNaXRlckxpbWl0OiAgICAgICAgIHRvRml4ZWQodGhpcy5zdHJva2VNaXRlckxpbWl0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHNjYWxlWDogICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLnNjYWxlWCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBzY2FsZVk6ICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5zY2FsZVksIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgYW5nbGU6ICAgICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuYW5nbGUsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgZmxpcFg6ICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXBYLFxuICAgICAgICAgICAgZmxpcFk6ICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXBZLFxuICAgICAgICAgICAgb3BhY2l0eTogICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMub3BhY2l0eSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBzaGFkb3c6ICAgICAgICAgICAgICAgICAgICh0aGlzLnNoYWRvdyAmJiB0aGlzLnNoYWRvdy50b09iamVjdCkgPyB0aGlzLnNoYWRvdy50b09iamVjdCgpIDogdGhpcy5zaGFkb3csXG4gICAgICAgICAgICB2aXNpYmxlOiAgICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICBmaWxsUnVsZTogICAgICAgICAgICAgICAgIHRoaXMuZmlsbFJ1bGUsXG4gICAgICAgICAgICBwYWludEZpcnN0OiAgICAgICAgICAgICAgIHRoaXMucGFpbnRGaXJzdCxcbiAgICAgICAgICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogdGhpcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24sXG4gICAgICAgICAgICBza2V3WDogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5za2V3WCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBza2V3WTogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5za2V3WSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuY2xpcFBhdGggJiYgIXRoaXMuY2xpcFBhdGguZXhjbHVkZUZyb21FeHBvcnQpIHtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoID0gdGhpcy5jbGlwUGF0aC50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoLmludmVydGVkID0gdGhpcy5jbGlwUGF0aC5pbnZlcnRlZDtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZCA9IHRoaXMuY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkO1xuICAgICAgfVxuXG4gICAgICBmYWJyaWMudXRpbC5wb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzKHRoaXMsIG9iamVjdCwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICBpZiAoIXRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXMpIHtcbiAgICAgICAgb2JqZWN0ID0gdGhpcy5fcmVtb3ZlRGVmYXVsdFZhbHVlcyhvYmplY3QpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIChkYXRhbGVzcykgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgLy8gd2lsbCBiZSBvdmVyd3JpdHRlbiBieSBzdWJjbGFzc2VzXG4gICAgICByZXR1cm4gdGhpcy50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAgICovXG4gICAgX3JlbW92ZURlZmF1bHRWYWx1ZXM6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHByb3RvdHlwZSA9IGZhYnJpYy51dGlsLmdldEtsYXNzKG9iamVjdC50eXBlKS5wcm90b3R5cGUsXG4gICAgICAgICAgc3RhdGVQcm9wZXJ0aWVzID0gcHJvdG90eXBlLnN0YXRlUHJvcGVydGllcztcbiAgICAgIHN0YXRlUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICdsZWZ0JyB8fCBwcm9wID09PSAndG9wJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0W3Byb3BdID09PSBwcm90b3R5cGVbcHJvcF0pIHtcbiAgICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJhc2ljYWxseSBhIGNoZWNrIGZvciBbXSA9PT0gW11cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0W3Byb3BdKSAmJiBBcnJheS5pc0FycmF5KHByb3RvdHlwZVtwcm9wXSlcbiAgICAgICAgICAmJiBvYmplY3RbcHJvcF0ubGVuZ3RoID09PSAwICYmIHByb3RvdHlwZVtwcm9wXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLicgKyBjYXBpdGFsaXplKHRoaXMudHlwZSkgKyAnPic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgb2JqZWN0IHNjYWxlIGZhY3RvciBjb3VudGluZyBhbHNvIHRoZSBncm91cCBzY2FsaW5nXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBzY2FsZVggYW5kIHNjYWxlWSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ2V0T2JqZWN0U2NhbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIGEgdG9wIGxldmVsIG9uZSwgb24gdGhlIGNhbnZhcywgd2UgZ28gZm9yIHNpbXBsZSBhcml0bWV0aWNcbiAgICAgIC8vIG90aGVyd2lzZSB0aGUgY29tcGxleCBtZXRob2Qgd2l0aCBhbmdsZXMgd2lsbCByZXR1cm4gYXBwcm94aW1hdGlvbnMgYW5kIGRlY2ltYWxzXG4gICAgICAvLyBhbmQgd2lsbCBsaWtlbHkga2lsbCB0aGUgY2FjaGUgd2hlbiBub3QgbmVlZGVkXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFicmljanMvZmFicmljLmpzL2lzc3Vlcy83MTU3XG4gICAgICBpZiAoIXRoaXMuZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY2FsZVg6IHRoaXMuc2NhbGVYLFxuICAgICAgICAgIHNjYWxlWTogdGhpcy5zY2FsZVksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvLyBpZiB3ZSBhcmUgaW5zaWRlIGEgZ3JvdXAgdG90YWwgem9vbSBjYWxjdWxhdGlvbiBpcyBjb21wbGV4LCB3ZSBkZWZlciB0byBnZW5lcmljIG1hdHJpY2VzXG4gICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy51dGlsLnFyRGVjb21wb3NlKHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtcbiAgICAgIHJldHVybiB7IHNjYWxlWDogTWF0aC5hYnMob3B0aW9ucy5zY2FsZVgpLCBzY2FsZVk6IE1hdGguYWJzKG9wdGlvbnMuc2NhbGVZKSB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG9iamVjdCBzY2FsZSBmYWN0b3IgY291bnRpbmcgYWxzbyB0aGUgZ3JvdXAgc2NhbGluZywgem9vbSBhbmQgcmV0aW5hXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBzY2FsZVggYW5kIHNjYWxlWSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ2V0VG90YWxPYmplY3RTY2FsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0T2JqZWN0U2NhbGluZygpLCBzY2FsZVggPSBzY2FsZS5zY2FsZVgsIHNjYWxlWSA9IHNjYWxlLnNjYWxlWTtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB2YXIgem9vbSA9IHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAgICAgdmFyIHJldGluYSA9IHRoaXMuY2FudmFzLmdldFJldGluYVNjYWxpbmcoKTtcbiAgICAgICAgc2NhbGVYICo9IHpvb20gKiByZXRpbmE7XG4gICAgICAgIHNjYWxlWSAqPSB6b29tICogcmV0aW5hO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc2NhbGVYOiBzY2FsZVgsIHNjYWxlWTogc2NhbGVZIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgb2JqZWN0IG9wYWNpdHkgY291bnRpbmcgYWxzbyB0aGUgZ3JvdXAgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0T2JqZWN0T3BhY2l0eTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3BhY2l0eSA9IHRoaXMub3BhY2l0eTtcbiAgICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICAgIG9wYWNpdHkgKj0gdGhpcy5ncm91cC5nZXRPYmplY3RPcGFjaXR5KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3BhY2l0eTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBfc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgc2hvdWxkQ29uc3RyYWluVmFsdWUgPSAoa2V5ID09PSAnc2NhbGVYJyB8fCBrZXkgPT09ICdzY2FsZVknKSxcbiAgICAgICAgICBpc0NoYW5nZWQgPSB0aGlzW2tleV0gIT09IHZhbHVlLCBncm91cE5lZWRzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIGlmIChzaG91bGRDb25zdHJhaW5WYWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuX2NvbnN0cmFpblNjYWxlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzY2FsZVgnICYmIHZhbHVlIDwgMCkge1xuICAgICAgICB0aGlzLmZsaXBYID0gIXRoaXMuZmxpcFg7XG4gICAgICAgIHZhbHVlICo9IC0xO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc2NhbGVZJyAmJiB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhpcy5mbGlwWSA9ICF0aGlzLmZsaXBZO1xuICAgICAgICB2YWx1ZSAqPSAtMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3NoYWRvdycgJiYgdmFsdWUgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIGZhYnJpYy5TaGFkb3cpKSB7XG4gICAgICAgIHZhbHVlID0gbmV3IGZhYnJpYy5TaGFkb3codmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoa2V5ID09PSAnZGlydHknICYmIHRoaXMuZ3JvdXApIHtcbiAgICAgICAgdGhpcy5ncm91cC5zZXQoJ2RpcnR5JywgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcblxuICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICBncm91cE5lZWRzVXBkYXRlID0gdGhpcy5ncm91cCAmJiB0aGlzLmdyb3VwLmlzT25BQ2FjaGUoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVQcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgZ3JvdXBOZWVkc1VwZGF0ZSAmJiB0aGlzLmdyb3VwLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChncm91cE5lZWRzVXBkYXRlICYmIHRoaXMuc3RhdGVQcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5ncm91cC5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSB0aGUgcGFyZW50IGdyb3VwIG9mIGFuIG9iamVjdCBldmVyeVxuICAgICAqIHRpbWUgYSBub24tZGVsZWdhdGVkIHByb3BlcnR5IGNoYW5nZXMgb24gdGhlIGdyb3VwLiBJdCBpcyBwYXNzZWQgdGhlIGtleVxuICAgICAqIGFuZCB2YWx1ZSBhcyBwYXJhbWV0ZXJzLiBOb3QgYWRkaW5nIGluIHRoaXMgZnVuY3Rpb24ncyBzaWduYXR1cmUgdG8gYXZvaWRcbiAgICAgKiBUcmF2aXMgYnVpbGQgZXJyb3IgYWJvdXQgdW51c2VkIHZhcmlhYmxlcy5cbiAgICAgKi9cbiAgICBzZXRPbkdyb3VwOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGltcGxlbWVudGVkIGJ5IHN1Yi1jbGFzc2VzLCBhcyBuZWVkZWQuXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB2aWV3cG9ydFRyYW5zZm9ybSBmcm9tIE9iamVjdCdzIGNhbnZhcyBpZiBwb3NzaWJsZVxuICAgICAqIEBtZXRob2QgZ2V0Vmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdC5wcm90b3R5cGVcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRWaWV3cG9ydFRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhYnJpYy5pTWF0cml4LmNvbmNhdCgpO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogcmV0dXJuIGlmIHRoZSBvYmplY3Qgd291bGQgYmUgdmlzaWJsZSBpbiByZW5kZXJpbmdcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdC5wcm90b3R5cGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzTm90VmlzaWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGFjaXR5ID09PSAwIHx8XG4gICAgICAgICghdGhpcy53aWR0aCAmJiAhdGhpcy5oZWlnaHQgJiYgdGhpcy5zdHJva2VXaWR0aCA9PT0gMCkgfHxcbiAgICAgICAgIXRoaXMudmlzaWJsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhbiBvYmplY3Qgb24gYSBzcGVjaWZpZWQgY29udGV4dFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgLy8gZG8gbm90IHJlbmRlciBpZiB3aWR0aC9oZWlnaHQgYXJlIHplcm9zIG9yIG9iamVjdCBpcyBub3QgdmlzaWJsZVxuICAgICAgaWYgKHRoaXMuaXNOb3RWaXNpYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnNraXBPZmZzY3JlZW4gJiYgIXRoaXMuZ3JvdXAgJiYgIXRoaXMuaXNPblNjcmVlbigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9zZXR1cENvbXBvc2l0ZU9wZXJhdGlvbihjdHgpO1xuICAgICAgdGhpcy5kcmF3U2VsZWN0aW9uQmFja2dyb3VuZChjdHgpO1xuICAgICAgdGhpcy50cmFuc2Zvcm0oY3R4KTtcbiAgICAgIHRoaXMuX3NldE9wYWNpdHkoY3R4KTtcbiAgICAgIHRoaXMuX3NldFNoYWRvdyhjdHgsIHRoaXMpO1xuICAgICAgaWYgKHRoaXMuc2hvdWxkQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLnJlbmRlckNhY2hlKCk7XG4gICAgICAgIHRoaXMuZHJhd0NhY2hlT25DYW52YXMoY3R4KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW1vdmVDYWNoZUNhbnZhcygpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZHJhd09iamVjdChjdHgpO1xuICAgICAgICBpZiAodGhpcy5vYmplY3RDYWNoaW5nICYmIHRoaXMuc3RhdGVmdWxsQ2FjaGUpIHtcbiAgICAgICAgICB0aGlzLnNhdmVTdGF0ZSh7IHByb3BlcnR5U2V0OiAnY2FjaGVQcm9wZXJ0aWVzJyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyQ2FjaGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgaWYgKCF0aGlzLl9jYWNoZUNhbnZhcyB8fCAhdGhpcy5fY2FjaGVDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNhY2hlQ2FudmFzKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc0NhY2hlRGlydHkoKSkge1xuICAgICAgICB0aGlzLnN0YXRlZnVsbENhY2hlICYmIHRoaXMuc2F2ZVN0YXRlKHsgcHJvcGVydHlTZXQ6ICdjYWNoZVByb3BlcnRpZXMnIH0pO1xuICAgICAgICB0aGlzLmRyYXdPYmplY3QodGhpcy5fY2FjaGVDb250ZXh0LCBvcHRpb25zLmZvckNsaXBwaW5nKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgY2FjaGVDYW52YXMgYW5kIGl0cyBkaW1lbnNpb25zIGZyb20gdGhlIG9iamVjdHNcbiAgICAgKi9cbiAgICBfcmVtb3ZlQ2FjaGVDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fY2FjaGVDYW52YXMgPSBudWxsO1xuICAgICAgdGhpcy5fY2FjaGVDb250ZXh0ID0gbnVsbDtcbiAgICAgIHRoaXMuY2FjaGVXaWR0aCA9IDA7XG4gICAgICB0aGlzLmNhY2hlSGVpZ2h0ID0gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRydWUgaWYgdGhlIG9iamVjdCB3aWxsIGRyYXcgYSBzdHJva2VcbiAgICAgKiBEb2VzIG5vdCBjb25zaWRlciB0ZXh0IHN0eWxlcy4gVGhpcyBpcyBqdXN0IGEgc2hvcnRjdXQgdXNlZCBhdCByZW5kZXJpbmcgdGltZVxuICAgICAqIFdlIHdhbnQgaXQgdG8gYmUgYW4gYXBwcm94aW1hdGlvbiBhbmQgYmUgZmFzdC5cbiAgICAgKiB3cm90ZSB0byBhdm9pZCBleHRyYSBjYWNoaW5nLCBpdCBoYXMgdG8gcmV0dXJuIHRydWUgd2hlbiBzdHJva2UgaGFwcGVucyxcbiAgICAgKiBjYW4gZ3Vlc3Mgd2hlbiBpdCB3aWxsIG5vdCBoYXBwZW4gYXQgMTAwJSBjaGFuY2UsIGRvZXMgbm90IG1hdHRlciBpZiBpdCBtaXNzZXNcbiAgICAgKiBzb21lIHVzZSBjYXNlIHdoZXJlIHRoZSBzdHJva2UgaXMgaW52aXNpYmxlLlxuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEByZXR1cm5zIEJvb2xlYW5cbiAgICAgKi9cbiAgICBoYXNTdHJva2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlICYmIHRoaXMuc3Ryb2tlICE9PSAndHJhbnNwYXJlbnQnICYmIHRoaXMuc3Ryb2tlV2lkdGggIT09IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0cnVlIGlmIHRoZSBvYmplY3Qgd2lsbCBkcmF3IGEgZmlsbFxuICAgICAqIERvZXMgbm90IGNvbnNpZGVyIHRleHQgc3R5bGVzLiBUaGlzIGlzIGp1c3QgYSBzaG9ydGN1dCB1c2VkIGF0IHJlbmRlcmluZyB0aW1lXG4gICAgICogV2Ugd2FudCBpdCB0byBiZSBhbiBhcHByb3hpbWF0aW9uIGFuZCBiZSBmYXN0LlxuICAgICAqIHdyb3RlIHRvIGF2b2lkIGV4dHJhIGNhY2hpbmcsIGl0IGhhcyB0byByZXR1cm4gdHJ1ZSB3aGVuIGZpbGwgaGFwcGVucyxcbiAgICAgKiBjYW4gZ3Vlc3Mgd2hlbiBpdCB3aWxsIG5vdCBoYXBwZW4gYXQgMTAwJSBjaGFuY2UsIGRvZXMgbm90IG1hdHRlciBpZiBpdCBtaXNzZXNcbiAgICAgKiBzb21lIHVzZSBjYXNlIHdoZXJlIHRoZSBmaWxsIGlzIGludmlzaWJsZS5cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAcmV0dXJucyBCb29sZWFuXG4gICAgICovXG4gICAgaGFzRmlsbDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWxsICYmIHRoaXMuZmlsbCAhPT0gJ3RyYW5zcGFyZW50JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYHRydWVgLCBmb3JjZSB0aGUgb2JqZWN0IHRvIGhhdmUgaXRzIG93biBjYWNoZSwgZXZlbiBpZiBpdCBpcyBpbnNpZGUgYSBncm91cFxuICAgICAqIGl0IG1heSBiZSBuZWVkZWQgd2hlbiB5b3VyIG9iamVjdCBiZWhhdmUgaW4gYSBwYXJ0aWN1bGFyIHdheSBvbiB0aGUgY2FjaGUgYW5kIGFsd2F5cyBuZWVkc1xuICAgICAqIGl0cyBvd24gaXNvbGF0ZWQgY2FudmFzIHRvIHJlbmRlciBjb3JyZWN0bHkuXG4gICAgICogQ3JlYXRlZCB0byBiZSBvdmVycmlkZGVuXG4gICAgICogc2luY2UgMS43LjEyXG4gICAgICogQHJldHVybnMgQm9vbGVhblxuICAgICAqL1xuICAgIG5lZWRzSXRzT3duQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucGFpbnRGaXJzdCA9PT0gJ3N0cm9rZScgJiZcbiAgICAgICAgdGhpcy5oYXNGaWxsKCkgJiYgdGhpcy5oYXNTdHJva2UoKSAmJiB0eXBlb2YgdGhpcy5zaGFkb3cgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY2xpcFBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2lkZSBpZiB0aGUgb2JqZWN0IHNob3VsZCBjYWNoZSBvciBub3QuIENyZWF0ZSBpdHMgb3duIGNhY2hlIGxldmVsXG4gICAgICogb2JqZWN0Q2FjaGluZyBpcyBhIGdsb2JhbCBmbGFnLCB3aW5zIG92ZXIgZXZlcnl0aGluZ1xuICAgICAqIG5lZWRzSXRzT3duQ2FjaGUgc2hvdWxkIGJlIHVzZWQgd2hlbiB0aGUgb2JqZWN0IGRyYXdpbmcgbWV0aG9kIHJlcXVpcmVzXG4gICAgICogYSBjYWNoZSBzdGVwLiBOb25lIG9mIHRoZSBmYWJyaWMgY2xhc3NlcyByZXF1aXJlcyBpdC5cbiAgICAgKiBHZW5lcmFsbHkgeW91IGRvIG5vdCBjYWNoZSBvYmplY3RzIGluIGdyb3VwcyBiZWNhdXNlIHRoZSBncm91cCBvdXRzaWRlIGlzIGNhY2hlZC5cbiAgICAgKiBSZWFkIGFzOiBjYWNoZSBpZiBpcyBuZWVkZWQsIG9yIGlmIHRoZSBmZWF0dXJlIGlzIGVuYWJsZWQgYnV0IHdlIGFyZSBub3QgYWxyZWFkeSBjYWNoaW5nLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgc2hvdWxkQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vd25DYWNoaW5nID0gdGhpcy5uZWVkc0l0c093bkNhY2hlKCkgfHwgKFxuICAgICAgICB0aGlzLm9iamVjdENhY2hpbmcgJiZcbiAgICAgICAgKCF0aGlzLmdyb3VwIHx8ICF0aGlzLmdyb3VwLmlzT25BQ2FjaGUoKSlcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5vd25DYWNoaW5nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGlzIG9iamVjdCBvciBhIGNoaWxkIG9iamVjdCB3aWxsIGNhc3QgYSBzaGFkb3dcbiAgICAgKiB1c2VkIGJ5IEdyb3VwLnNob3VsZENhY2hlIHRvIGtub3cgaWYgY2hpbGQgaGFzIGEgc2hhZG93IHJlY3Vyc2l2ZWx5XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB3aWxsRHJhd1NoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gISF0aGlzLnNoYWRvdyAmJiAodGhpcy5zaGFkb3cub2Zmc2V0WCAhPT0gMCB8fCB0aGlzLnNoYWRvdy5vZmZzZXRZICE9PSAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB0aGUgZHJhd2luZyBvcGVyYXRpb24gZm9yIGFuIG9iamVjdCBjbGlwUGF0aFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGNsaXBQYXRoXG4gICAgICovXG4gICAgZHJhd0NsaXBQYXRoT25DYWNoZTogZnVuY3Rpb24oY3R4LCBjbGlwUGF0aCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIC8vIERFQlVHOiB1bmNvbW1lbnQgdGhpcyBsaW5lLCBjb21tZW50IHRoZSBmb2xsb3dpbmdcbiAgICAgIC8vIGN0eC5nbG9iYWxBbHBoYSA9IDAuNFxuICAgICAgaWYgKGNsaXBQYXRoLmludmVydGVkKSB7XG4gICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3V0JztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLWluJztcbiAgICAgIH1cbiAgICAgIC8vY3R4LnNjYWxlKDEgLyAyLCAxIC8gMik7XG4gICAgICBpZiAoY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkKSB7XG4gICAgICAgIHZhciBtID0gZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtKHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtcbiAgICAgICAgY3R4LnRyYW5zZm9ybShtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcbiAgICAgIH1cbiAgICAgIGNsaXBQYXRoLnRyYW5zZm9ybShjdHgpO1xuICAgICAgY3R4LnNjYWxlKDEgLyBjbGlwUGF0aC56b29tWCwgMSAvIGNsaXBQYXRoLnpvb21ZKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoY2xpcFBhdGguX2NhY2hlQ2FudmFzLCAtY2xpcFBhdGguY2FjaGVUcmFuc2xhdGlvblgsIC1jbGlwUGF0aC5jYWNoZVRyYW5zbGF0aW9uWSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIHRoZSBkcmF3aW5nIG9wZXJhdGlvbiBmb3IgYW4gb2JqZWN0IG9uIGEgc3BlY2lmaWVkIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgZHJhd09iamVjdDogZnVuY3Rpb24oY3R4LCBmb3JDbGlwcGluZykge1xuICAgICAgdmFyIG9yaWdpbmFsRmlsbCA9IHRoaXMuZmlsbCwgb3JpZ2luYWxTdHJva2UgPSB0aGlzLnN0cm9rZTtcbiAgICAgIGlmIChmb3JDbGlwcGluZykge1xuICAgICAgICB0aGlzLmZpbGwgPSAnYmxhY2snO1xuICAgICAgICB0aGlzLnN0cm9rZSA9ICcnO1xuICAgICAgICB0aGlzLl9zZXRDbGlwcGluZ1Byb3BlcnRpZXMoY3R4KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKGN0eCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZW5kZXIoY3R4KTtcbiAgICAgIHRoaXMuX2RyYXdDbGlwUGF0aChjdHgsIHRoaXMuY2xpcFBhdGgpO1xuICAgICAgdGhpcy5maWxsID0gb3JpZ2luYWxGaWxsO1xuICAgICAgdGhpcy5zdHJva2UgPSBvcmlnaW5hbFN0cm9rZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBjbGlwUGF0aCBzdGF0ZSBhbmQgY2FjaGUgYW5kIGRyYXcgaXQgb24gaW5zdGFuY2UncyBjYWNoZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGNsaXBQYXRoXG4gICAgICovXG4gICAgX2RyYXdDbGlwUGF0aDogZnVuY3Rpb24gKGN0eCwgY2xpcFBhdGgpIHtcbiAgICAgIGlmICghY2xpcFBhdGgpIHsgcmV0dXJuOyB9XG4gICAgICAvLyBuZWVkZWQgdG8gc2V0dXAgYSBjb3VwbGUgb2YgdmFyaWFibGVzXG4gICAgICAvLyBwYXRoIGNhbnZhcyBnZXRzIG92ZXJyaWRkZW4gd2l0aCB0aGlzIG9uZS5cbiAgICAgIC8vIFRPRE8gZmluZCBhIGJldHRlciBzb2x1dGlvbj9cbiAgICAgIGNsaXBQYXRoLmNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgY2xpcFBhdGguc2hvdWxkQ2FjaGUoKTtcbiAgICAgIGNsaXBQYXRoLl90cmFuc2Zvcm1Eb25lID0gdHJ1ZTtcbiAgICAgIGNsaXBQYXRoLnJlbmRlckNhY2hlKHsgZm9yQ2xpcHBpbmc6IHRydWUgfSk7XG4gICAgICB0aGlzLmRyYXdDbGlwUGF0aE9uQ2FjaGUoY3R4LCBjbGlwUGF0aCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhaW50IHRoZSBjYWNoZWQgY29weSBvZiB0aGUgb2JqZWN0IG9uIHRoZSB0YXJnZXQgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgZHJhd0NhY2hlT25DYW52YXM6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgY3R4LnNjYWxlKDEgLyB0aGlzLnpvb21YLCAxIC8gdGhpcy56b29tWSk7XG4gICAgICBjdHguZHJhd0ltYWdlKHRoaXMuX2NhY2hlQ2FudmFzLCAtdGhpcy5jYWNoZVRyYW5zbGF0aW9uWCwgLXRoaXMuY2FjaGVUcmFuc2xhdGlvblkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjYWNoZSBpcyBkaXJ0eVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcENhbnZhcyBza2lwIGNhbnZhcyBjaGVja3MgYmVjYXVzZSB0aGlzIG9iamVjdCBpcyBwYWludGVkXG4gICAgICogb24gcGFyZW50IGNhbnZhcy5cbiAgICAgKi9cbiAgICBpc0NhY2hlRGlydHk6IGZ1bmN0aW9uKHNraXBDYW52YXMpIHtcbiAgICAgIGlmICh0aGlzLmlzTm90VmlzaWJsZSgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9jYWNoZUNhbnZhcyAmJiB0aGlzLl9jYWNoZUNvbnRleHQgJiYgIXNraXBDYW52YXMgJiYgdGhpcy5fdXBkYXRlQ2FjaGVDYW52YXMoKSkge1xuICAgICAgICAvLyBpbiB0aGlzIGNhc2UgdGhlIGNvbnRleHQgaXMgYWxyZWFkeSBjbGVhcmVkLlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSB8fFxuICAgICAgICAgICh0aGlzLmNsaXBQYXRoICYmIHRoaXMuY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkKSB8fFxuICAgICAgICAgICh0aGlzLnN0YXRlZnVsbENhY2hlICYmIHRoaXMuaGFzU3RhdGVDaGFuZ2VkKCdjYWNoZVByb3BlcnRpZXMnKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQ2FudmFzICYmIHRoaXMuX2NhY2hlQ29udGV4dCAmJiAhc2tpcENhbnZhcykge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5jYWNoZVdpZHRoIC8gdGhpcy56b29tWDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhY2hlSGVpZ2h0IC8gdGhpcy56b29tWTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5jbGVhclJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGJhY2tncm91bmQgZm9yIHRoZSBvYmplY3QgYmlnIGFzIGl0cyB1bnRyYW5zZm9ybWVkIGRpbWVuc2lvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyQmFja2dyb3VuZDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkaW0gPSB0aGlzLl9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnMoKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcblxuICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAtZGltLnggLyAyLFxuICAgICAgICAtZGltLnkgLyAyLFxuICAgICAgICBkaW0ueCxcbiAgICAgICAgZGltLnlcbiAgICAgICk7XG4gICAgICAvLyBpZiB0aGVyZSBpcyBiYWNrZ3JvdW5kIGNvbG9yIG5vIG90aGVyIHNoYWRvd3NcbiAgICAgIC8vIHNob3VsZCBiZSBjYXN0ZWRcbiAgICAgIHRoaXMuX3JlbW92ZVNoYWRvdyhjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfc2V0T3BhY2l0eTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAodGhpcy5ncm91cCAmJiAhdGhpcy5ncm91cC5fdHJhbnNmb3JtRG9uZSkge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLmdldE9iamVjdE9wYWNpdHkoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgKj0gdGhpcy5vcGFjaXR5O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0U3Ryb2tlU3R5bGVzOiBmdW5jdGlvbihjdHgsIGRlY2wpIHtcbiAgICAgIHZhciBzdHJva2UgPSBkZWNsLnN0cm9rZTtcbiAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGRlY2wuc3Ryb2tlV2lkdGg7XG4gICAgICAgIGN0eC5saW5lQ2FwID0gZGVjbC5zdHJva2VMaW5lQ2FwO1xuICAgICAgICBjdHgubGluZURhc2hPZmZzZXQgPSBkZWNsLnN0cm9rZURhc2hPZmZzZXQ7XG4gICAgICAgIGN0eC5saW5lSm9pbiA9IGRlY2wuc3Ryb2tlTGluZUpvaW47XG4gICAgICAgIGN0eC5taXRlckxpbWl0ID0gZGVjbC5zdHJva2VNaXRlckxpbWl0O1xuICAgICAgICBpZiAoc3Ryb2tlLnRvTGl2ZSkge1xuICAgICAgICAgIGlmIChzdHJva2UuZ3JhZGllbnRVbml0cyA9PT0gJ3BlcmNlbnRhZ2UnIHx8IHN0cm9rZS5ncmFkaWVudFRyYW5zZm9ybSB8fCBzdHJva2UucGF0dGVyblRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gbmVlZCB0byB0cmFuc2Zvcm0gZ3JhZGllbnQgaW4gYSBwYXR0ZXJuLlxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHNsb3cgcHJvY2Vzcy4gSWYgeW91IGFyZSBoaXR0aW5nIHRoaXMgY29kZXBhdGgsIGFuZCB0aGUgb2JqZWN0XG4gICAgICAgICAgICAvLyBpcyBub3QgdXNpbmcgY2FjaGluZywgeW91IHNob3VsZCBjb25zaWRlciBzd2l0Y2hpbmcgaXQgb24uXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIGEgY2FudmFzIGFzIGJpZyBhcyB0aGUgY3VycmVudCBvYmplY3QgY2FjaGluZyBjYW52YXMuXG4gICAgICAgICAgICB0aGlzLl9hcHBseVBhdHRlcm5Gb3JUcmFuc2Zvcm1lZEdyYWRpZW50KGN0eCwgc3Ryb2tlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpcyBhIHNpbXBsZSBncmFkaWVudCBvciBwYXR0ZXJuXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2UudG9MaXZlKGN0eCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShjdHgsIHN0cm9rZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGlzIGEgY29sb3JcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBkZWNsLnN0cm9rZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0RmlsbFN0eWxlczogZnVuY3Rpb24oY3R4LCBkZWNsKSB7XG4gICAgICB2YXIgZmlsbCA9IGRlY2wuZmlsbDtcbiAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgIGlmIChmaWxsLnRvTGl2ZSkge1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsLnRvTGl2ZShjdHgsIHRoaXMpO1xuICAgICAgICAgIHRoaXMuX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtKGN0eCwgZGVjbC5maWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0Q2xpcHBpbmdQcm9wZXJ0aWVzOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBTZXRzIGxpbmUgZGFzaFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBzZXQgdGhlIGRhc2ggbGluZSBvblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhc2hBcnJheSBhcnJheSByZXByZXNlbnRpbmcgZGFzaGVzXG4gICAgICovXG4gICAgX3NldExpbmVEYXNoOiBmdW5jdGlvbihjdHgsIGRhc2hBcnJheSkge1xuICAgICAgaWYgKCFkYXNoQXJyYXkgfHwgZGFzaEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBTcGVjIHJlcXVpcmVzIHRoZSBjb25jYXRlbmF0aW9uIG9mIHR3byBjb3BpZXMgdGhlIGRhc2ggbGlzdCB3aGVuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaXMgb2RkXG4gICAgICBpZiAoMSAmIGRhc2hBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgZGFzaEFycmF5LnB1c2guYXBwbHkoZGFzaEFycmF5LCBkYXNoQXJyYXkpO1xuICAgICAgfVxuICAgICAgY3R4LnNldExpbmVEYXNoKGRhc2hBcnJheSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgY29udHJvbHMgYW5kIGJvcmRlcnMgZm9yIHRoZSBvYmplY3RcbiAgICAgKiB0aGUgY29udGV4dCBoZXJlIGlzIG5vdCB0cmFuc2Zvcm1lZFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0eWxlT3ZlcnJpZGVdIHByb3BlcnRpZXMgdG8gb3ZlcnJpZGUgdGhlIG9iamVjdCBzdHlsZVxuICAgICAqL1xuICAgIF9yZW5kZXJDb250cm9sczogZnVuY3Rpb24oY3R4LCBzdHlsZU92ZXJyaWRlKSB7XG4gICAgICB2YXIgdnB0ID0gdGhpcy5nZXRWaWV3cG9ydFRyYW5zZm9ybSgpLFxuICAgICAgICAgIG1hdHJpeCA9IHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpLFxuICAgICAgICAgIG9wdGlvbnMsIGRyYXdCb3JkZXJzLCBkcmF3Q29udHJvbHM7XG4gICAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7IH07XG4gICAgICBkcmF3Qm9yZGVycyA9IHR5cGVvZiBzdHlsZU92ZXJyaWRlLmhhc0JvcmRlcnMgIT09ICd1bmRlZmluZWQnID8gc3R5bGVPdmVycmlkZS5oYXNCb3JkZXJzIDogdGhpcy5oYXNCb3JkZXJzO1xuICAgICAgZHJhd0NvbnRyb2xzID0gdHlwZW9mIHN0eWxlT3ZlcnJpZGUuaGFzQ29udHJvbHMgIT09ICd1bmRlZmluZWQnID8gc3R5bGVPdmVycmlkZS5oYXNDb250cm9scyA6IHRoaXMuaGFzQ29udHJvbHM7XG4gICAgICBtYXRyaXggPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzKHZwdCwgbWF0cml4KTtcbiAgICAgIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZShtYXRyaXgpO1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC50cmFuc2xhdGUob3B0aW9ucy50cmFuc2xhdGVYLCBvcHRpb25zLnRyYW5zbGF0ZVkpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDEgKiB0aGlzLmJvcmRlclNjYWxlRmFjdG9yO1xuICAgICAgaWYgKCF0aGlzLmdyb3VwKSB7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMuaXNNb3ZpbmcgPyB0aGlzLmJvcmRlck9wYWNpdHlXaGVuTW92aW5nIDogMTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZsaXBYKSB7XG4gICAgICAgIG9wdGlvbnMuYW5nbGUgLT0gMTgwO1xuICAgICAgfVxuICAgICAgY3R4LnJvdGF0ZShkZWdyZWVzVG9SYWRpYW5zKHRoaXMuZ3JvdXAgPyBvcHRpb25zLmFuZ2xlIDogdGhpcy5hbmdsZSkpO1xuICAgICAgaWYgKHN0eWxlT3ZlcnJpZGUuZm9yQWN0aXZlU2VsZWN0aW9uIHx8IHRoaXMuZ3JvdXApIHtcbiAgICAgICAgZHJhd0JvcmRlcnMgJiYgdGhpcy5kcmF3Qm9yZGVyc0luR3JvdXAoY3R4LCBvcHRpb25zLCBzdHlsZU92ZXJyaWRlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkcmF3Qm9yZGVycyAmJiB0aGlzLmRyYXdCb3JkZXJzKGN0eCwgc3R5bGVPdmVycmlkZSk7XG4gICAgICB9XG4gICAgICBkcmF3Q29udHJvbHMgJiYgdGhpcy5kcmF3Q29udHJvbHMoY3R4LCBzdHlsZU92ZXJyaWRlKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9zZXRTaGFkb3c6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLnNoYWRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzaGFkb3cgPSB0aGlzLnNoYWRvdywgY2FudmFzID0gdGhpcy5jYW52YXMsIHNjYWxpbmcsXG4gICAgICAgICAgbXVsdFggPSAoY2FudmFzICYmIGNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybVswXSkgfHwgMSxcbiAgICAgICAgICBtdWx0WSA9IChjYW52YXMgJiYgY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtWzNdKSB8fCAxO1xuICAgICAgaWYgKHNoYWRvdy5ub25TY2FsaW5nKSB7XG4gICAgICAgIHNjYWxpbmcgPSB7IHNjYWxlWDogMSwgc2NhbGVZOiAxIH07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2NhbGluZyA9IHRoaXMuZ2V0T2JqZWN0U2NhbGluZygpO1xuICAgICAgfVxuICAgICAgaWYgKGNhbnZhcyAmJiBjYW52YXMuX2lzUmV0aW5hU2NhbGluZygpKSB7XG4gICAgICAgIG11bHRYICo9IGZhYnJpYy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICBtdWx0WSAqPSBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgIH1cbiAgICAgIGN0eC5zaGFkb3dDb2xvciA9IHNoYWRvdy5jb2xvcjtcbiAgICAgIGN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIgKiBmYWJyaWMuYnJvd3NlclNoYWRvd0JsdXJDb25zdGFudCAqXG4gICAgICAgIChtdWx0WCArIG11bHRZKSAqIChzY2FsaW5nLnNjYWxlWCArIHNjYWxpbmcuc2NhbGVZKSAvIDQ7XG4gICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IHNoYWRvdy5vZmZzZXRYICogbXVsdFggKiBzY2FsaW5nLnNjYWxlWDtcbiAgICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldFkgKiBtdWx0WSAqIHNjYWxpbmcuc2NhbGVZO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVtb3ZlU2hhZG93OiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zaGFkb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjdHguc2hhZG93Q29sb3IgPSAnJztcbiAgICAgIGN0eC5zaGFkb3dCbHVyID0gY3R4LnNoYWRvd09mZnNldFggPSBjdHguc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmaWxsZXIgZmFicmljLlBhdHRlcm4gb3IgZmFicmljLkdyYWRpZW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvZmZzZXQub2Zmc2V0WCBvZmZzZXQgZm9yIHRleHQgcmVuZGVyaW5nXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvZmZzZXQub2Zmc2V0WSBvZmZzZXQgZm9yIHRleHQgcmVuZGVyaW5nXG4gICAgICovXG4gICAgX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtOiBmdW5jdGlvbihjdHgsIGZpbGxlcikge1xuICAgICAgaWYgKCFmaWxsZXIgfHwgIWZpbGxlci50b0xpdmUpIHtcbiAgICAgICAgcmV0dXJuIHsgb2Zmc2V0WDogMCwgb2Zmc2V0WTogMCB9O1xuICAgICAgfVxuICAgICAgdmFyIHQgPSBmaWxsZXIuZ3JhZGllbnRUcmFuc2Zvcm0gfHwgZmlsbGVyLnBhdHRlcm5UcmFuc2Zvcm07XG4gICAgICB2YXIgb2Zmc2V0WCA9IC10aGlzLndpZHRoIC8gMiArIGZpbGxlci5vZmZzZXRYIHx8IDAsXG4gICAgICAgICAgb2Zmc2V0WSA9IC10aGlzLmhlaWdodCAvIDIgKyBmaWxsZXIub2Zmc2V0WSB8fCAwO1xuXG4gICAgICBpZiAoZmlsbGVyLmdyYWRpZW50VW5pdHMgPT09ICdwZXJjZW50YWdlJykge1xuICAgICAgICBjdHgudHJhbnNmb3JtKHRoaXMud2lkdGgsIDAsIDAsIHRoaXMuaGVpZ2h0LCBvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHgudHJhbnNmb3JtKDEsIDAsIDAsIDEsIG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgfVxuICAgICAgaWYgKHQpIHtcbiAgICAgICAgY3R4LnRyYW5zZm9ybSh0WzBdLCB0WzFdLCB0WzJdLCB0WzNdLCB0WzRdLCB0WzVdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IG9mZnNldFg6IG9mZnNldFgsIG9mZnNldFk6IG9mZnNldFkgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlclBhaW50SW5PcmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAodGhpcy5wYWludEZpcnN0ID09PSAnc3Ryb2tlJykge1xuICAgICAgICB0aGlzLl9yZW5kZXJTdHJva2UoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyRmlsbChjdHgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbmRlckZpbGwoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyU3Ryb2tlKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogZnVuY3Rpb24gdGhhdCBhY3R1YWxseSByZW5kZXIgc29tZXRoaW5nIG9uIHRoZSBjb250ZXh0LlxuICAgICAqIGVtcHR5IGhlcmUgdG8gYWxsb3cgT2JlY3RzIHRvIHdvcmsgb24gdGVzdHMgdG8gYmVuY2htYXJrIGZhYnJpYyBmdW5jdGlvbmFsaXRlc1xuICAgICAqIG5vdCByZWxhdGVkIHRvIHJlbmRlcmluZ1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbigvKiBjdHggKi8pIHtcblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyRmlsbDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuZmlsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9zZXRGaWxsU3R5bGVzKGN0eCwgdGhpcyk7XG4gICAgICBpZiAodGhpcy5maWxsUnVsZSA9PT0gJ2V2ZW5vZGQnKSB7XG4gICAgICAgIGN0eC5maWxsKCdldmVub2RkJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJTdHJva2U6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLnN0cm9rZSB8fCB0aGlzLnN0cm9rZVdpZHRoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2hhZG93ICYmICF0aGlzLnNoYWRvdy5hZmZlY3RTdHJva2UpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBpZiAodGhpcy5zdHJva2VVbmlmb3JtICYmIHRoaXMuZ3JvdXApIHtcbiAgICAgICAgdmFyIHNjYWxpbmcgPSB0aGlzLmdldE9iamVjdFNjYWxpbmcoKTtcbiAgICAgICAgY3R4LnNjYWxlKDEgLyBzY2FsaW5nLnNjYWxlWCwgMSAvIHNjYWxpbmcuc2NhbGVZKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMuc3Ryb2tlVW5pZm9ybSkge1xuICAgICAgICBjdHguc2NhbGUoMSAvIHRoaXMuc2NhbGVYLCAxIC8gdGhpcy5zY2FsZVkpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2V0TGluZURhc2goY3R4LCB0aGlzLnN0cm9rZURhc2hBcnJheSk7XG4gICAgICB0aGlzLl9zZXRTdHJva2VTdHlsZXMoY3R4LCB0aGlzKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdHJ5IHRvIHBhdGNoIHRoZSBtaXNzaW5nIGdyYWRpZW50VHJhbnNmb3JtIG9uIGNhbnZhcyBncmFkaWVudHMuXG4gICAgICogdHJhbnNmb3JtaW5nIGEgY29udGV4dCB0byB0cmFuc2Zvcm0gdGhlIGdyYWRpZW50LCBpcyBnb2luZyB0byB0cmFuc2Zvcm0gdGhlIHN0cm9rZSB0b28uXG4gICAgICogd2Ugd2FudCB0byB0cmFuc2Zvcm0gdGhlIGdyYWRpZW50IGJ1dCBub3QgdGhlIHN0cm9rZSBvcGVyYXRpb24sIHNvIHdlIGNyZWF0ZVxuICAgICAqIGEgdHJhbnNmb3JtZWQgZ3JhZGllbnQgb24gYSBwYXR0ZXJuIGFuZCB0aGVuIHdlIHVzZSB0aGUgcGF0dGVybiBpbnN0ZWFkIG9mIHRoZSBncmFkaWVudC5cbiAgICAgKiB0aGlzIG1ldGhvZCBoYXMgZHJ3YWJhY2tzOiBpcyBzbG93LCBpcyBpbiBsb3cgcmVzb2x1dGlvbiwgbmVlZHMgYSBwYXRjaCBmb3Igd2hlbiB0aGUgc2l6ZVxuICAgICAqIGlzIGxpbWl0ZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtmYWJyaWMuR3JhZGllbnR9IGZpbGxlciBhIGZhYnJpYyBncmFkaWVudCBpbnN0YW5jZVxuICAgICAqL1xuICAgIF9hcHBseVBhdHRlcm5Gb3JUcmFuc2Zvcm1lZEdyYWRpZW50OiBmdW5jdGlvbihjdHgsIGZpbGxlcikge1xuICAgICAgdmFyIGRpbXMgPSB0aGlzLl9saW1pdENhY2hlU2l6ZSh0aGlzLl9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnMoKSksXG4gICAgICAgICAgcENhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKSwgcEN0eCwgcmV0aW5hU2NhbGluZyA9IHRoaXMuY2FudmFzLmdldFJldGluYVNjYWxpbmcoKSxcbiAgICAgICAgICB3aWR0aCA9IGRpbXMueCAvIHRoaXMuc2NhbGVYIC8gcmV0aW5hU2NhbGluZywgaGVpZ2h0ID0gZGltcy55IC8gdGhpcy5zY2FsZVkgLyByZXRpbmFTY2FsaW5nO1xuICAgICAgcENhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgcENhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBwQ3R4ID0gcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgcEN0eC5iZWdpblBhdGgoKTsgcEN0eC5tb3ZlVG8oMCwgMCk7IHBDdHgubGluZVRvKHdpZHRoLCAwKTsgcEN0eC5saW5lVG8od2lkdGgsIGhlaWdodCk7XG4gICAgICBwQ3R4LmxpbmVUbygwLCBoZWlnaHQpOyBwQ3R4LmNsb3NlUGF0aCgpO1xuICAgICAgcEN0eC50cmFuc2xhdGUod2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgIHBDdHguc2NhbGUoXG4gICAgICAgIGRpbXMuem9vbVggLyB0aGlzLnNjYWxlWCAvIHJldGluYVNjYWxpbmcsXG4gICAgICAgIGRpbXMuem9vbVkgLyB0aGlzLnNjYWxlWSAvIHJldGluYVNjYWxpbmdcbiAgICAgICk7XG4gICAgICB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShwQ3R4LCBmaWxsZXIpO1xuICAgICAgcEN0eC5maWxsU3R5bGUgPSBmaWxsZXIudG9MaXZlKGN0eCk7XG4gICAgICBwQ3R4LmZpbGwoKTtcbiAgICAgIGN0eC50cmFuc2xhdGUoLXRoaXMud2lkdGggLyAyIC0gdGhpcy5zdHJva2VXaWR0aCAvIDIsIC10aGlzLmhlaWdodCAvIDIgLSB0aGlzLnN0cm9rZVdpZHRoIC8gMik7XG4gICAgICBjdHguc2NhbGUoXG4gICAgICAgIHJldGluYVNjYWxpbmcgKiB0aGlzLnNjYWxlWCAvIGRpbXMuem9vbVgsXG4gICAgICAgIHJldGluYVNjYWxpbmcgKiB0aGlzLnNjYWxlWSAvIGRpbXMuem9vbVlcbiAgICAgICk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBwQ3R4LmNyZWF0ZVBhdHRlcm4ocENhbnZhcywgJ25vLXJlcGVhdCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgcmV0dXJucyB0aGUgY2VudGVyIG9mIHRoZSBvYmplY3QgaW4gdGhlIHN2Z1xuICAgICAqIHVudHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIHBvaW50IGZyb20gZWxlbWVudCBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIF9maW5kQ2VudGVyRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHsgeDogdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAvIDIsIHk6IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLyAyIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgYW4gaGVscGVyIGZvciBzdmcgaW1wb3J0LiBpdCBkZWNvbXBvc2UgdGhlIHRyYW5zZm9ybU1hdHJpeFxuICAgICAqIGFuZCBhc3NpZ24gcHJvcGVydGllcyB0byBvYmplY3QuXG4gICAgICogdW50cmFuc2Zvcm1lZCBjb29yZGluYXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIF9hc3NpZ25UcmFuc2Zvcm1NYXRyaXhQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2Zvcm1NYXRyaXgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZSh0aGlzLnRyYW5zZm9ybU1hdHJpeCk7XG4gICAgICAgIHRoaXMuZmxpcFggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mbGlwWSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldCgnc2NhbGVYJywgb3B0aW9ucy5zY2FsZVgpO1xuICAgICAgICB0aGlzLnNldCgnc2NhbGVZJywgb3B0aW9ucy5zY2FsZVkpO1xuICAgICAgICB0aGlzLmFuZ2xlID0gb3B0aW9ucy5hbmdsZTtcbiAgICAgICAgdGhpcy5za2V3WCA9IG9wdGlvbnMuc2tld1g7XG4gICAgICAgIHRoaXMuc2tld1kgPSAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgcmVtb3ZlcyB0aGUgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqIGFuZCBzZXQgdG8gb2JqZWN0IHByb3BlcnRpZXMgdGhhdCBmYWJyaWNqcyBjYW4gaGFuZGxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHt0aGlzQXJnfVxuICAgICAqL1xuICAgIF9yZW1vdmVUcmFuc2Zvcm1NYXRyaXg6IGZ1bmN0aW9uKHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zKSB7XG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5fZmluZENlbnRlckZyb21FbGVtZW50KCk7XG4gICAgICBpZiAodGhpcy50cmFuc2Zvcm1NYXRyaXgpIHtcbiAgICAgICAgdGhpcy5fYXNzaWduVHJhbnNmb3JtTWF0cml4UHJvcHMoKTtcbiAgICAgICAgY2VudGVyID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQoY2VudGVyLCB0aGlzLnRyYW5zZm9ybU1hdHJpeCk7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeCA9IG51bGw7XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zY2FsZVggKj0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMuc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlWSAqPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5zY2FsZVk7XG4gICAgICAgIHRoaXMuY3JvcFggPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5jcm9wWDtcbiAgICAgICAgdGhpcy5jcm9wWSA9IHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zLmNyb3BZO1xuICAgICAgICBjZW50ZXIueCArPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5vZmZzZXRMZWZ0O1xuICAgICAgICBjZW50ZXIueSArPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5vZmZzZXRUb3A7XG4gICAgICAgIHRoaXMud2lkdGggPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5oZWlnaHQ7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFBvc2l0aW9uQnlPcmlnaW4oY2VudGVyLCAnY2VudGVyJywgJ2NlbnRlcicpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgYW4gaW5zdGFuY2UsIHVzaW5nIGEgY2FsbGJhY2sgbWV0aG9kIHdpbGwgd29yayBmb3IgZXZlcnkgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIGlzIGludm9rZWQgd2l0aCBhIGNsb25lIGFzIGEgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICovXG4gICAgY2xvbmU6IGZ1bmN0aW9uKGNhbGxiYWNrLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgb2JqZWN0Rm9ybSA9IHRoaXMudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5mcm9tT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuZnJvbU9iamVjdChvYmplY3RGb3JtLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnT2JqZWN0Jywgb2JqZWN0Rm9ybSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZSBvdXQgb2YgYW4gb2JqZWN0XG4gICAgICogbWFrZXMgdXNlIG9mIHRvQ2FudmFzRWxlbWVudC5cbiAgICAgKiBPbmNlIHRoaXMgbWV0aG9kIHdhcyBiYXNlZCBvbiB0b0RhdGFVcmwgYW5kIGxvYWRJbWFnZSwgc28gaXQgYWxzbyBoYWQgYSBxdWFsaXR5XG4gICAgICogYW5kIGZvcm1hdCBvcHRpb24uIHRvQ2FudmFzRWxlbWVudCBpcyBmYXN0ZXIgYW5kIHByb2R1Y2Ugbm8gbG9zcyBvZiBxdWFsaXR5LlxuICAgICAqIElmIHlvdSBuZWVkIHRvIGdldCBhIHJlYWwgSnBlZyBvciBQbmcgZnJvbSBhbiBvYmplY3QsIHVzaW5nIHRvRGF0YVVSTCBpcyB0aGUgcmlnaHQgd2F5IHRvIGRvIGl0LlxuICAgICAqIHRvQ2FudmFzRWxlbWVudCBhbmQgdGhlbiB0b0Jsb2IgZnJvbSB0aGUgb2J0YWluZWQgY2FudmFzIGlzIGFsc28gYSBnb29kIG9wdGlvbi5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBzeW5jIG5vdywgYnV0IHN0aWxsIHN1cHBvcnQgdGhlIGNhbGxiYWNrIGJlY2F1c2Ugd2UgZGlkIG5vdCB3YW50IHRvIGJyZWFrLlxuICAgICAqIFdoZW4gZmFicmljSlMgNS4wIHdpbGwgYmUgcGxhbm5lZCwgdGhpcyB3aWxsIHByb2JhYmx5IGJlIGNoYW5nZWQgdG8gbm90IGhhdmUgYSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjaywgaW52b2tlZCB3aXRoIGFuIGluc3RhbmNlIGFzIGEgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIGZvciBjbG9uZSBhcyBpbWFnZSwgcGFzc2VkIHRvIHRvRGF0YVVSTFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tdWx0aXBsaWVyPTFdIE11bHRpcGxpZXIgdG8gc2NhbGUgYnlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVmdF0gQ3JvcHBpbmcgbGVmdCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50b3BdIENyb3BwaW5nIHRvcCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gQ3JvcHBpbmcgd2lkdGguIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIENyb3BwaW5nIGhlaWdodC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5lbmFibGVSZXRpbmFTY2FsaW5nXSBFbmFibGUgcmV0aW5hIHNjYWxpbmcgZm9yIGNsb25lIGltYWdlLiBJbnRyb2R1Y2UgaW4gMS42LjRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLndpdGhvdXRUcmFuc2Zvcm1dIFJlbW92ZSBjdXJyZW50IG9iamVjdCB0cmFuc2Zvcm0gKCBubyBzY2FsZSAsIG5vIGFuZ2xlLCBubyBmbGlwLCBubyBza2V3ICkuIEludHJvZHVjZWQgaW4gMi4zLjRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLndpdGhvdXRTaGFkb3ddIFJlbW92ZSBjdXJyZW50IG9iamVjdCBzaGFkb3cuIEludHJvZHVjZWQgaW4gMi40LjJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICovXG4gICAgY2xvbmVBc0ltYWdlOiBmdW5jdGlvbihjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgdmFyIGNhbnZhc0VsID0gdGhpcy50b0NhbnZhc0VsZW1lbnQob3B0aW9ucyk7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sobmV3IGZhYnJpYy5JbWFnZShjYW52YXNFbCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgSFRNTENhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIENyb3BwaW5nIHdpZHRoLiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlUmV0aW5hU2NhbGluZ10gRW5hYmxlIHJldGluYSBzY2FsaW5nIGZvciBjbG9uZSBpbWFnZS4gSW50cm9kdWNlIGluIDEuNi40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0VHJhbnNmb3JtXSBSZW1vdmUgY3VycmVudCBvYmplY3QgdHJhbnNmb3JtICggbm8gc2NhbGUgLCBubyBhbmdsZSwgbm8gZmxpcCwgbm8gc2tldyApLiBJbnRyb2R1Y2VkIGluIDIuMy40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0U2hhZG93XSBSZW1vdmUgY3VycmVudCBvYmplY3Qgc2hhZG93LiBJbnRyb2R1Y2VkIGluIDIuNC4yXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IFJldHVybnMgRE9NIGVsZW1lbnQgPGNhbnZhcz4gd2l0aCB0aGUgZmFicmljLk9iamVjdFxuICAgICAqL1xuICAgIHRvQ2FudmFzRWxlbWVudDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG5cbiAgICAgIHZhciB1dGlscyA9IGZhYnJpYy51dGlsLCBvcmlnUGFyYW1zID0gdXRpbHMuc2F2ZU9iamVjdFRyYW5zZm9ybSh0aGlzKSxcbiAgICAgICAgICBvcmlnaW5hbEdyb3VwID0gdGhpcy5ncm91cCxcbiAgICAgICAgICBvcmlnaW5hbFNoYWRvdyA9IHRoaXMuc2hhZG93LCBhYnMgPSBNYXRoLmFicyxcbiAgICAgICAgICBtdWx0aXBsaWVyID0gKG9wdGlvbnMubXVsdGlwbGllciB8fCAxKSAqIChvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmcgPyBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbyA6IDEpO1xuICAgICAgZGVsZXRlIHRoaXMuZ3JvdXA7XG4gICAgICBpZiAob3B0aW9ucy53aXRob3V0VHJhbnNmb3JtKSB7XG4gICAgICAgIHV0aWxzLnJlc2V0T2JqZWN0VHJhbnNmb3JtKHRoaXMpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMud2l0aG91dFNoYWRvdykge1xuICAgICAgICB0aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKSxcbiAgICAgICAgICAvLyBza2lwIGNhbnZhcyB6b29tIGFuZCBjYWxjdWxhdGUgd2l0aCBzZXRDb29yZHMgbm93LlxuICAgICAgICAgIGJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KHRydWUsIHRydWUpLFxuICAgICAgICAgIHNoYWRvdyA9IHRoaXMuc2hhZG93LCBzY2FsaW5nLFxuICAgICAgICAgIHNoYWRvd09mZnNldCA9IHsgeDogMCwgeTogMCB9LCBzaGFkb3dCbHVyLFxuICAgICAgICAgIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChzaGFkb3cpIHtcbiAgICAgICAgc2hhZG93Qmx1ciA9IHNoYWRvdy5ibHVyO1xuICAgICAgICBpZiAoc2hhZG93Lm5vblNjYWxpbmcpIHtcbiAgICAgICAgICBzY2FsaW5nID0geyBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNjYWxpbmcgPSB0aGlzLmdldE9iamVjdFNjYWxpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zaWRlciBub24gc2NhbGluZyBzaGFkb3cuXG4gICAgICAgIHNoYWRvd09mZnNldC54ID0gMiAqIE1hdGgucm91bmQoYWJzKHNoYWRvdy5vZmZzZXRYKSArIHNoYWRvd0JsdXIpICogKGFicyhzY2FsaW5nLnNjYWxlWCkpO1xuICAgICAgICBzaGFkb3dPZmZzZXQueSA9IDIgKiBNYXRoLnJvdW5kKGFicyhzaGFkb3cub2Zmc2V0WSkgKyBzaGFkb3dCbHVyKSAqIChhYnMoc2NhbGluZy5zY2FsZVkpKTtcbiAgICAgIH1cbiAgICAgIHdpZHRoID0gYm91bmRpbmdSZWN0LndpZHRoICsgc2hhZG93T2Zmc2V0Lng7XG4gICAgICBoZWlnaHQgPSBib3VuZGluZ1JlY3QuaGVpZ2h0ICsgc2hhZG93T2Zmc2V0Lnk7XG4gICAgICAvLyBpZiB0aGUgY3VycmVudCB3aWR0aC9oZWlnaHQgaXMgbm90IGFuIGludGVnZXJcbiAgICAgIC8vIHdlIG5lZWQgdG8gbWFrZSBpdCBzby5cbiAgICAgIGVsLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgIGVsLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgdmFyIGNhbnZhcyA9IG5ldyBmYWJyaWMuU3RhdGljQ2FudmFzKGVsLCB7XG4gICAgICAgIGVuYWJsZVJldGluYVNjYWxpbmc6IGZhbHNlLFxuICAgICAgICByZW5kZXJPbkFkZFJlbW92ZTogZmFsc2UsXG4gICAgICAgIHNraXBPZmZzY3JlZW46IGZhbHNlLFxuICAgICAgfSk7XG4gICAgICBpZiAob3B0aW9ucy5mb3JtYXQgPT09ICdqcGVnJykge1xuICAgICAgICBjYW52YXMuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRQb3NpdGlvbkJ5T3JpZ2luKG5ldyBmYWJyaWMuUG9pbnQoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpLCAnY2VudGVyJywgJ2NlbnRlcicpO1xuXG4gICAgICB2YXIgb3JpZ2luYWxDYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGNhbnZhcy5hZGQodGhpcyk7XG4gICAgICB2YXIgY2FudmFzRWwgPSBjYW52YXMudG9DYW52YXNFbGVtZW50KG11bHRpcGxpZXIgfHwgMSwgb3B0aW9ucyk7XG4gICAgICB0aGlzLnNoYWRvdyA9IG9yaWdpbmFsU2hhZG93O1xuICAgICAgdGhpcy5zZXQoJ2NhbnZhcycsIG9yaWdpbmFsQ2FudmFzKTtcbiAgICAgIGlmIChvcmlnaW5hbEdyb3VwKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBvcmlnaW5hbEdyb3VwO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXQob3JpZ1BhcmFtcykuc2V0Q29vcmRzKCk7XG4gICAgICAvLyBjYW52YXMuZGlzcG9zZSB3aWxsIGNhbGwgaW1hZ2UuZGlzcG9zZSB0aGF0IHdpbGwgbnVsbGlmeSB0aGUgZWxlbWVudHNcbiAgICAgIC8vIHNpbmNlIHRoaXMgY2FudmFzIGlzIGEgc2ltcGxlIGVsZW1lbnQgZm9yIHRoZSBwcm9jZXNzLCB3ZSByZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgLy8gdG8gb2JqZWN0cyBpbiB0aGlzIHdheSBpbiBvcmRlciB0byBhdm9pZCBvYmplY3QgdHJhc2hpbmcuXG4gICAgICBjYW52YXMuX29iamVjdHMgPSBbXTtcbiAgICAgIGNhbnZhcy5kaXNwb3NlKCk7XG4gICAgICBjYW52YXMgPSBudWxsO1xuXG4gICAgICByZXR1cm4gY2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgZGF0YS11cmwtbGlrZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9cG5nXSBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuIEVpdGhlciBcImpwZWdcIiBvciBcInBuZ1wiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnF1YWxpdHk9MV0gUXVhbGl0eSBsZXZlbCAoMC4uMSkuIE9ubHkgdXNlZCBmb3IganBlZy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIENyb3BwaW5nIHdpZHRoLiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlUmV0aW5hU2NhbGluZ10gRW5hYmxlIHJldGluYSBzY2FsaW5nIGZvciBjbG9uZSBpbWFnZS4gSW50cm9kdWNlIGluIDEuNi40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0VHJhbnNmb3JtXSBSZW1vdmUgY3VycmVudCBvYmplY3QgdHJhbnNmb3JtICggbm8gc2NhbGUgLCBubyBhbmdsZSwgbm8gZmxpcCwgbm8gc2tldyApLiBJbnRyb2R1Y2VkIGluIDIuMy40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0U2hhZG93XSBSZW1vdmUgY3VycmVudCBvYmplY3Qgc2hhZG93LiBJbnRyb2R1Y2VkIGluIDIuNC4yXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBSZXR1cm5zIGEgZGF0YTogVVJMIGNvbnRhaW5pbmcgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHRoZSBmb3JtYXQgc3BlY2lmaWVkIGJ5IG9wdGlvbnMuZm9ybWF0XG4gICAgICovXG4gICAgdG9EYXRhVVJMOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC50b0RhdGFVUkwodGhpcy50b0NhbnZhc0VsZW1lbnQob3B0aW9ucyksIG9wdGlvbnMuZm9ybWF0IHx8ICdwbmcnLCBvcHRpb25zLnF1YWxpdHkgfHwgMSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBzcGVjaWZpZWQgdHlwZSBpcyBpZGVudGljYWwgdG8gdGhlIHR5cGUgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIHRvIGNoZWNrIGFnYWluc3RcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzVHlwZTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gQXJyYXkuZnJvbShhcmd1bWVudHMpLmluY2x1ZGVzKHRoaXMudHlwZSkgOiB0aGlzLnR5cGUgPT09IHR5cGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29tcGxleGl0eSBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gY29tcGxleGl0eSBvZiB0aGlzIGluc3RhbmNlIChpcyAxIHVubGVzcyBzdWJjbGFzc2VkKVxuICAgICAqL1xuICAgIGNvbXBsZXhpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gSlNPTlxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgLy8gZGVsZWdhdGUsIG5vdCBhbGlhc1xuICAgICAgcmV0dXJuIHRoaXMudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgXCJhbmdsZVwiIG9mIGFuIGluc3RhbmNlIHdpdGggY2VudGVyZWQgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgQW5nbGUgdmFsdWUgKGluIGRlZ3JlZXMpXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByb3RhdGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICB2YXIgc2hvdWxkQ2VudGVyT3JpZ2luID0gKHRoaXMub3JpZ2luWCAhPT0gJ2NlbnRlcicgfHwgdGhpcy5vcmlnaW5ZICE9PSAnY2VudGVyJykgJiYgdGhpcy5jZW50ZXJlZFJvdGF0aW9uO1xuXG4gICAgICBpZiAoc2hvdWxkQ2VudGVyT3JpZ2luKSB7XG4gICAgICAgIHRoaXMuX3NldE9yaWdpblRvQ2VudGVyKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0KCdhbmdsZScsIGFuZ2xlKTtcblxuICAgICAgaWYgKHNob3VsZENlbnRlck9yaWdpbikge1xuICAgICAgICB0aGlzLl9yZXNldE9yaWdpbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgaG9yaXpvbnRhbGx5IG9uIGNhbnZhcyB0byB3aGljaCBpdCB3YXMgYWRkZWQgbGFzdC5cbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBzZXRDb29yZHNgIG9uIGFuIG9iamVjdCBhZnRlciBjZW50ZXJpbmcsIHRvIHVwZGF0ZSBjb250cm9scyBhcmVhLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVySDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuY2VudGVyT2JqZWN0SCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBob3Jpem9udGFsbHkgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVySDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRDZW50ZXJPYmplY3RIKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgb24gY2FudmFzIHRvIHdoaWNoIGl0IHdhcyBhZGRlZCBsYXN0LlxuICAgICAqIFlvdSBtaWdodCBuZWVkIHRvIGNhbGwgYHNldENvb3Jkc2Agb24gYW4gb2JqZWN0IGFmdGVyIGNlbnRlcmluZywgdG8gdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjZW50ZXJWOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5jZW50ZXJPYmplY3RWKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyVjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRDZW50ZXJPYmplY3RWKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseSBvbiBjYW52YXMgdG8gd2hpY2ggaXMgd2FzIGFkZGVkIGxhc3RcbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBzZXRDb29yZHNgIG9uIGFuIG9iamVjdCBhZnRlciBjZW50ZXJpbmcsIHRvIHVwZGF0ZSBjb250cm9scyBhcmVhLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5jZW50ZXJPYmplY3QodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3Qgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy52aWV3cG9ydENlbnRlck9iamVjdCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvb3JkaW5hdGVzIG9mIGEgcG9pbnRlciByZWxhdGl2ZSB0byBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IHRvIG9wZXJhdGUgdXBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcG9pbnRlcl0gUG9pbnRlciB0byBvcGVyYXRlIHVwb24gKGluc3RlYWQgb2YgZXZlbnQpXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDb29yZGluYXRlcyBvZiBhIHBvaW50ZXIgKHgsIHkpXG4gICAgICovXG4gICAgZ2V0TG9jYWxQb2ludGVyOiBmdW5jdGlvbihlLCBwb2ludGVyKSB7XG4gICAgICBwb2ludGVyID0gcG9pbnRlciB8fCB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKGUpO1xuICAgICAgdmFyIHBDbGlja2VkID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludGVyLngsIHBvaW50ZXIueSksXG4gICAgICAgICAgb2JqZWN0TGVmdFRvcCA9IHRoaXMuX2dldExlZnRUb3BDb29yZHMoKTtcbiAgICAgIGlmICh0aGlzLmFuZ2xlKSB7XG4gICAgICAgIHBDbGlja2VkID0gZmFicmljLnV0aWwucm90YXRlUG9pbnQoXG4gICAgICAgICAgcENsaWNrZWQsIG9iamVjdExlZnRUb3AsIGRlZ3JlZXNUb1JhZGlhbnMoLXRoaXMuYW5nbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHBDbGlja2VkLnggLSBvYmplY3RMZWZ0VG9wLngsXG4gICAgICAgIHk6IHBDbGlja2VkLnkgLSBvYmplY3RMZWZ0VG9wLnlcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgY2FudmFzIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiBmb3Igc3BlY2lmaWMgb2JqZWN0XG4gICAgICogY3VzdG9tIGNvbXBvc2l0aW9uIG9wZXJhdGlvbiBmb3IgdGhlIHBhcnRpY3VsYXIgb2JqZWN0IGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBSZW5kZXJpbmcgY2FudmFzIGNvbnRleHRcbiAgICAgKi9cbiAgICBfc2V0dXBDb21wb3NpdGVPcGVyYXRpb246IGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgIGlmICh0aGlzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbikge1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbmNlbCBpbnN0YW5jZSdzIHJ1bm5pbmcgYW5pbWF0aW9uc1xuICAgICAqIG92ZXJyaWRlIGlmIG5lY2Vzc2FyeSB0byBkaXNwb3NlIGFydGlmYWN0cyBzdWNoIGFzIGBjbGlwUGF0aGBcbiAgICAgKi9cbiAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZmFicmljLnJ1bm5pbmdBbmltYXRpb25zKSB7XG4gICAgICAgIGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucy5jYW5jZWxCeVRhcmdldCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZhYnJpYy51dGlsLmNyZWF0ZUFjY2Vzc29ycyAmJiBmYWJyaWMudXRpbC5jcmVhdGVBY2Nlc3NvcnMoZmFicmljLk9iamVjdCk7XG5cbiAgZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCBmYWJyaWMuT2JzZXJ2YWJsZSk7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIG51bWJlciBvZiBmcmFjdGlvbiBkaWdpdHMgdG8gdXNlIHdoZW4gc2VyaWFsaXppbmcgb2JqZWN0IHZhbHVlcy5cbiAgICogWW91IGNhbiB1c2UgaXQgdG8gaW5jcmVhc2UvZGVjcmVhc2UgcHJlY2lzaW9uIG9mIHN1Y2ggdmFsdWVzIGxpa2UgbGVmdCwgdG9wLCBzY2FsZVgsIHNjYWxlWSwgZXRjLlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0XG4gICAqIEBjb25zdGFudFxuICAgKiBAdHlwZSBOdW1iZXJcbiAgICovXG4gIGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IDI7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgZW5saXZlbmVkIGZyb20gdGhlIG9iamVjdCBwYXNzZWQgdG8ge0BsaW5rIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3R9XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5PYmplY3RcbiAgICogQGNvbnN0YW50XG4gICAqIEB0eXBlIHN0cmluZ1tdXG4gICAqL1xuICBmYWJyaWMuT2JqZWN0LkVOTElWRU5fUFJPUFMgPSBbJ2NsaXBQYXRoJ107XG5cbiAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb2JqZWN0LCBjYWxsYmFjaywgZXh0cmFQYXJhbSkge1xuICAgIHZhciBrbGFzcyA9IGZhYnJpY1tjbGFzc05hbWVdO1xuICAgIG9iamVjdCA9IGNsb25lKG9iamVjdCwgdHJ1ZSk7XG4gICAgZmFicmljLnV0aWwuZW5saXZlblBhdHRlcm5zKFtvYmplY3QuZmlsbCwgb2JqZWN0LnN0cm9rZV0sIGZ1bmN0aW9uKHBhdHRlcm5zKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdHRlcm5zWzBdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvYmplY3QuZmlsbCA9IHBhdHRlcm5zWzBdO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuc1sxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb2JqZWN0LnN0cm9rZSA9IHBhdHRlcm5zWzFdO1xuICAgICAgfVxuICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdEVubGl2YWJsZXMob2JqZWN0LCBvYmplY3QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZXh0cmFQYXJhbSA/IG5ldyBrbGFzcyhvYmplY3RbZXh0cmFQYXJhbV0sIG9iamVjdCkgOiBuZXcga2xhc3Mob2JqZWN0KTtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soaW5zdGFuY2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVuaXF1ZSBpZCB1c2VkIGludGVybmFsbHkgd2hlbiBjcmVhdGluZyBTVkcgZWxlbWVudHNcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdFxuICAgKiBAdHlwZSBOdW1iZXJcbiAgICovXG4gIGZhYnJpYy5PYmplY3QuX191aWQgPSAwO1xufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgZGVncmVlc1RvUmFkaWFucyA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMsXG4gICAgICBvcmlnaW5YT2Zmc2V0ID0ge1xuICAgICAgICBsZWZ0OiAtMC41LFxuICAgICAgICBjZW50ZXI6IDAsXG4gICAgICAgIHJpZ2h0OiAwLjVcbiAgICAgIH0sXG4gICAgICBvcmlnaW5ZT2Zmc2V0ID0ge1xuICAgICAgICB0b3A6IC0wLjUsXG4gICAgICAgIGNlbnRlcjogMCxcbiAgICAgICAgYm90dG9tOiAwLjVcbiAgICAgIH07XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBjb29yZGluYXRlcyBmcm9tIGEgc2V0IG9mIG9yaWdpbiB0byBhbm90aGVyIChiYXNlZCBvbiB0aGUgb2JqZWN0J3MgZGltZW5zaW9ucylcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHdoaWNoIGNvcnJlc3BvbmRzIHRvIHRoZSBvcmlnaW5YIGFuZCBvcmlnaW5ZIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tT3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZyb21PcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRvT3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRvT3JpZ2luWSBWZXJ0aWNhbCBvcmlnaW46ICd0b3AnLCAnY2VudGVyJyBvciAnYm90dG9tJ1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICB0cmFuc2xhdGVUb0dpdmVuT3JpZ2luOiBmdW5jdGlvbihwb2ludCwgZnJvbU9yaWdpblgsIGZyb21PcmlnaW5ZLCB0b09yaWdpblgsIHRvT3JpZ2luWSkge1xuICAgICAgdmFyIHggPSBwb2ludC54LFxuICAgICAgICAgIHkgPSBwb2ludC55LFxuICAgICAgICAgIG9mZnNldFgsIG9mZnNldFksIGRpbTtcblxuICAgICAgaWYgKHR5cGVvZiBmcm9tT3JpZ2luWCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZnJvbU9yaWdpblggPSBvcmlnaW5YT2Zmc2V0W2Zyb21PcmlnaW5YXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmcm9tT3JpZ2luWCAtPSAwLjU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdG9PcmlnaW5YID09PSAnc3RyaW5nJykge1xuICAgICAgICB0b09yaWdpblggPSBvcmlnaW5YT2Zmc2V0W3RvT3JpZ2luWF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdG9PcmlnaW5YIC09IDAuNTtcbiAgICAgIH1cblxuICAgICAgb2Zmc2V0WCA9IHRvT3JpZ2luWCAtIGZyb21PcmlnaW5YO1xuXG4gICAgICBpZiAodHlwZW9mIGZyb21PcmlnaW5ZID09PSAnc3RyaW5nJykge1xuICAgICAgICBmcm9tT3JpZ2luWSA9IG9yaWdpbllPZmZzZXRbZnJvbU9yaWdpblldO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZyb21PcmlnaW5ZIC09IDAuNTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0b09yaWdpblkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRvT3JpZ2luWSA9IG9yaWdpbllPZmZzZXRbdG9PcmlnaW5ZXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0b09yaWdpblkgLT0gMC41O1xuICAgICAgfVxuXG4gICAgICBvZmZzZXRZID0gdG9PcmlnaW5ZIC0gZnJvbU9yaWdpblk7XG5cbiAgICAgIGlmIChvZmZzZXRYIHx8IG9mZnNldFkpIHtcbiAgICAgICAgZGltID0gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCk7XG4gICAgICAgIHggPSBwb2ludC54ICsgb2Zmc2V0WCAqIGRpbS54O1xuICAgICAgICB5ID0gcG9pbnQueSArIG9mZnNldFkgKiBkaW0ueTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQoeCwgeSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIGNvb3JkaW5hdGVzIGZyb20gb3JpZ2luIHRvIGNlbnRlciBjb29yZGluYXRlcyAoYmFzZWQgb24gdGhlIG9iamVjdCdzIGRpbWVuc2lvbnMpXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFRoZSBwb2ludCB3aGljaCBjb3JyZXNwb25kcyB0byB0aGUgb3JpZ2luWCBhbmQgb3JpZ2luWSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgdHJhbnNsYXRlVG9DZW50ZXJQb2ludDogZnVuY3Rpb24ocG9pbnQsIG9yaWdpblgsIG9yaWdpblkpIHtcbiAgICAgIHZhciBwID0gdGhpcy50cmFuc2xhdGVUb0dpdmVuT3JpZ2luKHBvaW50LCBvcmlnaW5YLCBvcmlnaW5ZLCAnY2VudGVyJywgJ2NlbnRlcicpO1xuICAgICAgaWYgKHRoaXMuYW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnJvdGF0ZVBvaW50KHAsIHBvaW50LCBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBjb29yZGluYXRlcyBmcm9tIGNlbnRlciB0byBvcmlnaW4gY29vcmRpbmF0ZXMgKGJhc2VkIG9uIHRoZSBvYmplY3QncyBkaW1lbnNpb25zKVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBjZW50ZXIgVGhlIHBvaW50IHdoaWNoIGNvcnJlc3BvbmRzIHRvIGNlbnRlciBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblggSG9yaXpvbnRhbCBvcmlnaW46ICdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIHRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQ6IGZ1bmN0aW9uKGNlbnRlciwgb3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIHAgPSB0aGlzLnRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4oY2VudGVyLCAnY2VudGVyJywgJ2NlbnRlcicsIG9yaWdpblgsIG9yaWdpblkpO1xuICAgICAgaWYgKHRoaXMuYW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnJvdGF0ZVBvaW50KHAsIGNlbnRlciwgZGVncmVlc1RvUmFkaWFucyh0aGlzLmFuZ2xlKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmVhbCBjZW50ZXIgY29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBnZXRDZW50ZXJQb2ludDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGVmdFRvcCA9IG5ldyBmYWJyaWMuUG9pbnQodGhpcy5sZWZ0LCB0aGlzLnRvcCk7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVUb0NlbnRlclBvaW50KGxlZnRUb3AsIHRoaXMub3JpZ2luWCwgdGhpcy5vcmlnaW5ZKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBjZW50ZXIgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHdoaWNoIGNvcnJlc3BvbmRzIHRvIHRoZSBvcmlnaW5YIGFuZCBvcmlnaW5ZIHBhcmFtc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICAvLyBnZXRPcmlnaW5Qb2ludDogZnVuY3Rpb24oY2VudGVyKSB7XG4gICAgLy8gICByZXR1cm4gdGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KGNlbnRlciwgdGhpcy5vcmlnaW5YLCB0aGlzLm9yaWdpblkpO1xuICAgIC8vIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgb2JqZWN0IGFzIGlmIGl0IGhhcyBhIGRpZmZlcmVudCBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgZ2V0UG9pbnRCeU9yaWdpbjogZnVuY3Rpb24ob3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQoY2VudGVyLCBvcmlnaW5YLCBvcmlnaW5ZKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9pbnQgaW4gbG9jYWwgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBnbG9iYWwgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgdG9Mb2NhbFBvaW50OiBmdW5jdGlvbihwb2ludCwgb3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSxcbiAgICAgICAgICBwLCBwMjtcblxuICAgICAgaWYgKHR5cGVvZiBvcmlnaW5YICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb3JpZ2luWSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgIHAgPSB0aGlzLnRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4oY2VudGVyLCAnY2VudGVyJywgJ2NlbnRlcicsIG9yaWdpblgsIG9yaWdpblkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHAgPSBuZXcgZmFicmljLlBvaW50KHRoaXMubGVmdCwgdGhpcy50b3ApO1xuICAgICAgfVxuXG4gICAgICBwMiA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICBpZiAodGhpcy5hbmdsZSkge1xuICAgICAgICBwMiA9IGZhYnJpYy51dGlsLnJvdGF0ZVBvaW50KHAyLCBjZW50ZXIsIC1kZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwMi5zdWJ0cmFjdEVxdWFscyhwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9pbnQgaW4gZ2xvYmFsIGNvb3JkaW5hdGVzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IFRoZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgLy8gdG9HbG9iYWxQb2ludDogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAvLyAgIHJldHVybiBmYWJyaWMudXRpbC5yb3RhdGVQb2ludChwb2ludCwgdGhpcy5nZXRDZW50ZXJQb2ludCgpLCBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKS5hZGRFcXVhbHMobmV3IGZhYnJpYy5Qb2ludCh0aGlzLmxlZnQsIHRoaXMudG9wKSk7XG4gICAgLy8gfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBvYmplY3QgdGFraW5nIGludG8gY29uc2lkZXJhdGlvbiB0aGUgb2JqZWN0J3Mgb3JpZ2luXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvcyBUaGUgbmV3IHBvc2l0aW9uIG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNldFBvc2l0aW9uQnlPcmlnaW46IGZ1bmN0aW9uKHBvcywgb3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMudHJhbnNsYXRlVG9DZW50ZXJQb2ludChwb3MsIG9yaWdpblgsIG9yaWdpblkpLFxuICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KGNlbnRlciwgdGhpcy5vcmlnaW5YLCB0aGlzLm9yaWdpblkpO1xuICAgICAgdGhpcy5zZXQoJ2xlZnQnLCBwb3NpdGlvbi54KTtcbiAgICAgIHRoaXMuc2V0KCd0b3AnLCBwb3NpdGlvbi55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRvIE9uZSBvZiAnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnXG4gICAgICovXG4gICAgYWRqdXN0UG9zaXRpb246IGZ1bmN0aW9uKHRvKSB7XG4gICAgICB2YXIgYW5nbGUgPSBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpLFxuICAgICAgICAgIGh5cG90RnVsbCA9IHRoaXMuZ2V0U2NhbGVkV2lkdGgoKSxcbiAgICAgICAgICB4RnVsbCA9IGZhYnJpYy51dGlsLmNvcyhhbmdsZSkgKiBoeXBvdEZ1bGwsXG4gICAgICAgICAgeUZ1bGwgPSBmYWJyaWMudXRpbC5zaW4oYW5nbGUpICogaHlwb3RGdWxsLFxuICAgICAgICAgIG9mZnNldEZyb20sIG9mZnNldFRvO1xuXG4gICAgICAvL1RPRE86IHRoaXMgZnVuY3Rpb24gZG9lcyBub3QgY29uc2lkZXIgbWl4ZWQgc2l0dWF0aW9uIGxpa2UgdG9wLCBjZW50ZXIuXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3JpZ2luWCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgb2Zmc2V0RnJvbSA9IG9yaWdpblhPZmZzZXRbdGhpcy5vcmlnaW5YXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBvZmZzZXRGcm9tID0gdGhpcy5vcmlnaW5YIC0gMC41O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0byA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgb2Zmc2V0VG8gPSBvcmlnaW5YT2Zmc2V0W3RvXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBvZmZzZXRUbyA9IHRvIC0gMC41O1xuICAgICAgfVxuICAgICAgdGhpcy5sZWZ0ICs9IHhGdWxsICogKG9mZnNldFRvIC0gb2Zmc2V0RnJvbSk7XG4gICAgICB0aGlzLnRvcCArPSB5RnVsbCAqIChvZmZzZXRUbyAtIG9mZnNldEZyb20pO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIHRoaXMub3JpZ2luWCA9IHRvO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBvcmlnaW4vcG9zaXRpb24gb2YgdGhlIG9iamVjdCB0byBpdCdzIGNlbnRlciBwb2ludFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfc2V0T3JpZ2luVG9DZW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5YID0gdGhpcy5vcmlnaW5YO1xuICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5ZID0gdGhpcy5vcmlnaW5ZO1xuXG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXJQb2ludCgpO1xuXG4gICAgICB0aGlzLm9yaWdpblggPSAnY2VudGVyJztcbiAgICAgIHRoaXMub3JpZ2luWSA9ICdjZW50ZXInO1xuXG4gICAgICB0aGlzLmxlZnQgPSBjZW50ZXIueDtcbiAgICAgIHRoaXMudG9wID0gY2VudGVyLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgb3JpZ2luL3Bvc2l0aW9uIG9mIHRoZSBvYmplY3QgdG8gaXQncyBvcmlnaW5hbCBvcmlnaW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX3Jlc2V0T3JpZ2luOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcmlnaW5Qb2ludCA9IHRoaXMudHJhbnNsYXRlVG9PcmlnaW5Qb2ludChcbiAgICAgICAgdGhpcy5nZXRDZW50ZXJQb2ludCgpLFxuICAgICAgICB0aGlzLl9vcmlnaW5hbE9yaWdpblgsXG4gICAgICAgIHRoaXMuX29yaWdpbmFsT3JpZ2luWSk7XG5cbiAgICAgIHRoaXMub3JpZ2luWCA9IHRoaXMuX29yaWdpbmFsT3JpZ2luWDtcbiAgICAgIHRoaXMub3JpZ2luWSA9IHRoaXMuX29yaWdpbmFsT3JpZ2luWTtcblxuICAgICAgdGhpcy5sZWZ0ID0gb3JpZ2luUG9pbnQueDtcbiAgICAgIHRoaXMudG9wID0gb3JpZ2luUG9pbnQueTtcblxuICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5YID0gbnVsbDtcbiAgICAgIHRoaXMuX29yaWdpbmFsT3JpZ2luWSA9IG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldExlZnRUb3BDb29yZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlVG9PcmlnaW5Qb2ludCh0aGlzLmdldENlbnRlclBvaW50KCksICdsZWZ0JywgJ3RvcCcpO1xuICAgIH0sXG4gIH0pO1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBhcnJheUZyb21Db29yZHMoY29vcmRzKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyBmYWJyaWMuUG9pbnQoY29vcmRzLnRsLngsIGNvb3Jkcy50bC55KSxcbiAgICAgIG5ldyBmYWJyaWMuUG9pbnQoY29vcmRzLnRyLngsIGNvb3Jkcy50ci55KSxcbiAgICAgIG5ldyBmYWJyaWMuUG9pbnQoY29vcmRzLmJyLngsIGNvb3Jkcy5ici55KSxcbiAgICAgIG5ldyBmYWJyaWMuUG9pbnQoY29vcmRzLmJsLngsIGNvb3Jkcy5ibC55KVxuICAgIF07XG4gIH1cblxuICB2YXIgdXRpbCA9IGZhYnJpYy51dGlsLFxuICAgICAgZGVncmVlc1RvUmFkaWFucyA9IHV0aWwuZGVncmVlc1RvUmFkaWFucyxcbiAgICAgIG11bHRpcGx5TWF0cmljZXMgPSB1dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMsXG4gICAgICB0cmFuc2Zvcm1Qb2ludCA9IHV0aWwudHJhbnNmb3JtUG9pbnQ7XG5cbiAgdXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIG9iamVjdCdzIGNvcm5lciBwb3NpdGlvbiBpbiBjYW52YXMgZWxlbWVudCBjb29yZGluYXRlcy5cbiAgICAgKiBwcm9wZXJ0aWVzIGFyZSBkZXBlbmRpbmcgb24gY29udHJvbCBrZXlzIGFuZCBwYWRkaW5nIHRoZSBtYWluIGNvbnRyb2xzLlxuICAgICAqIGVhY2ggcHJvcGVydHkgaXMgYW4gb2JqZWN0IHdpdGggeCwgeSBhbmQgY29ybmVyLlxuICAgICAqIFRoZSBgY29ybmVyYCBwcm9wZXJ0eSBjb250YWlucyBpbiBhIHNpbWlsYXIgbWFubmVyIHRoZSA0IHBvaW50cyBvZiB0aGVcbiAgICAgKiBpbnRlcmFjdGl2ZSBhcmVhIG9mIHRoZSBjb3JuZXIuXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGRlcGVuZHMgZnJvbSB0aGUgY29udHJvbHMgcG9zaXRpb25IYW5kbGVyIGFuZCBhcmUgdXNlZFxuICAgICAqIHRvIGRyYXcgYW5kIGxvY2F0ZSBjb250cm9sc1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqL1xuICAgIG9Db29yZHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSBvYmplY3QncyBjb3JuZXIgcG9zaXRpb24gaW4gY2FudmFzIG9iamVjdCBhYnNvbHV0ZSBjb29yZGluYXRlc1xuICAgICAqIHByb3BlcnRpZXMgYXJlIHRsLHRyLGJsLGJyIGFuZCBkZXNjcmliZSB0aGUgZm91ciBtYWluIGNvcm5lci5cbiAgICAgKiBlYWNoIHByb3BlcnR5IGlzIGFuIG9iamVjdCB3aXRoIHgsIHksIGluc3RhbmNlIG9mIEZhYnJpYy5Qb2ludC5cbiAgICAgKiBUaGUgY29vcmRpbmF0ZXMgZGVwZW5kcyBmcm9tIHRoaXMgcHJvcGVydGllczogd2lkdGgsIGhlaWdodCwgc2NhbGVYLCBzY2FsZVlcbiAgICAgKiBza2V3WCwgc2tld1ksIGFuZ2xlLCBzdHJva2VXaWR0aCwgdG9wLCBsZWZ0LlxuICAgICAqIFRob3NlIGNvb3JkaW5hdGVzIGFyZSB1c2VmdWwgdG8gdW5kZXJzdGFuZCB3aGVyZSBhbiBvYmplY3QgaXMuIFRoZXkgZ2V0IHVwZGF0ZWRcbiAgICAgKiB3aXRoIG9Db29yZHMgYnV0IHRoZXkgZG8gbm90IG5lZWQgdG8gYmUgdXBkYXRlZCB3aGVuIHpvb20gb3IgcGFubmluZyBjaGFuZ2UuXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGdldCB1cGRhdGVkIHdpdGggQG1ldGhvZCBzZXRDb29yZHMuXG4gICAgICogWW91IGNhbiBjYWxjdWxhdGUgdGhlbSB3aXRob3V0IHVwZGF0aW5nIHdpdGggQG1ldGhvZCBjYWxjQUNvb3JkcygpO1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqL1xuICAgIGFDb29yZHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSBvYmplY3QncyBjb3JuZXIgcG9zaXRpb24gaW4gY2FudmFzIGVsZW1lbnQgY29vcmRpbmF0ZXMuXG4gICAgICogaW5jbHVkZXMgcGFkZGluZy4gVXNlZCBvZiBvYmplY3QgZGV0ZWN0aW9uLlxuICAgICAqIHNldCBhbmQgcmVmcmVzaGVkIHdpdGggc2V0Q29vcmRzLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqL1xuICAgIGxpbmVDb29yZHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBzdG9yYWdlIGZvciBvYmplY3QgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIG93bk1hdHJpeENhY2hlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogc3RvcmFnZSBmb3Igb2JqZWN0IGZ1bGwgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIG1hdHJpeENhY2hlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogY3VzdG9tIGNvbnRyb2xzIGludGVyZmFjZVxuICAgICAqIGNvbnRyb2xzIGFyZSBhZGRlZCBieSBkZWZhdWx0X2NvbnRyb2xzLmpzXG4gICAgICovXG4gICAgY29udHJvbHM6IHsgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiBjb3JyZWN0IHNldCBvZiBjb29yZGluYXRlcyBmb3IgaW50ZXJzZWN0aW9uXG4gICAgICogdGhpcyB3aWxsIHJldHVybiBlaXRoZXIgYUNvb3JkcyBvciBsaW5lQ29vcmRzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWJzb2x1dGUgd2lsbCByZXR1cm4gYUNvb3JkcyBpZiB0cnVlIG9yIGxpbmVDb29yZHNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHt0bCwgdHIsIGJyLCBibH0gcG9pbnRzXG4gICAgICovXG4gICAgX2dldENvb3JkczogZnVuY3Rpb24oYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgaWYgKGNhbGN1bGF0ZSkge1xuICAgICAgICByZXR1cm4gKGFic29sdXRlID8gdGhpcy5jYWxjQUNvb3JkcygpIDogdGhpcy5jYWxjTGluZUNvb3JkcygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5hQ29vcmRzIHx8ICF0aGlzLmxpbmVDb29yZHMpIHtcbiAgICAgICAgdGhpcy5zZXRDb29yZHModHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKGFic29sdXRlID8gdGhpcy5hQ29vcmRzIDogdGhpcy5saW5lQ29vcmRzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGNvcnJlY3Qgc2V0IG9mIGNvb3JkaW5hdGVzIGZvciBpbnRlcnNlY3Rpb25cbiAgICAgKiB0aGlzIHdpbGwgcmV0dXJuIGVpdGhlciBhQ29vcmRzIG9yIGxpbmVDb29yZHMuXG4gICAgICogVGhlIGNvb3JkcyBhcmUgcmV0dXJuZWQgaW4gYW4gYXJyYXkuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFt0bCwgdHIsIGJyLCBibF0gb2YgcG9pbnRzXG4gICAgICovXG4gICAgZ2V0Q29vcmRzOiBmdW5jdGlvbihhYnNvbHV0ZSwgY2FsY3VsYXRlKSB7XG4gICAgICByZXR1cm4gYXJyYXlGcm9tQ29vcmRzKHRoaXMuX2dldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBvYmplY3QgaW50ZXJzZWN0cyB3aXRoIGFuIGFyZWEgZm9ybWVkIGJ5IDIgcG9pbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50VEwgdG9wLWxlZnQgcG9pbnQgb2YgYXJlYVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludEJSIGJvdHRvbS1yaWdodCBwb2ludCBvZiBhcmVhXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaW50ZXJzZWN0cyB3aXRoIGFuIGFyZWEgZm9ybWVkIGJ5IDIgcG9pbnRzXG4gICAgICovXG4gICAgaW50ZXJzZWN0c1dpdGhSZWN0OiBmdW5jdGlvbihwb2ludFRMLCBwb2ludEJSLCBhYnNvbHV0ZSwgY2FsY3VsYXRlKSB7XG4gICAgICB2YXIgY29vcmRzID0gdGhpcy5nZXRDb29yZHMoYWJzb2x1dGUsIGNhbGN1bGF0ZSksXG4gICAgICAgICAgaW50ZXJzZWN0aW9uID0gZmFicmljLkludGVyc2VjdGlvbi5pbnRlcnNlY3RQb2x5Z29uUmVjdGFuZ2xlKFxuICAgICAgICAgICAgY29vcmRzLFxuICAgICAgICAgICAgcG9pbnRUTCxcbiAgICAgICAgICAgIHBvaW50QlJcbiAgICAgICAgICApO1xuICAgICAgcmV0dXJuIGludGVyc2VjdGlvbi5zdGF0dXMgPT09ICdJbnRlcnNlY3Rpb24nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGludGVyc2VjdHMgd2l0aCBhbm90aGVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBPYmplY3QgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgb2JqZWN0IGludGVyc2VjdHMgd2l0aCBhbm90aGVyIG9iamVjdFxuICAgICAqL1xuICAgIGludGVyc2VjdHNXaXRoT2JqZWN0OiBmdW5jdGlvbihvdGhlciwgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGludGVyc2VjdGlvbiA9IGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0UG9seWdvblBvbHlnb24oXG4gICAgICAgIHRoaXMuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpLFxuICAgICAgICBvdGhlci5nZXRDb29yZHMoYWJzb2x1dGUsIGNhbGN1bGF0ZSlcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBpbnRlcnNlY3Rpb24uc3RhdHVzID09PSAnSW50ZXJzZWN0aW9uJ1xuICAgICAgICB8fCBvdGhlci5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0aGlzLCBhYnNvbHV0ZSwgY2FsY3VsYXRlKVxuICAgICAgICB8fCB0aGlzLmlzQ29udGFpbmVkV2l0aGluT2JqZWN0KG90aGVyLCBhYnNvbHV0ZSwgY2FsY3VsYXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpcyBmdWxseSBjb250YWluZWQgd2l0aGluIGFyZWEgb2YgYW5vdGhlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgT2JqZWN0IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthYnNvbHV0ZV0gdXNlIGNvb3JkaW5hdGVzIHdpdGhvdXQgdmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjYWxjdWxhdGVdIHVzZSBjb29yZGluYXRlcyBvZiBjdXJyZW50IHBvc2l0aW9uIGluc3RlYWQgb2YgLm9Db29yZHNcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIG9iamVjdCBpcyBmdWxseSBjb250YWluZWQgd2l0aGluIGFyZWEgb2YgYW5vdGhlciBvYmplY3RcbiAgICAgKi9cbiAgICBpc0NvbnRhaW5lZFdpdGhpbk9iamVjdDogZnVuY3Rpb24ob3RoZXIsIGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIHZhciBwb2ludHMgPSB0aGlzLmdldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKSxcbiAgICAgICAgICBvdGhlckNvb3JkcyA9IGFic29sdXRlID8gb3RoZXIuYUNvb3JkcyA6IG90aGVyLmxpbmVDb29yZHMsXG4gICAgICAgICAgaSA9IDAsIGxpbmVzID0gb3RoZXIuX2dldEltYWdlTGluZXMob3RoZXJDb29yZHMpO1xuICAgICAgZm9yICg7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgaWYgKCFvdGhlci5jb250YWluc1BvaW50KHBvaW50c1tpXSwgbGluZXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpcyBmdWxseSBjb250YWluZWQgd2l0aGluIGFyZWEgZm9ybWVkIGJ5IDIgcG9pbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50VEwgdG9wLWxlZnQgcG9pbnQgb2YgYXJlYVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludEJSIGJvdHRvbS1yaWdodCBwb2ludCBvZiBhcmVhXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgZnVsbHkgY29udGFpbmVkIHdpdGhpbiBhcmVhIGZvcm1lZCBieSAyIHBvaW50c1xuICAgICAqL1xuICAgIGlzQ29udGFpbmVkV2l0aGluUmVjdDogZnVuY3Rpb24ocG9pbnRUTCwgcG9pbnRCUiwgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KGFic29sdXRlLCBjYWxjdWxhdGUpO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICBib3VuZGluZ1JlY3QubGVmdCA+PSBwb2ludFRMLnggJiZcbiAgICAgICAgYm91bmRpbmdSZWN0LmxlZnQgKyBib3VuZGluZ1JlY3Qud2lkdGggPD0gcG9pbnRCUi54ICYmXG4gICAgICAgIGJvdW5kaW5nUmVjdC50b3AgPj0gcG9pbnRUTC55ICYmXG4gICAgICAgIGJvdW5kaW5nUmVjdC50b3AgKyBib3VuZGluZ1JlY3QuaGVpZ2h0IDw9IHBvaW50QlIueVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHBvaW50IGlzIGluc2lkZSB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFBvaW50IHRvIGNoZWNrIGFnYWluc3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2xpbmVzXSBvYmplY3QgcmV0dXJuZWQgZnJvbSBAbWV0aG9kIF9nZXRJbWFnZUxpbmVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBwb2ludCBpcyBpbnNpZGUgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQ6IGZ1bmN0aW9uKHBvaW50LCBsaW5lcywgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGNvb3JkcyA9IHRoaXMuX2dldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKSxcbiAgICAgICAgICBsaW5lcyA9IGxpbmVzIHx8IHRoaXMuX2dldEltYWdlTGluZXMoY29vcmRzKSxcbiAgICAgICAgICB4UG9pbnRzID0gdGhpcy5fZmluZENyb3NzUG9pbnRzKHBvaW50LCBsaW5lcyk7XG4gICAgICAvLyBpZiB4UG9pbnRzIGlzIG9kZCB0aGVuIHBvaW50IGlzIGluc2lkZSB0aGUgb2JqZWN0XG4gICAgICByZXR1cm4gKHhQb2ludHMgIT09IDAgJiYgeFBvaW50cyAlIDIgPT09IDEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGNhbnZhcyB3aXRoIGN1cnJlbnQgdmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiB0aGUgY2hlY2sgaXMgZG9uZSBzdG9wcGluZyBhdCBmaXJzdCBwb2ludCB0aGF0IGFwcGVhcnMgb24gc2NyZWVuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5hQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgZnVsbHkgb3IgcGFydGlhbGx5IGNvbnRhaW5lZCB3aXRoaW4gY2FudmFzXG4gICAgICovXG4gICAgaXNPblNjcmVlbjogZnVuY3Rpb24oY2FsY3VsYXRlKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwb2ludFRMID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLnRsLCBwb2ludEJSID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLmJyO1xuICAgICAgdmFyIHBvaW50cyA9IHRoaXMuZ2V0Q29vcmRzKHRydWUsIGNhbGN1bGF0ZSk7XG4gICAgICAvLyBpZiBzb21lIHBvaW50IGlzIG9uIHNjcmVlbiwgdGhlIG9iamVjdCBpcyBvbiBzY3JlZW4uXG4gICAgICBpZiAocG9pbnRzLnNvbWUoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50LnggPD0gcG9pbnRCUi54ICYmIHBvaW50LnggPj0gcG9pbnRUTC54ICYmXG4gICAgICAgIHBvaW50LnkgPD0gcG9pbnRCUi55ICYmIHBvaW50LnkgPj0gcG9pbnRUTC55O1xuICAgICAgfSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvLyBubyBwb2ludHMgb24gc2NyZWVuLCBjaGVjayBpbnRlcnNlY3Rpb24gd2l0aCBhYnNvbHV0ZSBjb29yZGluYXRlc1xuICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0c1dpdGhSZWN0KHBvaW50VEwsIHBvaW50QlIsIHRydWUsIGNhbGN1bGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fY29udGFpbnNDZW50ZXJPZkNhbnZhcyhwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIG9iamVjdCBjb250YWlucyB0aGUgbWlkcG9pbnQgYmV0d2VlbiBjYW52YXMgZXh0cmVtaXRpZXNcbiAgICAgKiBEb2VzIG5vdCBtYWtlIHNlbnNlIG91dHNpZGUgdGhlIGNvbnRleHQgb2YgaXNPblNjcmVlbiBhbmQgaXNQYXJ0aWFsbHlPblNjcmVlblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGYWJyaWMuUG9pbnR9IHBvaW50VEwgVG9wIExlZnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge0ZhYnJpYy5Qb2ludH0gcG9pbnRCUiBUb3AgUmlnaHQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhbGN1bGF0ZSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgb2JqZWN0IGNvbnRhaW5zIHRoZSBwb2ludFxuICAgICAqL1xuICAgIF9jb250YWluc0NlbnRlck9mQ2FudmFzOiBmdW5jdGlvbihwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpIHtcbiAgICAgIC8vIHdvcnN0IGNhc2Ugc2NlbmFyaW8gdGhlIG9iamVjdCBpcyBzbyBiaWcgdGhhdCBjb250YWlucyB0aGUgc2NyZWVuXG4gICAgICB2YXIgY2VudGVyUG9pbnQgPSB7IHg6IChwb2ludFRMLnggKyBwb2ludEJSLngpIC8gMiwgeTogKHBvaW50VEwueSArIHBvaW50QlIueSkgLyAyIH07XG4gICAgICBpZiAodGhpcy5jb250YWluc1BvaW50KGNlbnRlclBvaW50LCBudWxsLCB0cnVlLCBjYWxjdWxhdGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGlzIHBhcnRpYWxseSBjb250YWluZWQgd2l0aGluIHRoZSBjYW52YXMgd2l0aCBjdXJyZW50IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgcGFydGlhbGx5IGNvbnRhaW5lZCB3aXRoaW4gY2FudmFzXG4gICAgICovXG4gICAgaXNQYXJ0aWFsbHlPblNjcmVlbjogZnVuY3Rpb24oY2FsY3VsYXRlKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwb2ludFRMID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLnRsLCBwb2ludEJSID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLmJyO1xuICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0c1dpdGhSZWN0KHBvaW50VEwsIHBvaW50QlIsIHRydWUsIGNhbGN1bGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgYWxsUG9pbnRzQXJlT3V0c2lkZSA9IHRoaXMuZ2V0Q29vcmRzKHRydWUsIGNhbGN1bGF0ZSkuZXZlcnkoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIChwb2ludC54ID49IHBvaW50QlIueCB8fCBwb2ludC54IDw9IHBvaW50VEwueCkgJiZcbiAgICAgICAgKHBvaW50LnkgPj0gcG9pbnRCUi55IHx8IHBvaW50LnkgPD0gcG9pbnRUTC55KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFsbFBvaW50c0FyZU91dHNpZGUgJiYgdGhpcy5fY29udGFpbnNDZW50ZXJPZkNhbnZhcyhwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBvYmplY3QgZWRnZXMgaW4gaXQsIGdpdmVuIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgY29ybmVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9Db29yZHMgQ29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdCBjb3JuZXJzXG4gICAgICovXG4gICAgX2dldEltYWdlTGluZXM6IGZ1bmN0aW9uKG9Db29yZHMpIHtcblxuICAgICAgdmFyIGxpbmVzID0ge1xuICAgICAgICB0b3BsaW5lOiB7XG4gICAgICAgICAgbzogb0Nvb3Jkcy50bCxcbiAgICAgICAgICBkOiBvQ29vcmRzLnRyXG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0bGluZToge1xuICAgICAgICAgIG86IG9Db29yZHMudHIsXG4gICAgICAgICAgZDogb0Nvb3Jkcy5iclxuICAgICAgICB9LFxuICAgICAgICBib3R0b21saW5lOiB7XG4gICAgICAgICAgbzogb0Nvb3Jkcy5icixcbiAgICAgICAgICBkOiBvQ29vcmRzLmJsXG4gICAgICAgIH0sXG4gICAgICAgIGxlZnRsaW5lOiB7XG4gICAgICAgICAgbzogb0Nvb3Jkcy5ibCxcbiAgICAgICAgICBkOiBvQ29vcmRzLnRsXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIC8vIGRlYnVnZ2luZ1xuICAgICAgLy8gaWYgKHRoaXMuY2FudmFzLmNvbnRleHRUb3ApIHtcbiAgICAgIC8vICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5ib3R0b21saW5lLmQueCwgbGluZXMuYm90dG9tbGluZS5kLnksIDIsIDIpO1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLmJvdHRvbWxpbmUuby54LCBsaW5lcy5ib3R0b21saW5lLm8ueSwgMiwgMik7XG4gICAgICAvL1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLmxlZnRsaW5lLmQueCwgbGluZXMubGVmdGxpbmUuZC55LCAyLCAyKTtcbiAgICAgIC8vICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5sZWZ0bGluZS5vLngsIGxpbmVzLmxlZnRsaW5lLm8ueSwgMiwgMik7XG4gICAgICAvL1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnRvcGxpbmUuZC54LCBsaW5lcy50b3BsaW5lLmQueSwgMiwgMik7XG4gICAgICAvLyAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMudG9wbGluZS5vLngsIGxpbmVzLnRvcGxpbmUuby55LCAyLCAyKTtcbiAgICAgIC8vXG4gICAgICAvLyAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMucmlnaHRsaW5lLmQueCwgbGluZXMucmlnaHRsaW5lLmQueSwgMiwgMik7XG4gICAgICAvLyAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMucmlnaHRsaW5lLm8ueCwgbGluZXMucmlnaHRsaW5lLm8ueSwgMiwgMik7XG4gICAgICAvLyB9XG5cbiAgICAgIHJldHVybiBsaW5lcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBkZXRlcm1pbmUgaG93IG1hbnkgY3Jvc3MgcG9pbnRzIGFyZSBiZXR3ZWVuIHRoZSA0IG9iamVjdCBlZGdlc1xuICAgICAqIGFuZCB0aGUgaG9yaXpvbnRhbCBsaW5lIGRldGVybWluZWQgYnkgYSBwb2ludCBvbiBjYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBQb2ludCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsaW5lcyBDb29yZGluYXRlcyBvZiB0aGUgb2JqZWN0IGJlaW5nIGV2YWx1YXRlZFxuICAgICAqL1xuICAgIC8vIHJlbW92ZSB5aSwgbm90IHVzZWQgYnV0IGxlZnQgY29kZSBoZXJlIGp1c3QgaW4gY2FzZS5cbiAgICBfZmluZENyb3NzUG9pbnRzOiBmdW5jdGlvbihwb2ludCwgbGluZXMpIHtcbiAgICAgIHZhciBiMSwgYjIsIGExLCBhMiwgeGksIC8vIHlpLFxuICAgICAgICAgIHhjb3VudCA9IDAsXG4gICAgICAgICAgaUxpbmU7XG5cbiAgICAgIGZvciAodmFyIGxpbmVLZXkgaW4gbGluZXMpIHtcbiAgICAgICAgaUxpbmUgPSBsaW5lc1tsaW5lS2V5XTtcbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uIDE6IGxpbmUgYmVsb3cgcG9pbnQuIG5vIGNyb3NzXG4gICAgICAgIGlmICgoaUxpbmUuby55IDwgcG9pbnQueSkgJiYgKGlMaW5lLmQueSA8IHBvaW50LnkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uIDI6IGxpbmUgYWJvdmUgcG9pbnQuIG5vIGNyb3NzXG4gICAgICAgIGlmICgoaUxpbmUuby55ID49IHBvaW50LnkpICYmIChpTGluZS5kLnkgPj0gcG9pbnQueSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpbWlzYXRpb24gMzogdmVydGljYWwgbGluZSBjYXNlXG4gICAgICAgIGlmICgoaUxpbmUuby54ID09PSBpTGluZS5kLngpICYmIChpTGluZS5vLnggPj0gcG9pbnQueCkpIHtcbiAgICAgICAgICB4aSA9IGlMaW5lLm8ueDtcbiAgICAgICAgICAvLyB5aSA9IHBvaW50Lnk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnRcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYjEgPSAwO1xuICAgICAgICAgIGIyID0gKGlMaW5lLmQueSAtIGlMaW5lLm8ueSkgLyAoaUxpbmUuZC54IC0gaUxpbmUuby54KTtcbiAgICAgICAgICBhMSA9IHBvaW50LnkgLSBiMSAqIHBvaW50Lng7XG4gICAgICAgICAgYTIgPSBpTGluZS5vLnkgLSBiMiAqIGlMaW5lLm8ueDtcblxuICAgICAgICAgIHhpID0gLShhMSAtIGEyKSAvIChiMSAtIGIyKTtcbiAgICAgICAgICAvLyB5aSA9IGExICsgYjEgKiB4aTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb250IGNvdW50IHhpIDwgcG9pbnQueCBjYXNlc1xuICAgICAgICBpZiAoeGkgPj0gcG9pbnQueCkge1xuICAgICAgICAgIHhjb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9wdGltaXNhdGlvbiA0OiBzcGVjaWZpYyBmb3Igc3F1YXJlIGltYWdlc1xuICAgICAgICBpZiAoeGNvdW50ID09PSAyKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB4Y291bnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2Ygb2JqZWN0J3MgYm91bmRpbmcgcmVjdGFuZ2xlIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpXG4gICAgICogdGhlIGJveCBpcyBpbnRlbmRlZCBhcyBhbGlnbmVkIHRvIGF4aXMgb2YgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3JkcyAvIC5hQ29vcmRzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdldEJvdW5kaW5nUmVjdDogZnVuY3Rpb24oYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGNvb3JkcyA9IHRoaXMuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpO1xuICAgICAgcmV0dXJuIHV0aWwubWFrZUJvdW5kaW5nQm94RnJvbVBvaW50cyhjb29yZHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdpZHRoIG9mIGFuIG9iamVjdCdzIGJvdW5kaW5nIGJveCBjb3VudGluZyB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiBiZWZvcmUgMi4wIGl0IHdhcyBuYW1lZCBnZXRXaWR0aCgpO1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gd2lkdGggdmFsdWVcbiAgICAgKi9cbiAgICBnZXRTY2FsZWRXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCkueDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBoZWlnaHQgb2YgYW4gb2JqZWN0IGJvdW5kaW5nIGJveCBjb3VudGluZyB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiBiZWZvcmUgMi4wIGl0IHdhcyBuYW1lZCBnZXRIZWlnaHQoKTtcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGhlaWdodCB2YWx1ZVxuICAgICAqL1xuICAgIGdldFNjYWxlZEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCkueTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgc3VyZSB0aGUgc2NhbGUgaXMgdmFsaWQgYW5kIG1vZGlmaWVzIGl0IGlmIG5lY2Vzc2FyeVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIF9jb25zdHJhaW5TY2FsZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChNYXRoLmFicyh2YWx1ZSkgPCB0aGlzLm1pblNjYWxlTGltaXQpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAgIHJldHVybiAtdGhpcy5taW5TY2FsZUxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLm1pblNjYWxlTGltaXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwLjAwMDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyBhbiBvYmplY3QgKGVxdWFsbHkgYnkgeCBhbmQgeSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgU2NhbGUgZmFjdG9yXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzY2FsZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRoaXMuX3NldCgnc2NhbGVYJywgdmFsdWUpO1xuICAgICAgdGhpcy5fc2V0KCdzY2FsZVknLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRDb29yZHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2NhbGVzIGFuIG9iamVjdCB0byBhIGdpdmVuIHdpZHRoLCB3aXRoIHJlc3BlY3QgdG8gYm91bmRpbmcgYm94IChzY2FsaW5nIGJ5IHgveSBlcXVhbGx5KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBOZXcgd2lkdGggdmFsdWVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFic29sdXRlIGlnbm9yZSB2aWV3cG9ydFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2NhbGVUb1dpZHRoOiBmdW5jdGlvbih2YWx1ZSwgYWJzb2x1dGUpIHtcbiAgICAgIC8vIGFkanVzdCB0byBib3VuZGluZyByZWN0IGZhY3RvciBzbyB0aGF0IHJvdGF0ZWQgc2hhcGVzIHdvdWxkIGZpdCBhcyB3ZWxsXG4gICAgICB2YXIgYm91bmRpbmdSZWN0RmFjdG9yID0gdGhpcy5nZXRCb3VuZGluZ1JlY3QoYWJzb2x1dGUpLndpZHRoIC8gdGhpcy5nZXRTY2FsZWRXaWR0aCgpO1xuICAgICAgcmV0dXJuIHRoaXMuc2NhbGUodmFsdWUgLyB0aGlzLndpZHRoIC8gYm91bmRpbmdSZWN0RmFjdG9yKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2NhbGVzIGFuIG9iamVjdCB0byBhIGdpdmVuIGhlaWdodCwgd2l0aCByZXNwZWN0IHRvIGJvdW5kaW5nIGJveCAoc2NhbGluZyBieSB4L3kgZXF1YWxseSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgTmV3IGhlaWdodCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWJzb2x1dGUgaWdub3JlIHZpZXdwb3J0XG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzY2FsZVRvSGVpZ2h0OiBmdW5jdGlvbih2YWx1ZSwgYWJzb2x1dGUpIHtcbiAgICAgIC8vIGFkanVzdCB0byBib3VuZGluZyByZWN0IGZhY3RvciBzbyB0aGF0IHJvdGF0ZWQgc2hhcGVzIHdvdWxkIGZpdCBhcyB3ZWxsXG4gICAgICB2YXIgYm91bmRpbmdSZWN0RmFjdG9yID0gdGhpcy5nZXRCb3VuZGluZ1JlY3QoYWJzb2x1dGUpLmhlaWdodCAvIHRoaXMuZ2V0U2NhbGVkSGVpZ2h0KCk7XG4gICAgICByZXR1cm4gdGhpcy5zY2FsZSh2YWx1ZSAvIHRoaXMuaGVpZ2h0IC8gYm91bmRpbmdSZWN0RmFjdG9yKTtcbiAgICB9LFxuXG4gICAgY2FsY0xpbmVDb29yZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZwdCA9IHRoaXMuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSxcbiAgICAgICAgICBwYWRkaW5nID0gdGhpcy5wYWRkaW5nLCBhbmdsZSA9IGRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSksXG4gICAgICAgICAgY29zID0gdXRpbC5jb3MoYW5nbGUpLCBzaW4gPSB1dGlsLnNpbihhbmdsZSksXG4gICAgICAgICAgY29zUCA9IGNvcyAqIHBhZGRpbmcsIHNpblAgPSBzaW4gKiBwYWRkaW5nLCBjb3NQU2luUCA9IGNvc1AgKyBzaW5QLFxuICAgICAgICAgIGNvc1BNaW51c1NpblAgPSBjb3NQIC0gc2luUCwgYUNvb3JkcyA9IHRoaXMuY2FsY0FDb29yZHMoKTtcblxuICAgICAgdmFyIGxpbmVDb29yZHMgPSB7XG4gICAgICAgIHRsOiB0cmFuc2Zvcm1Qb2ludChhQ29vcmRzLnRsLCB2cHQpLFxuICAgICAgICB0cjogdHJhbnNmb3JtUG9pbnQoYUNvb3Jkcy50ciwgdnB0KSxcbiAgICAgICAgYmw6IHRyYW5zZm9ybVBvaW50KGFDb29yZHMuYmwsIHZwdCksXG4gICAgICAgIGJyOiB0cmFuc2Zvcm1Qb2ludChhQ29vcmRzLmJyLCB2cHQpLFxuICAgICAgfTtcblxuICAgICAgaWYgKHBhZGRpbmcpIHtcbiAgICAgICAgbGluZUNvb3Jkcy50bC54IC09IGNvc1BNaW51c1NpblA7XG4gICAgICAgIGxpbmVDb29yZHMudGwueSAtPSBjb3NQU2luUDtcbiAgICAgICAgbGluZUNvb3Jkcy50ci54ICs9IGNvc1BTaW5QO1xuICAgICAgICBsaW5lQ29vcmRzLnRyLnkgLT0gY29zUE1pbnVzU2luUDtcbiAgICAgICAgbGluZUNvb3Jkcy5ibC54IC09IGNvc1BTaW5QO1xuICAgICAgICBsaW5lQ29vcmRzLmJsLnkgKz0gY29zUE1pbnVzU2luUDtcbiAgICAgICAgbGluZUNvb3Jkcy5ici54ICs9IGNvc1BNaW51c1NpblA7XG4gICAgICAgIGxpbmVDb29yZHMuYnIueSArPSBjb3NQU2luUDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpbmVDb29yZHM7XG4gICAgfSxcblxuICAgIGNhbGNPQ29vcmRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb3RhdGVNYXRyaXggPSB0aGlzLl9jYWxjUm90YXRlTWF0cml4KCksXG4gICAgICAgICAgdHJhbnNsYXRlTWF0cml4ID0gdGhpcy5fY2FsY1RyYW5zbGF0ZU1hdHJpeCgpLFxuICAgICAgICAgIHZwdCA9IHRoaXMuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSxcbiAgICAgICAgICBzdGFydE1hdHJpeCA9IG11bHRpcGx5TWF0cmljZXModnB0LCB0cmFuc2xhdGVNYXRyaXgpLFxuICAgICAgICAgIGZpbmFsTWF0cml4ID0gbXVsdGlwbHlNYXRyaWNlcyhzdGFydE1hdHJpeCwgcm90YXRlTWF0cml4KSxcbiAgICAgICAgICBmaW5hbE1hdHJpeCA9IG11bHRpcGx5TWF0cmljZXMoZmluYWxNYXRyaXgsIFsxIC8gdnB0WzBdLCAwLCAwLCAxIC8gdnB0WzNdLCAwLCAwXSksXG4gICAgICAgICAgZGltID0gdGhpcy5fY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnMoKSxcbiAgICAgICAgICBjb29yZHMgPSB7fTtcbiAgICAgIHRoaXMuZm9yRWFjaENvbnRyb2woZnVuY3Rpb24oY29udHJvbCwga2V5LCBmYWJyaWNPYmplY3QpIHtcbiAgICAgICAgY29vcmRzW2tleV0gPSBjb250cm9sLnBvc2l0aW9uSGFuZGxlcihkaW0sIGZpbmFsTWF0cml4LCBmYWJyaWNPYmplY3QpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGRlYnVnIGNvZGVcbiAgICAgIC8vIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAvLyAgIGNhbnZhcy5jb250ZXh0VG9wLmNsZWFyUmVjdCgwLCAwLCA3MDAsIDcwMCk7XG4gICAgICAvLyAgIGNhbnZhcy5jb250ZXh0VG9wLmZpbGxTdHlsZSA9ICdncmVlbic7XG4gICAgICAvLyAgIE9iamVjdC5rZXlzKGNvb3JkcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIC8vICAgICB2YXIgY29udHJvbCA9IGNvb3Jkc1trZXldO1xuICAgICAgLy8gICAgIGNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGNvbnRyb2wueCwgY29udHJvbC55LCAzLCAzKTtcbiAgICAgIC8vICAgfSk7XG4gICAgICAvLyB9LCA1MCk7XG4gICAgICByZXR1cm4gY29vcmRzO1xuICAgIH0sXG5cbiAgICBjYWxjQUNvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcm90YXRlTWF0cml4ID0gdGhpcy5fY2FsY1JvdGF0ZU1hdHJpeCgpLFxuICAgICAgICAgIHRyYW5zbGF0ZU1hdHJpeCA9IHRoaXMuX2NhbGNUcmFuc2xhdGVNYXRyaXgoKSxcbiAgICAgICAgICBmaW5hbE1hdHJpeCA9IG11bHRpcGx5TWF0cmljZXModHJhbnNsYXRlTWF0cml4LCByb3RhdGVNYXRyaXgpLFxuICAgICAgICAgIGRpbSA9IHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLFxuICAgICAgICAgIHcgPSBkaW0ueCAvIDIsIGggPSBkaW0ueSAvIDI7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAvLyBjb3JuZXJzXG4gICAgICAgIHRsOiB0cmFuc2Zvcm1Qb2ludCh7IHg6IC13LCB5OiAtaCB9LCBmaW5hbE1hdHJpeCksXG4gICAgICAgIHRyOiB0cmFuc2Zvcm1Qb2ludCh7IHg6IHcsIHk6IC1oIH0sIGZpbmFsTWF0cml4KSxcbiAgICAgICAgYmw6IHRyYW5zZm9ybVBvaW50KHsgeDogLXcsIHk6IGggfSwgZmluYWxNYXRyaXgpLFxuICAgICAgICBicjogdHJhbnNmb3JtUG9pbnQoeyB4OiB3LCB5OiBoIH0sIGZpbmFsTWF0cml4KVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBjb3JuZXIgYW5kIGNvbnRyb2xzIHBvc2l0aW9uIGNvb3JkaW5hdGVzIGJhc2VkIG9uIGN1cnJlbnQgYW5nbGUsIHdpZHRoIGFuZCBoZWlnaHQsIGxlZnQgYW5kIHRvcC5cbiAgICAgKiBvQ29vcmRzIGFyZSB1c2VkIHRvIGZpbmQgdGhlIGNvcm5lcnNcbiAgICAgKiBhQ29vcmRzIGFyZSB1c2VkIHRvIHF1aWNrbHkgZmluZCBhbiBvYmplY3Qgb24gdGhlIGNhbnZhc1xuICAgICAqIGxpbmVDb29yZHMgYXJlIHVzZWQgdG8gcXVpY2tseSBmaW5kIG9iamVjdCBkdXJpbmcgcG9pbnRlciBldmVudHMuXG4gICAgICogU2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFicmljanMvZmFicmljLmpzL3dpa2kvV2hlbi10by1jYWxsLXNldENvb3Jkc30gYW5kIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1nb3RjaGFzfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbc2tpcENvcm5lcnNdIHNraXAgY2FsY3VsYXRpb24gb2Ygb0Nvb3Jkcy5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldENvb3JkczogZnVuY3Rpb24oc2tpcENvcm5lcnMpIHtcbiAgICAgIHRoaXMuYUNvb3JkcyA9IHRoaXMuY2FsY0FDb29yZHMoKTtcbiAgICAgIC8vIGluIGNhc2Ugd2UgYXJlIGluIGEgZ3JvdXAsIGZvciBob3cgdGhlIGlubmVyIGdyb3VwIHRhcmdldCBjaGVjayB3b3JrcyxcbiAgICAgIC8vIGxpbmVDb29yZHMgYXJlIGV4YWN0bHkgYUNvb3Jkcy4gU2luY2UgdGhlIHZwdCBnZXRzIGFic29yYmVkIGJ5IHRoZSBub3JtYWxpemVkIHBvaW50ZXIuXG4gICAgICB0aGlzLmxpbmVDb29yZHMgPSB0aGlzLmdyb3VwID8gdGhpcy5hQ29vcmRzIDogdGhpcy5jYWxjTGluZUNvb3JkcygpO1xuICAgICAgaWYgKHNraXBDb3JuZXJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLy8gc2V0IGNvb3JkaW5hdGVzIG9mIHRoZSBkcmFnZ2FibGUgYm94ZXMgaW4gdGhlIGNvcm5lcnMgdXNlZCB0byBzY2FsZS9yb3RhdGUgdGhlIGltYWdlXG4gICAgICB0aGlzLm9Db29yZHMgPSB0aGlzLmNhbGNPQ29vcmRzKCk7XG4gICAgICB0aGlzLl9zZXRDb3JuZXJDb29yZHMgJiYgdGhpcy5fc2V0Q29ybmVyQ29vcmRzKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlIHJvdGF0aW9uIG1hdHJpeCBvZiBhbiBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gcm90YXRpb24gbWF0cml4IGZvciB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgX2NhbGNSb3RhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHV0aWwuY2FsY1JvdGF0ZU1hdHJpeCh0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlIHRoZSB0cmFuc2xhdGlvbiBtYXRyaXggZm9yIGFuIG9iamVjdCB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gcm90YXRpb24gbWF0cml4IGZvciB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgX2NhbGNUcmFuc2xhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgIHJldHVybiBbMSwgMCwgMCwgMSwgY2VudGVyLngsIGNlbnRlci55XTtcbiAgICB9LFxuXG4gICAgdHJhbnNmb3JtTWF0cml4S2V5OiBmdW5jdGlvbihza2lwR3JvdXApIHtcbiAgICAgIHZhciBzZXAgPSAnXycsIHByZWZpeCA9ICcnO1xuICAgICAgaWYgKCFza2lwR3JvdXAgJiYgdGhpcy5ncm91cCkge1xuICAgICAgICBwcmVmaXggPSB0aGlzLmdyb3VwLnRyYW5zZm9ybU1hdHJpeEtleShza2lwR3JvdXApICsgc2VwO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBwcmVmaXggKyB0aGlzLnRvcCArIHNlcCArIHRoaXMubGVmdCArIHNlcCArIHRoaXMuc2NhbGVYICsgc2VwICsgdGhpcy5zY2FsZVkgK1xuICAgICAgICBzZXAgKyB0aGlzLnNrZXdYICsgc2VwICsgdGhpcy5za2V3WSArIHNlcCArIHRoaXMuYW5nbGUgKyBzZXAgKyB0aGlzLm9yaWdpblggKyBzZXAgKyB0aGlzLm9yaWdpblkgK1xuICAgICAgICBzZXAgKyB0aGlzLndpZHRoICsgc2VwICsgdGhpcy5oZWlnaHQgKyBzZXAgKyB0aGlzLnN0cm9rZVdpZHRoICsgdGhpcy5mbGlwWCArIHRoaXMuZmxpcFk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZSB0cmFuc2Zvcm0gbWF0cml4IHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbnMgZnJvbSB0aGVcbiAgICAgKiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBHcm91cF0gcmV0dXJuIHRyYW5zZm9ybSBtYXRyaXggZm9yIG9iamVjdCBub3QgY291bnRpbmcgcGFyZW50IHRyYW5zZm9ybWF0aW9uc1xuICAgICAqIFRoZXJlIGFyZSBzb21lIHNpdHVhdGlvbiBpbiB3aGljaCB0aGlzIGlzIHVzZWZ1bCB0byBhdm9pZCB0aGUgZmFrZSByb3RhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gdHJhbnNmb3JtIG1hdHJpeCBmb3IgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIGNhbGNUcmFuc2Zvcm1NYXRyaXg6IGZ1bmN0aW9uKHNraXBHcm91cCkge1xuICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuY2FsY093bk1hdHJpeCgpO1xuICAgICAgaWYgKHNraXBHcm91cCB8fCAhdGhpcy5ncm91cCkge1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IHRoaXMudHJhbnNmb3JtTWF0cml4S2V5KHNraXBHcm91cCksIGNhY2hlID0gdGhpcy5tYXRyaXhDYWNoZSB8fCAodGhpcy5tYXRyaXhDYWNoZSA9IHt9KTtcbiAgICAgIGlmIChjYWNoZS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gY2FjaGUudmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgICBtYXRyaXggPSBtdWx0aXBseU1hdHJpY2VzKHRoaXMuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeChmYWxzZSksIG1hdHJpeCk7XG4gICAgICB9XG4gICAgICBjYWNoZS5rZXkgPSBrZXk7XG4gICAgICBjYWNoZS52YWx1ZSA9IG1hdHJpeDtcbiAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZSB0cmFuc2Zvcm0gbWF0cml4IHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbnMgZnJvbSB0aGVcbiAgICAgKiBvYmplY3QncyBwcm9wZXJ0aWVzLCB0aGlzIG1hdHJpeCBkb2VzIG5vdCBpbmNsdWRlIHRoZSBncm91cCB0cmFuc2Zvcm1hdGlvblxuICAgICAqIEByZXR1cm4ge0FycmF5fSB0cmFuc2Zvcm0gbWF0cml4IGZvciB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgY2FsY093bk1hdHJpeDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy50cmFuc2Zvcm1NYXRyaXhLZXkodHJ1ZSksIGNhY2hlID0gdGhpcy5vd25NYXRyaXhDYWNoZSB8fCAodGhpcy5vd25NYXRyaXhDYWNoZSA9IHt9KTtcbiAgICAgIGlmIChjYWNoZS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gY2FjaGUudmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgdE1hdHJpeCA9IHRoaXMuX2NhbGNUcmFuc2xhdGVNYXRyaXgoKSxcbiAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgYW5nbGU6IHRoaXMuYW5nbGUsXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiB0TWF0cml4WzRdLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogdE1hdHJpeFs1XSxcbiAgICAgICAgICAgIHNjYWxlWDogdGhpcy5zY2FsZVgsXG4gICAgICAgICAgICBzY2FsZVk6IHRoaXMuc2NhbGVZLFxuICAgICAgICAgICAgc2tld1g6IHRoaXMuc2tld1gsXG4gICAgICAgICAgICBza2V3WTogdGhpcy5za2V3WSxcbiAgICAgICAgICAgIGZsaXBYOiB0aGlzLmZsaXBYLFxuICAgICAgICAgICAgZmxpcFk6IHRoaXMuZmxpcFksXG4gICAgICAgICAgfTtcbiAgICAgIGNhY2hlLmtleSA9IGtleTtcbiAgICAgIGNhY2hlLnZhbHVlID0gdXRpbC5jb21wb3NlTWF0cml4KG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGNhY2hlLnZhbHVlO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIENhbGN1bGF0ZSBvYmplY3QgZGltZW5zaW9ucyBmcm9tIGl0cyBwcm9wZXJ0aWVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC54IHdpZHRoIGRpbWVuc2lvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gLnkgaGVpZ2h0IGRpbWVuc2lvblxuICAgICAqL1xuICAgIF9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpcy5zdHJva2VXaWR0aCxcbiAgICAgICAgICB3ID0gdGhpcy53aWR0aCArIHN0cm9rZVdpZHRoLFxuICAgICAgICAgIGggPSB0aGlzLmhlaWdodCArIHN0cm9rZVdpZHRoO1xuICAgICAgcmV0dXJuIHsgeDogdywgeTogaCB9O1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIENhbGN1bGF0ZSBvYmplY3QgYm91bmRpbmcgYm94IGRpbWVuc2lvbnMgZnJvbSBpdHMgcHJvcGVydGllcyBzY2FsZSwgc2tldy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2tld1gsIGEgdmFsdWUgdG8gb3ZlcnJpZGUgY3VycmVudCBza2V3WFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBza2V3WSwgYSB2YWx1ZSB0byBvdmVycmlkZSBjdXJyZW50IHNrZXdZXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC54IHdpZHRoIGRpbWVuc2lvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gLnkgaGVpZ2h0IGRpbWVuc2lvblxuICAgICAqL1xuICAgIF9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnM6IGZ1bmN0aW9uKHNrZXdYLCBza2V3WSkge1xuICAgICAgaWYgKHR5cGVvZiBza2V3WCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2tld1ggPSB0aGlzLnNrZXdYO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBza2V3WSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2tld1kgPSB0aGlzLnNrZXdZO1xuICAgICAgfVxuICAgICAgdmFyIGRpbWVuc2lvbnMsIGRpbVgsIGRpbVksXG4gICAgICAgICAgbm9Ta2V3ID0gc2tld1ggPT09IDAgJiYgc2tld1kgPT09IDA7XG5cbiAgICAgIGlmICh0aGlzLnN0cm9rZVVuaWZvcm0pIHtcbiAgICAgICAgZGltWCA9IHRoaXMud2lkdGg7XG4gICAgICAgIGRpbVkgPSB0aGlzLmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkaW1lbnNpb25zID0gdGhpcy5fZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zKCk7XG4gICAgICAgIGRpbVggPSBkaW1lbnNpb25zLng7XG4gICAgICAgIGRpbVkgPSBkaW1lbnNpb25zLnk7XG4gICAgICB9XG4gICAgICBpZiAobm9Ta2V3KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maW5hbGl6ZURpbWVuc2lvbnMoZGltWCAqIHRoaXMuc2NhbGVYLCBkaW1ZICogdGhpcy5zY2FsZVkpO1xuICAgICAgfVxuICAgICAgdmFyIGJib3ggPSB1dGlsLnNpemVBZnRlclRyYW5zZm9ybShkaW1YLCBkaW1ZLCB7XG4gICAgICAgIHNjYWxlWDogdGhpcy5zY2FsZVgsXG4gICAgICAgIHNjYWxlWTogdGhpcy5zY2FsZVksXG4gICAgICAgIHNrZXdYOiBza2V3WCxcbiAgICAgICAgc2tld1k6IHNrZXdZLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5fZmluYWxpemVEaW1lbnNpb25zKGJib3gueCwgYmJveC55KTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBDYWxjdWxhdGUgb2JqZWN0IGJvdW5kaW5nIGJveCBkaW1lbnNpb25zIGZyb20gaXRzIHByb3BlcnRpZXMgc2NhbGUsIHNrZXcuXG4gICAgICogQHBhcmFtIE51bWJlciB3aWR0aCB3aWR0aCBvZiB0aGUgYmJveFxuICAgICAqIEBwYXJhbSBOdW1iZXIgaGVpZ2h0IGhlaWdodCBvZiB0aGUgYmJveFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAueCBmaW5hbGl6ZWQgd2lkdGggZGltZW5zaW9uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAueSBmaW5hbGl6ZWQgaGVpZ2h0IGRpbWVuc2lvblxuICAgICAqL1xuICAgIF9maW5hbGl6ZURpbWVuc2lvbnM6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cm9rZVVuaWZvcm0gP1xuICAgICAgICB7IHg6IHdpZHRoICsgdGhpcy5zdHJva2VXaWR0aCwgeTogaGVpZ2h0ICsgdGhpcy5zdHJva2VXaWR0aCB9XG4gICAgICAgIDpcbiAgICAgICAgeyB4OiB3aWR0aCwgeTogaGVpZ2h0IH07XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQ2FsY3VsYXRlIG9iamVjdCBkaW1lbnNpb25zIGZvciBjb250cm9scyBib3gsIGluY2x1ZGluZyBwYWRkaW5nIGFuZCBjYW52YXMgem9vbS5cbiAgICAgKiBhbmQgYWN0aXZlIHNlbGVjdGlvblxuICAgICAqIHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkgIHtcbiAgICAgIHZhciB2cHQgPSB0aGlzLmdldFZpZXdwb3J0VHJhbnNmb3JtKCksXG4gICAgICAgICAgZGltID0gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCksXG4gICAgICAgICAgcCA9IHRyYW5zZm9ybVBvaW50KGRpbSwgdnB0LCB0cnVlKTtcbiAgICAgIHJldHVybiBwLnNjYWxhckFkZCgyICogdGhpcy5wYWRkaW5nKTtcbiAgICB9LFxuICB9KTtcbn0pKCk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIE1vdmVzIGFuIG9iamVjdCB0byB0aGUgYm90dG9tIG9mIHRoZSBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc2VuZFRvQmFjazogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLnNlbmRUb0JhY2suY2FsbCh0aGlzLmdyb3VwLCB0aGlzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzLnNlbmRUb0JhY2sodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBhbiBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGJyaW5nVG9Gcm9udDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLmJyaW5nVG9Gcm9udC5jYWxsKHRoaXMuZ3JvdXAsIHRoaXMpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMuYnJpbmdUb0Zyb250KHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgYW4gb2JqZWN0IGRvd24gaW4gc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnRlcnNlY3RpbmddIElmIGB0cnVlYCwgc2VuZCBvYmplY3QgYmVoaW5kIG5leHQgbG93ZXIgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHNlbmRCYWNrd2FyZHM6IGZ1bmN0aW9uKGludGVyc2VjdGluZykge1xuICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5zZW5kQmFja3dhcmRzLmNhbGwodGhpcy5ncm91cCwgdGhpcywgaW50ZXJzZWN0aW5nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzLnNlbmRCYWNrd2FyZHModGhpcywgaW50ZXJzZWN0aW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGFuIG9iamVjdCB1cCBpbiBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ludGVyc2VjdGluZ10gSWYgYHRydWVgLCBzZW5kIG9iamVjdCBpbiBmcm9udCBvZiBuZXh0IHVwcGVyIGludGVyc2VjdGluZyBvYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBicmluZ0ZvcndhcmQ6IGZ1bmN0aW9uKGludGVyc2VjdGluZykge1xuICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5icmluZ0ZvcndhcmQuY2FsbCh0aGlzLmdyb3VwLCB0aGlzLCBpbnRlcnNlY3RpbmcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMuYnJpbmdGb3J3YXJkKHRoaXMsIGludGVyc2VjdGluZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBhbiBvYmplY3QgdG8gc3BlY2lmaWVkIGxldmVsIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IE5ldyBwb3NpdGlvbiBvZiBvYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBtb3ZlVG86IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKHRoaXMuZ3JvdXAgJiYgdGhpcy5ncm91cC50eXBlICE9PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUubW92ZVRvLmNhbGwodGhpcy5ncm91cCwgdGhpcywgaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMubW92ZVRvKHRoaXMsIGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn0pO1xuXG5cbi8qIF9UT19TVkdfU1RBUlRfICovXG4oZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGdldFN2Z0NvbG9yU3RyaW5nKHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHByb3AgKyAnOiBub25lOyAnO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZS50b0xpdmUpIHtcbiAgICAgIHJldHVybiBwcm9wICsgJzogdXJsKCNTVkdJRF8nICsgdmFsdWUuaWQgKyAnKTsgJztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHZhbHVlKSxcbiAgICAgICAgICBzdHIgPSBwcm9wICsgJzogJyArIGNvbG9yLnRvUmdiKCkgKyAnOyAnLFxuICAgICAgICAgIG9wYWNpdHkgPSBjb2xvci5nZXRBbHBoYSgpO1xuICAgICAgaWYgKG9wYWNpdHkgIT09IDEpIHtcbiAgICAgICAgLy9jaGFuZ2UgdGhlIGNvbG9yIGluIHJnYiArIG9wYWNpdHlcbiAgICAgICAgc3RyICs9IHByb3AgKyAnLW9wYWNpdHk6ICcgKyBvcGFjaXR5LnRvU3RyaW5nKCkgKyAnOyAnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH1cblxuICB2YXIgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQ7XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHlsZXMtc3RyaW5nIGZvciBzdmctZXhwb3J0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBza2lwU2hhZG93IGEgYm9vbGVhbiB0byBza2lwIHNoYWRvdyBmaWx0ZXIgb3V0cHV0XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z1N0eWxlczogZnVuY3Rpb24oc2tpcFNoYWRvdykge1xuXG4gICAgICB2YXIgZmlsbFJ1bGUgPSB0aGlzLmZpbGxSdWxlID8gdGhpcy5maWxsUnVsZSA6ICdub256ZXJvJyxcbiAgICAgICAgICBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGggPyB0aGlzLnN0cm9rZVdpZHRoIDogJzAnLFxuICAgICAgICAgIHN0cm9rZURhc2hBcnJheSA9IHRoaXMuc3Ryb2tlRGFzaEFycmF5ID8gdGhpcy5zdHJva2VEYXNoQXJyYXkuam9pbignICcpIDogJ25vbmUnLFxuICAgICAgICAgIHN0cm9rZURhc2hPZmZzZXQgPSB0aGlzLnN0cm9rZURhc2hPZmZzZXQgPyB0aGlzLnN0cm9rZURhc2hPZmZzZXQgOiAnMCcsXG4gICAgICAgICAgc3Ryb2tlTGluZUNhcCA9IHRoaXMuc3Ryb2tlTGluZUNhcCA/IHRoaXMuc3Ryb2tlTGluZUNhcCA6ICdidXR0JyxcbiAgICAgICAgICBzdHJva2VMaW5lSm9pbiA9IHRoaXMuc3Ryb2tlTGluZUpvaW4gPyB0aGlzLnN0cm9rZUxpbmVKb2luIDogJ21pdGVyJyxcbiAgICAgICAgICBzdHJva2VNaXRlckxpbWl0ID0gdGhpcy5zdHJva2VNaXRlckxpbWl0ID8gdGhpcy5zdHJva2VNaXRlckxpbWl0IDogJzQnLFxuICAgICAgICAgIG9wYWNpdHkgPSB0eXBlb2YgdGhpcy5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJyA/IHRoaXMub3BhY2l0eSA6ICcxJyxcbiAgICAgICAgICB2aXNpYmlsaXR5ID0gdGhpcy52aXNpYmxlID8gJycgOiAnIHZpc2liaWxpdHk6IGhpZGRlbjsnLFxuICAgICAgICAgIGZpbHRlciA9IHNraXBTaGFkb3cgPyAnJyA6IHRoaXMuZ2V0U3ZnRmlsdGVyKCksXG4gICAgICAgICAgZmlsbCA9IGdldFN2Z0NvbG9yU3RyaW5nKCdmaWxsJywgdGhpcy5maWxsKSxcbiAgICAgICAgICBzdHJva2UgPSBnZXRTdmdDb2xvclN0cmluZygnc3Ryb2tlJywgdGhpcy5zdHJva2UpO1xuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBzdHJva2UsXG4gICAgICAgICdzdHJva2Utd2lkdGg6ICcsIHN0cm9rZVdpZHRoLCAnOyAnLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheTogJywgc3Ryb2tlRGFzaEFycmF5LCAnOyAnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVjYXA6ICcsIHN0cm9rZUxpbmVDYXAsICc7ICcsXG4gICAgICAgICdzdHJva2UtZGFzaG9mZnNldDogJywgc3Ryb2tlRGFzaE9mZnNldCwgJzsgJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lam9pbjogJywgc3Ryb2tlTGluZUpvaW4sICc7ICcsXG4gICAgICAgICdzdHJva2UtbWl0ZXJsaW1pdDogJywgc3Ryb2tlTWl0ZXJMaW1pdCwgJzsgJyxcbiAgICAgICAgZmlsbCxcbiAgICAgICAgJ2ZpbGwtcnVsZTogJywgZmlsbFJ1bGUsICc7ICcsXG4gICAgICAgICdvcGFjaXR5OiAnLCBvcGFjaXR5LCAnOycsXG4gICAgICAgIGZpbHRlcixcbiAgICAgICAgdmlzaWJpbGl0eVxuICAgICAgXS5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHlsZXMtc3RyaW5nIGZvciBzdmctZXhwb3J0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlIHRoZSBvYmplY3QgZnJvbSB3aGljaCB0byByZXRyaWV2ZSBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSB1c2VXaGl0ZVNwYWNlIGEgYm9vbGVhbiB0byBpbmNsdWRlIGFuIGFkZGl0aW9uYWwgYXR0cmlidXRlIGluIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnU3BhblN0eWxlczogZnVuY3Rpb24oc3R5bGUsIHVzZVdoaXRlU3BhY2UpIHtcbiAgICAgIHZhciB0ZXJtID0gJzsgJztcbiAgICAgIHZhciBmb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseSA/XG4gICAgICAgICdmb250LWZhbWlseTogJyArICgoKHN0eWxlLmZvbnRGYW1pbHkuaW5kZXhPZignXFwnJykgPT09IC0xICYmIHN0eWxlLmZvbnRGYW1pbHkuaW5kZXhPZignXCInKSA9PT0gLTEpID9cbiAgICAgICAgICAnXFwnJyArIHN0eWxlLmZvbnRGYW1pbHkgICsgJ1xcJycgOiBzdHlsZS5mb250RmFtaWx5KSkgKyB0ZXJtIDogJyc7XG4gICAgICB2YXIgc3Ryb2tlV2lkdGggPSBzdHlsZS5zdHJva2VXaWR0aCA/ICdzdHJva2Utd2lkdGg6ICcgKyBzdHlsZS5zdHJva2VXaWR0aCArIHRlcm0gOiAnJyxcbiAgICAgICAgICBmb250RmFtaWx5ID0gZm9udEZhbWlseSxcbiAgICAgICAgICBmb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplID8gJ2ZvbnQtc2l6ZTogJyArIHN0eWxlLmZvbnRTaXplICsgJ3B4JyArIHRlcm0gOiAnJyxcbiAgICAgICAgICBmb250U3R5bGUgPSBzdHlsZS5mb250U3R5bGUgPyAnZm9udC1zdHlsZTogJyArIHN0eWxlLmZvbnRTdHlsZSArIHRlcm0gOiAnJyxcbiAgICAgICAgICBmb250V2VpZ2h0ID0gc3R5bGUuZm9udFdlaWdodCA/ICdmb250LXdlaWdodDogJyArIHN0eWxlLmZvbnRXZWlnaHQgKyB0ZXJtIDogJycsXG4gICAgICAgICAgZmlsbCA9IHN0eWxlLmZpbGwgPyBnZXRTdmdDb2xvclN0cmluZygnZmlsbCcsIHN0eWxlLmZpbGwpIDogJycsXG4gICAgICAgICAgc3Ryb2tlID0gc3R5bGUuc3Ryb2tlID8gZ2V0U3ZnQ29sb3JTdHJpbmcoJ3N0cm9rZScsIHN0eWxlLnN0cm9rZSkgOiAnJyxcbiAgICAgICAgICB0ZXh0RGVjb3JhdGlvbiA9IHRoaXMuZ2V0U3ZnVGV4dERlY29yYXRpb24oc3R5bGUpLFxuICAgICAgICAgIGRlbHRhWSA9IHN0eWxlLmRlbHRhWSA/ICdiYXNlbGluZS1zaGlmdDogJyArICgtc3R5bGUuZGVsdGFZKSArICc7ICcgOiAnJztcbiAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbikge1xuICAgICAgICB0ZXh0RGVjb3JhdGlvbiA9ICd0ZXh0LWRlY29yYXRpb246ICcgKyB0ZXh0RGVjb3JhdGlvbiArIHRlcm07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbXG4gICAgICAgIHN0cm9rZSxcbiAgICAgICAgc3Ryb2tlV2lkdGgsXG4gICAgICAgIGZvbnRGYW1pbHksXG4gICAgICAgIGZvbnRTaXplLFxuICAgICAgICBmb250U3R5bGUsXG4gICAgICAgIGZvbnRXZWlnaHQsXG4gICAgICAgIHRleHREZWNvcmF0aW9uLFxuICAgICAgICBmaWxsLFxuICAgICAgICBkZWx0YVksXG4gICAgICAgIHVzZVdoaXRlU3BhY2UgPyAnd2hpdGUtc3BhY2U6IHByZTsgJyA6ICcnXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRleHQtZGVjb3JhdGlvbiBwcm9wZXJ0eSBmb3Igc3ZnLWV4cG9ydFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZSB0aGUgb2JqZWN0IGZyb20gd2hpY2ggdG8gcmV0cmlldmUgc3R5bGUgcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdUZXh0RGVjb3JhdGlvbjogZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgIHJldHVybiBbJ292ZXJsaW5lJywgJ3VuZGVybGluZScsICdsaW5lLXRocm91Z2gnXS5maWx0ZXIoZnVuY3Rpb24oZGVjb3JhdGlvbikge1xuICAgICAgICByZXR1cm4gc3R5bGVbZGVjb3JhdGlvbi5yZXBsYWNlKCctJywgJycpXTtcbiAgICAgIH0pLmpvaW4oJyAnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBmaWx0ZXIgZm9yIHN2ZyBzaGFkb3dcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnRmlsdGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNoYWRvdyA/ICdmaWx0ZXI6IHVybCgjU1ZHSURfJyArIHRoaXMuc2hhZG93LmlkICsgJyk7JyA6ICcnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlkIGF0dHJpYnV0ZSBmb3Igc3ZnIG91dHB1dFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdDb21tb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHRoaXMuaWQgPyAnaWQ9XCInICsgdGhpcy5pZCArICdcIiAnIDogJycsXG4gICAgICAgIHRoaXMuY2xpcFBhdGggPyAnY2xpcC1wYXRoPVwidXJsKCMnICsgdGhpcy5jbGlwUGF0aC5jbGlwUGF0aElkICsgJylcIiAnIDogJycsXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRyYW5zZm9ybS1zdHJpbmcgZm9yIHN2Zy1leHBvcnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHVzZSB0aGUgZnVsbCB0cmFuc2Zvcm0gb3IgdGhlIHNpbmdsZSBvYmplY3Qgb25lLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdUcmFuc2Zvcm06IGZ1bmN0aW9uKGZ1bGwsIGFkZGl0aW9uYWxUcmFuc2Zvcm0pIHtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBmdWxsID8gdGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCkgOiB0aGlzLmNhbGNPd25NYXRyaXgoKSxcbiAgICAgICAgICBzdmdUcmFuc2Zvcm0gPSAndHJhbnNmb3JtPVwiJyArIGZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKHRyYW5zZm9ybSk7XG4gICAgICByZXR1cm4gc3ZnVHJhbnNmb3JtICtcbiAgICAgICAgKGFkZGl0aW9uYWxUcmFuc2Zvcm0gfHwgJycpICsgJ1wiICc7XG4gICAgfSxcblxuICAgIF9zZXRTVkdCZzogZnVuY3Rpb24odGV4dEJnUmVjdHMpIHtcbiAgICAgIGlmICh0aGlzLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICB2YXIgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUztcbiAgICAgICAgdGV4dEJnUmVjdHMucHVzaChcbiAgICAgICAgICAnXFx0XFx0PHJlY3QgJyxcbiAgICAgICAgICB0aGlzLl9nZXRGaWxsQXR0cmlidXRlcyh0aGlzLmJhY2tncm91bmRDb2xvciksXG4gICAgICAgICAgJyB4PVwiJyxcbiAgICAgICAgICB0b0ZpeGVkKC10aGlzLndpZHRoIC8gMiwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgJ1wiIHk9XCInLFxuICAgICAgICAgIHRvRml4ZWQoLXRoaXMuaGVpZ2h0IC8gMiwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgJ1wiIHdpZHRoPVwiJyxcbiAgICAgICAgICB0b0ZpeGVkKHRoaXMud2lkdGgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICdcIiBoZWlnaHQ9XCInLFxuICAgICAgICAgIHRvRml4ZWQodGhpcy5oZWlnaHQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICdcIj48L3JlY3Q+XFxuJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQmFzZVNWR01hcmt1cCh0aGlzLl90b1NWRyhyZXZpdmVyKSwgeyByZXZpdmVyOiByZXZpdmVyIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyBjbGlwUGF0aCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0NsaXBQYXRoU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICByZXR1cm4gJ1xcdCcgKyB0aGlzLl9jcmVhdGVCYXNlQ2xpcFBhdGhTVkdNYXJrdXAodGhpcy5fdG9TVkcocmV2aXZlciksIHsgcmV2aXZlcjogcmV2aXZlciB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwOiBmdW5jdGlvbihvYmplY3RNYXJrdXAsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdmFyIHJldml2ZXIgPSBvcHRpb25zLnJldml2ZXIsXG4gICAgICAgICAgYWRkaXRpb25hbFRyYW5zZm9ybSA9IG9wdGlvbnMuYWRkaXRpb25hbFRyYW5zZm9ybSB8fCAnJyxcbiAgICAgICAgICBjb21tb25QaWVjZXMgPSBbXG4gICAgICAgICAgICB0aGlzLmdldFN2Z1RyYW5zZm9ybSh0cnVlLCBhZGRpdGlvbmFsVHJhbnNmb3JtKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0U3ZnQ29tbW9ucygpLFxuICAgICAgICAgIF0uam9pbignJyksXG4gICAgICAgICAgLy8gaW5zZXJ0IGNvbW1vbnMgaW4gdGhlIG1hcmt1cCwgc3R5bGUgYW5kIHN2Z0NvbW1vbnNcbiAgICAgICAgICBpbmRleCA9IG9iamVjdE1hcmt1cC5pbmRleE9mKCdDT01NT05fUEFSVFMnKTtcbiAgICAgIG9iamVjdE1hcmt1cFtpbmRleF0gPSBjb21tb25QaWVjZXM7XG4gICAgICByZXR1cm4gcmV2aXZlciA/IHJldml2ZXIob2JqZWN0TWFya3VwLmpvaW4oJycpKSA6IG9iamVjdE1hcmt1cC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQmFzZVNWR01hcmt1cDogZnVuY3Rpb24ob2JqZWN0TWFya3VwLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBub1N0eWxlID0gb3B0aW9ucy5ub1N0eWxlLFxuICAgICAgICAgIHJldml2ZXIgPSBvcHRpb25zLnJldml2ZXIsXG4gICAgICAgICAgc3R5bGVJbmZvID0gbm9TdHlsZSA/ICcnIDogJ3N0eWxlPVwiJyArIHRoaXMuZ2V0U3ZnU3R5bGVzKCkgKyAnXCIgJyxcbiAgICAgICAgICBzaGFkb3dJbmZvID0gb3B0aW9ucy53aXRoU2hhZG93ID8gJ3N0eWxlPVwiJyArIHRoaXMuZ2V0U3ZnRmlsdGVyKCkgKyAnXCIgJyA6ICcnLFxuICAgICAgICAgIGNsaXBQYXRoID0gdGhpcy5jbGlwUGF0aCxcbiAgICAgICAgICB2ZWN0b3JFZmZlY3QgPSB0aGlzLnN0cm9rZVVuaWZvcm0gPyAndmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiICcgOiAnJyxcbiAgICAgICAgICBhYnNvbHV0ZUNsaXBQYXRoID0gY2xpcFBhdGggJiYgY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkLFxuICAgICAgICAgIHN0cm9rZSA9IHRoaXMuc3Ryb2tlLCBmaWxsID0gdGhpcy5maWxsLCBzaGFkb3cgPSB0aGlzLnNoYWRvdyxcbiAgICAgICAgICBjb21tb25QaWVjZXMsIG1hcmt1cCA9IFtdLCBjbGlwUGF0aE1hcmt1cCxcbiAgICAgICAgICAvLyBpbnNlcnQgY29tbW9ucyBpbiB0aGUgbWFya3VwLCBzdHlsZSBhbmQgc3ZnQ29tbW9uc1xuICAgICAgICAgIGluZGV4ID0gb2JqZWN0TWFya3VwLmluZGV4T2YoJ0NPTU1PTl9QQVJUUycpLFxuICAgICAgICAgIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSBvcHRpb25zLmFkZGl0aW9uYWxUcmFuc2Zvcm07XG4gICAgICBpZiAoY2xpcFBhdGgpIHtcbiAgICAgICAgY2xpcFBhdGguY2xpcFBhdGhJZCA9ICdDTElQUEFUSF8nICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgICBjbGlwUGF0aE1hcmt1cCA9ICc8Y2xpcFBhdGggaWQ9XCInICsgY2xpcFBhdGguY2xpcFBhdGhJZCArICdcIiA+XFxuJyArXG4gICAgICAgICAgY2xpcFBhdGgudG9DbGlwUGF0aFNWRyhyZXZpdmVyKSArXG4gICAgICAgICAgJzwvY2xpcFBhdGg+XFxuJztcbiAgICAgIH1cbiAgICAgIGlmIChhYnNvbHV0ZUNsaXBQYXRoKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAgICc8ZyAnLCBzaGFkb3dJbmZvLCB0aGlzLmdldFN2Z0NvbW1vbnMoKSwgJyA+XFxuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICc8ZyAnLFxuICAgICAgICB0aGlzLmdldFN2Z1RyYW5zZm9ybShmYWxzZSksXG4gICAgICAgICFhYnNvbHV0ZUNsaXBQYXRoID8gc2hhZG93SW5mbyArIHRoaXMuZ2V0U3ZnQ29tbW9ucygpIDogJycsXG4gICAgICAgICcgPlxcbidcbiAgICAgICk7XG4gICAgICBjb21tb25QaWVjZXMgPSBbXG4gICAgICAgIHN0eWxlSW5mbyxcbiAgICAgICAgdmVjdG9yRWZmZWN0LFxuICAgICAgICBub1N0eWxlID8gJycgOiB0aGlzLmFkZFBhaW50T3JkZXIoKSwgJyAnLFxuICAgICAgICBhZGRpdGlvbmFsVHJhbnNmb3JtID8gJ3RyYW5zZm9ybT1cIicgKyBhZGRpdGlvbmFsVHJhbnNmb3JtICsgJ1wiICcgOiAnJyxcbiAgICAgIF0uam9pbignJyk7XG4gICAgICBvYmplY3RNYXJrdXBbaW5kZXhdID0gY29tbW9uUGllY2VzO1xuICAgICAgaWYgKGZpbGwgJiYgZmlsbC50b0xpdmUpIHtcbiAgICAgICAgbWFya3VwLnB1c2goZmlsbC50b1NWRyh0aGlzKSk7XG4gICAgICB9XG4gICAgICBpZiAoc3Ryb2tlICYmIHN0cm9rZS50b0xpdmUpIHtcbiAgICAgICAgbWFya3VwLnB1c2goc3Ryb2tlLnRvU1ZHKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFkb3cpIHtcbiAgICAgICAgbWFya3VwLnB1c2goc2hhZG93LnRvU1ZHKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjbGlwUGF0aCkge1xuICAgICAgICBtYXJrdXAucHVzaChjbGlwUGF0aE1hcmt1cCk7XG4gICAgICB9XG4gICAgICBtYXJrdXAucHVzaChvYmplY3RNYXJrdXAuam9pbignJykpO1xuICAgICAgbWFya3VwLnB1c2goJzwvZz5cXG4nKTtcbiAgICAgIGFic29sdXRlQ2xpcFBhdGggJiYgbWFya3VwLnB1c2goJzwvZz5cXG4nKTtcbiAgICAgIHJldHVybiByZXZpdmVyID8gcmV2aXZlcihtYXJrdXAuam9pbignJykpIDogbWFya3VwLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICBhZGRQYWludE9yZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhaW50Rmlyc3QgIT09ICdmaWxsJyA/ICcgcGFpbnQtb3JkZXI9XCInICsgdGhpcy5wYWludEZpcnN0ICsgJ1wiICcgOiAnJztcbiAgICB9XG4gIH0pO1xufSkoKTtcbi8qIF9UT19TVkdfRU5EXyAqL1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIG9yaWdpbmFsU2V0ID0gJ3N0YXRlUHJvcGVydGllcyc7XG5cbiAgLypcbiAgICBEZXBlbmRzIG9uIGBzdGF0ZVByb3BlcnRpZXNgXG4gICovXG4gIGZ1bmN0aW9uIHNhdmVQcm9wcyhvcmlnaW4sIGRlc3RpbmF0aW9uLCBwcm9wcykge1xuICAgIHZhciB0bXBPYmogPSB7IH0sIGRlZXAgPSB0cnVlO1xuICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgdG1wT2JqW3Byb3BdID0gb3JpZ2luW3Byb3BdO1xuICAgIH0pO1xuXG4gICAgZXh0ZW5kKG9yaWdpbltkZXN0aW5hdGlvbl0sIHRtcE9iaiwgZGVlcCk7XG4gIH1cblxuICBmdW5jdGlvbiBfaXNFcXVhbChvcmlnVmFsdWUsIGN1cnJlbnRWYWx1ZSwgZmlyc3RQYXNzKSB7XG4gICAgaWYgKG9yaWdWYWx1ZSA9PT0gY3VycmVudFZhbHVlKSB7XG4gICAgICAvLyBpZiB0aGUgb2JqZWN0cyBhcmUgaWRlbnRpY2FsLCByZXR1cm5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9yaWdWYWx1ZSkpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpIHx8IG9yaWdWYWx1ZS5sZW5ndGggIT09IGN1cnJlbnRWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG9yaWdWYWx1ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoIV9pc0VxdWFsKG9yaWdWYWx1ZVtpXSwgY3VycmVudFZhbHVlW2ldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9yaWdWYWx1ZSAmJiB0eXBlb2Ygb3JpZ1ZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcmlnVmFsdWUpLCBrZXk7XG4gICAgICBpZiAoIWN1cnJlbnRWYWx1ZSB8fFxuICAgICAgICAgIHR5cGVvZiBjdXJyZW50VmFsdWUgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgKCFmaXJzdFBhc3MgJiYga2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKGN1cnJlbnRWYWx1ZSkubGVuZ3RoKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgIC8vIHNpbmNlIGNsaXBQYXRoIGlzIGluIHRoZSBzdGF0ZWZ1bGwgY2FjaGUgbGlzdCBhbmQgdGhlIGNsaXBQYXRoIG9iamVjdHNcbiAgICAgICAgLy8gd291bGQgYmUgaXRlcmF0ZWQgYXMgYW4gb2JqZWN0LCB0aGlzIHdvdWxkIGxlYWQgdG8gcG9zc2libGUgaW5maW5pdGUgcmVjdXJzaW9uXG4gICAgICAgIC8vIHdlIGRvIG5vdCB3YW50IHRvIGNvbXBhcmUgdGhvc2UuXG4gICAgICAgIGlmIChrZXkgPT09ICdjYW52YXMnIHx8IGtleSA9PT0gJ2dyb3VwJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX2lzRXF1YWwob3JpZ1ZhbHVlW2tleV0sIGN1cnJlbnRWYWx1ZVtrZXldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3Qgc3RhdGUgKG9uZSBvZiBpdHMgc3RhdGUgcHJvcGVydGllcykgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnR5U2V0XSBvcHRpb25hbCBuYW1lIGZvciB0aGUgc2V0IG9mIHByb3BlcnR5IHdlIHdhbnQgdG8gc2F2ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgaW5zdGFuY2UnIHN0YXRlIGhhcyBjaGFuZ2VkIHNpbmNlIGB7QGxpbmsgZmFicmljLk9iamVjdCNzYXZlU3RhdGV9YCB3YXMgY2FsbGVkXG4gICAgICovXG4gICAgaGFzU3RhdGVDaGFuZ2VkOiBmdW5jdGlvbihwcm9wZXJ0eVNldCkge1xuICAgICAgcHJvcGVydHlTZXQgPSBwcm9wZXJ0eVNldCB8fCBvcmlnaW5hbFNldDtcbiAgICAgIHZhciBkYXNoZWRQcm9wZXJ0eVNldCA9ICdfJyArIHByb3BlcnR5U2V0O1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXNbZGFzaGVkUHJvcGVydHlTZXRdKS5sZW5ndGggPCB0aGlzW3Byb3BlcnR5U2V0XS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gIV9pc0VxdWFsKHRoaXNbZGFzaGVkUHJvcGVydHlTZXRdLCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2F2ZXMgc3RhdGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPYmplY3Qgd2l0aCBhZGRpdGlvbmFsIGBzdGF0ZVByb3BlcnRpZXNgIGFycmF5IHRvIGluY2x1ZGUgd2hlbiBzYXZpbmcgc3RhdGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICovXG4gICAgc2F2ZVN0YXRlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcGVydHlTZXQgPSBvcHRpb25zICYmIG9wdGlvbnMucHJvcGVydHlTZXQgfHwgb3JpZ2luYWxTZXQsXG4gICAgICAgICAgZGVzdGluYXRpb24gPSAnXycgKyBwcm9wZXJ0eVNldDtcbiAgICAgIGlmICghdGhpc1tkZXN0aW5hdGlvbl0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dXBTdGF0ZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHNhdmVQcm9wcyh0aGlzLCBkZXN0aW5hdGlvbiwgdGhpc1twcm9wZXJ0eVNldF0pO1xuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zdGF0ZVByb3BlcnRpZXMpIHtcbiAgICAgICAgc2F2ZVByb3BzKHRoaXMsIGRlc3RpbmF0aW9uLCBvcHRpb25zLnN0YXRlUHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXBzIHN0YXRlIG9mIGFuIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IHdpdGggYWRkaXRpb25hbCBgc3RhdGVQcm9wZXJ0aWVzYCBhcnJheSB0byBpbmNsdWRlIHdoZW4gc2F2aW5nIHN0YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHNldHVwU3RhdGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgfTtcbiAgICAgIHZhciBwcm9wZXJ0eVNldCA9IG9wdGlvbnMucHJvcGVydHlTZXQgfHwgb3JpZ2luYWxTZXQ7XG4gICAgICBvcHRpb25zLnByb3BlcnR5U2V0ID0gcHJvcGVydHlTZXQ7XG4gICAgICB0aGlzWydfJyArIHByb3BlcnR5U2V0XSA9IHsgfTtcbiAgICAgIHRoaXMuc2F2ZVN0YXRlKG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucztcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoaWNoIGNvcm5lciBoYXMgYmVlbiBjbGlja2VkXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciBUaGUgcG9pbnRlciBpbmRpY2F0aW5nIHRoZSBtb3VzZSBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge1N0cmluZ3xCb29sZWFufSBjb3JuZXIgY29kZSAodGwsIHRyLCBibCwgYnIsIGV0Yy4pLCBvciBmYWxzZSBpZiBub3RoaW5nIGlzIGZvdW5kXG4gICAgICovXG4gICAgX2ZpbmRUYXJnZXRDb3JuZXI6IGZ1bmN0aW9uKHBvaW50ZXIsIGZvclRvdWNoKSB7XG4gICAgICAvLyBvYmplY3RzIGluIGdyb3VwLCBhbnlraW5kLCBhcmUgbm90IHNlbGYgbW9kaWZpY2FibGUsXG4gICAgICAvLyBtdXN0IG5vdCByZXR1cm4gYW4gaG92ZXJlZCBjb3JuZXIuXG4gICAgICBpZiAoIXRoaXMuaGFzQ29udHJvbHMgfHwgdGhpcy5ncm91cCB8fCAoIXRoaXMuY2FudmFzIHx8IHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3QgIT09IHRoaXMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGV4ID0gcG9pbnRlci54LFxuICAgICAgICAgIGV5ID0gcG9pbnRlci55LFxuICAgICAgICAgIHhQb2ludHMsXG4gICAgICAgICAgbGluZXMsIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLm9Db29yZHMpLFxuICAgICAgICAgIGogPSBrZXlzLmxlbmd0aCAtIDEsIGk7XG4gICAgICB0aGlzLl9fY29ybmVyID0gMDtcblxuICAgICAgLy8gY3ljbGUgaW4gcmV2ZXJzZSBvcmRlciBzbyB3ZSBwaWNrIGZpcnN0IHRoZSBvbmUgb24gdG9wXG4gICAgICBmb3IgKDsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgaSA9IGtleXNbal07XG4gICAgICAgIGlmICghdGhpcy5pc0NvbnRyb2xWaXNpYmxlKGkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lcyA9IHRoaXMuX2dldEltYWdlTGluZXMoZm9yVG91Y2ggPyB0aGlzLm9Db29yZHNbaV0udG91Y2hDb3JuZXIgOiB0aGlzLm9Db29yZHNbaV0uY29ybmVyKTtcbiAgICAgICAgLy8gLy8gZGVidWdnaW5nXG4gICAgICAgIC8vXG4gICAgICAgIC8vIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMuYm90dG9tbGluZS5kLngsIGxpbmVzLmJvdHRvbWxpbmUuZC55LCAyLCAyKTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5ib3R0b21saW5lLm8ueCwgbGluZXMuYm90dG9tbGluZS5vLnksIDIsIDIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLmxlZnRsaW5lLmQueCwgbGluZXMubGVmdGxpbmUuZC55LCAyLCAyKTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5sZWZ0bGluZS5vLngsIGxpbmVzLmxlZnRsaW5lLm8ueSwgMiwgMik7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMudG9wbGluZS5kLngsIGxpbmVzLnRvcGxpbmUuZC55LCAyLCAyKTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy50b3BsaW5lLm8ueCwgbGluZXMudG9wbGluZS5vLnksIDIsIDIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnJpZ2h0bGluZS5kLngsIGxpbmVzLnJpZ2h0bGluZS5kLnksIDIsIDIpO1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnJpZ2h0bGluZS5vLngsIGxpbmVzLnJpZ2h0bGluZS5vLnksIDIsIDIpO1xuXG4gICAgICAgIHhQb2ludHMgPSB0aGlzLl9maW5kQ3Jvc3NQb2ludHMoeyB4OiBleCwgeTogZXkgfSwgbGluZXMpO1xuICAgICAgICBpZiAoeFBvaW50cyAhPT0gMCAmJiB4UG9pbnRzICUgMiA9PT0gMSkge1xuICAgICAgICAgIHRoaXMuX19jb3JuZXIgPSBpO1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGxzIGEgZnVuY3Rpb24gZm9yIGVhY2ggY29udHJvbC4gVGhlIGZ1bmN0aW9uIGdldHMgY2FsbGVkLFxuICAgICAqIHdpdGggdGhlIGNvbnRyb2wsIHRoZSBvYmplY3QgdGhhdCBpcyBjYWxsaW5nIHRoZSBpdGVyYXRvciBhbmQgdGhlIGNvbnRyb2wncyBrZXlcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgdGhlIGNvbnRyb2xzIG92ZXJcbiAgICAgKi9cbiAgICBmb3JFYWNoQ29udHJvbDogZnVuY3Rpb24oZm4pIHtcbiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jb250cm9scykge1xuICAgICAgICBmbih0aGlzLmNvbnRyb2xzW2ldLCBpLCB0aGlzKTtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBkcmFnZ2FibGUgYm94ZXMgaW4gdGhlIGNvcm5lcnMgb2ZcbiAgICAgKiB0aGUgaW1hZ2UgdXNlZCB0byBzY2FsZS9yb3RhdGUgaXQuXG4gICAgICogbm90ZTogaWYgd2Ugd291bGQgc3dpdGNoIHRvIFJPVU5EIGNvcm5lciBhcmVhLCBhbGwgb2YgdGhpcyB3b3VsZCBkaXNhcHBlYXIuXG4gICAgICogZXZlcnl0aGluZyB3b3VsZCByZXNvbHZlIHRvIGEgc2luZ2xlIHBvaW50IGFuZCBhIHB5dGhhZ29yZWFuIHRoZW9yZW0gZm9yIHRoZSBkaXN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldENvcm5lckNvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29vcmRzID0gdGhpcy5vQ29vcmRzO1xuXG4gICAgICBmb3IgKHZhciBjb250cm9sIGluIGNvb3Jkcykge1xuICAgICAgICB2YXIgY29udHJvbE9iamVjdCA9IHRoaXMuY29udHJvbHNbY29udHJvbF07XG4gICAgICAgIGNvb3Jkc1tjb250cm9sXS5jb3JuZXIgPSBjb250cm9sT2JqZWN0LmNhbGNDb3JuZXJDb29yZHMoXG4gICAgICAgICAgdGhpcy5hbmdsZSwgdGhpcy5jb3JuZXJTaXplLCBjb29yZHNbY29udHJvbF0ueCwgY29vcmRzW2NvbnRyb2xdLnksIGZhbHNlKTtcbiAgICAgICAgY29vcmRzW2NvbnRyb2xdLnRvdWNoQ29ybmVyID0gY29udHJvbE9iamVjdC5jYWxjQ29ybmVyQ29vcmRzKFxuICAgICAgICAgIHRoaXMuYW5nbGUsIHRoaXMudG91Y2hDb3JuZXJTaXplLCBjb29yZHNbY29udHJvbF0ueCwgY29vcmRzW2NvbnRyb2xdLnksIHRydWUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGNvbG9yZWQgbGF5ZXIgYmVoaW5kIHRoZSBvYmplY3QsIGluc2lkZSBpdHMgc2VsZWN0aW9uIGJvcmRlcnMuXG4gICAgICogUmVxdWlyZXMgcHVibGljIG9wdGlvbnM6IHBhZGRpbmcsIHNlbGVjdGlvbkJhY2tncm91bmRDb2xvclxuICAgICAqIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGNvbnRleHQgaXMgdHJhbnNmb3JtZWRcbiAgICAgKiBoYXMgY2hlY2tzIHRvIGJlIHNraXBwZWQgd2hlbiB0aGUgb2JqZWN0IGlzIG9uIGEgc3RhdGljQ2FudmFzXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdTZWxlY3Rpb25CYWNrZ3JvdW5kOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IgfHxcbiAgICAgICAgKHRoaXMuY2FudmFzICYmICF0aGlzLmNhbnZhcy5pbnRlcmFjdGl2ZSkgfHxcbiAgICAgICAgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3QgIT09IHRoaXMpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSwgd2ggPSB0aGlzLl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucygpLFxuICAgICAgICAgIHZwdCA9IHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtO1xuICAgICAgY3R4LnRyYW5zbGF0ZShjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgICAgY3R4LnNjYWxlKDEgLyB2cHRbMF0sIDEgLyB2cHRbM10pO1xuICAgICAgY3R4LnJvdGF0ZShkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnNlbGVjdGlvbkJhY2tncm91bmRDb2xvcjtcbiAgICAgIGN0eC5maWxsUmVjdCgtd2gueCAvIDIsIC13aC55IC8gMiwgd2gueCwgd2gueSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvcmRlcnMgb2YgYW4gb2JqZWN0J3MgYm91bmRpbmcgYm94LlxuICAgICAqIFJlcXVpcmVzIHB1YmxpYyBwcm9wZXJ0aWVzOiB3aWR0aCwgaGVpZ2h0XG4gICAgICogUmVxdWlyZXMgcHVibGljIG9wdGlvbnM6IHBhZGRpbmcsIGJvcmRlckNvbG9yXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVPdmVycmlkZSBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIG9iamVjdCBzdHlsZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZHJhd0JvcmRlcnM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSkge1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwge307XG4gICAgICB2YXIgd2ggPSB0aGlzLl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucygpLFxuICAgICAgICAgIHN0cm9rZVdpZHRoID0gdGhpcy5ib3JkZXJTY2FsZUZhY3RvcixcbiAgICAgICAgICB3aWR0aCA9IHdoLnggKyBzdHJva2VXaWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSB3aC55ICsgc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgaGFzQ29udHJvbHMgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS5oYXNDb250cm9scyAhPT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICAgICAgc3R5bGVPdmVycmlkZS5oYXNDb250cm9scyA6IHRoaXMuaGFzQ29udHJvbHMsXG4gICAgICAgICAgc2hvdWxkU3Ryb2tlID0gZmFsc2U7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmJvcmRlckNvbG9yIHx8IHRoaXMuYm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLl9zZXRMaW5lRGFzaChjdHgsIHN0eWxlT3ZlcnJpZGUuYm9yZGVyRGFzaEFycmF5IHx8IHRoaXMuYm9yZGVyRGFzaEFycmF5KTtcblxuICAgICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgIC13aWR0aCAvIDIsXG4gICAgICAgIC1oZWlnaHQgLyAyLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICApO1xuXG4gICAgICBpZiAoaGFzQ29udHJvbHMpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmZvckVhY2hDb250cm9sKGZ1bmN0aW9uKGNvbnRyb2wsIGtleSwgZmFicmljT2JqZWN0KSB7XG4gICAgICAgICAgLy8gaW4gdGhpcyBtb21lbnQsIHRoZSBjdHggaXMgY2VudGVyZWQgb24gdGhlIG9iamVjdC5cbiAgICAgICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBhYm92ZSBmdW5jdGlvbiBhcmUgdGhlIHNpemUgb2YgdGhlIGJib3guXG4gICAgICAgICAgaWYgKGNvbnRyb2wud2l0aENvbm5lY3Rpb24gJiYgY29udHJvbC5nZXRWaXNpYmlsaXR5KGZhYnJpY09iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgLy8gcmVzZXQgbW92ZW1lbnQgZm9yIGVhY2ggY29udHJvbFxuICAgICAgICAgICAgc2hvdWxkU3Ryb2tlID0gdHJ1ZTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oY29udHJvbC54ICogd2lkdGgsIGNvbnRyb2wueSAqIGhlaWdodCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKFxuICAgICAgICAgICAgICBjb250cm9sLnggKiB3aWR0aCArIGNvbnRyb2wub2Zmc2V0WCxcbiAgICAgICAgICAgICAgY29udHJvbC55ICogaGVpZ2h0ICsgY29udHJvbC5vZmZzZXRZXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzaG91bGRTdHJva2UpIHtcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9yZGVycyBvZiBhbiBvYmplY3QncyBib3VuZGluZyBib3ggd2hlbiBpdCBpcyBpbnNpZGUgYSBncm91cC5cbiAgICAgKiBSZXF1aXJlcyBwdWJsaWMgcHJvcGVydGllczogd2lkdGgsIGhlaWdodFxuICAgICAqIFJlcXVpcmVzIHB1YmxpYyBvcHRpb25zOiBwYWRkaW5nLCBib3JkZXJDb2xvclxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBkcmF3IG9uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgb2JqZWN0IHJlcHJlc2VudGluZyBjdXJyZW50IG9iamVjdCBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvYmplY3Qgc3R5bGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdCb3JkZXJzSW5Hcm91cDogZnVuY3Rpb24oY3R4LCBvcHRpb25zLCBzdHlsZU92ZXJyaWRlKSB7XG4gICAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7fTtcbiAgICAgIHZhciBiYm94ID0gZmFicmljLnV0aWwuc2l6ZUFmdGVyVHJhbnNmb3JtKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBvcHRpb25zKSxcbiAgICAgICAgICBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgc3Ryb2tlVW5pZm9ybSA9IHRoaXMuc3Ryb2tlVW5pZm9ybSxcbiAgICAgICAgICBib3JkZXJTY2FsZUZhY3RvciA9IHRoaXMuYm9yZGVyU2NhbGVGYWN0b3IsXG4gICAgICAgICAgd2lkdGggPVxuICAgICAgICAgICAgYmJveC54ICsgc3Ryb2tlV2lkdGggKiAoc3Ryb2tlVW5pZm9ybSA/IHRoaXMuY2FudmFzLmdldFpvb20oKSA6IG9wdGlvbnMuc2NhbGVYKSArIGJvcmRlclNjYWxlRmFjdG9yLFxuICAgICAgICAgIGhlaWdodCA9XG4gICAgICAgICAgICBiYm94LnkgKyBzdHJva2VXaWR0aCAqIChzdHJva2VVbmlmb3JtID8gdGhpcy5jYW52YXMuZ2V0Wm9vbSgpIDogb3B0aW9ucy5zY2FsZVkpICsgYm9yZGVyU2NhbGVGYWN0b3I7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdGhpcy5fc2V0TGluZURhc2goY3R4LCBzdHlsZU92ZXJyaWRlLmJvcmRlckRhc2hBcnJheSB8fCB0aGlzLmJvcmRlckRhc2hBcnJheSk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmJvcmRlckNvbG9yIHx8IHRoaXMuYm9yZGVyQ29sb3I7XG4gICAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICAgLXdpZHRoIC8gMixcbiAgICAgICAgLWhlaWdodCAvIDIsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHRcbiAgICAgICk7XG5cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgY29ybmVycyBvZiBhbiBvYmplY3QncyBib3VuZGluZyBib3guXG4gICAgICogUmVxdWlyZXMgcHVibGljIHByb3BlcnRpZXM6IHdpZHRoLCBoZWlnaHRcbiAgICAgKiBSZXF1aXJlcyBwdWJsaWMgb3B0aW9uczogY29ybmVyU2l6ZSwgcGFkZGluZ1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBkcmF3IG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvYmplY3Qgc3R5bGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdDb250cm9sczogZnVuY3Rpb24oY3R4LCBzdHlsZU92ZXJyaWRlKSB7XG4gICAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7fTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB2YXIgcmV0aW5hU2NhbGluZyA9IHRoaXMuY2FudmFzLmdldFJldGluYVNjYWxpbmcoKSwgbWF0cml4LCBwO1xuICAgICAgY3R4LnNldFRyYW5zZm9ybShyZXRpbmFTY2FsaW5nLCAwLCAwLCByZXRpbmFTY2FsaW5nLCAwLCAwKTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGN0eC5maWxsU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lckNvbG9yIHx8IHRoaXMuY29ybmVyQ29sb3I7XG4gICAgICBpZiAoIXRoaXMudHJhbnNwYXJlbnRDb3JuZXJzKSB7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0eWxlT3ZlcnJpZGUuY29ybmVyU3Ryb2tlQ29sb3IgfHwgdGhpcy5jb3JuZXJTdHJva2VDb2xvcjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldExpbmVEYXNoKGN0eCwgc3R5bGVPdmVycmlkZS5jb3JuZXJEYXNoQXJyYXkgfHwgdGhpcy5jb3JuZXJEYXNoQXJyYXkpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICAgIC8vIGZhYnJpY0pTIGRvZXMgbm90IHJlYWxseSBzdXBwb3J0IGRyYXdpbmcgY29udHJvbHMgaW5zaWRlIGdyb3VwcyxcbiAgICAgICAgLy8gdGhpcyBwaWVjZSBvZiBjb2RlIGhlcmUgaGVscHMgaGF2aW5nIGF0IGxlYXN0IHRoZSBjb250cm9sIGluIHBsYWNlcy5cbiAgICAgICAgLy8gSWYgYW4gYXBwbGljYXRpb24gbmVlZHMgdG8gc2hvdyBzb21lIG9iamVjdHMgYXMgc2VsZWN0ZWQgYmVjYXVzZSBvZiBzb21lIFVJIHN0YXRlXG4gICAgICAgIC8vIGNhbiBzdGlsbCBjYWxsIE9iamVjdC5fcmVuZGVyQ29udHJvbHMoKSBvbiBhbnkgb2JqZWN0IHRoZXkgZGVzaXJlLCBpbmRlcGVuZGVudGx5IG9mIGdyb3Vwcy5cbiAgICAgICAgLy8gdXNpbmcgbm8gcGFkZGluZywgY2lyY3VsYXIgY29udHJvbHMgYW5kIGhpZGluZyB0aGUgcm90YXRpbmcgY3Vyc29yIGlzIGhpZ2x5IHN1Z2dlc3RlZCxcbiAgICAgICAgbWF0cml4ID0gdGhpcy5ncm91cC5jYWxjVHJhbnNmb3JtTWF0cml4KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZvckVhY2hDb250cm9sKGZ1bmN0aW9uKGNvbnRyb2wsIGtleSwgZmFicmljT2JqZWN0KSB7XG4gICAgICAgIHAgPSBmYWJyaWNPYmplY3Qub0Nvb3Jkc1trZXldO1xuICAgICAgICBpZiAoY29udHJvbC5nZXRWaXNpYmlsaXR5KGZhYnJpY09iamVjdCwga2V5KSkge1xuICAgICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgIHAgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludChwLCBtYXRyaXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250cm9sLnJlbmRlcihjdHgsIHAueCwgcC55LCBzdHlsZU92ZXJyaWRlLCBmYWJyaWNPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCBjb250cm9sIGlzIHZpc2libGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udHJvbEtleSBUaGUga2V5IG9mIHRoZSBjb250cm9sLiBQb3NzaWJsZSB2YWx1ZXMgYXJlICd0bCcsICd0cicsICdicicsICdibCcsICdtbCcsICdtdCcsICdtcicsICdtYicsICdtdHInLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgY29udHJvbCBpcyB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBpc0NvbnRyb2xWaXNpYmxlOiBmdW5jdGlvbihjb250cm9sS2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250cm9sc1tjb250cm9sS2V5XSAmJiB0aGlzLmNvbnRyb2xzW2NvbnRyb2xLZXldLmdldFZpc2liaWxpdHkodGhpcywgY29udHJvbEtleSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHNwZWNpZmllZCBjb250cm9sLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250cm9sS2V5IFRoZSBrZXkgb2YgdGhlIGNvbnRyb2wuIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ3RsJywgJ3RyJywgJ2JyJywgJ2JsJywgJ21sJywgJ210JywgJ21yJywgJ21iJywgJ210cicuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSB2aXNpYmxlIHRydWUgdG8gc2V0IHRoZSBzcGVjaWZpZWQgY29udHJvbCB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldENvbnRyb2xWaXNpYmxlOiBmdW5jdGlvbihjb250cm9sS2V5LCB2aXNpYmxlKSB7XG4gICAgICBpZiAoIXRoaXMuX2NvbnRyb2xzVmlzaWJpbGl0eSkge1xuICAgICAgICB0aGlzLl9jb250cm9sc1Zpc2liaWxpdHkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NvbnRyb2xzVmlzaWJpbGl0eVtjb250cm9sS2V5XSA9IHZpc2libGU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmlzaWJpbGl0eSBzdGF0ZSBvZiBvYmplY3QgY29udHJvbHMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYmxdIHRydWUgdG8gZW5hYmxlIHRoZSBib3R0b20tbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5icl0gdHJ1ZSB0byBlbmFibGUgdGhlIGJvdHRvbS1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tYl0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS1ib3R0b20gY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWxdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tcl0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tdF0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS10b3AgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudGxdIHRydWUgdG8gZW5hYmxlIHRoZSB0b3AtbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy50cl0gdHJ1ZSB0byBlbmFibGUgdGhlIHRvcC1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tdHJdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtdG9wLXJvdGF0ZSBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDb250cm9sc1Zpc2liaWxpdHk6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICBmb3IgKHZhciBwIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXRDb250cm9sVmlzaWJsZShwLCBvcHRpb25zW3BdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIGV2ZXJ5IHRpbWUgX2Rpc2NhcmRBY3RpdmVPYmplY3Qgb3IgX3NldEFjdGl2ZU9iamVjdFxuICAgICAqIHRyeSB0byB0byBkZXNlbGVjdCB0aGlzIG9iamVjdC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSwgdGhlIHByb2Nlc3MgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBvcHRpb25zIHNlbnQgZnJvbSB0aGUgdXBwZXIgZnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtFdmVudH0gW29wdGlvbnMuZV0gZXZlbnQgaWYgdGhlIHByb2Nlc3MgaXMgZ2VuZXJhdGVkIGJ5IGFuIGV2ZW50XG4gICAgICovXG4gICAgb25EZXNlbGVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBpbXBsZW1lbnRlZCBieSBzdWItY2xhc3NlcywgYXMgbmVlZGVkLlxuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIGV2ZXJ5IHRpbWUgX2Rpc2NhcmRBY3RpdmVPYmplY3Qgb3IgX3NldEFjdGl2ZU9iamVjdFxuICAgICAqIHRyeSB0byB0byBzZWxlY3QgdGhpcyBvYmplY3QuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUsIHRoZSBwcm9jZXNzIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gb3B0aW9ucyBzZW50IGZyb20gdGhlIHVwcGVyIGZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtvcHRpb25zLmVdIGV2ZW50IGlmIHRoZSBwcm9jZXNzIGlzIGdlbmVyYXRlZCBieSBhbiBldmVudFxuICAgICAqL1xuICAgIG9uU2VsZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGltcGxlbWVudGVkIGJ5IHN1Yi1jbGFzc2VzLCBhcyBuZWVkZWQuXG4gICAgfVxuICB9KTtcbn0pKCk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIEFuaW1hdGlvbiBkdXJhdGlvbiAoaW4gbXMpIGZvciBmeCogbWV0aG9kc1xuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIEZYX0RVUkFUSU9OOiA1MDAsXG5cbiAgLyoqXG4gICAqIENlbnRlcnMgb2JqZWN0IGhvcml6b250YWxseSB3aXRoIGFuaW1hdGlvbi5cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlclxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NhbGxiYWNrc10gQ2FsbGJhY2tzIG9iamVjdCB3aXRoIG9wdGlvbmFsIFwib25Db21wbGV0ZVwiIGFuZC9vciBcIm9uQ2hhbmdlXCIgcHJvcGVydGllc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tzLm9uQ29tcGxldGVdIEludm9rZWQgb24gY29tcGxldGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tzLm9uQ2hhbmdlXSBJbnZva2VkIG9uIGV2ZXJ5IHN0ZXAgb2YgYW5pbWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5BbmltYXRpb25Db250ZXh0fSBjb250ZXh0XG4gICAqL1xuICBmeENlbnRlck9iamVjdEg6IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgc3RhcnRWYWx1ZTogb2JqZWN0LmxlZnQsXG4gICAgICBlbmRWYWx1ZTogdGhpcy5nZXRDZW50ZXJQb2ludCgpLngsXG4gICAgICBkdXJhdGlvbjogdGhpcy5GWF9EVVJBVElPTixcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBvYmplY3Quc2V0KCdsZWZ0JywgdmFsdWUpO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IHdpdGggYW5pbWF0aW9uLlxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY2FsbGJhY2tzXSBDYWxsYmFja3Mgb2JqZWN0IHdpdGggb3B0aW9uYWwgXCJvbkNvbXBsZXRlXCIgYW5kL29yIFwib25DaGFuZ2VcIiBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25Db21wbGV0ZV0gSW52b2tlZCBvbiBjb21wbGV0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25DaGFuZ2VdIEludm9rZWQgb24gZXZlcnkgc3RlcCBvZiBhbmltYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkFuaW1hdGlvbkNvbnRleHR9IGNvbnRleHRcbiAgICovXG4gIGZ4Q2VudGVyT2JqZWN0VjogZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzIHx8IHsgfTtcblxuICAgIHZhciBlbXB0eSA9IGZ1bmN0aW9uKCkgeyB9LFxuICAgICAgICBvbkNvbXBsZXRlID0gY2FsbGJhY2tzLm9uQ29tcGxldGUgfHwgZW1wdHksXG4gICAgICAgIG9uQ2hhbmdlID0gY2FsbGJhY2tzLm9uQ2hhbmdlIHx8IGVtcHR5LFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gZmFicmljLnV0aWwuYW5pbWF0ZSh7XG4gICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICBzdGFydFZhbHVlOiBvYmplY3QudG9wLFxuICAgICAgZW5kVmFsdWU6IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKS55LFxuICAgICAgZHVyYXRpb246IHRoaXMuRlhfRFVSQVRJT04sXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgb2JqZWN0LnNldCgndG9wJywgdmFsdWUpO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIGBmYWJyaWMuQ2FudmFzI3JlbW92ZWAgYnV0IGFuaW1hdGVkXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byByZW1vdmVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjYWxsYmFja3NdIENhbGxiYWNrcyBvYmplY3Qgd2l0aCBvcHRpb25hbCBcIm9uQ29tcGxldGVcIiBhbmQvb3IgXCJvbkNoYW5nZVwiIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNvbXBsZXRlXSBJbnZva2VkIG9uIGNvbXBsZXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNoYW5nZV0gSW52b2tlZCBvbiBldmVyeSBzdGVwIG9mIGFuaW1hdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQW5pbWF0aW9uQ29udGV4dH0gY29udGV4dFxuICAgKi9cbiAgZnhSZW1vdmU6IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgc3RhcnRWYWx1ZTogb2JqZWN0Lm9wYWNpdHksXG4gICAgICBlbmRWYWx1ZTogMCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLkZYX0RVUkFUSU9OLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIG9iamVjdC5zZXQoJ29wYWNpdHknLCB2YWx1ZSk7XG4gICAgICAgIF90aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgICAgb25DaGFuZ2UoKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnJlbW92ZShvYmplY3QpO1xuICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcbiAgLyoqXG4gICAqIEFuaW1hdGVzIG9iamVjdCdzIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBhbmltYXRlIChpZiBzdHJpbmcpIG9yIHByb3BlcnRpZXMgdG8gYW5pbWF0ZSAoaWYgb2JqZWN0KVxuICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IHZhbHVlIFZhbHVlIHRvIGFuaW1hdGUgcHJvcGVydHkgdG8gKGlmIHN0cmluZyB3YXMgZ2l2ZW4gZmlyc3QpIG9yIG9wdGlvbnMgb2JqZWN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjYW5pbWF0aW9ufVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQW5pbWF0aW9uQ29udGV4dCB8IGZhYnJpYy5BbmltYXRpb25Db250ZXh0W119IGFuaW1hdGlvbiBjb250ZXh0IChvciBhbiBhcnJheSBpZiBwYXNzZWQgbXVsdGlwbGUgcHJvcGVydGllcylcbiAgICpcbiAgICogQXMgb2JqZWN0IOKAlCBtdWx0aXBsZSBwcm9wZXJ0aWVzXG4gICAqXG4gICAqIG9iamVjdC5hbmltYXRlKHsgbGVmdDogLi4uLCB0b3A6IC4uLiB9KTtcbiAgICogb2JqZWN0LmFuaW1hdGUoeyBsZWZ0OiAuLi4sIHRvcDogLi4uIH0sIHsgZHVyYXRpb246IC4uLiB9KTtcbiAgICpcbiAgICogQXMgc3RyaW5nIOKAlCBvbmUgcHJvcGVydHlcbiAgICpcbiAgICogb2JqZWN0LmFuaW1hdGUoJ2xlZnQnLCAuLi4pO1xuICAgKiBvYmplY3QuYW5pbWF0ZSgnbGVmdCcsIHsgZHVyYXRpb246IC4uLiB9KTtcbiAgICpcbiAgICovXG4gIGFuaW1hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoYXJndW1lbnRzWzBdICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICB2YXIgcHJvcHNUb0FuaW1hdGUgPSBbXSwgcHJvcCwgc2tpcENhbGxiYWNrcywgb3V0ID0gW107XG4gICAgICBmb3IgKHByb3AgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgIHByb3BzVG9BbmltYXRlLnB1c2gocHJvcCk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcHJvcHNUb0FuaW1hdGUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcHJvcCA9IHByb3BzVG9BbmltYXRlW2ldO1xuICAgICAgICBza2lwQ2FsbGJhY2tzID0gaSAhPT0gbGVuIC0gMTtcbiAgICAgICAgb3V0LnB1c2godGhpcy5fYW5pbWF0ZShwcm9wLCBhcmd1bWVudHNbMF1bcHJvcF0sIGFyZ3VtZW50c1sxXSwgc2tpcENhbGxiYWNrcykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fYW5pbWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIGFuaW1hdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRvIFZhbHVlIHRvIGFuaW1hdGUgdG9cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtza2lwQ2FsbGJhY2tzXSBXaGVuIHRydWUsIGNhbGxiYWNrcyBsaWtlIG9uY2hhbmdlIGFuZCBvbmNvbXBsZXRlIGFyZSBub3QgaW52b2tlZFxuICAgKi9cbiAgX2FuaW1hdGU6IGZ1bmN0aW9uKHByb3BlcnR5LCB0bywgb3B0aW9ucywgc2tpcENhbGxiYWNrcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsIHByb3BQYWlyO1xuXG4gICAgdG8gPSB0by50b1N0cmluZygpO1xuXG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0geyB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKH5wcm9wZXJ0eS5pbmRleE9mKCcuJykpIHtcbiAgICAgIHByb3BQYWlyID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcElzQ29sb3IgPVxuICAgICAgX3RoaXMuY29sb3JQcm9wZXJ0aWVzLmluZGV4T2YocHJvcGVydHkpID4gLTEgfHxcbiAgICAgIChwcm9wUGFpciAmJiBfdGhpcy5jb2xvclByb3BlcnRpZXMuaW5kZXhPZihwcm9wUGFpclsxXSkgPiAtMSk7XG5cbiAgICB2YXIgY3VycmVudFZhbHVlID0gcHJvcFBhaXJcbiAgICAgID8gdGhpcy5nZXQocHJvcFBhaXJbMF0pW3Byb3BQYWlyWzFdXVxuICAgICAgOiB0aGlzLmdldChwcm9wZXJ0eSk7XG5cbiAgICBpZiAoISgnZnJvbScgaW4gb3B0aW9ucykpIHtcbiAgICAgIG9wdGlvbnMuZnJvbSA9IGN1cnJlbnRWYWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXByb3BJc0NvbG9yKSB7XG4gICAgICBpZiAofnRvLmluZGV4T2YoJz0nKSkge1xuICAgICAgICB0byA9IGN1cnJlbnRWYWx1ZSArIHBhcnNlRmxvYXQodG8ucmVwbGFjZSgnPScsICcnKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdG8gPSBwYXJzZUZsb2F0KHRvKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX29wdGlvbnMgPSB7XG4gICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICBzdGFydFZhbHVlOiBvcHRpb25zLmZyb20sXG4gICAgICBlbmRWYWx1ZTogdG8sXG4gICAgICBieVZhbHVlOiBvcHRpb25zLmJ5LFxuICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcbiAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgYWJvcnQ6IG9wdGlvbnMuYWJvcnQgJiYgZnVuY3Rpb24odmFsdWUsIHZhbHVlUHJvZ3Jlc3MsIHRpbWVQcm9ncmVzcykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5hYm9ydC5jYWxsKF90aGlzLCB2YWx1ZSwgdmFsdWVQcm9ncmVzcywgdGltZVByb2dyZXNzKTtcbiAgICAgIH0sXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKHZhbHVlLCB2YWx1ZVByb2dyZXNzLCB0aW1lUHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHByb3BQYWlyKSB7XG4gICAgICAgICAgX3RoaXNbcHJvcFBhaXJbMF1dW3Byb3BQYWlyWzFdXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF90aGlzLnNldChwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMub25DaGFuZ2UgJiYgb3B0aW9ucy5vbkNoYW5nZSh2YWx1ZSwgdmFsdWVQcm9ncmVzcywgdGltZVByb2dyZXNzKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAodmFsdWUsIHZhbHVlUHJvZ3Jlc3MsIHRpbWVQcm9ncmVzcykge1xuICAgICAgICBpZiAoc2tpcENhbGxiYWNrcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnNldENvb3JkcygpO1xuICAgICAgICBvcHRpb25zLm9uQ29tcGxldGUgJiYgb3B0aW9ucy5vbkNvbXBsZXRlKHZhbHVlLCB2YWx1ZVByb2dyZXNzLCB0aW1lUHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAocHJvcElzQ29sb3IpIHtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5hbmltYXRlQ29sb3IoX29wdGlvbnMuc3RhcnRWYWx1ZSwgX29wdGlvbnMuZW5kVmFsdWUsIF9vcHRpb25zLmR1cmF0aW9uLCBfb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoX29wdGlvbnMpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgY2xvbmUgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUsXG4gICAgICBjb29yZFByb3BzID0geyB4MTogMSwgeDI6IDEsIHkxOiAxLCB5MjogMSB9O1xuXG4gIGlmIChmYWJyaWMuTGluZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuTGluZSBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogTGluZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkxpbmVcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuTGluZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkxpbmUgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5MaW5lLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2xpbmUnLFxuXG4gICAgLyoqXG4gICAgICogeCB2YWx1ZSBvciBmaXJzdCBsaW5lIGVkZ2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHgxOiAwLFxuXG4gICAgLyoqXG4gICAgICogeSB2YWx1ZSBvciBmaXJzdCBsaW5lIGVkZ2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHkxOiAwLFxuXG4gICAgLyoqXG4gICAgICogeCB2YWx1ZSBvciBzZWNvbmQgbGluZSBlZGdlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB4MjogMCxcblxuICAgIC8qKlxuICAgICAqIHkgdmFsdWUgb3Igc2Vjb25kIGxpbmUgZWRnZVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgeTI6IDAsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3gxJywgJ3gyJywgJ3kxJywgJ3kyJyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwb2ludHNdIEFycmF5IG9mIHBvaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuTGluZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHBvaW50cywgb3B0aW9ucykge1xuICAgICAgaWYgKCFwb2ludHMpIHtcbiAgICAgICAgcG9pbnRzID0gWzAsIDAsIDAsIDBdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLnNldCgneDEnLCBwb2ludHNbMF0pO1xuICAgICAgdGhpcy5zZXQoJ3kxJywgcG9pbnRzWzFdKTtcbiAgICAgIHRoaXMuc2V0KCd4MicsIHBvaW50c1syXSk7XG4gICAgICB0aGlzLnNldCgneTInLCBwb2ludHNbM10pO1xuXG4gICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodChvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAgICAgKi9cbiAgICBfc2V0V2lkdGhIZWlnaHQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB0aGlzLndpZHRoID0gTWF0aC5hYnModGhpcy54MiAtIHRoaXMueDEpO1xuICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmFicyh0aGlzLnkyIC0gdGhpcy55MSk7XG5cbiAgICAgIHRoaXMubGVmdCA9ICdsZWZ0JyBpbiBvcHRpb25zXG4gICAgICAgID8gb3B0aW9ucy5sZWZ0XG4gICAgICAgIDogdGhpcy5fZ2V0TGVmdFRvT3JpZ2luWCgpO1xuXG4gICAgICB0aGlzLnRvcCA9ICd0b3AnIGluIG9wdGlvbnNcbiAgICAgICAgPyBvcHRpb25zLnRvcFxuICAgICAgICA6IHRoaXMuX2dldFRvcFRvT3JpZ2luWSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICovXG4gICAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXQnLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICh0eXBlb2YgY29vcmRQcm9wc1trZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBsZWZ0VG9PcmlnaW5YIERpc3RhbmNlIGZyb20gbGVmdCBlZGdlIG9mIGNhbnZhcyB0byBvcmlnaW5YIG9mIExpbmUuXG4gICAgICovXG4gICAgX2dldExlZnRUb09yaWdpblg6IG1ha2VFZGdlVG9PcmlnaW5HZXR0ZXIoXG4gICAgICB7IC8vIHByb3BlcnR5IG5hbWVzXG4gICAgICAgIG9yaWdpbjogJ29yaWdpblgnLFxuICAgICAgICBheGlzMTogJ3gxJyxcbiAgICAgICAgYXhpczI6ICd4MicsXG4gICAgICAgIGRpbWVuc2lvbjogJ3dpZHRoJ1xuICAgICAgfSxcbiAgICAgIHsgLy8gcG9zc2libGUgdmFsdWVzIG9mIG9yaWdpblxuICAgICAgICBuZWFyZXN0OiAnbGVmdCcsXG4gICAgICAgIGNlbnRlcjogJ2NlbnRlcicsXG4gICAgICAgIGZhcnRoZXN0OiAncmlnaHQnXG4gICAgICB9XG4gICAgKSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB0b3BUb09yaWdpblkgRGlzdGFuY2UgZnJvbSB0b3AgZWRnZSBvZiBjYW52YXMgdG8gb3JpZ2luWSBvZiBMaW5lLlxuICAgICAqL1xuICAgIF9nZXRUb3BUb09yaWdpblk6IG1ha2VFZGdlVG9PcmlnaW5HZXR0ZXIoXG4gICAgICB7IC8vIHByb3BlcnR5IG5hbWVzXG4gICAgICAgIG9yaWdpbjogJ29yaWdpblknLFxuICAgICAgICBheGlzMTogJ3kxJyxcbiAgICAgICAgYXhpczI6ICd5MicsXG4gICAgICAgIGRpbWVuc2lvbjogJ2hlaWdodCdcbiAgICAgIH0sXG4gICAgICB7IC8vIHBvc3NpYmxlIHZhbHVlcyBvZiBvcmlnaW5cbiAgICAgICAgbmVhcmVzdDogJ3RvcCcsXG4gICAgICAgIGNlbnRlcjogJ2NlbnRlcicsXG4gICAgICAgIGZhcnRoZXN0OiAnYm90dG9tJ1xuICAgICAgfVxuICAgICksXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuXG4gICAgICB2YXIgcCA9IHRoaXMuY2FsY0xpbmVQb2ludHMoKTtcbiAgICAgIGN0eC5tb3ZlVG8ocC54MSwgcC55MSk7XG4gICAgICBjdHgubGluZVRvKHAueDIsIHAueTIpO1xuXG4gICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5zdHJva2VXaWR0aDtcblxuICAgICAgLy8gVE9ETzogdGVzdCB0aGlzXG4gICAgICAvLyBtYWtlIHN1cmUgc2V0dGluZyBcImZpbGxcIiBjaGFuZ2VzIGNvbG9yIG9mIGEgbGluZVxuICAgICAgLy8gKGJ5IGNvcHlpbmcgZmlsbFN0eWxlIHRvIHN0cm9rZVN0eWxlLCBzaW5jZSBsaW5lIGlzIHN0cm9rZWQsIG5vdCBmaWxsZWQpXG4gICAgICB2YXIgb3JpZ1N0cm9rZVN0eWxlID0gY3R4LnN0cm9rZVN0eWxlO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2UgfHwgY3R4LmZpbGxTdHlsZTtcbiAgICAgIHRoaXMuc3Ryb2tlICYmIHRoaXMuX3JlbmRlclN0cm9rZShjdHgpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gb3JpZ1N0cm9rZVN0eWxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgcmV0dXJucyB0aGUgY2VudGVyIG9mIHRoZSBvYmplY3QgaW4gdGhlIHN2Z1xuICAgICAqIHVudHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIHBvaW50IGZyb20gZWxlbWVudCBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIF9maW5kQ2VudGVyRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogKHRoaXMueDEgKyB0aGlzLngyKSAvIDIsXG4gICAgICAgIHk6ICh0aGlzLnkxICsgdGhpcy55MikgLyAyLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAbWV0aG9kIHRvT2JqZWN0XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiBleHRlbmQodGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgcHJvcGVydGllc1RvSW5jbHVkZSksIHRoaXMuY2FsY0xpbmVQb2ludHMoKSk7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQ2FsY3VsYXRlIG9iamVjdCBkaW1lbnNpb25zIGZyb20gaXRzIHByb3BlcnRpZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpbSA9IHRoaXMuY2FsbFN1cGVyKCdfZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zJyk7XG4gICAgICBpZiAodGhpcy5zdHJva2VMaW5lQ2FwID09PSAnYnV0dCcpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IDApIHtcbiAgICAgICAgICBkaW0ueSAtPSB0aGlzLnN0cm9rZVdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA9PT0gMCkge1xuICAgICAgICAgIGRpbS54IC09IHRoaXMuc3Ryb2tlV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkaW07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyBsaW5lIHBvaW50cyBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjYWxjTGluZVBvaW50czogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgeE11bHQgPSB0aGlzLngxIDw9IHRoaXMueDIgPyAtMSA6IDEsXG4gICAgICAgICAgeU11bHQgPSB0aGlzLnkxIDw9IHRoaXMueTIgPyAtMSA6IDEsXG4gICAgICAgICAgeDEgPSAoeE11bHQgKiB0aGlzLndpZHRoICogMC41KSxcbiAgICAgICAgICB5MSA9ICh5TXVsdCAqIHRoaXMuaGVpZ2h0ICogMC41KSxcbiAgICAgICAgICB4MiA9ICh4TXVsdCAqIHRoaXMud2lkdGggKiAtMC41KSxcbiAgICAgICAgICB5MiA9ICh5TXVsdCAqIHRoaXMuaGVpZ2h0ICogLTAuNSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHgxOiB4MSxcbiAgICAgICAgeDI6IHgyLFxuICAgICAgICB5MTogeTEsXG4gICAgICAgIHkyOiB5MlxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcCA9IHRoaXMuY2FsY0xpbmVQb2ludHMoKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8bGluZSAnLCAnQ09NTU9OX1BBUlRTJyxcbiAgICAgICAgJ3gxPVwiJywgcC54MSxcbiAgICAgICAgJ1wiIHkxPVwiJywgcC55MSxcbiAgICAgICAgJ1wiIHgyPVwiJywgcC54MixcbiAgICAgICAgJ1wiIHkyPVwiJywgcC55MixcbiAgICAgICAgJ1wiIC8+XFxuJ1xuICAgICAgXTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5MaW5lLmZyb21FbGVtZW50fSlcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkxpbmVcbiAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjTGluZUVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5MaW5lLkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoJ3gxIHkxIHgyIHkyJy5zcGxpdCgnICcpKTtcblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuTGluZSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5MaW5lXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICovXG4gIGZhYnJpYy5MaW5lLmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IH07XG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5MaW5lLkFUVFJJQlVURV9OQU1FUyksXG4gICAgICAgIHBvaW50cyA9IFtcbiAgICAgICAgICBwYXJzZWRBdHRyaWJ1dGVzLngxIHx8IDAsXG4gICAgICAgICAgcGFyc2VkQXR0cmlidXRlcy55MSB8fCAwLFxuICAgICAgICAgIHBhcnNlZEF0dHJpYnV0ZXMueDIgfHwgMCxcbiAgICAgICAgICBwYXJzZWRBdHRyaWJ1dGVzLnkyIHx8IDBcbiAgICAgICAgXTtcbiAgICBjYWxsYmFjayhuZXcgZmFicmljLkxpbmUocG9pbnRzLCBleHRlbmQocGFyc2VkQXR0cmlidXRlcywgb3B0aW9ucykpKTtcbiAgfTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuTGluZSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuTGluZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgZmlyc3QgYXJndW1lbnRcbiAgICovXG4gIGZhYnJpYy5MaW5lLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZnVuY3Rpb24gX2NhbGxiYWNrKGluc3RhbmNlKSB7XG4gICAgICBkZWxldGUgaW5zdGFuY2UucG9pbnRzO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soaW5zdGFuY2UpO1xuICAgIH07XG4gICAgdmFyIG9wdGlvbnMgPSBjbG9uZShvYmplY3QsIHRydWUpO1xuICAgIG9wdGlvbnMucG9pbnRzID0gW29iamVjdC54MSwgb2JqZWN0LnkxLCBvYmplY3QueDIsIG9iamVjdC55Ml07XG4gICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnTGluZScsIG9wdGlvbnMsIF9jYWxsYmFjaywgJ3BvaW50cycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcm9kdWNlcyBhIGZ1bmN0aW9uIHRoYXQgY2FsY3VsYXRlcyBkaXN0YW5jZSBmcm9tIGNhbnZhcyBlZGdlIHRvIExpbmUgb3JpZ2luLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZUVkZ2VUb09yaWdpbkdldHRlcihwcm9wZXJ0eU5hbWVzLCBvcmlnaW5WYWx1ZXMpIHtcbiAgICB2YXIgb3JpZ2luID0gcHJvcGVydHlOYW1lcy5vcmlnaW4sXG4gICAgICAgIGF4aXMxID0gcHJvcGVydHlOYW1lcy5heGlzMSxcbiAgICAgICAgYXhpczIgPSBwcm9wZXJ0eU5hbWVzLmF4aXMyLFxuICAgICAgICBkaW1lbnNpb24gPSBwcm9wZXJ0eU5hbWVzLmRpbWVuc2lvbixcbiAgICAgICAgbmVhcmVzdCA9IG9yaWdpblZhbHVlcy5uZWFyZXN0LFxuICAgICAgICBjZW50ZXIgPSBvcmlnaW5WYWx1ZXMuY2VudGVyLFxuICAgICAgICBmYXJ0aGVzdCA9IG9yaWdpblZhbHVlcy5mYXJ0aGVzdDtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5nZXQob3JpZ2luKSkge1xuICAgICAgICBjYXNlIG5lYXJlc3Q6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZ2V0KGF4aXMxKSwgdGhpcy5nZXQoYXhpczIpKTtcbiAgICAgICAgY2FzZSBjZW50ZXI6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZ2V0KGF4aXMxKSwgdGhpcy5nZXQoYXhpczIpKSArICgwLjUgKiB0aGlzLmdldChkaW1lbnNpb24pKTtcbiAgICAgICAgY2FzZSBmYXJ0aGVzdDpcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5nZXQoYXhpczEpLCB0aGlzLmdldChheGlzMikpO1xuICAgICAgfVxuICAgIH07XG5cbiAgfVxuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucztcblxuICBpZiAoZmFicmljLkNpcmNsZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuQ2lyY2xlIGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2lyY2xlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuQ2lyY2xlXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkNpcmNsZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkNpcmNsZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLkNpcmNsZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdjaXJjbGUnLFxuXG4gICAgLyoqXG4gICAgICogUmFkaXVzIG9mIHRoaXMgY2lyY2xlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByYWRpdXM6IDAsXG5cbiAgICAvKipcbiAgICAgKiBkZWdyZWVzIG9mIHN0YXJ0IG9mIHRoZSBjaXJjbGUuXG4gICAgICogcHJvYmFibHkgd2lsbCBjaGFuZ2UgdG8gZGVncmVlcyBpbiBuZXh0IG1ham9yIHZlcnNpb25cbiAgICAgKiBAdHlwZSBOdW1iZXIgMCAtIDM1OVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBzdGFydEFuZ2xlOiAwLFxuXG4gICAgLyoqXG4gICAgICogRW5kIGFuZ2xlIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBwcm9iYWJseSB3aWxsIGNoYW5nZSB0byBkZWdyZWVzIGluIG5leHQgbWFqb3IgdmVyc2lvblxuICAgICAqIEB0eXBlIE51bWJlciAxIC0gMzYwXG4gICAgICogQGRlZmF1bHQgMzYwXG4gICAgICovXG4gICAgZW5kQW5nbGU6IDM2MCxcblxuICAgIGNhY2hlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuY2FjaGVQcm9wZXJ0aWVzLmNvbmNhdCgncmFkaXVzJywgJ3N0YXJ0QW5nbGUnLCAnZW5kQW5nbGUnKSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2lyY2xlfSB0aGlzQXJnXG4gICAgICovXG4gICAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXQnLCBrZXksIHZhbHVlKTtcblxuICAgICAgaWYgKGtleSA9PT0gJ3JhZGl1cycpIHtcbiAgICAgICAgdGhpcy5zZXRSYWRpdXModmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIFsncmFkaXVzJywgJ3N0YXJ0QW5nbGUnLCAnZW5kQW5nbGUnXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSkpO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN2Z1N0cmluZywgeCA9IDAsIHkgPSAwLFxuICAgICAgICAgIGFuZ2xlID0gKHRoaXMuZW5kQW5nbGUgLSB0aGlzLnN0YXJ0QW5nbGUpICUgMzYwO1xuXG4gICAgICBpZiAoYW5nbGUgPT09IDApIHtcbiAgICAgICAgc3ZnU3RyaW5nID0gW1xuICAgICAgICAgICc8Y2lyY2xlICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAgICdjeD1cIicgKyB4ICsgJ1wiIGN5PVwiJyArIHkgKyAnXCIgJyxcbiAgICAgICAgICAncj1cIicsIHRoaXMucmFkaXVzLFxuICAgICAgICAgICdcIiAvPlxcbidcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgc3RhcnQgPSBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuc3RhcnRBbmdsZSksXG4gICAgICAgICAgICBlbmQgPSBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuZW5kQW5nbGUpLFxuICAgICAgICAgICAgcmFkaXVzID0gdGhpcy5yYWRpdXMsXG4gICAgICAgICAgICBzdGFydFggPSBmYWJyaWMudXRpbC5jb3Moc3RhcnQpICogcmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRZID0gZmFicmljLnV0aWwuc2luKHN0YXJ0KSAqIHJhZGl1cyxcbiAgICAgICAgICAgIGVuZFggPSBmYWJyaWMudXRpbC5jb3MoZW5kKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIGVuZFkgPSBmYWJyaWMudXRpbC5zaW4oZW5kKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIGxhcmdlRmxhZyA9IGFuZ2xlID4gMTgwID8gJzEnIDogJzAnO1xuICAgICAgICBzdmdTdHJpbmcgPSBbXG4gICAgICAgICAgJzxwYXRoIGQ9XCJNICcgKyBzdGFydFggKyAnICcgKyBzdGFydFksXG4gICAgICAgICAgJyBBICcgKyByYWRpdXMgKyAnICcgKyByYWRpdXMsXG4gICAgICAgICAgJyAwICcsICtsYXJnZUZsYWcgKyAnIDEnLCAnICcgKyBlbmRYICsgJyAnICsgZW5kWSxcbiAgICAgICAgICAnXCIgJywgJ0NPTU1PTl9QQVJUUycsICcgLz5cXG4nXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICByZXR1cm4gc3ZnU3RyaW5nO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMucmFkaXVzLFxuICAgICAgICBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuc3RhcnRBbmdsZSksXG4gICAgICAgIGRlZ3JlZXNUb1JhZGlhbnModGhpcy5lbmRBbmdsZSksXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaG9yaXpvbnRhbCByYWRpdXMgb2YgYW4gb2JqZWN0IChhY2NvcmRpbmcgdG8gaG93IGFuIG9iamVjdCBpcyBzY2FsZWQpXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFJhZGl1c1g6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdyYWRpdXMnKSAqIHRoaXMuZ2V0KCdzY2FsZVgnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB2ZXJ0aWNhbCByYWRpdXMgb2YgYW4gb2JqZWN0IChhY2NvcmRpbmcgdG8gaG93IGFuIG9iamVjdCBpcyBzY2FsZWQpXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFJhZGl1c1k6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdyYWRpdXMnKSAqIHRoaXMuZ2V0KCdzY2FsZVknKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyByYWRpdXMgb2YgYW4gb2JqZWN0IChhbmQgdXBkYXRlcyB3aWR0aCBhY2NvcmRpbmdseSlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2lyY2xlfSB0aGlzQXJnXG4gICAgICovXG4gICAgc2V0UmFkaXVzOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdGhpcy5yYWRpdXMgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnd2lkdGgnLCB2YWx1ZSAqIDIpLnNldCgnaGVpZ2h0JywgdmFsdWUgKiAyKTtcbiAgICB9LFxuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5DaXJjbGUuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ2lyY2xlXG4gICAqIEBzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNDaXJjbGVFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuQ2lyY2xlLkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoJ2N4IGN5IHInLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuQ2lyY2xlfSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5DaXJjbGVcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBPcHRpb25zIGNhbGxiYWNrIGludm9rZWQgYWZ0ZXIgcGFyc2luZyBpcyBmaW5pc2hlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB2YWx1ZSBvZiBgcmAgYXR0cmlidXRlIGlzIG1pc3Npbmcgb3IgaW52YWxpZFxuICAgKi9cbiAgZmFicmljLkNpcmNsZS5mcm9tRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5DaXJjbGUuQVRUUklCVVRFX05BTUVTKTtcblxuICAgIGlmICghaXNWYWxpZFJhZGl1cyhwYXJzZWRBdHRyaWJ1dGVzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBvZiBgcmAgYXR0cmlidXRlIGlzIHJlcXVpcmVkIGFuZCBjYW4gbm90IGJlIG5lZ2F0aXZlJyk7XG4gICAgfVxuXG4gICAgcGFyc2VkQXR0cmlidXRlcy5sZWZ0ID0gKHBhcnNlZEF0dHJpYnV0ZXMubGVmdCB8fCAwKSAtIHBhcnNlZEF0dHJpYnV0ZXMucmFkaXVzO1xuICAgIHBhcnNlZEF0dHJpYnV0ZXMudG9wID0gKHBhcnNlZEF0dHJpYnV0ZXMudG9wIHx8IDApIC0gcGFyc2VkQXR0cmlidXRlcy5yYWRpdXM7XG4gICAgY2FsbGJhY2sobmV3IGZhYnJpYy5DaXJjbGUocGFyc2VkQXR0cmlidXRlcykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNWYWxpZFJhZGl1cyhhdHRyaWJ1dGVzKSB7XG4gICAgcmV0dXJuICgoJ3JhZGl1cycgaW4gYXR0cmlidXRlcykgJiYgKGF0dHJpYnV0ZXMucmFkaXVzID49IDApKTtcbiAgfVxuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuQ2lyY2xlfSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ2lyY2xlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gaW52b2tlZCB3aXRoIG5ldyBpbnN0YW5jZSBhcyBmaXJzdCBhcmd1bWVudFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZmFicmljLkNpcmNsZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ0NpcmNsZScsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5UcmlhbmdsZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuVHJpYW5nbGUgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWFuZ2xlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuVHJpYW5nbGVcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuVHJpYW5nbGV9IHRoaXNBcmdcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlRyaWFuZ2xlI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuVHJpYW5nbGUgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5UcmlhbmdsZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICd0cmlhbmdsZScsXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBpcyBzZXQgdG8gMTAwIHRvIGNvbXBlbnNhdGUgdGhlIG9sZCBpbml0aWFsaXplIGNvZGUgdGhhdCB3YXMgc2V0dGluZyBpdCB0byAxMDBcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHdpZHRoOiAxMDAsXG5cbiAgICAvKipcbiAgICAgKiBIZWlnaHQgaXMgc2V0IHRvIDEwMCB0byBjb21wZW5zYXRlIHRoZSBvbGQgaW5pdGlhbGl6ZSBjb2RlIHRoYXQgd2FzIHNldHRpbmcgaXQgdG8gMTAwXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoZWlnaHQ6IDEwMCxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHdpZHRoQnkyID0gdGhpcy53aWR0aCAvIDIsXG4gICAgICAgICAgaGVpZ2h0QnkyID0gdGhpcy5oZWlnaHQgLyAyO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKC13aWR0aEJ5MiwgaGVpZ2h0QnkyKTtcbiAgICAgIGN0eC5saW5lVG8oMCwgLWhlaWdodEJ5Mik7XG4gICAgICBjdHgubGluZVRvKHdpZHRoQnkyLCBoZWlnaHRCeTIpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgd2lkdGhCeTIgPSB0aGlzLndpZHRoIC8gMixcbiAgICAgICAgICBoZWlnaHRCeTIgPSB0aGlzLmhlaWdodCAvIDIsXG4gICAgICAgICAgcG9pbnRzID0gW1xuICAgICAgICAgICAgLXdpZHRoQnkyICsgJyAnICsgaGVpZ2h0QnkyLFxuICAgICAgICAgICAgJzAgJyArIC1oZWlnaHRCeTIsXG4gICAgICAgICAgICB3aWR0aEJ5MiArICcgJyArIGhlaWdodEJ5MlxuICAgICAgICAgIF0uam9pbignLCcpO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJzxwb2x5Z29uICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAncG9pbnRzPVwiJywgcG9pbnRzLFxuICAgICAgICAnXCIgLz4nXG4gICAgICBdO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuVHJpYW5nbGV9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UcmlhbmdsZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgZmlyc3QgYXJndW1lbnRcbiAgICovXG4gIGZhYnJpYy5UcmlhbmdsZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdUcmlhbmdsZScsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBwaUJ5MiAgID0gTWF0aC5QSSAqIDI7XG5cbiAgaWYgKGZhYnJpYy5FbGxpcHNlKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5FbGxpcHNlIGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRWxsaXBzZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkVsbGlwc2VcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuRWxsaXBzZX0gdGhpc0FyZ1xuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuRWxsaXBzZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5FbGxpcHNlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2VsbGlwc2UnLFxuXG4gICAgLyoqXG4gICAgICogSG9yaXpvbnRhbCByYWRpdXNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJ4OiAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNhbCByYWRpdXNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJ5OiAgIDAsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3J4JywgJ3J5JyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuRWxsaXBzZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLnNldCgncngnLCBvcHRpb25zICYmIG9wdGlvbnMucnggfHwgMCk7XG4gICAgICB0aGlzLnNldCgncnknLCBvcHRpb25zICYmIG9wdGlvbnMucnkgfHwgMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuRWxsaXBzZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIF9zZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfc2V0Jywga2V5LCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuXG4gICAgICAgIGNhc2UgJ3J4JzpcbiAgICAgICAgICB0aGlzLnJ4ID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5zZXQoJ3dpZHRoJywgdmFsdWUgKiAyKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyeSc6XG4gICAgICAgICAgdGhpcy5yeSA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuc2V0KCdoZWlnaHQnLCB2YWx1ZSAqIDIpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBob3Jpem9udGFsIHJhZGl1cyBvZiBhbiBvYmplY3QgKGFjY29yZGluZyB0byBob3cgYW4gb2JqZWN0IGlzIHNjYWxlZClcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0Ung6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdyeCcpICogdGhpcy5nZXQoJ3NjYWxlWCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFZlcnRpY2FsIHJhZGl1cyBvZiBhbiBvYmplY3QgKGFjY29yZGluZyB0byBob3cgYW4gb2JqZWN0IGlzIHNjYWxlZClcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0Unk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdyeScpICogdGhpcy5nZXQoJ3NjYWxlWScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgWydyeCcsICdyeSddLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKSk7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJzxlbGxpcHNlICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAnY3g9XCIwXCIgY3k9XCIwXCIgJyxcbiAgICAgICAgJ3J4PVwiJywgdGhpcy5yeCxcbiAgICAgICAgJ1wiIHJ5PVwiJywgdGhpcy5yeSxcbiAgICAgICAgJ1wiIC8+XFxuJ1xuICAgICAgXTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zZm9ybSgxLCAwLCAwLCB0aGlzLnJ5IC8gdGhpcy5yeCwgMCwgMCk7XG4gICAgICBjdHguYXJjKFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnJ4LFxuICAgICAgICAwLFxuICAgICAgICBwaUJ5MixcbiAgICAgICAgZmFsc2UpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSB7QGxpbmsgZmFicmljLkVsbGlwc2UuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuRWxsaXBzZVxuICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNFbGxpcHNlRWxlbWVudFxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UuQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgnY3ggY3kgcnggcnknLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuRWxsaXBzZX0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuRWxsaXBzZVxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIE9wdGlvbnMgY2FsbGJhY2sgaW52b2tlZCBhZnRlciBwYXJzaW5nIGlzIGZpbmlzaGVkXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5FbGxpcHNlfVxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5FbGxpcHNlLkFUVFJJQlVURV9OQU1FUyk7XG5cbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgPSAocGFyc2VkQXR0cmlidXRlcy5sZWZ0IHx8IDApIC0gcGFyc2VkQXR0cmlidXRlcy5yeDtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLnRvcCA9IChwYXJzZWRBdHRyaWJ1dGVzLnRvcCB8fCAwKSAtIHBhcnNlZEF0dHJpYnV0ZXMucnk7XG4gICAgY2FsbGJhY2sobmV3IGZhYnJpYy5FbGxpcHNlKHBhcnNlZEF0dHJpYnV0ZXMpKTtcbiAgfTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkVsbGlwc2V9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5FbGxpcHNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gaW52b2tlZCB3aXRoIG5ldyBpbnN0YW5jZSBhcyBmaXJzdCBhcmd1bWVudFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdFbGxpcHNlJywgb2JqZWN0LCBjYWxsYmFjayk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQ7XG5cbiAgaWYgKGZhYnJpYy5SZWN0KSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5SZWN0IGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWN0YW5nbGUgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5SZWN0XG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLlJlY3R9IHRoaXNBcmdcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlJlY3QjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5SZWN0ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuUmVjdC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbnNpZGVyIHdoZW4gY2hlY2tpbmcgaWYgc3RhdGUgb2YgYW4gb2JqZWN0IGlzIGNoYW5nZWQgKHtAbGluayBmYWJyaWMuT2JqZWN0I2hhc1N0YXRlQ2hhbmdlZH0pXG4gICAgICogYXMgd2VsbCBhcyBmb3IgaGlzdG9yeSAodW5kby9yZWRvKSBwdXJwb3Nlc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3RhdGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zdGF0ZVByb3BlcnRpZXMuY29uY2F0KCdyeCcsICdyeScpLFxuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdyZWN0JyxcblxuICAgIC8qKlxuICAgICAqIEhvcml6b250YWwgYm9yZGVyIHJhZGl1c1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcng6ICAgMCxcblxuICAgIC8qKlxuICAgICAqIFZlcnRpY2FsIGJvcmRlciByYWRpdXNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJ5OiAgIDAsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3J4JywgJ3J5JyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5faW5pdFJ4UnkoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgcngvcnkgYXR0cmlidXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRSeFJ5OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJ4ICYmICF0aGlzLnJ5KSB7XG4gICAgICAgIHRoaXMucnkgPSB0aGlzLnJ4O1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5yeSAmJiAhdGhpcy5yeCkge1xuICAgICAgICB0aGlzLnJ4ID0gdGhpcy5yeTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG5cbiAgICAgIC8vIDF4MSBjYXNlICh1c2VkIGluIHNwcmF5IGJydXNoKSBvcHRpbWl6YXRpb24gd2FzIHJlbW92ZWQgYmVjYXVzZVxuICAgICAgLy8gd2l0aCBjYWNoaW5nIGFuZCBoaWdoZXIgem9vbSBsZXZlbCB0aGlzIG1ha2VzIG1vcmUgZGFtYWdlIHRoYW4gaGVscFxuXG4gICAgICB2YXIgcnggPSB0aGlzLnJ4ID8gTWF0aC5taW4odGhpcy5yeCwgdGhpcy53aWR0aCAvIDIpIDogMCxcbiAgICAgICAgICByeSA9IHRoaXMucnkgPyBNYXRoLm1pbih0aGlzLnJ5LCB0aGlzLmhlaWdodCAvIDIpIDogMCxcbiAgICAgICAgICB3ID0gdGhpcy53aWR0aCxcbiAgICAgICAgICBoID0gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgeCA9IC10aGlzLndpZHRoIC8gMixcbiAgICAgICAgICB5ID0gLXRoaXMuaGVpZ2h0IC8gMixcbiAgICAgICAgICBpc1JvdW5kZWQgPSByeCAhPT0gMCB8fCByeSAhPT0gMCxcbiAgICAgICAgICAvKiBcIm1hZ2ljIG51bWJlclwiIGZvciBiZXppZXIgYXBwcm94aW1hdGlvbnMgb2YgYXJjcyAoaHR0cDovL2l0Yy5rdHUubHQvaXRjMzU0L1Jpc2t1czM1NC5wZGYpICovXG4gICAgICAgICAgayA9IDEgLSAwLjU1MjI4NDc0OTg7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgIGN0eC5tb3ZlVG8oeCArIHJ4LCB5KTtcblxuICAgICAgY3R4LmxpbmVUbyh4ICsgdyAtIHJ4LCB5KTtcbiAgICAgIGlzUm91bmRlZCAmJiBjdHguYmV6aWVyQ3VydmVUbyh4ICsgdyAtIGsgKiByeCwgeSwgeCArIHcsIHkgKyBrICogcnksIHggKyB3LCB5ICsgcnkpO1xuXG4gICAgICBjdHgubGluZVRvKHggKyB3LCB5ICsgaCAtIHJ5KTtcbiAgICAgIGlzUm91bmRlZCAmJiBjdHguYmV6aWVyQ3VydmVUbyh4ICsgdywgeSArIGggLSBrICogcnksIHggKyB3IC0gayAqIHJ4LCB5ICsgaCwgeCArIHcgLSByeCwgeSArIGgpO1xuXG4gICAgICBjdHgubGluZVRvKHggKyByeCwgeSArIGgpO1xuICAgICAgaXNSb3VuZGVkICYmIGN0eC5iZXppZXJDdXJ2ZVRvKHggKyBrICogcngsIHkgKyBoLCB4LCB5ICsgaCAtIGsgKiByeSwgeCwgeSArIGggLSByeSk7XG5cbiAgICAgIGN0eC5saW5lVG8oeCwgeSArIHJ5KTtcbiAgICAgIGlzUm91bmRlZCAmJiBjdHguYmV6aWVyQ3VydmVUbyh4LCB5ICsgayAqIHJ5LCB4ICsgayAqIHJ4LCB5LCB4ICsgcngsIHkpO1xuXG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG5cbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgWydyeCcsICdyeSddLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKSk7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHggPSAtdGhpcy53aWR0aCAvIDIsIHkgPSAtdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJzxyZWN0ICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAneD1cIicsIHgsICdcIiB5PVwiJywgeSxcbiAgICAgICAgJ1wiIHJ4PVwiJywgdGhpcy5yeCwgJ1wiIHJ5PVwiJywgdGhpcy5yeSxcbiAgICAgICAgJ1wiIHdpZHRoPVwiJywgdGhpcy53aWR0aCwgJ1wiIGhlaWdodD1cIicsIHRoaXMuaGVpZ2h0LFxuICAgICAgICAnXCIgLz5cXG4nXG4gICAgICBdO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSBgZmFicmljLlJlY3QuZnJvbUVsZW1lbnRgKVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUmVjdFxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjUmVjdEVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5SZWN0LkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoJ3ggeSByeCByeSB3aWR0aCBoZWlnaHQnLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuUmVjdH0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUmVjdFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgZmFicmljLlJlY3QuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IH07XG5cbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLlJlY3QuQVRUUklCVVRFX05BTUVTKTtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgPSBwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgfHwgMDtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLnRvcCAgPSBwYXJzZWRBdHRyaWJ1dGVzLnRvcCAgfHwgMDtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmhlaWdodCAgPSBwYXJzZWRBdHRyaWJ1dGVzLmhlaWdodCB8fCAwO1xuICAgIHBhcnNlZEF0dHJpYnV0ZXMud2lkdGggID0gcGFyc2VkQXR0cmlidXRlcy53aWR0aCB8fCAwO1xuICAgIHZhciByZWN0ID0gbmV3IGZhYnJpYy5SZWN0KGV4dGVuZCgob3B0aW9ucyA/IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvcHRpb25zKSA6IHsgfSksIHBhcnNlZEF0dHJpYnV0ZXMpKTtcbiAgICByZWN0LnZpc2libGUgPSByZWN0LnZpc2libGUgJiYgcmVjdC53aWR0aCA+IDAgJiYgcmVjdC5oZWlnaHQgPiAwO1xuICAgIGNhbGxiYWNrKHJlY3QpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuUmVjdH0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlJlY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuUmVjdCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuUmVjdC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdSZWN0Jywgb2JqZWN0LCBjYWxsYmFjayk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBtaW4gPSBmYWJyaWMudXRpbC5hcnJheS5taW4sXG4gICAgICBtYXggPSBmYWJyaWMudXRpbC5hcnJheS5tYXgsXG4gICAgICB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIHByb2plY3RTdHJva2VPblBvaW50cyA9IGZhYnJpYy51dGlsLnByb2plY3RTdHJva2VPblBvaW50cztcblxuICBpZiAoZmFicmljLlBvbHlsaW5lKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5Qb2x5bGluZSBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUG9seWxpbmUgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5Qb2x5bGluZVxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5Qb2x5bGluZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlBvbHlsaW5lID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuUG9seWxpbmUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAncG9seWxpbmUnLFxuXG4gICAgLyoqXG4gICAgICogUG9pbnRzIGFycmF5XG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBvaW50czogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFdBUk5JTkc6IEZlYXR1cmUgaW4gcHJvZ3Jlc3NcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGV4YWN0IGJvdW5kaW5nIGJveCB0YWtpbmcgaW4gYWNjb3VudCBzdHJva2VXaWR0aCBvbiBhY3V0ZSBhbmdsZXNcbiAgICAgKiB0aGlzIHdpbGwgYmUgdHVybmVkIHRvIHRydWUgYnkgZGVmYXVsdCBvbiBmYWJyaWMgNi4wXG4gICAgICogbWF5YmUgd2lsbCBiZSBsZWZ0IGluIGFzIGFuIG9wdGltaXphdGlvbiBzaW5jZSBjYWxjdWxhdGlvbnMgbWF5IGJlIHNsb3dcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGV4YWN0Qm91bmRpbmdCb3g6IGZhbHNlLFxuXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdwb2ludHMnKSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFycmF5IG9mIHBvaW50cyAod2hlcmUgZWFjaCBwb2ludCBpcyBhbiBvYmplY3Qgd2l0aCB4IGFuZCB5KVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9seWxpbmV9IHRoaXNBcmdcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5bGluZShbXG4gICAgICogICAgIHsgeDogMTAsIHk6IDEwIH0sXG4gICAgICogICAgIHsgeDogNTAsIHk6IDMwIH0sXG4gICAgICogICAgIHsgeDogNDAsIHk6IDcwIH0sXG4gICAgICogICAgIHsgeDogNjAsIHk6IDUwIH0sXG4gICAgICogICAgIHsgeDogMTAwLCB5OiAxNTAgfSxcbiAgICAgKiAgICAgeyB4OiA0MCwgeTogMTAwIH1cbiAgICAgKiAgIF0sIHtcbiAgICAgKiAgIHN0cm9rZTogJ3JlZCcsXG4gICAgICogICBsZWZ0OiAxMDAsXG4gICAgICogICB0b3A6IDEwMFxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHBvaW50cywgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICB0aGlzLnBvaW50cyA9IHBvaW50cyB8fCBbXTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRQb3NpdGlvbkRpbWVuc2lvbnMob3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Byb2plY3RTdHJva2VPblBvaW50czogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByb2plY3RTdHJva2VPblBvaW50cyh0aGlzLnBvaW50cywgdGhpcywgdHJ1ZSk7XG4gICAgfSxcblxuICAgIF9zZXRQb3NpdGlvbkRpbWVuc2lvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWxjRGltID0gdGhpcy5fY2FsY0RpbWVuc2lvbnMob3B0aW9ucyksIGNvcnJlY3RMZWZ0VG9wLFxuICAgICAgICAgIGNvcnJlY3RTaXplID0gdGhpcy5leGFjdEJvdW5kaW5nQm94ID8gdGhpcy5zdHJva2VXaWR0aCA6IDA7XG4gICAgICB0aGlzLndpZHRoID0gY2FsY0RpbS53aWR0aCAtIGNvcnJlY3RTaXplO1xuICAgICAgdGhpcy5oZWlnaHQgPSBjYWxjRGltLmhlaWdodCAtIGNvcnJlY3RTaXplO1xuICAgICAgaWYgKCFvcHRpb25zLmZyb21TVkcpIHtcbiAgICAgICAgY29ycmVjdExlZnRUb3AgPSB0aGlzLnRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4oXG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhpcyBsb29rcyBiYWQsIGJ1dCBpcyBvbmUgd2F5IHRvIGtlZXAgaXQgb3B0aW9uYWwgZm9yIG5vdy5cbiAgICAgICAgICAgIHg6IGNhbGNEaW0ubGVmdCAtIHRoaXMuc3Ryb2tlV2lkdGggLyAyICsgY29ycmVjdFNpemUgLyAyLFxuICAgICAgICAgICAgeTogY2FsY0RpbS50b3AgLSB0aGlzLnN0cm9rZVdpZHRoIC8gMiArIGNvcnJlY3RTaXplIC8gMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2xlZnQnLFxuICAgICAgICAgICd0b3AnLFxuICAgICAgICAgIHRoaXMub3JpZ2luWCxcbiAgICAgICAgICB0aGlzLm9yaWdpbllcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5sZWZ0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmxlZnQgPSBvcHRpb25zLmZyb21TVkcgPyBjYWxjRGltLmxlZnQgOiBjb3JyZWN0TGVmdFRvcC54O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnRvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy50b3AgPSBvcHRpb25zLmZyb21TVkcgPyBjYWxjRGltLnRvcCA6IGNvcnJlY3RMZWZ0VG9wLnk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhdGhPZmZzZXQgPSB7XG4gICAgICAgIHg6IGNhbGNEaW0ubGVmdCArIHRoaXMud2lkdGggLyAyICsgY29ycmVjdFNpemUgLyAyLFxuICAgICAgICB5OiBjYWxjRGltLnRvcCArIHRoaXMuaGVpZ2h0IC8gMiArIGNvcnJlY3RTaXplIC8gMlxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2x5Z29uIG1pbiBhbmQgbWF4IHBvaW50IGZyb20gcG9pbnRzIGFycmF5LFxuICAgICAqIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgdG8gbWVhc3VyZSB0aGVcbiAgICAgKiBwb2x5Z29uIHNpemVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdC5sZWZ0IFggY29vcmRpbmF0ZSBvZiB0aGUgcG9seWdvbiBsZWZ0bW9zdCBwb2ludFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LnRvcCBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvbHlnb24gdG9wbW9zdCBwb2ludFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LndpZHRoIGRpc3RhbmNlIGJldHdlZW4gWCBjb29yZGluYXRlcyBvZiB0aGUgcG9seWdvbiBsZWZ0bW9zdCBhbmQgcmlnaHRtb3N0IHBvaW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QuaGVpZ2h0IGRpc3RhbmNlIGJldHdlZW4gWSBjb29yZGluYXRlcyBvZiB0aGUgcG9seWdvbiB0b3Btb3N0IGFuZCBib3R0b21tb3N0IHBvaW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgcG9pbnRzID0gdGhpcy5leGFjdEJvdW5kaW5nQm94ID8gdGhpcy5fcHJvamVjdFN0cm9rZU9uUG9pbnRzKCkgOiB0aGlzLnBvaW50cyxcbiAgICAgICAgICBtaW5YID0gbWluKHBvaW50cywgJ3gnKSB8fCAwLFxuICAgICAgICAgIG1pblkgPSBtaW4ocG9pbnRzLCAneScpIHx8IDAsXG4gICAgICAgICAgbWF4WCA9IG1heChwb2ludHMsICd4JykgfHwgMCxcbiAgICAgICAgICBtYXhZID0gbWF4KHBvaW50cywgJ3knKSB8fCAwLFxuICAgICAgICAgIHdpZHRoID0gKG1heFggLSBtaW5YKSxcbiAgICAgICAgICBoZWlnaHQgPSAobWF4WSAtIG1pblkpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBtaW5YLFxuICAgICAgICB0b3A6IG1pblksXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIHByb3BlcnRpZXNUb0luY2x1ZGUpLCB7XG4gICAgICAgIHBvaW50czogdGhpcy5wb2ludHMuY29uY2F0KClcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb2ludHMgPSBbXSwgZGlmZlggPSB0aGlzLnBhdGhPZmZzZXQueCwgZGlmZlkgPSB0aGlzLnBhdGhPZmZzZXQueSxcbiAgICAgICAgICBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5wb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgdG9GaXhlZCh0aGlzLnBvaW50c1tpXS54IC0gZGlmZlgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnLCcsXG4gICAgICAgICAgdG9GaXhlZCh0aGlzLnBvaW50c1tpXS55IC0gZGlmZlksIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnICdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8JyArIHRoaXMudHlwZSArICcgJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICdwb2ludHM9XCInLCBwb2ludHMuam9pbignJyksXG4gICAgICAgICdcIiAvPlxcbidcbiAgICAgIF07XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgY29tbW9uUmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBwb2ludCwgbGVuID0gdGhpcy5wb2ludHMubGVuZ3RoLFxuICAgICAgICAgIHggPSB0aGlzLnBhdGhPZmZzZXQueCxcbiAgICAgICAgICB5ID0gdGhpcy5wYXRoT2Zmc2V0Lnk7XG5cbiAgICAgIGlmICghbGVuIHx8IGlzTmFOKHRoaXMucG9pbnRzW2xlbiAtIDFdLnkpKSB7XG4gICAgICAgIC8vIGRvIG5vdCBkcmF3IGlmIG5vIHBvaW50cyBvciBvZGQgcG9pbnRzXG4gICAgICAgIC8vIE5hTiBjb21lcyBmcm9tIHBhcnNlRmxvYXQgb2YgYSBlbXB0eSBzdHJpbmcgaW4gcGFyc2VyXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8odGhpcy5wb2ludHNbMF0ueCAtIHgsIHRoaXMucG9pbnRzWzBdLnkgLSB5KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcG9pbnQgPSB0aGlzLnBvaW50c1tpXTtcbiAgICAgICAgY3R4LmxpbmVUbyhwb2ludC54IC0geCwgcG9pbnQueSAtIHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmNvbW1vblJlbmRlcihjdHgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbXBsZXhpdHkgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbXBsZXhpdHkgb2YgdGhpcyBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNvbXBsZXhpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdwb2ludHMnKS5sZW5ndGg7XG4gICAgfVxuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudH0pXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5bGluZVxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjUG9seWxpbmVFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuUG9seWxpbmUuQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5Qb2x5bGluZSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5bGluZVxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZXJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBhZnRlciBwYXJzaW5nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudEdlbmVyYXRvciA9IGZ1bmN0aW9uKF9jbGFzcykge1xuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB2YXIgcG9pbnRzID0gZmFicmljLnBhcnNlUG9pbnRzQXR0cmlidXRlKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdwb2ludHMnKSksXG4gICAgICAgICAgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljW19jbGFzc10uQVRUUklCVVRFX05BTUVTKTtcbiAgICAgIHBhcnNlZEF0dHJpYnV0ZXMuZnJvbVNWRyA9IHRydWU7XG4gICAgICBjYWxsYmFjayhuZXcgZmFicmljW19jbGFzc10ocG9pbnRzLCBleHRlbmQocGFyc2VkQXR0cmlidXRlcywgb3B0aW9ucykpKTtcbiAgICB9O1xuICB9O1xuXG4gIGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudCA9IGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudEdlbmVyYXRvcignUG9seWxpbmUnKTtcblxuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5Qb2x5bGluZSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWxpbmVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuUGF0aCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuUG9seWxpbmUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUG9seWxpbmUnLCBvYmplY3QsIGNhbGxiYWNrLCAncG9pbnRzJyk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0ge30pLFxuICAgICAgcHJvamVjdFN0cm9rZU9uUG9pbnRzID0gZmFicmljLnV0aWwucHJvamVjdFN0cm9rZU9uUG9pbnRzO1xuXG4gIGlmIChmYWJyaWMuUG9seWdvbikge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUG9seWdvbiBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUG9seWdvbiBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlBvbHlnb25cbiAgICogQGV4dGVuZHMgZmFicmljLlBvbHlsaW5lXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5Qb2x5Z29uI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuUG9seWdvbiA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5Qb2x5bGluZSwgLyoqIEBsZW5kcyBmYWJyaWMuUG9seWdvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdwb2x5Z29uJyxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Byb2plY3RTdHJva2VPblBvaW50czogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByb2plY3RTdHJva2VPblBvaW50cyh0aGlzLnBvaW50cywgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmNvbW1vblJlbmRlcihjdHgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IGBmYWJyaWMuUG9seWdvbi5mcm9tRWxlbWVudGApXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5Z29uXG4gICAqIEBzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNQb2x5Z29uRWxlbWVudFxuICAgKi9cbiAgZmFicmljLlBvbHlnb24uQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuUG9seWdvbn0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWdvblxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgZmFicmljLlBvbHlnb24uZnJvbUVsZW1lbnQgPSBmYWJyaWMuUG9seWxpbmUuZnJvbUVsZW1lbnRHZW5lcmF0b3IoJ1BvbHlnb24nKTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuUG9seWdvbiBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWdvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFuIGZhYnJpYy5QYXRoIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGZhYnJpYy5Qb2x5Z29uLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUG9seWdvbicsIG9iamVjdCwgY2FsbGJhY2ssICdwb2ludHMnKTtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgbWluID0gZmFicmljLnV0aWwuYXJyYXkubWluLFxuICAgICAgbWF4ID0gZmFicmljLnV0aWwuYXJyYXkubWF4LFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lLFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQ7XG5cbiAgaWYgKGZhYnJpYy5QYXRoKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5QYXRoIGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXRoIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUGF0aFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0xI3BhdGhfYW5kX3BhdGhncm91cH1cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlBhdGgjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5QYXRoID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuUGF0aC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdwYXRoJyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBhdGggcG9pbnRzXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdGg6IG51bGwsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3BhdGgnLCAnZmlsbFJ1bGUnKSxcblxuICAgIHN0YXRlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RhdGVQcm9wZXJ0aWVzLmNvbmNhdCgncGF0aCcpLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fFN0cmluZ30gcGF0aCBQYXRoIGRhdGEgKHNlcXVlbmNlIG9mIGNvb3JkaW5hdGVzIGFuZCBjb3JyZXNwb25kaW5nIFwiY29tbWFuZFwiIHRva2VucylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBhdGh9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IGNsb25lKG9wdGlvbnMgfHwge30pO1xuICAgICAgZGVsZXRlIG9wdGlvbnMucGF0aDtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRQYXRoKHBhdGggfHwgW10sIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge0FycmF5fFN0cmluZ30gcGF0aCBQYXRoIGRhdGEgKHNlcXVlbmNlIG9mIGNvb3JkaW5hdGVzIGFuZCBjb3JyZXNwb25kaW5nIFwiY29tbWFuZFwiIHRva2VucylcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAqL1xuICAgIF9zZXRQYXRoOiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5wYXRoID0gZmFicmljLnV0aWwubWFrZVBhdGhTaW1wbGVyKFxuICAgICAgICBBcnJheS5pc0FycmF5KHBhdGgpID8gcGF0aCA6IGZhYnJpYy51dGlsLnBhcnNlUGF0aChwYXRoKVxuICAgICAgKTtcblxuICAgICAgZmFicmljLlBvbHlsaW5lLnByb3RvdHlwZS5fc2V0UG9zaXRpb25EaW1lbnNpb25zLmNhbGwodGhpcywgb3B0aW9ucyB8fCB7fSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBjb250ZXh0IHRvIHJlbmRlciBwYXRoIG9uXG4gICAgICovXG4gICAgX3JlbmRlclBhdGhDb21tYW5kczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgY3VycmVudCwgLy8gY3VycmVudCBpbnN0cnVjdGlvblxuICAgICAgICAgIHN1YnBhdGhTdGFydFggPSAwLFxuICAgICAgICAgIHN1YnBhdGhTdGFydFkgPSAwLFxuICAgICAgICAgIHggPSAwLCAvLyBjdXJyZW50IHhcbiAgICAgICAgICB5ID0gMCwgLy8gY3VycmVudCB5XG4gICAgICAgICAgY29udHJvbFggPSAwLCAvLyBjdXJyZW50IGNvbnRyb2wgcG9pbnQgeFxuICAgICAgICAgIGNvbnRyb2xZID0gMCwgLy8gY3VycmVudCBjb250cm9sIHBvaW50IHlcbiAgICAgICAgICBsID0gLXRoaXMucGF0aE9mZnNldC54LFxuICAgICAgICAgIHQgPSAtdGhpcy5wYXRoT2Zmc2V0Lnk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMucGF0aC5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXG4gICAgICAgIGN1cnJlbnQgPSB0aGlzLnBhdGhbaV07XG5cbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzBdKSB7IC8vIGZpcnN0IGxldHRlclxuXG4gICAgICAgICAgY2FzZSAnTCc6IC8vIGxpbmV0bywgYWJzb2x1dGVcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyBsLCB5ICsgdCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ00nOiAvLyBtb3ZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgc3VicGF0aFN0YXJ0WCA9IHg7XG4gICAgICAgICAgICBzdWJwYXRoU3RhcnRZID0geTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIGwsIHkgKyB0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnQyc6IC8vIGJlemllckN1cnZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICB4ID0gY3VycmVudFs1XTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzZdO1xuICAgICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzNdO1xuICAgICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgY3R4LmJlemllckN1cnZlVG8oXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0gKyBsLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdICsgdCxcbiAgICAgICAgICAgICAgY29udHJvbFggKyBsLFxuICAgICAgICAgICAgICBjb250cm9sWSArIHQsXG4gICAgICAgICAgICAgIHggKyBsLFxuICAgICAgICAgICAgICB5ICsgdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnUSc6IC8vIHF1YWRyYXRpY0N1cnZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhcbiAgICAgICAgICAgICAgY3VycmVudFsxXSArIGwsXG4gICAgICAgICAgICAgIGN1cnJlbnRbMl0gKyB0LFxuICAgICAgICAgICAgICBjdXJyZW50WzNdICsgbCxcbiAgICAgICAgICAgICAgY3VycmVudFs0XSArIHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgIHggPSBzdWJwYXRoU3RhcnRYO1xuICAgICAgICAgICAgeSA9IHN1YnBhdGhTdGFydFk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgcGF0aCBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5fcmVuZGVyUGF0aENvbW1hbmRzKGN0eCk7XG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuUGF0aCAoJyArIHRoaXMuY29tcGxleGl0eSgpICtcbiAgICAgICAgJyk6IHsgXCJ0b3BcIjogJyArIHRoaXMudG9wICsgJywgXCJsZWZ0XCI6ICcgKyB0aGlzLmxlZnQgKyAnIH0+JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSwge1xuICAgICAgICBwYXRoOiB0aGlzLnBhdGgubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uc2xpY2UoKTsgfSksXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRhbGVzcyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0RhdGFsZXNzT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgbyA9IHRoaXMudG9PYmplY3QoWydzb3VyY2VQYXRoJ10uY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpKTtcbiAgICAgIGlmIChvLnNvdXJjZVBhdGgpIHtcbiAgICAgICAgZGVsZXRlIG8ucGF0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXRoID0gZmFicmljLnV0aWwuam9pblBhdGgodGhpcy5wYXRoKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8cGF0aCAnLCAnQ09NTU9OX1BBUlRTJyxcbiAgICAgICAgJ2Q9XCInLCBwYXRoLFxuICAgICAgICAnXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiICcsXG4gICAgICAgICcvPlxcbidcbiAgICAgIF07XG4gICAgfSxcblxuICAgIF9nZXRPZmZzZXRUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpZ2l0cyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUztcbiAgICAgIHJldHVybiAnIHRyYW5zbGF0ZSgnICsgdG9GaXhlZCgtdGhpcy5wYXRoT2Zmc2V0LngsIGRpZ2l0cykgKyAnLCAnICtcbiAgICAgICAgICB0b0ZpeGVkKC10aGlzLnBhdGhPZmZzZXQueSwgZGlnaXRzKSArICcpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgY2xpcFBhdGggcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9DbGlwUGF0aFNWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgdmFyIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSB0aGlzLl9nZXRPZmZzZXRUcmFuc2Zvcm0oKTtcbiAgICAgIHJldHVybiAnXFx0JyArIHRoaXMuX2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cChcbiAgICAgICAgdGhpcy5fdG9TVkcoKSwgeyByZXZpdmVyOiByZXZpdmVyLCBhZGRpdGlvbmFsVHJhbnNmb3JtOiBhZGRpdGlvbmFsVHJhbnNmb3JtIH1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICB2YXIgYWRkaXRpb25hbFRyYW5zZm9ybSA9IHRoaXMuX2dldE9mZnNldFRyYW5zZm9ybSgpO1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJhc2VTVkdNYXJrdXAodGhpcy5fdG9TVkcoKSwgeyByZXZpdmVyOiByZXZpdmVyLCBhZGRpdGlvbmFsVHJhbnNmb3JtOiBhZGRpdGlvbmFsVHJhbnNmb3JtICB9KTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBudW1iZXIgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2UgY29tcGxleGl0eVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gY29tcGxleGl0eSBvZiB0aGlzIGluc3RhbmNlXG4gICAgICovXG4gICAgY29tcGxleGl0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXRoLmxlbmd0aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYVggPSBbXSxcbiAgICAgICAgICBhWSA9IFtdLFxuICAgICAgICAgIGN1cnJlbnQsIC8vIGN1cnJlbnQgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICBzdWJwYXRoU3RhcnRYID0gMCxcbiAgICAgICAgICBzdWJwYXRoU3RhcnRZID0gMCxcbiAgICAgICAgICB4ID0gMCwgLy8gY3VycmVudCB4XG4gICAgICAgICAgeSA9IDAsIC8vIGN1cnJlbnQgeVxuICAgICAgICAgIGJvdW5kcztcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMucGF0aC5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXG4gICAgICAgIGN1cnJlbnQgPSB0aGlzLnBhdGhbaV07XG5cbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzBdKSB7IC8vIGZpcnN0IGxldHRlclxuXG4gICAgICAgICAgY2FzZSAnTCc6IC8vIGxpbmV0bywgYWJzb2x1dGVcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBib3VuZHMgPSBbXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnTSc6IC8vIG1vdmVUbywgYWJzb2x1dGVcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBzdWJwYXRoU3RhcnRYID0geDtcbiAgICAgICAgICAgIHN1YnBhdGhTdGFydFkgPSB5O1xuICAgICAgICAgICAgYm91bmRzID0gW107XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ0MnOiAvLyBiZXppZXJDdXJ2ZVRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgYm91bmRzID0gZmFicmljLnV0aWwuZ2V0Qm91bmRzT2ZDdXJ2ZSh4LCB5LFxuICAgICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdLFxuICAgICAgICAgICAgICBjdXJyZW50WzNdLFxuICAgICAgICAgICAgICBjdXJyZW50WzRdLFxuICAgICAgICAgICAgICBjdXJyZW50WzVdLFxuICAgICAgICAgICAgICBjdXJyZW50WzZdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IGN1cnJlbnRbNV07XG4gICAgICAgICAgICB5ID0gY3VycmVudFs2XTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnUSc6IC8vIHF1YWRyYXRpY0N1cnZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICBib3VuZHMgPSBmYWJyaWMudXRpbC5nZXRCb3VuZHNPZkN1cnZlKHgsIHksXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0sXG4gICAgICAgICAgICAgIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0sXG4gICAgICAgICAgICAgIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICAgIGN1cnJlbnRbM10sXG4gICAgICAgICAgICAgIGN1cnJlbnRbNF1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgIHggPSBzdWJwYXRoU3RhcnRYO1xuICAgICAgICAgICAgeSA9IHN1YnBhdGhTdGFydFk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBib3VuZHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICBhWC5wdXNoKHBvaW50LngpO1xuICAgICAgICAgIGFZLnB1c2gocG9pbnQueSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhWC5wdXNoKHgpO1xuICAgICAgICBhWS5wdXNoKHkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWluWCA9IG1pbihhWCkgfHwgMCxcbiAgICAgICAgICBtaW5ZID0gbWluKGFZKSB8fCAwLFxuICAgICAgICAgIG1heFggPSBtYXgoYVgpIHx8IDAsXG4gICAgICAgICAgbWF4WSA9IG1heChhWSkgfHwgMCxcbiAgICAgICAgICBkZWx0YVggPSBtYXhYIC0gbWluWCxcbiAgICAgICAgICBkZWx0YVkgPSBtYXhZIC0gbWluWTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbWluWCxcbiAgICAgICAgdG9wOiBtaW5ZLFxuICAgICAgICB3aWR0aDogZGVsdGFYLFxuICAgICAgICBoZWlnaHQ6IGRlbHRhWVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZhYnJpYy5QYXRoIGZyb20gYW4gb2JqZWN0XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5QYXRoXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuUGF0aCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuUGF0aC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0LnNvdXJjZVBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgcGF0aFVybCA9IG9iamVjdC5zb3VyY2VQYXRoO1xuICAgICAgZmFicmljLmxvYWRTVkdGcm9tVVJMKHBhdGhVcmwsIGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgICB2YXIgcGF0aCA9IGVsZW1lbnRzWzBdO1xuICAgICAgICBwYXRoLnNldE9wdGlvbnMob2JqZWN0KTtcbiAgICAgICAgaWYgKG9iamVjdC5jbGlwUGF0aCkge1xuICAgICAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RzKFtvYmplY3QuY2xpcFBhdGhdLCBmdW5jdGlvbihlbGl2ZW5lZE9iamVjdHMpIHtcbiAgICAgICAgICAgIHBhdGguY2xpcFBhdGggPSBlbGl2ZW5lZE9iamVjdHNbMF07XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhwYXRoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhwYXRoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUGF0aCcsIG9iamVjdCwgY2FsbGJhY2ssICdwYXRoJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSBgZmFicmljLlBhdGguZnJvbUVsZW1lbnRgKVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUGF0aFxuICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wYXRocy5odG1sI1BhdGhFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuUGF0aC5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KFsnZCddKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuUGF0aCBmcm9tIGFuIFNWRyA8cGF0aD4gZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUGF0aFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlBhdGggaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gT3B0aW9ucyBjYWxsYmFjayBpbnZva2VkIGFmdGVyIHBhcnNpbmcgaXMgZmluaXNoZWRcbiAgICovXG4gIGZhYnJpYy5QYXRoLmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLlBhdGguQVRUUklCVVRFX05BTUVTKTtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmZyb21TVkcgPSB0cnVlO1xuICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuUGF0aChwYXJzZWRBdHRyaWJ1dGVzLmQsIGV4dGVuZChwYXJzZWRBdHRyaWJ1dGVzLCBvcHRpb25zKSkpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBtaW4gPSBmYWJyaWMudXRpbC5hcnJheS5taW4sXG4gICAgICBtYXggPSBmYWJyaWMudXRpbC5hcnJheS5tYXg7XG5cbiAgaWYgKGZhYnJpYy5Hcm91cCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHcm91cCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkdyb3VwXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQG1peGVzIGZhYnJpYy5Db2xsZWN0aW9uXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI2dyb3Vwc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkdyb3VwI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuR3JvdXAgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCBmYWJyaWMuQ29sbGVjdGlvbiwgLyoqIEBsZW5kcyBmYWJyaWMuR3JvdXAucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnZ3JvdXAnLFxuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2Ygc3Ryb2tlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VXaWR0aDogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiBjbGljaywgbW91c2VvdmVyLCBtb3VzZW91dCBldmVudHMgJiBob3ZlckN1cnNvciBzaG91bGQgYWxzbyBjaGVjayBmb3Igc3VidGFyZ2V0c1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN1YlRhcmdldENoZWNrOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEdyb3VwcyBhcmUgY29udGFpbmVyLCBkbyBub3QgcmVuZGVyIGFueXRoaW5nIG9uIHRoZXlyIG93biwgZW5jZSBubyBjYWNoZSBwcm9wZXJ0aWVzXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNhY2hlUHJvcGVydGllczogW10sXG5cbiAgICAvKipcbiAgICAgKiBzZXRPbkdyb3VwIGlzIGEgbWV0aG9kIHVzZWQgZm9yIFRleHRCb3ggdGhhdCBpcyBubyBtb3JlIHVzZWQgc2luY2UgMi4wLjAgVGhlIGJlaGF2aW9yIGlzIHN0aWxsXG4gICAgICogYXZhaWxhYmxlIHNldHRpbmcgdGhpcyBib29sZWFuIHRvIHRydWUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdXNlU2V0T25Hcm91cDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RzIEdyb3VwIG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaXNBbHJlYWR5R3JvdXBlZF0gaWYgdHJ1ZSwgb2JqZWN0cyBoYXZlIGJlZW4gZ3JvdXBlZCBhbHJlYWR5LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMsIGlzQWxyZWFkeUdyb3VwZWQpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgICAgLy8gaWYgb2JqZWN0cyBlbmNsb3NlZCBpbiBhIGdyb3VwIGhhdmUgYmVlbiBncm91cGVkIGFscmVhZHksXG4gICAgICAvLyB3ZSBjYW5ub3QgY2hhbmdlIHByb3BlcnRpZXMgb2Ygb2JqZWN0cy5cbiAgICAgIC8vIFRodXMgd2UgbmVlZCB0byBzZXQgb3B0aW9ucyB0byBncm91cCB3aXRob3V0IG9iamVjdHMsXG4gICAgICBpc0FscmVhZHlHcm91cGVkICYmIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gb2JqZWN0cyB8fCBbXTtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5ncm91cCA9IHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNBbHJlYWR5R3JvdXBlZCkge1xuICAgICAgICB2YXIgY2VudGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLmNlbnRlclBvaW50O1xuICAgICAgICAvLyB3ZSB3YW50IHRvIHNldCBvcmlnaW5zIGJlZm9yZSBjYWxjdWxhdGluZyB0aGUgYm91bmRpbmcgYm94LlxuICAgICAgICAvLyBzbyB0aGF0IHRoZSB0b3BsZWZ0IGNhbiBiZSBzZXQgd2l0aCB0aGF0IGluIG1pbmQuXG4gICAgICAgIC8vIGlmIHNwZWNpZmljIHRvcCBhbmQgbGVmdCBhcmUgcGFzc2VkLCBhcmUgb3ZlcndyaXR0ZW4gbGF0ZXJcbiAgICAgICAgLy8gd2l0aCB0aGUgY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucylcbiAgICAgICAgaWYgKG9wdGlvbnMub3JpZ2luWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5vcmlnaW5YID0gb3B0aW9ucy5vcmlnaW5YO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLm9yaWdpblkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMub3JpZ2luWSA9IG9wdGlvbnMub3JpZ2luWTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBjb21pbmcgZnJvbSBzdmcgaSBkbyBub3Qgd2FudCB0byBjYWxjIGJvdW5kcy5cbiAgICAgICAgLy8gaSBhc3N1bWUgd2lkdGggYW5kIGhlaWdodCBhcmUgcGFzc2VkIGFsb25nIG9wdGlvbnNcbiAgICAgICAgY2VudGVyIHx8IHRoaXMuX2NhbGNCb3VuZHMoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcyhjZW50ZXIpO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5jZW50ZXJQb2ludDtcbiAgICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl91cGRhdGVPYmplY3RzQUNvb3JkcygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVPYmplY3RzQUNvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2tpcENvbnRyb2xzID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaS0tOyApe1xuICAgICAgICB0aGlzLl9vYmplY3RzW2ldLnNldENvb3Jkcyhza2lwQ29udHJvbHMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBDb29yZHNDaGFuZ2VdIGlmIHRydWUsIGNvb3JkaW5hdGVzIG9mIG9iamVjdHMgZW5jbG9zZWQgaW4gYSBncm91cCBkbyBub3QgY2hhbmdlXG4gICAgICovXG4gICAgX3VwZGF0ZU9iamVjdHNDb29yZHM6IGZ1bmN0aW9uKGNlbnRlcikge1xuICAgICAgdmFyIGNlbnRlciA9IGNlbnRlciB8fCB0aGlzLmdldENlbnRlclBvaW50KCk7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKXtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0Q29vcmRzKHRoaXMuX29iamVjdHNbaV0sIGNlbnRlcik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBjZW50ZXIsIGN1cnJlbnQgY2VudGVyIG9mIGdyb3VwLlxuICAgICAqL1xuICAgIF91cGRhdGVPYmplY3RDb29yZHM6IGZ1bmN0aW9uKG9iamVjdCwgY2VudGVyKSB7XG4gICAgICB2YXIgb2JqZWN0TGVmdCA9IG9iamVjdC5sZWZ0LFxuICAgICAgICAgIG9iamVjdFRvcCA9IG9iamVjdC50b3AsXG4gICAgICAgICAgc2tpcENvbnRyb2xzID0gdHJ1ZTtcblxuICAgICAgb2JqZWN0LnNldCh7XG4gICAgICAgIGxlZnQ6IG9iamVjdExlZnQgLSBjZW50ZXIueCxcbiAgICAgICAgdG9wOiBvYmplY3RUb3AgLSBjZW50ZXIueVxuICAgICAgfSk7XG4gICAgICBvYmplY3QuZ3JvdXAgPSB0aGlzO1xuICAgICAgb2JqZWN0LnNldENvb3Jkcyhza2lwQ29udHJvbHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbmF0aW9uIG9mIGEgZ3JvdXBcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy5Hcm91cDogKCcgKyB0aGlzLmNvbXBsZXhpdHkoKSArICcpPic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gb2JqZWN0IHRvIGEgZ3JvdXA7IFRoZW4gcmVjYWxjdWxhdGVzIGdyb3VwJ3MgZGltZW5zaW9uLCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGFkZFdpdGhVcGRhdGU6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIG5lc3RlZCA9ICEhdGhpcy5ncm91cDtcbiAgICAgIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICAgIGZhYnJpYy51dGlsLnJlc2V0T2JqZWN0VHJhbnNmb3JtKHRoaXMpO1xuICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICBpZiAobmVzdGVkKSB7XG4gICAgICAgICAgLy8gaWYgdGhpcyBncm91cCBpcyBpbnNpZGUgYW5vdGhlciBncm91cCwgd2UgbmVlZCB0byBwcmUgdHJhbnNmb3JtIHRoZSBvYmplY3RcbiAgICAgICAgICBmYWJyaWMudXRpbC5yZW1vdmVUcmFuc2Zvcm1Gcm9tT2JqZWN0KG9iamVjdCwgdGhpcy5ncm91cC5jYWxjVHJhbnNmb3JtTWF0cml4KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29iamVjdHMucHVzaChvYmplY3QpO1xuICAgICAgICBvYmplY3QuZ3JvdXAgPSB0aGlzO1xuICAgICAgICBvYmplY3QuX3NldCgnY2FudmFzJywgdGhpcy5jYW52YXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FsY0JvdW5kcygpO1xuICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcygpO1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICBpZiAobmVzdGVkKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAuYWRkV2l0aFVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBvYmplY3QgZnJvbSBhIGdyb3VwOyBUaGVuIHJlY2FsY3VsYXRlcyBncm91cCdzIGRpbWVuc2lvbiwgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByZW1vdmVXaXRoVXBkYXRlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICAgIGZhYnJpYy51dGlsLnJlc2V0T2JqZWN0VHJhbnNmb3JtKHRoaXMpO1xuXG4gICAgICB0aGlzLnJlbW92ZShvYmplY3QpO1xuICAgICAgdGhpcy5fY2FsY0JvdW5kcygpO1xuICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcygpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uT2JqZWN0QWRkZWQ6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICBvYmplY3QuZ3JvdXAgPSB0aGlzO1xuICAgICAgb2JqZWN0Ll9zZXQoJ2NhbnZhcycsIHRoaXMuY2FudmFzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25PYmplY3RSZW1vdmVkOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgZGVsZXRlIG9iamVjdC5ncm91cDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgaSA9IHRoaXMuX29iamVjdHMubGVuZ3RoO1xuICAgICAgaWYgKHRoaXMudXNlU2V0T25Hcm91cCkge1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5zZXRPbkdyb3VwKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnY2FudmFzJykge1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5fc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5fc2V0LmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBfaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSB0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgdmFyIG9ianNUb09iamVjdCA9IHRoaXMuX29iamVjdHNcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuICFvYmouZXhjbHVkZUZyb21FeHBvcnQ7XG4gICAgICAgIH0pXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHZhciBvcmlnaW5hbERlZmF1bHRzID0gb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgICAgIG9iai5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IF9pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgICAgICB2YXIgX29iaiA9IG9iai50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgICBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBvcmlnaW5hbERlZmF1bHRzO1xuICAgICAgICAgIHJldHVybiBfb2JqO1xuICAgICAgICB9KTtcbiAgICAgIHZhciBvYmogPSBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS50b09iamVjdC5jYWxsKHRoaXMsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgb2JqLm9iamVjdHMgPSBvYmpzVG9PYmplY3Q7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZSwgaW4gZGF0YWxlc3MgbW9kZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0RhdGFsZXNzT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgb2Jqc1RvT2JqZWN0LCBzb3VyY2VQYXRoID0gdGhpcy5zb3VyY2VQYXRoO1xuICAgICAgaWYgKHNvdXJjZVBhdGgpIHtcbiAgICAgICAgb2Jqc1RvT2JqZWN0ID0gc291cmNlUGF0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgX2luY2x1ZGVEZWZhdWx0VmFsdWVzID0gdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgICAgb2Jqc1RvT2JqZWN0ID0gdGhpcy5fb2JqZWN0cy5tYXAoZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgdmFyIG9yaWdpbmFsRGVmYXVsdHMgPSBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICAgICAgb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzID0gX2luY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgICAgIHZhciBfb2JqID0gb2JqLnRvRGF0YWxlc3NPYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAgICAgb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzID0gb3JpZ2luYWxEZWZhdWx0cztcbiAgICAgICAgICByZXR1cm4gX29iajtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gZmFicmljLk9iamVjdC5wcm90b3R5cGUudG9EYXRhbGVzc09iamVjdC5jYWxsKHRoaXMsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgb2JqLm9iamVjdHMgPSBvYmpzVG9PYmplY3Q7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGluc3RhbmNlIG9uIGEgZ2l2ZW4gY29udGV4dFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgaW5zdGFuY2Ugb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5fdHJhbnNmb3JtRG9uZSA9IHRydWU7XG4gICAgICB0aGlzLmNhbGxTdXBlcigncmVuZGVyJywgY3R4KTtcbiAgICAgIHRoaXMuX3RyYW5zZm9ybURvbmUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVjaWRlIGlmIHRoZSBvYmplY3Qgc2hvdWxkIGNhY2hlIG9yIG5vdC4gQ3JlYXRlIGl0cyBvd24gY2FjaGUgbGV2ZWxcbiAgICAgKiBuZWVkc0l0c093bkNhY2hlIHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIG9iamVjdCBkcmF3aW5nIG1ldGhvZCByZXF1aXJlc1xuICAgICAqIGEgY2FjaGUgc3RlcC4gTm9uZSBvZiB0aGUgZmFicmljIGNsYXNzZXMgcmVxdWlyZXMgaXQuXG4gICAgICogR2VuZXJhbGx5IHlvdSBkbyBub3QgY2FjaGUgb2JqZWN0cyBpbiBncm91cHMgYmVjYXVzZSB0aGUgZ3JvdXAgaXMgYWxyZWFkeSBjYWNoZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzaG91bGRDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3duQ2FjaGUgPSBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zaG91bGRDYWNoZS5jYWxsKHRoaXMpO1xuICAgICAgaWYgKG93bkNhY2hlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX29iamVjdHNbaV0ud2lsbERyYXdTaGFkb3coKSkge1xuICAgICAgICAgICAgdGhpcy5vd25DYWNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3duQ2FjaGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgb2JqZWN0IG9yIGEgY2hpbGQgb2JqZWN0IHdpbGwgY2FzdCBhIHNoYWRvd1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgd2lsbERyYXdTaGFkb3c6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLndpbGxEcmF3U2hhZG93LmNhbGwodGhpcykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fb2JqZWN0c1tpXS53aWxsRHJhd1NoYWRvdygpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyBncm91cCBvciBpdHMgcGFyZW50IGdyb3VwIGFyZSBjYWNoaW5nLCByZWN1cnNpdmVseSB1cFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNPbkFDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5vd25DYWNoaW5nIHx8ICh0aGlzLmdyb3VwICYmIHRoaXMuZ3JvdXAuaXNPbkFDYWNoZSgpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB0aGUgZHJhd2luZyBvcGVyYXRpb24gZm9yIGFuIG9iamVjdCBvbiBhIHNwZWNpZmllZCBjb250ZXh0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdPYmplY3Q6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5yZW5kZXIoY3R4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2RyYXdDbGlwUGF0aChjdHgsIHRoaXMuY2xpcFBhdGgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjYWNoZSBpcyBkaXJ0eVxuICAgICAqL1xuICAgIGlzQ2FjaGVEaXJ0eTogZnVuY3Rpb24oc2tpcENhbnZhcykge1xuICAgICAgaWYgKHRoaXMuY2FsbFN1cGVyKCdpc0NhY2hlRGlydHknLCBza2lwQ2FudmFzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zdGF0ZWZ1bGxDYWNoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fb2JqZWN0c1tpXS5pc0NhY2hlRGlydHkodHJ1ZSkpIHtcbiAgICAgICAgICBpZiAodGhpcy5fY2FjaGVDYW52YXMpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZ3JvdXAgaGFzIG5vdCBhIGNhY2hlIGNhbnZhcyB0aGVyZSBpcyBub3RoaW5nIHRvIGNsZWFuXG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMuY2FjaGVXaWR0aCAvIHRoaXMuem9vbVgsIHkgPSB0aGlzLmNhY2hlSGVpZ2h0IC8gdGhpcy56b29tWTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5jbGVhclJlY3QoLXggLyAyLCAteSAvIDIsIHgsIHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlcyBvcmlnaW5hbCBzdGF0ZSBvZiBlYWNoIG9mIGdyb3VwIG9iamVjdHMgKG9yaWdpbmFsIHN0YXRlIGlzIHRoYXQgd2hpY2ggd2FzIGJlZm9yZSBncm91cCB3YXMgY3JlYXRlZCkuXG4gICAgICogaWYgdGhlIG5lc3RlZCBib29sZWFuIGlzIHRydWUsIHRoZSBvcmlnaW5hbCBzdGF0ZSB3aWxsIGJlIHJlc3RvcmVkIGp1c3QgZm9yIHRoZVxuICAgICAqIGZpcnN0IGdyb3VwIGFuZCBub3QgZm9yIGFsbCB0aGUgZ3JvdXAgY2hhaW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gbmVzdGVkIHRlbGwgdGhlIGZ1bmN0aW9uIHRvIHJlc3RvcmUgb2JqZWN0IHN0YXRlIHVwIHRvIHRoZSBwYXJlbnQgZ3JvdXAgYW5kIG5vdCBtb3JlXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIF9yZXN0b3JlT2JqZWN0c1N0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBncm91cE1hdHJpeCA9IHRoaXMuY2FsY093bk1hdHJpeCgpO1xuICAgICAgdGhpcy5fb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAvLyBpbnN0ZWFkIG9mIHVzaW5nIF90aGlzID0gdGhpcztcbiAgICAgICAgZmFicmljLnV0aWwuYWRkVHJhbnNmb3JtVG9PYmplY3Qob2JqZWN0LCBncm91cE1hdHJpeCk7XG4gICAgICAgIGRlbGV0ZSBvYmplY3QuZ3JvdXA7XG4gICAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGEgZ3JvdXAgKHJlc3RvcmluZyBzdGF0ZSBvZiBpdHMgb2JqZWN0cylcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAvLyB3aGVuIGdyb3VwIGlzIGRlc3Ryb3llZCBvYmplY3RzIG5lZWRzIHRvIGdldCBhIHJlcGFpbnQgdG8gYmUgZXZlbnR1YWxseVxuICAgICAgLy8gZGlzcGxheWVkIG9uIGNhbnZhcy5cbiAgICAgIHRoaXMuX29iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0LnNldCgnZGlydHknLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICB9LFxuXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2Rpc3Bvc2UnKTtcbiAgICAgIHRoaXMuZm9yRWFjaE9iamVjdChmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5kaXNwb3NlICYmIG9iamVjdC5kaXNwb3NlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWFrZSBhIGdyb3VwIGFuIGFjdGl2ZSBzZWxlY3Rpb24sIHJlbW92ZSB0aGUgZ3JvdXAgZnJvbSBjYW52YXNcbiAgICAgKiB0aGUgZ3JvdXAgaGFzIHRvIGJlIG9uIGNhbnZhcyBmb3IgdGhpcyB0byB3b3JrLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5BY3RpdmVTZWxlY3Rpb259IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgdG9BY3RpdmVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgb2JqZWN0cyA9IHRoaXMuX29iamVjdHMsIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnRvT2JqZWN0KCk7XG4gICAgICBkZWxldGUgb3B0aW9ucy5vYmplY3RzO1xuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IG5ldyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uKFtdKTtcbiAgICAgIGFjdGl2ZVNlbGVjdGlvbi5zZXQob3B0aW9ucyk7XG4gICAgICBhY3RpdmVTZWxlY3Rpb24udHlwZSA9ICdhY3RpdmVTZWxlY3Rpb24nO1xuICAgICAgY2FudmFzLnJlbW92ZSh0aGlzKTtcbiAgICAgIG9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0Lmdyb3VwID0gYWN0aXZlU2VsZWN0aW9uO1xuICAgICAgICBvYmplY3QuZGlydHkgPSB0cnVlO1xuICAgICAgICBjYW52YXMuYWRkKG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIGFjdGl2ZVNlbGVjdGlvbi5jYW52YXMgPSBjYW52YXM7XG4gICAgICBhY3RpdmVTZWxlY3Rpb24uX29iamVjdHMgPSBvYmplY3RzO1xuICAgICAgY2FudmFzLl9hY3RpdmVPYmplY3QgPSBhY3RpdmVTZWxlY3Rpb247XG4gICAgICBhY3RpdmVTZWxlY3Rpb24uc2V0Q29vcmRzKCk7XG4gICAgICByZXR1cm4gYWN0aXZlU2VsZWN0aW9uO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhIGdyb3VwIChyZXN0b3Jpbmcgc3RhdGUgb2YgaXRzIG9iamVjdHMpXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHVuZ3JvdXBPbkNhbnZhczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVzdG9yZU9iamVjdHNTdGF0ZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGNvb3JkaW5hdGVzIG9mIGFsbCBvYmplY3RzIGluc2lkZSBncm91cFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRPYmplY3RzQ29vcmRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBza2lwQ29udHJvbHMgPSB0cnVlO1xuICAgICAgdGhpcy5mb3JFYWNoT2JqZWN0KGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBvYmplY3Quc2V0Q29vcmRzKHNraXBDb250cm9scyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jYWxjQm91bmRzOiBmdW5jdGlvbihvbmx5V2lkdGhIZWlnaHQpIHtcbiAgICAgIHZhciBhWCA9IFtdLFxuICAgICAgICAgIGFZID0gW10sXG4gICAgICAgICAgbywgcHJvcCwgY29vcmRzLFxuICAgICAgICAgIHByb3BzID0gWyd0cicsICdicicsICdibCcsICd0bCddLFxuICAgICAgICAgIGkgPSAwLCBpTGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGgsXG4gICAgICAgICAgaiwgakxlbiA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgZm9yICggOyBpIDwgaUxlbjsgKytpKSB7XG4gICAgICAgIG8gPSB0aGlzLl9vYmplY3RzW2ldO1xuICAgICAgICBjb29yZHMgPSBvLmNhbGNBQ29vcmRzKCk7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBqTGVuOyBqKyspIHtcbiAgICAgICAgICBwcm9wID0gcHJvcHNbal07XG4gICAgICAgICAgYVgucHVzaChjb29yZHNbcHJvcF0ueCk7XG4gICAgICAgICAgYVkucHVzaChjb29yZHNbcHJvcF0ueSk7XG4gICAgICAgIH1cbiAgICAgICAgby5hQ29vcmRzID0gY29vcmRzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9nZXRCb3VuZHMoYVgsIGFZLCBvbmx5V2lkdGhIZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRCb3VuZHM6IGZ1bmN0aW9uKGFYLCBhWSwgb25seVdpZHRoSGVpZ2h0KSB7XG4gICAgICB2YXIgbWluWFkgPSBuZXcgZmFicmljLlBvaW50KG1pbihhWCksIG1pbihhWSkpLFxuICAgICAgICAgIG1heFhZID0gbmV3IGZhYnJpYy5Qb2ludChtYXgoYVgpLCBtYXgoYVkpKSxcbiAgICAgICAgICB0b3AgPSBtaW5YWS55IHx8IDAsIGxlZnQgPSBtaW5YWS54IHx8IDAsXG4gICAgICAgICAgd2lkdGggPSAobWF4WFkueCAtIG1pblhZLngpIHx8IDAsXG4gICAgICAgICAgaGVpZ2h0ID0gKG1heFhZLnkgLSBtaW5YWS55KSB8fCAwO1xuICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBpZiAoIW9ubHlXaWR0aEhlaWdodCkge1xuICAgICAgICAvLyB0aGUgYm91bmRpbmcgYm94IGFsd2F5cyBmaW5kcyB0aGUgdG9wbGVmdCBtb3N0IGNvcm5lci5cbiAgICAgICAgLy8gd2hhdGV2ZXIgaXMgdGhlIGdyb3VwIG9yaWdpbiwgd2Ugc2V0IHVwIGhlcmUgdGhlIGxlZnQvdG9wIHBvc2l0aW9uLlxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uQnlPcmlnaW4oeyB4OiBsZWZ0LCB5OiB0b3AgfSwgJ2xlZnQnLCAndG9wJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICB2YXIgc3ZnU3RyaW5nID0gWyc8ZyAnLCAnQ09NTU9OX1BBUlRTJywgJyA+XFxuJ107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKCdcXHRcXHQnLCB0aGlzLl9vYmplY3RzW2ldLnRvU1ZHKHJldml2ZXIpKTtcbiAgICAgIH1cbiAgICAgIHN2Z1N0cmluZy5wdXNoKCc8L2c+XFxuJyk7XG4gICAgICByZXR1cm4gc3ZnU3RyaW5nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0eWxlcy1zdHJpbmcgZm9yIHN2Zy1leHBvcnQsIHNwZWNpZmljIHZlcnNpb24gZm9yIGdyb3VwXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z1N0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3BhY2l0eSA9IHR5cGVvZiB0aGlzLm9wYWNpdHkgIT09ICd1bmRlZmluZWQnICYmIHRoaXMub3BhY2l0eSAhPT0gMSA/XG4gICAgICAgICAgICAnb3BhY2l0eTogJyArIHRoaXMub3BhY2l0eSArICc7JyA6ICcnLFxuICAgICAgICAgIHZpc2liaWxpdHkgPSB0aGlzLnZpc2libGUgPyAnJyA6ICcgdmlzaWJpbGl0eTogaGlkZGVuOyc7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBvcGFjaXR5LFxuICAgICAgICB0aGlzLmdldFN2Z0ZpbHRlcigpLFxuICAgICAgICB2aXNpYmlsaXR5XG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyBjbGlwUGF0aCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0NsaXBQYXRoU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICB2YXIgc3ZnU3RyaW5nID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKCdcXHQnLCB0aGlzLl9vYmplY3RzW2ldLnRvQ2xpcFBhdGhTVkcocmV2aXZlcikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwKHN2Z1N0cmluZywgeyByZXZpdmVyOiByZXZpdmVyIH0pO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuR3JvdXB9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Hcm91cFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYSBncm91cCBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZ3JvdXAgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLkdyb3VwLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9iamVjdHMgPSBvYmplY3Qub2JqZWN0cyxcbiAgICAgICAgb3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvYmplY3QsIHRydWUpO1xuICAgIGRlbGV0ZSBvcHRpb25zLm9iamVjdHM7XG4gICAgaWYgKHR5cGVvZiBvYmplY3RzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaXQgaGFzIHRvIGJlIGFuIHVybCBvciBzb21ldGhpbmcgd2VudCB3cm9uZy5cbiAgICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChvYmplY3RzLCBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIGdyb3VwID0gZmFicmljLnV0aWwuZ3JvdXBTVkdFbGVtZW50cyhlbGVtZW50cywgb2JqZWN0LCBvYmplY3RzKTtcbiAgICAgICAgdmFyIGNsaXBQYXRoID0gb3B0aW9ucy5jbGlwUGF0aDtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2xpcFBhdGg7XG4gICAgICAgIGdyb3VwLnNldChvcHRpb25zKTtcbiAgICAgICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMoW2NsaXBQYXRoXSwgZnVuY3Rpb24oZWxpdmVuZWRPYmplY3RzKSB7XG4gICAgICAgICAgICBncm91cC5jbGlwUGF0aCA9IGVsaXZlbmVkT2JqZWN0c1swXTtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGdyb3VwKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhncm91cCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhvYmplY3RzLCBmdW5jdGlvbiAoZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdEVubGl2YWJsZXMob2JqZWN0LCBvcHRpb25zLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG5ldyBmYWJyaWMuR3JvdXAoZW5saXZlbmVkT2JqZWN0cywgb3B0aW9ucywgdHJ1ZSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogR3JvdXAgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb25cbiAgICogQGV4dGVuZHMgZmFicmljLkdyb3VwXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI2dyb3Vwc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkFjdGl2ZVNlbGVjdGlvbiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkFjdGl2ZVNlbGVjdGlvbiA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5Hcm91cCwgLyoqIEBsZW5kcyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2FjdGl2ZVNlbGVjdGlvbicsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RzIEFjdGl2ZVNlbGVjdGlvbiBvYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IG9iamVjdHMgfHwgW107XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIHRoaXMuX29iamVjdHNbaV0uZ3JvdXAgPSB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5vcmlnaW5YKSB7XG4gICAgICAgIHRoaXMub3JpZ2luWCA9IG9wdGlvbnMub3JpZ2luWDtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLm9yaWdpblkpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5ZID0gb3B0aW9ucy5vcmlnaW5ZO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FsY0JvdW5kcygpO1xuICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcygpO1xuICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRlIGFjdGl2ZVNlbGVjdGlvbiB0byBhIG5vcm1hbCBncm91cCxcbiAgICAgKiBIaWdoIGxldmVsIGZ1bmN0aW9uIHRoYXQgYXV0b21hdGljYWxseSBhZGRzIGl0IHRvIGNhbnZhcyBhc1xuICAgICAqIGFjdGl2ZSBvYmplY3QuIG5vIGV2ZW50cyBmaXJlZC5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9XG4gICAgICovXG4gICAgdG9Hcm91cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2JqZWN0cyA9IHRoaXMuX29iamVjdHMuY29uY2F0KCk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gW107XG4gICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnRvT2JqZWN0LmNhbGwodGhpcyk7XG4gICAgICB2YXIgbmV3R3JvdXAgPSBuZXcgZmFicmljLkdyb3VwKFtdKTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLnR5cGU7XG4gICAgICBuZXdHcm91cC5zZXQob3B0aW9ucyk7XG4gICAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5jYW52YXMucmVtb3ZlKG9iamVjdCk7XG4gICAgICAgIG9iamVjdC5ncm91cCA9IG5ld0dyb3VwO1xuICAgICAgfSk7XG4gICAgICBuZXdHcm91cC5fb2JqZWN0cyA9IG9iamVjdHM7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBuZXdHcm91cDtcbiAgICAgIH1cbiAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGNhbnZhcy5hZGQobmV3R3JvdXApO1xuICAgICAgY2FudmFzLl9hY3RpdmVPYmplY3QgPSBuZXdHcm91cDtcbiAgICAgIG5ld0dyb3VwLnNldENvb3JkcygpO1xuICAgICAgcmV0dXJuIG5ld0dyb3VwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJZiByZXR1cm5zIHRydWUsIGRlc2VsZWN0aW9uIGlzIGNhbmNlbGxlZC5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBbY2FuY2VsXVxuICAgICAqL1xuICAgIG9uRGVzZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZ3JvdXBcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy5BY3RpdmVTZWxlY3Rpb246ICgnICsgdGhpcy5jb21wbGV4aXR5KCkgKyAnKT4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpZGUgaWYgdGhlIG9iamVjdCBzaG91bGQgY2FjaGUgb3Igbm90LiBDcmVhdGUgaXRzIG93biBjYWNoZSBsZXZlbFxuICAgICAqIG9iamVjdENhY2hpbmcgaXMgYSBnbG9iYWwgZmxhZywgd2lucyBvdmVyIGV2ZXJ5dGhpbmdcbiAgICAgKiBuZWVkc0l0c093bkNhY2hlIHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIG9iamVjdCBkcmF3aW5nIG1ldGhvZCByZXF1aXJlc1xuICAgICAqIGEgY2FjaGUgc3RlcC4gTm9uZSBvZiB0aGUgZmFicmljIGNsYXNzZXMgcmVxdWlyZXMgaXQuXG4gICAgICogR2VuZXJhbGx5IHlvdSBkbyBub3QgY2FjaGUgb2JqZWN0cyBpbiBncm91cHMgYmVjYXVzZSB0aGUgZ3JvdXAgb3V0c2lkZSBpcyBjYWNoZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzaG91bGRDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgZ3JvdXAgb3IgaXRzIHBhcmVudCBncm91cCBhcmUgY2FjaGluZywgcmVjdXJzaXZlbHkgdXBcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzT25BQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGNvbnRyb2xzIGFuZCBib3JkZXJzIGZvciB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3R5bGVPdmVycmlkZV0gcHJvcGVydGllcyB0byBvdmVycmlkZSB0aGUgb2JqZWN0IHN0eWxlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjaGlsZHJlbk92ZXJyaWRlXSBwcm9wZXJ0aWVzIHRvIG92ZXJyaWRlIHRoZSBjaGlsZHJlbiBvdmVycmlkZXNcbiAgICAgKi9cbiAgICBfcmVuZGVyQ29udHJvbHM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSwgY2hpbGRyZW5PdmVycmlkZSkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMuaXNNb3ZpbmcgPyB0aGlzLmJvcmRlck9wYWNpdHlXaGVuTW92aW5nIDogMTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfcmVuZGVyQ29udHJvbHMnLCBjdHgsIHN0eWxlT3ZlcnJpZGUpO1xuICAgICAgY2hpbGRyZW5PdmVycmlkZSA9IGNoaWxkcmVuT3ZlcnJpZGUgfHwgeyB9O1xuICAgICAgaWYgKHR5cGVvZiBjaGlsZHJlbk92ZXJyaWRlLmhhc0NvbnRyb2xzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjaGlsZHJlbk92ZXJyaWRlLmhhc0NvbnRyb2xzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbk92ZXJyaWRlLmZvckFjdGl2ZVNlbGVjdGlvbiA9IHRydWU7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0aGlzLl9vYmplY3RzW2ldLl9yZW5kZXJDb250cm9scyhjdHgsIGNoaWxkcmVuT3ZlcnJpZGUpO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkFjdGl2ZVNlbGVjdGlvbn0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkFjdGl2ZVNlbGVjdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYSBncm91cCBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gQWN0aXZlU2VsZWN0aW9uIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICovXG4gIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24uZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhvYmplY3Qub2JqZWN0cywgZnVuY3Rpb24oZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgZGVsZXRlIG9iamVjdC5vYmplY3RzO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobmV3IGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24oZW5saXZlbmVkT2JqZWN0cywgb2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kO1xuXG4gIGlmICghZ2xvYmFsLmZhYnJpYykge1xuICAgIGdsb2JhbC5mYWJyaWMgPSB7IH07XG4gIH1cblxuICBpZiAoZ2xvYmFsLmZhYnJpYy5JbWFnZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuSW1hZ2UgaXMgYWxyZWFkeSBkZWZpbmVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbWFnZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTEjaW1hZ2VzfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5JbWFnZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2ltYWdlJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIGEgc3Ryb2tlLlxuICAgICAqIEZvciBpbWFnZSBxdWFsaXR5IGEgc3Ryb2tlIG11bHRpcGxlIG9mIDIgZ2l2ZXMgYmV0dGVyIHJlc3VsdHMuXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VXaWR0aDogMCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gY2FsbGluZyB7QGxpbmsgZmFicmljLkltYWdlLmdldFNyY30sIHJldHVybiB2YWx1ZSBmcm9tIGVsZW1lbnQgc3JjIHdpdGggYGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKWAuXG4gICAgICogVGhpcyBhbGxvd3MgZm9yIHJlbGF0aXZlIHVybHMgYXMgaW1hZ2Ugc3JjLlxuICAgICAqIEBzaW5jZSAyLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNyY0Zyb21BdHRyaWJ1dGU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZVxuICAgICAqIGNvbnRhaW5zIGxhc3QgdmFsdWUgb2Ygc2NhbGVYIHRvIGRldGVjdFxuICAgICAqIGlmIHRoZSBJbWFnZSBnb3QgcmVzaXplZCBhZnRlciB0aGUgbGFzdCBSZW5kZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKi9cbiAgICBfbGFzdFNjYWxlWDogMSxcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKiBjb250YWlucyBsYXN0IHZhbHVlIG9mIHNjYWxlWSB0byBkZXRlY3RcbiAgICAgKiBpZiB0aGUgSW1hZ2UgZ290IHJlc2l6ZWQgYWZ0ZXIgdGhlIGxhc3QgUmVuZGVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgX2xhc3RTY2FsZVk6IDEsXG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlXG4gICAgICogY29udGFpbnMgbGFzdCB2YWx1ZSBvZiBzY2FsaW5nIGFwcGxpZWQgYnkgdGhlIGFwcGx5IGZpbHRlciBjaGFpblxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqL1xuICAgIF9maWx0ZXJTY2FsaW5nWDogMSxcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKiBjb250YWlucyBsYXN0IHZhbHVlIG9mIHNjYWxpbmcgYXBwbGllZCBieSB0aGUgYXBwbHkgZmlsdGVyIGNoYWluXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgX2ZpbHRlclNjYWxpbmdZOiAxLFxuXG4gICAgLyoqXG4gICAgICogbWluaW11bSBzY2FsZSBmYWN0b3IgdW5kZXIgd2hpY2ggYW55IHJlc2l6ZUZpbHRlciBpcyB0cmlnZ2VyZWQgdG8gcmVzaXplIHRoZSBpbWFnZVxuICAgICAqIDAgd2lsbCBkaXNhYmxlIHRoZSBhdXRvbWF0aWMgcmVzaXplLiAxIHdpbGwgdHJpZ2dlciBhdXRvbWF0aWNhbGx5IGFsd2F5cy5cbiAgICAgKiBudW1iZXIgYmlnZ2VyIHRoYW4gMSBhcmUgbm90IGltcGxlbWVudGVkIHlldC5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKi9cbiAgICBtaW5pbXVtU2NhbGVUcmlnZ2VyOiAwLjUsXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZlxuICAgICAqIHN0YXRlIG9mIGFuIG9iamVjdCBpcyBjaGFuZ2VkICh7QGxpbmsgZmFicmljLk9iamVjdCNoYXNTdGF0ZUNoYW5nZWR9KVxuICAgICAqIGFzIHdlbGwgYXMgZm9yIGhpc3RvcnkgKHVuZG8vcmVkbykgcHVycG9zZXNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0YXRlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RhdGVQcm9wZXJ0aWVzLmNvbmNhdCgnY3JvcFgnLCAnY3JvcFknKSxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmIGNhY2hlIG5lZWRzIHJlZnJlc2hcbiAgICAgKiBUaG9zZSBwcm9wZXJ0aWVzIGFyZSBjaGVja2VkIGJ5IHN0YXRlZnVsbENhY2hlIE9OICggb3IgbGF6eSBtb2RlIGlmIHdlIHdhbnQgKSBvciBmcm9tIHNpbmdsZVxuICAgICAqIGNhbGxzIHRvIE9iamVjdC5zZXQoa2V5LCB2YWx1ZSkuIElmIHRoZSBrZXkgaXMgaW4gdGhpcyBsaXN0LCB0aGUgb2JqZWN0IGlzIG1hcmtlZCBhcyBkaXJ0eVxuICAgICAqIGFuZCByZWZyZXNoZWQgYXQgdGhlIG5leHQgcmVuZGVyXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ2Nyb3BYJywgJ2Nyb3BZJyksXG5cbiAgICAvKipcbiAgICAgKiBrZXkgdXNlZCB0byByZXRyaWV2ZSB0aGUgdGV4dHVyZSByZXByZXNlbnRpbmcgdGhpcyBpbWFnZVxuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2FjaGVLZXk6ICcnLFxuXG4gICAgLyoqXG4gICAgICogSW1hZ2UgY3JvcCBpbiBwaXhlbHMgZnJvbSBvcmlnaW5hbCBpbWFnZSBzaXplLlxuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY3JvcFg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBJbWFnZSBjcm9wIGluIHBpeGVscyBmcm9tIG9yaWdpbmFsIGltYWdlIHNpemUuXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjcm9wWTogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgY2FudmFzIHdpbGwgdXNlIGltYWdlIHNtb290aGluZyB3aGVuIHBhaW50aW5nIHRoaXMgaW1hZ2UuXG4gICAgICogQWxzbyBpbmZsdWVuY2UgaWYgdGhlIGNhY2hlQ2FudmFzIGZvciB0aGlzIGltYWdlIHVzZXMgaW1hZ2VTbW9vdGhpbmdcbiAgICAgKiBAc2luY2UgNC4wLjAtYmV0YS4xMVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGltYWdlU21vb3RoaW5nOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBJbWFnZSBjYW4gYmUgaW5pdGlhbGl6ZWQgd2l0aCBhbnkgY2FudmFzIGRyYXdhYmxlIG9yIGEgc3RyaW5nLlxuICAgICAqIFRoZSBzdHJpbmcgc2hvdWxkIGJlIGEgdXJsIGFuZCB3aWxsIGJlIGxvYWRlZCBhcyBhbiBpbWFnZS5cbiAgICAgKiBDYW52YXMgYW5kIEltYWdlIGVsZW1lbnQgd29yayBvdXQgb2YgdGhlIGJveCwgd2hpbGUgdmlkZW9zIHJlcXVpcmUgZXh0cmEgY29kZSB0byB3b3JrLlxuICAgICAqIFBsZWFzZSBjaGVjayB2aWRlbyBlbGVtZW50IGV2ZW50cyBmb3Igc2Vla2luZy5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnQgfCBTdHJpbmd9IGVsZW1lbnQgSW1hZ2UgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGNhbGwgYWZ0ZXIgZXZlbnR1YWwgZmlsdGVycyBhcHBsaWVkLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgICB0aGlzLmNhY2hlS2V5ID0gJ3RleHR1cmUnICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGltYWdlIGVsZW1lbnQgd2hpY2ggdGhpcyBpbnN0YW5jZSBpZiBiYXNlZCBvblxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEltYWdlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50IHx8IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGltYWdlIGVsZW1lbnQgZm9yIHRoaXMgaW5zdGFuY2UgdG8gYSBzcGVjaWZpZWQgb25lLlxuICAgICAqIElmIGZpbHRlcnMgZGVmaW5lZCB0aGV5IGFyZSBhcHBsaWVkIHRvIG5ldyBpbWFnZS5cbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBjYW52YXMucmVuZGVyQWxsYCBhbmQgYG9iamVjdC5zZXRDb29yZHNgIGFmdGVyIHJlcGxhY2luZywgdG8gcmVuZGVyIG5ldyBpbWFnZSBhbmQgdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSk7XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSArICdfZmlsdGVyZWQnKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX2luaXRDb25maWcob3B0aW9ucyk7XG4gICAgICBpZiAodGhpcy5maWx0ZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB0aGlzLmFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgICAgLy8gcmVzaXplRmlsdGVycyB3b3JrIG9uIHRoZSBhbHJlYWR5IGZpbHRlcmVkIGNvcHkuXG4gICAgICAvLyB3ZSBuZWVkIHRvIGFwcGx5IHJlc2l6ZUZpbHRlcnMgQUZURVIgbm9ybWFsIGZpbHRlcnMuXG4gICAgICAvLyBhcHBseVJlc2l6ZUZpbHRlcnMgaXMgcnVuIG1vcmUgb2Z0ZW4gdGhhbiBub3JtYWwgZmlsdGVyc1xuICAgICAgLy8gYW5kIGlzIHRyaWdnZXJlZCBieSB1c2VyIGludGVyYWN0aW9ucyByYXRoZXIgdGhhbiBkZXYgY29kZVxuICAgICAgaWYgKHRoaXMucmVzaXplRmlsdGVyKSB7XG4gICAgICAgIHRoaXMuYXBwbHlSZXNpemVGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgc2luZ2xlIHRleHR1cmUgaWYgaW4gd2ViZ2wgbW9kZVxuICAgICAqL1xuICAgIHJlbW92ZVRleHR1cmU6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGJhY2tlbmQgPSBmYWJyaWMuZmlsdGVyQmFja2VuZDtcbiAgICAgIGlmIChiYWNrZW5kICYmIGJhY2tlbmQuZXZpY3RDYWNoZXNGb3JLZXkpIHtcbiAgICAgICAgYmFja2VuZC5ldmljdENhY2hlc0ZvcktleShrZXkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWxldGUgdGV4dHVyZXMsIHJlZmVyZW5jZSB0byBlbGVtZW50cyBhbmQgZXZlbnR1YWxseSBKU0RPTSBjbGVhbnVwXG4gICAgICovXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2Rpc3Bvc2UnKTtcbiAgICAgIHRoaXMucmVtb3ZlVGV4dHVyZSh0aGlzLmNhY2hlS2V5KTtcbiAgICAgIHRoaXMucmVtb3ZlVGV4dHVyZSh0aGlzLmNhY2hlS2V5ICsgJ19maWx0ZXJlZCcpO1xuICAgICAgdGhpcy5fY2FjaGVDb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgWydfb3JpZ2luYWxFbGVtZW50JywgJ19lbGVtZW50JywgJ19maWx0ZXJlZEVsJywgJ19jYWNoZUNhbnZhcyddLmZvckVhY2goKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgZmFicmljLnV0aWwuY2xlYW5VcEpzZG9tTm9kZSh0aGlzW2VsZW1lbnRdKTtcbiAgICAgICAgdGhpc1tlbGVtZW50XSA9IHVuZGVmaW5lZDtcbiAgICAgIH0pLmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNyb3NzT3JpZ2luIHZhbHVlIChvZiB0aGUgY29ycmVzcG9uZGluZyBpbWFnZSBlbGVtZW50KVxuICAgICAqL1xuICAgIGdldENyb3NzT3JpZ2luOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vcmlnaW5hbEVsZW1lbnQgJiYgKHRoaXMuX29yaWdpbmFsRWxlbWVudC5jcm9zc09yaWdpbiB8fCBudWxsKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvcmlnaW5hbCBzaXplIG9mIGFuIGltYWdlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBcIndpZHRoXCIgYW5kIFwiaGVpZ2h0XCIgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdldE9yaWdpbmFsU2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IGVsZW1lbnQubmF0dXJhbFdpZHRoIHx8IGVsZW1lbnQud2lkdGgsXG4gICAgICAgIGhlaWdodDogZWxlbWVudC5uYXR1cmFsSGVpZ2h0IHx8IGVsZW1lbnQuaGVpZ2h0XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfc3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zdHJva2UgfHwgdGhpcy5zdHJva2VXaWR0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgdyA9IHRoaXMud2lkdGggLyAyLCBoID0gdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbygtdywgLWgpO1xuICAgICAgY3R4LmxpbmVUbyh3LCAtaCk7XG4gICAgICBjdHgubGluZVRvKHcsIGgpO1xuICAgICAgY3R4LmxpbmVUbygtdywgaCk7XG4gICAgICBjdHgubGluZVRvKC13LCAtaCk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBmaWx0ZXJzID0gW107XG5cbiAgICAgIHRoaXMuZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlck9iaikge1xuICAgICAgICBpZiAoZmlsdGVyT2JqKSB7XG4gICAgICAgICAgZmlsdGVycy5wdXNoKGZpbHRlck9iai50b09iamVjdCgpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgb2JqZWN0ID0gZXh0ZW5kKFxuICAgICAgICB0aGlzLmNhbGxTdXBlcihcbiAgICAgICAgICAndG9PYmplY3QnLFxuICAgICAgICAgIFsnY3JvcFgnLCAnY3JvcFknXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSlcbiAgICAgICAgKSwge1xuICAgICAgICAgIHNyYzogdGhpcy5nZXRTcmMoKSxcbiAgICAgICAgICBjcm9zc09yaWdpbjogdGhpcy5nZXRDcm9zc09yaWdpbigpLFxuICAgICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG4gICAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMucmVzaXplRmlsdGVyKSB7XG4gICAgICAgIG9iamVjdC5yZXNpemVGaWx0ZXIgPSB0aGlzLnJlc2l6ZUZpbHRlci50b09iamVjdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGFuIGltYWdlIGhhcyBjcm9wIGFwcGxpZWQsIGluc3BlY3RpbmcgdmFsdWVzIG9mIGNyb3BYLGNyb3BZLHdpZHRoLGhlaWdodC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGhhc0Nyb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JvcFggfHwgdGhpcy5jcm9wWSB8fCB0aGlzLndpZHRoIDwgdGhpcy5fZWxlbWVudC53aWR0aCB8fCB0aGlzLmhlaWdodCA8IHRoaXMuX2VsZW1lbnQuaGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdmdTdHJpbmcgPSBbXSwgaW1hZ2VNYXJrdXAgPSBbXSwgc3Ryb2tlU3ZnLCBlbGVtZW50ID0gdGhpcy5fZWxlbWVudCxcbiAgICAgICAgICB4ID0gLXRoaXMud2lkdGggLyAyLCB5ID0gLXRoaXMuaGVpZ2h0IC8gMiwgY2xpcFBhdGggPSAnJywgaW1hZ2VSZW5kZXJpbmcgPSAnJztcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5oYXNDcm9wKCkpIHtcbiAgICAgICAgdmFyIGNsaXBQYXRoSWQgPSBmYWJyaWMuT2JqZWN0Ll9fdWlkKys7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKFxuICAgICAgICAgICc8Y2xpcFBhdGggaWQ9XCJpbWFnZUNyb3BfJyArIGNsaXBQYXRoSWQgKyAnXCI+XFxuJyxcbiAgICAgICAgICAnXFx0PHJlY3QgeD1cIicgKyB4ICsgJ1wiIHk9XCInICsgeSArICdcIiB3aWR0aD1cIicgKyB0aGlzLndpZHRoICsgJ1wiIGhlaWdodD1cIicgKyB0aGlzLmhlaWdodCArICdcIiAvPlxcbicsXG4gICAgICAgICAgJzwvY2xpcFBhdGg+XFxuJ1xuICAgICAgICApO1xuICAgICAgICBjbGlwUGF0aCA9ICcgY2xpcC1wYXRoPVwidXJsKCNpbWFnZUNyb3BfJyArIGNsaXBQYXRoSWQgKyAnKVwiICc7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaW1hZ2VTbW9vdGhpbmcpIHtcbiAgICAgICAgaW1hZ2VSZW5kZXJpbmcgPSAnXCIgaW1hZ2UtcmVuZGVyaW5nPVwib3B0aW1pemVTcGVlZCc7XG4gICAgICB9XG4gICAgICBpbWFnZU1hcmt1cC5wdXNoKCdcXHQ8aW1hZ2UgJywgJ0NPTU1PTl9QQVJUUycsICd4bGluazpocmVmPVwiJywgdGhpcy5nZXRTdmdTcmModHJ1ZSksXG4gICAgICAgICdcIiB4PVwiJywgeCAtIHRoaXMuY3JvcFgsICdcIiB5PVwiJywgeSAtIHRoaXMuY3JvcFksXG4gICAgICAgIC8vIHdlJ3JlIGVzc2VudGlhbGx5IG1vdmluZyBvcmlnaW4gb2YgdHJhbnNmb3JtYXRpb24gZnJvbSB0b3AvbGVmdCBjb3JuZXIgdG8gdGhlIGNlbnRlciBvZiB0aGUgc2hhcGVcbiAgICAgICAgLy8gYnkgd3JhcHBpbmcgaXQgaW4gY29udGFpbmVyIDxnPiBlbGVtZW50IHdpdGggYWN0dWFsIHRyYW5zZm9ybWF0aW9uLCB0aGVuIG9mZnNldHRpbmcgb2JqZWN0IHRvIHRoZSB0b3AvbGVmdFxuICAgICAgICAvLyBzbyB0aGF0IG9iamVjdCdzIGNlbnRlciBhbGlnbnMgd2l0aCBjb250YWluZXIncyBsZWZ0L3RvcFxuICAgICAgICAnXCIgd2lkdGg9XCInLCBlbGVtZW50LndpZHRoIHx8IGVsZW1lbnQubmF0dXJhbFdpZHRoLFxuICAgICAgICAnXCIgaGVpZ2h0PVwiJywgZWxlbWVudC5oZWlnaHQgfHwgZWxlbWVudC5oZWlnaHQsXG4gICAgICAgIGltYWdlUmVuZGVyaW5nLFxuICAgICAgICAnXCInLCBjbGlwUGF0aCxcbiAgICAgICAgJz48L2ltYWdlPlxcbicpO1xuXG4gICAgICBpZiAodGhpcy5zdHJva2UgfHwgdGhpcy5zdHJva2VEYXNoQXJyYXkpIHtcbiAgICAgICAgdmFyIG9yaWdGaWxsID0gdGhpcy5maWxsO1xuICAgICAgICB0aGlzLmZpbGwgPSBudWxsO1xuICAgICAgICBzdHJva2VTdmcgPSBbXG4gICAgICAgICAgJ1xcdDxyZWN0ICcsXG4gICAgICAgICAgJ3g9XCInLCB4LCAnXCIgeT1cIicsIHksXG4gICAgICAgICAgJ1wiIHdpZHRoPVwiJywgdGhpcy53aWR0aCwgJ1wiIGhlaWdodD1cIicsIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICdcIiBzdHlsZT1cIicsIHRoaXMuZ2V0U3ZnU3R5bGVzKCksXG4gICAgICAgICAgJ1wiLz5cXG4nXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuZmlsbCA9IG9yaWdGaWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGFpbnRGaXJzdCAhPT0gJ2ZpbGwnKSB7XG4gICAgICAgIHN2Z1N0cmluZyA9IHN2Z1N0cmluZy5jb25jYXQoc3Ryb2tlU3ZnLCBpbWFnZU1hcmt1cCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3ZnU3RyaW5nID0gc3ZnU3RyaW5nLmNvbmNhdChpbWFnZU1hcmt1cCwgc3Ryb2tlU3ZnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdmdTdHJpbmc7XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc291cmNlIG9mIGFuIGltYWdlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmaWx0ZXJlZCBpbmRpY2F0ZXMgaWYgdGhlIHNyYyBpcyBuZWVkZWQgZm9yIHN2Z1xuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU291cmNlIG9mIGFuIGltYWdlXG4gICAgICovXG4gICAgZ2V0U3JjOiBmdW5jdGlvbihmaWx0ZXJlZCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBmaWx0ZXJlZCA/IHRoaXMuX2VsZW1lbnQgOiB0aGlzLl9vcmlnaW5hbEVsZW1lbnQ7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC50b0RhdGFVUkwpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC50b0RhdGFVUkwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNyY0Zyb21BdHRyaWJ1dGUpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LnNyYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNyYyB8fCAnJztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzb3VyY2Ugb2YgYW4gaW1hZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFNvdXJjZSBzdHJpbmcgKFVSTClcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIGlzIGludm9rZWQgd2hlbiBpbWFnZSBoYXMgYmVlbiBsb2FkZWQgKGFuZCBhbGwgZmlsdGVycyBoYXZlIGJlZW4gYXBwbGllZClcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiB2YWx1ZSAob25lIG9mIFwiXCIsIFwiYW5vbnltb3VzXCIsIFwidXNlLWNyZWRlbnRpYWxzXCIpXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0hUTUwvQ09SU19zZXR0aW5nc19hdHRyaWJ1dGVzXG4gICAgICogQHJldHVybiB7ZmFicmljLkltYWdlfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldFNyYzogZnVuY3Rpb24oc3JjLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgZmFicmljLnV0aWwubG9hZEltYWdlKHNyYywgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICAgIHRoaXMuc2V0RWxlbWVudChpbWcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodCgpO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh0aGlzLCBpc0Vycm9yKTtcbiAgICAgIH0sIHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5jcm9zc09yaWdpbik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuSW1hZ2U6IHsgc3JjOiBcIicgKyB0aGlzLmdldFNyYygpICsgJ1wiIH0+JztcbiAgICB9LFxuXG4gICAgYXBwbHlSZXNpemVGaWx0ZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBmaWx0ZXIgPSB0aGlzLnJlc2l6ZUZpbHRlcixcbiAgICAgICAgICBtaW5pbXVtU2NhbGUgPSB0aGlzLm1pbmltdW1TY2FsZVRyaWdnZXIsXG4gICAgICAgICAgb2JqZWN0U2NhbGUgPSB0aGlzLmdldFRvdGFsT2JqZWN0U2NhbGluZygpLFxuICAgICAgICAgIHNjYWxlWCA9IG9iamVjdFNjYWxlLnNjYWxlWCxcbiAgICAgICAgICBzY2FsZVkgPSBvYmplY3RTY2FsZS5zY2FsZVksXG4gICAgICAgICAgZWxlbWVudFRvRmlsdGVyID0gdGhpcy5fZmlsdGVyZWRFbCB8fCB0aGlzLl9vcmlnaW5hbEVsZW1lbnQ7XG4gICAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgICB0aGlzLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyIHx8IChzY2FsZVggPiBtaW5pbXVtU2NhbGUgJiYgc2NhbGVZID4gbWluaW11bVNjYWxlKSkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudFRvRmlsdGVyO1xuICAgICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWCA9IDE7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdZID0gMTtcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlWSA9IHNjYWxlWTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmYWJyaWMuZmlsdGVyQmFja2VuZCkge1xuICAgICAgICBmYWJyaWMuZmlsdGVyQmFja2VuZCA9IGZhYnJpYy5pbml0RmlsdGVyQmFja2VuZCgpO1xuICAgICAgfVxuICAgICAgdmFyIGNhbnZhc0VsID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpLFxuICAgICAgICAgIGNhY2hlS2V5ID0gdGhpcy5fZmlsdGVyZWRFbCA/ICh0aGlzLmNhY2hlS2V5ICsgJ19maWx0ZXJlZCcpIDogdGhpcy5jYWNoZUtleSxcbiAgICAgICAgICBzb3VyY2VXaWR0aCA9IGVsZW1lbnRUb0ZpbHRlci53aWR0aCwgc291cmNlSGVpZ2h0ID0gZWxlbWVudFRvRmlsdGVyLmhlaWdodDtcbiAgICAgIGNhbnZhc0VsLndpZHRoID0gc291cmNlV2lkdGg7XG4gICAgICBjYW52YXNFbC5oZWlnaHQgPSBzb3VyY2VIZWlnaHQ7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gY2FudmFzRWw7XG4gICAgICB0aGlzLl9sYXN0U2NhbGVYID0gZmlsdGVyLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgIHRoaXMuX2xhc3RTY2FsZVkgPSBmaWx0ZXIuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgZmFicmljLmZpbHRlckJhY2tlbmQuYXBwbHlGaWx0ZXJzKFxuICAgICAgICBbZmlsdGVyXSwgZWxlbWVudFRvRmlsdGVyLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0LCB0aGlzLl9lbGVtZW50LCBjYWNoZUtleSk7XG4gICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWCA9IGNhbnZhc0VsLndpZHRoIC8gdGhpcy5fb3JpZ2luYWxFbGVtZW50LndpZHRoO1xuICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1kgPSBjYW52YXNFbC5oZWlnaHQgLyB0aGlzLl9vcmlnaW5hbEVsZW1lbnQuaGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGZpbHRlcnMgYXNzaWduZWQgdG8gdGhpcyBpbWFnZSAoZnJvbSBcImZpbHRlcnNcIiBhcnJheSkgb3IgZnJvbSBmaWx0ZXIgcGFyYW1cbiAgICAgKiBAbWV0aG9kIGFwcGx5RmlsdGVyc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpbHRlcnMgdG8gYmUgYXBwbGllZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yUmVzaXppbmcgc3BlY2lmeSBpZiB0aGUgZmlsdGVyIG9wZXJhdGlvbiBpcyBhIHJlc2l6ZSBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJuIHt0aGlzQXJnfSByZXR1cm4gdGhlIGZhYnJpYy5JbWFnZSBvYmplY3RcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYXBwbHlGaWx0ZXJzOiBmdW5jdGlvbihmaWx0ZXJzKSB7XG5cbiAgICAgIGZpbHRlcnMgPSBmaWx0ZXJzIHx8IHRoaXMuZmlsdGVycyB8fCBbXTtcbiAgICAgIGZpbHRlcnMgPSBmaWx0ZXJzLmZpbHRlcihmdW5jdGlvbihmaWx0ZXIpIHsgcmV0dXJuIGZpbHRlciAmJiAhZmlsdGVyLmlzTmV1dHJhbFN0YXRlKCk7IH0pO1xuICAgICAgdGhpcy5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG5cbiAgICAgIC8vIG5lZWRzIHRvIGNsZWFyIG91dCBvciBXRUJHTCB3aWxsIG5vdCByZXNpemUgY29ycmVjdGx5XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSArICdfZmlsdGVyZWQnKTtcblxuICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9vcmlnaW5hbEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2ZpbHRlcmVkRWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWCA9IDE7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdZID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbWdFbGVtZW50ID0gdGhpcy5fb3JpZ2luYWxFbGVtZW50LFxuICAgICAgICAgIHNvdXJjZVdpZHRoID0gaW1nRWxlbWVudC5uYXR1cmFsV2lkdGggfHwgaW1nRWxlbWVudC53aWR0aCxcbiAgICAgICAgICBzb3VyY2VIZWlnaHQgPSBpbWdFbGVtZW50Lm5hdHVyYWxIZWlnaHQgfHwgaW1nRWxlbWVudC5oZWlnaHQ7XG5cbiAgICAgIGlmICh0aGlzLl9lbGVtZW50ID09PSB0aGlzLl9vcmlnaW5hbEVsZW1lbnQpIHtcbiAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgaXMgdGhlIHNhbWUgd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgZWxlbWVudFxuICAgICAgICB2YXIgY2FudmFzRWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgIGNhbnZhc0VsLndpZHRoID0gc291cmNlV2lkdGg7XG4gICAgICAgIGNhbnZhc0VsLmhlaWdodCA9IHNvdXJjZUhlaWdodDtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGNhbnZhc0VsO1xuICAgICAgICB0aGlzLl9maWx0ZXJlZEVsID0gY2FudmFzRWw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIGV4aXN0aW5nIGVsZW1lbnQgdG8gZ2V0IG5ldyBmaWx0ZXIgZGF0YVxuICAgICAgICAvLyBhbHNvIGRlcmVmZXJlbmNlIHRoZSBldmVudHVhbCByZXNpemVkIF9lbGVtZW50XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9maWx0ZXJlZEVsO1xuICAgICAgICB0aGlzLl9maWx0ZXJlZEVsLmdldENvbnRleHQoJzJkJykuY2xlYXJSZWN0KDAsIDAsIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQpO1xuICAgICAgICAvLyB3ZSBhbHNvIG5lZWQgdG8gcmVzaXplIGFnYWluIGF0IG5leHQgcmVuZGVyQWxsLCBzbyByZW1vdmUgc2F2ZWQgX2xhc3RTY2FsZVgvWVxuICAgICAgICB0aGlzLl9sYXN0U2NhbGVYID0gMTtcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlWSA9IDE7XG4gICAgICB9XG4gICAgICBpZiAoIWZhYnJpYy5maWx0ZXJCYWNrZW5kKSB7XG4gICAgICAgIGZhYnJpYy5maWx0ZXJCYWNrZW5kID0gZmFicmljLmluaXRGaWx0ZXJCYWNrZW5kKCk7XG4gICAgICB9XG4gICAgICBmYWJyaWMuZmlsdGVyQmFja2VuZC5hcHBseUZpbHRlcnMoXG4gICAgICAgIGZpbHRlcnMsIHRoaXMuX29yaWdpbmFsRWxlbWVudCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCwgdGhpcy5fZWxlbWVudCwgdGhpcy5jYWNoZUtleSk7XG4gICAgICBpZiAodGhpcy5fb3JpZ2luYWxFbGVtZW50LndpZHRoICE9PSB0aGlzLl9lbGVtZW50LndpZHRoIHx8XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRWxlbWVudC5oZWlnaHQgIT09IHRoaXMuX2VsZW1lbnQuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdYID0gdGhpcy5fZWxlbWVudC53aWR0aCAvIHRoaXMuX29yaWdpbmFsRWxlbWVudC53aWR0aDtcbiAgICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1kgPSB0aGlzLl9lbGVtZW50LmhlaWdodCAvIHRoaXMuX29yaWdpbmFsRWxlbWVudC5oZWlnaHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBmYWJyaWMudXRpbC5zZXRJbWFnZVNtb290aGluZyhjdHgsIHRoaXMuaW1hZ2VTbW9vdGhpbmcpO1xuICAgICAgaWYgKHRoaXMuaXNNb3ZpbmcgIT09IHRydWUgJiYgdGhpcy5yZXNpemVGaWx0ZXIgJiYgdGhpcy5fbmVlZHNSZXNpemUoKSkge1xuICAgICAgICB0aGlzLmFwcGx5UmVzaXplRmlsdGVycygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3Ryb2tlKGN0eCk7XG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFpbnQgdGhlIGNhY2hlZCBjb3B5IG9mIHRoZSBvYmplY3Qgb24gdGhlIHRhcmdldCBjb250ZXh0LlxuICAgICAqIGl0IHdpbGwgc2V0IHRoZSBpbWFnZVNtb290aGluZyBmb3IgdGhlIGRyYXcgb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdDYWNoZU9uQ2FudmFzOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGZhYnJpYy51dGlsLnNldEltYWdlU21vb3RoaW5nKGN0eCwgdGhpcy5pbWFnZVNtb290aGluZyk7XG4gICAgICBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5kcmF3Q2FjaGVPbkNhbnZhcy5jYWxsKHRoaXMsIGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2lkZSBpZiB0aGUgb2JqZWN0IHNob3VsZCBjYWNoZSBvciBub3QuIENyZWF0ZSBpdHMgb3duIGNhY2hlIGxldmVsXG4gICAgICogbmVlZHNJdHNPd25DYWNoZSBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBvYmplY3QgZHJhd2luZyBtZXRob2QgcmVxdWlyZXNcbiAgICAgKiBhIGNhY2hlIHN0ZXAuIE5vbmUgb2YgdGhlIGZhYnJpYyBjbGFzc2VzIHJlcXVpcmVzIGl0LlxuICAgICAqIEdlbmVyYWxseSB5b3UgZG8gbm90IGNhY2hlIG9iamVjdHMgaW4gZ3JvdXBzIGJlY2F1c2UgdGhlIGdyb3VwIG91dHNpZGUgaXMgY2FjaGVkLlxuICAgICAqIFRoaXMgaXMgdGhlIHNwZWNpYWwgaW1hZ2UgdmVyc2lvbiB3aGVyZSB3ZSB3b3VsZCBsaWtlIHRvIGF2b2lkIGNhY2hpbmcgd2hlcmUgcG9zc2libGUuXG4gICAgICogRXNzZW50aWFsbHkgaW1hZ2VzIGRvIG5vdCBiZW5lZml0IGZyb20gY2FjaGluZy4gVGhleSBtYXkgcmVxdWlyZSBjYWNoaW5nLCBhbmQgaW4gdGhhdFxuICAgICAqIGNhc2Ugd2UgZG8gaXQuIEFsc28gY2FjaGluZyBhbiBpbWFnZSB1c3VhbGx5IGVuZHMgaW4gYSBsb3NzIG9mIGRldGFpbHMuXG4gICAgICogQSBmdWxsIHBlcmZvcm1hbmNlIGF1ZGl0IHNob3VsZCBiZSBkb25lLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgc2hvdWxkQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmVlZHNJdHNPd25DYWNoZSgpO1xuICAgIH0sXG5cbiAgICBfcmVuZGVyRmlsbDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgZWxlbWVudFRvRHJhdyA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgICBpZiAoIWVsZW1lbnRUb0RyYXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHNjYWxlWCA9IHRoaXMuX2ZpbHRlclNjYWxpbmdYLCBzY2FsZVkgPSB0aGlzLl9maWx0ZXJTY2FsaW5nWSxcbiAgICAgICAgICB3ID0gdGhpcy53aWR0aCwgaCA9IHRoaXMuaGVpZ2h0LCBtaW4gPSBNYXRoLm1pbiwgbWF4ID0gTWF0aC5tYXgsXG4gICAgICAgICAgLy8gY3JvcCB2YWx1ZXMgY2Fubm90IGJlIGxlc3NlciB0aGFuIDAuXG4gICAgICAgICAgY3JvcFggPSBtYXgodGhpcy5jcm9wWCwgMCksIGNyb3BZID0gbWF4KHRoaXMuY3JvcFksIDApLFxuICAgICAgICAgIGVsV2lkdGggPSBlbGVtZW50VG9EcmF3Lm5hdHVyYWxXaWR0aCB8fCBlbGVtZW50VG9EcmF3LndpZHRoLFxuICAgICAgICAgIGVsSGVpZ2h0ID0gZWxlbWVudFRvRHJhdy5uYXR1cmFsSGVpZ2h0IHx8IGVsZW1lbnRUb0RyYXcuaGVpZ2h0LFxuICAgICAgICAgIHNYID0gY3JvcFggKiBzY2FsZVgsXG4gICAgICAgICAgc1kgPSBjcm9wWSAqIHNjYWxlWSxcbiAgICAgICAgICAvLyB0aGUgd2lkdGggaGVpZ2h0IGNhbm5vdCBleGNlZWQgZWxlbWVudCB3aWR0aC9oZWlnaHQsIHN0YXJ0aW5nIGZyb20gdGhlIGNyb3Agb2Zmc2V0LlxuICAgICAgICAgIHNXID0gbWluKHcgKiBzY2FsZVgsIGVsV2lkdGggLSBzWCksXG4gICAgICAgICAgc0ggPSBtaW4oaCAqIHNjYWxlWSwgZWxIZWlnaHQgLSBzWSksXG4gICAgICAgICAgeCA9IC13IC8gMiwgeSA9IC1oIC8gMixcbiAgICAgICAgICBtYXhEZXN0VyA9IG1pbih3LCBlbFdpZHRoIC8gc2NhbGVYIC0gY3JvcFgpLFxuICAgICAgICAgIG1heERlc3RIID0gbWluKGgsIGVsSGVpZ2h0IC8gc2NhbGVZIC0gY3JvcFkpO1xuXG4gICAgICBlbGVtZW50VG9EcmF3ICYmIGN0eC5kcmF3SW1hZ2UoZWxlbWVudFRvRHJhdywgc1gsIHNZLCBzVywgc0gsIHgsIHksIG1heERlc3RXLCBtYXhEZXN0SCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG5lZWRlZCB0byBjaGVjayBpZiBpbWFnZSBuZWVkcyByZXNpemVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9uZWVkc1Jlc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldFRvdGFsT2JqZWN0U2NhbGluZygpO1xuICAgICAgcmV0dXJuIChzY2FsZS5zY2FsZVggIT09IHRoaXMuX2xhc3RTY2FsZVggfHwgc2NhbGUuc2NhbGVZICE9PSB0aGlzLl9sYXN0U2NhbGVZKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzZXRXaWR0aEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNldCh0aGlzLmdldE9yaWdpbmFsU2l6ZSgpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIEltYWdlIGNsYXNzJ3MgaW5pdGlhbGl6YXRpb24gbWV0aG9kLiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5XG4gICAgICogY2FsbGVkIGJ5IHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxTdHJpbmd9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBfaW5pdEVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuc2V0RWxlbWVudChmYWJyaWMudXRpbC5nZXRCeUlkKGVsZW1lbnQpLCBvcHRpb25zKTtcbiAgICAgIGZhYnJpYy51dGlsLmFkZENsYXNzKHRoaXMuZ2V0RWxlbWVudCgpLCBmYWJyaWMuSW1hZ2UuQ1NTX0NBTlZBUyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIF9pbml0Q29uZmlnOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIHRoaXMuX3NldFdpZHRoSGVpZ2h0KG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpbHRlcnMgdG8gYmUgaW5pdGlhbGl6ZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbGwgZmFicmljLkltYWdlLmZpbHRlcnMgaW5zdGFuY2VzIGFyZSBjcmVhdGVkXG4gICAgICovXG4gICAgX2luaXRGaWx0ZXJzOiBmdW5jdGlvbihmaWx0ZXJzLCBjYWxsYmFjaykge1xuICAgICAgaWYgKGZpbHRlcnMgJiYgZmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMoZmlsdGVycywgZnVuY3Rpb24oZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVubGl2ZW5lZE9iamVjdHMpO1xuICAgICAgICB9LCAnZmFicmljLkltYWdlLmZpbHRlcnMnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIFNldCB0aGUgd2lkdGggYW5kIHRoZSBoZWlnaHQgb2YgdGhlIGltYWdlIG9iamVjdCwgdXNpbmcgdGhlIGVsZW1lbnQgb3IgdGhlXG4gICAgICogb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIHdpZHRoL2hlaWdodCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgX3NldFdpZHRoSGVpZ2h0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHZhciBlbCA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgZWwubmF0dXJhbFdpZHRoIHx8IGVsLndpZHRoIHx8IDA7XG4gICAgICB0aGlzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IGVsLm5hdHVyYWxIZWlnaHQgfHwgZWwuaGVpZ2h0IHx8IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBvZmZzZXQgZm9yIGNlbnRlciBhbmQgc2NhbGUgZmFjdG9yIGZvciB0aGUgaW1hZ2UgaW4gb3JkZXIgdG8gcmVzcGVjdFxuICAgICAqIHRoZSBwcmVzZXJ2ZUFzcGVjdFJhdGlvIGF0dHJpYnV0ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcEFSID0gZmFicmljLnV0aWwucGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlKHRoaXMucHJlc2VydmVBc3BlY3RSYXRpbyB8fCAnJyksXG4gICAgICAgICAgcldpZHRoID0gdGhpcy5fZWxlbWVudC53aWR0aCwgckhlaWdodCA9IHRoaXMuX2VsZW1lbnQuaGVpZ2h0LFxuICAgICAgICAgIHNjYWxlWCA9IDEsIHNjYWxlWSA9IDEsIG9mZnNldExlZnQgPSAwLCBvZmZzZXRUb3AgPSAwLCBjcm9wWCA9IDAsIGNyb3BZID0gMCxcbiAgICAgICAgICBvZmZzZXQsIHBXaWR0aCA9IHRoaXMud2lkdGgsIHBIZWlnaHQgPSB0aGlzLmhlaWdodCwgcGFyc2VkQXR0cmlidXRlcyA9IHsgd2lkdGg6IHBXaWR0aCwgaGVpZ2h0OiBwSGVpZ2h0IH07XG4gICAgICBpZiAocEFSICYmIChwQVIuYWxpZ25YICE9PSAnbm9uZScgfHwgcEFSLmFsaWduWSAhPT0gJ25vbmUnKSkge1xuICAgICAgICBpZiAocEFSLm1lZXRPclNsaWNlID09PSAnbWVldCcpIHtcbiAgICAgICAgICBzY2FsZVggPSBzY2FsZVkgPSBmYWJyaWMudXRpbC5maW5kU2NhbGVUb0ZpdCh0aGlzLl9lbGVtZW50LCBwYXJzZWRBdHRyaWJ1dGVzKTtcbiAgICAgICAgICBvZmZzZXQgPSAocFdpZHRoIC0gcldpZHRoICogc2NhbGVYKSAvIDI7XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblggPT09ICdNaW4nKSB7XG4gICAgICAgICAgICBvZmZzZXRMZWZ0ID0gLW9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblggPT09ICdNYXgnKSB7XG4gICAgICAgICAgICBvZmZzZXRMZWZ0ID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBvZmZzZXQgPSAocEhlaWdodCAtIHJIZWlnaHQgKiBzY2FsZVkpIC8gMjtcbiAgICAgICAgICBpZiAocEFSLmFsaWduWSA9PT0gJ01pbicpIHtcbiAgICAgICAgICAgIG9mZnNldFRvcCA9IC1vZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwQVIuYWxpZ25ZID09PSAnTWF4Jykge1xuICAgICAgICAgICAgb2Zmc2V0VG9wID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocEFSLm1lZXRPclNsaWNlID09PSAnc2xpY2UnKSB7XG4gICAgICAgICAgc2NhbGVYID0gc2NhbGVZID0gZmFicmljLnV0aWwuZmluZFNjYWxlVG9Db3Zlcih0aGlzLl9lbGVtZW50LCBwYXJzZWRBdHRyaWJ1dGVzKTtcbiAgICAgICAgICBvZmZzZXQgPSByV2lkdGggLSBwV2lkdGggLyBzY2FsZVg7XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblggPT09ICdNaWQnKSB7XG4gICAgICAgICAgICBjcm9wWCA9IG9mZnNldCAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwQVIuYWxpZ25YID09PSAnTWF4Jykge1xuICAgICAgICAgICAgY3JvcFggPSBvZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldCA9IHJIZWlnaHQgLSBwSGVpZ2h0IC8gc2NhbGVZO1xuICAgICAgICAgIGlmIChwQVIuYWxpZ25ZID09PSAnTWlkJykge1xuICAgICAgICAgICAgY3JvcFkgPSBvZmZzZXQgLyAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocEFSLmFsaWduWSA9PT0gJ01heCcpIHtcbiAgICAgICAgICAgIGNyb3BZID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByV2lkdGggPSBwV2lkdGggLyBzY2FsZVg7XG4gICAgICAgICAgckhlaWdodCA9IHBIZWlnaHQgLyBzY2FsZVk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzY2FsZVggPSBwV2lkdGggLyByV2lkdGg7XG4gICAgICAgIHNjYWxlWSA9IHBIZWlnaHQgLyBySGVpZ2h0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHJXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBySGVpZ2h0LFxuICAgICAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICAgICAgc2NhbGVZOiBzY2FsZVksXG4gICAgICAgIG9mZnNldExlZnQ6IG9mZnNldExlZnQsXG4gICAgICAgIG9mZnNldFRvcDogb2Zmc2V0VG9wLFxuICAgICAgICBjcm9wWDogY3JvcFgsXG4gICAgICAgIGNyb3BZOiBjcm9wWVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IENTUyBjbGFzcyBuYW1lIGZvciBjYW52YXNcbiAgICogQHN0YXRpY1xuICAgKiBAdHlwZSBTdHJpbmdcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5DU1NfQ0FOVkFTID0gJ2NhbnZhcy1pbWcnO1xuXG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgZ2V0U3JjXG4gICAqIEBzdGF0aWNcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5wcm90b3R5cGUuZ2V0U3ZnU3JjID0gZmFicmljLkltYWdlLnByb3RvdHlwZS5nZXRTcmM7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgZmFicmljLkltYWdlIGZyb20gaXRzIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFuIGltYWdlIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24oX29iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgb2JqZWN0ID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKF9vYmplY3QpO1xuICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZShvYmplY3Quc3JjLCBmdW5jdGlvbihpbWcsIGlzRXJyb3IpIHtcbiAgICAgIGlmIChpc0Vycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG51bGwsIHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmYWJyaWMuSW1hZ2UucHJvdG90eXBlLl9pbml0RmlsdGVycy5jYWxsKG9iamVjdCwgb2JqZWN0LmZpbHRlcnMsIGZ1bmN0aW9uKGZpbHRlcnMpIHtcbiAgICAgICAgb2JqZWN0LmZpbHRlcnMgPSBmaWx0ZXJzIHx8IFtdO1xuICAgICAgICBmYWJyaWMuSW1hZ2UucHJvdG90eXBlLl9pbml0RmlsdGVycy5jYWxsKG9iamVjdCwgW29iamVjdC5yZXNpemVGaWx0ZXJdLCBmdW5jdGlvbihyZXNpemVGaWx0ZXJzKSB7XG4gICAgICAgICAgb2JqZWN0LnJlc2l6ZUZpbHRlciA9IHJlc2l6ZUZpbHRlcnNbMF07XG4gICAgICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdEVubGl2YWJsZXMob2JqZWN0LCBvYmplY3QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBmYWJyaWMuSW1hZ2UoaW1nLCBvYmplY3QpO1xuICAgICAgICAgICAgY2FsbGJhY2soaW1hZ2UsIGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCBudWxsLCBvYmplY3QuY3Jvc3NPcmlnaW4pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZSBmcm9tIGFuIFVSTCBzdHJpbmdcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFVSTCB0byBjcmVhdGUgYW4gaW1hZ2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGltYWdlIGlzIGNyZWF0ZWQgKG5ld2x5IGNyZWF0ZWQgaW1hZ2UgaXMgcGFzc2VkIGFzIGEgZmlyc3QgYXJndW1lbnQpLiBTZWNvbmQgYXJndW1lbnQgaXMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2ltZ09wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZnJvbVVSTCA9IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2ssIGltZ09wdGlvbnMpIHtcbiAgICBmYWJyaWMudXRpbC5sb2FkSW1hZ2UodXJsLCBmdW5jdGlvbihpbWcsIGlzRXJyb3IpIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG5ldyBmYWJyaWMuSW1hZ2UoaW1nLCBpbWdPcHRpb25zKSwgaXNFcnJvcik7XG4gICAgfSwgbnVsbCwgaW1nT3B0aW9ucyAmJiBpbWdPcHRpb25zLmNyb3NzT3JpZ2luKTtcbiAgfTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5JbWFnZS5mcm9tRWxlbWVudH0pXG4gICAqIEBzdGF0aWNcbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3N0cnVjdC5odG1sI0ltYWdlRWxlbWVudH1cbiAgICovXG4gIGZhYnJpYy5JbWFnZS5BVFRSSUJVVEVfTkFNRVMgPVxuICAgIGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoXG4gICAgICAneCB5IHdpZHRoIGhlaWdodCBwcmVzZXJ2ZUFzcGVjdFJhdGlvIHhsaW5rOmhyZWYgY3Jvc3NPcmlnaW4gaW1hZ2UtcmVuZGVyaW5nJy5zcGxpdCgnICcpXG4gICAgKTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkltYWdlfSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBleGVjdXRlIHdoZW4gZmFicmljLkltYWdlIG9iamVjdCBpcyBjcmVhdGVkXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuSW1hZ2UuQVRUUklCVVRFX05BTUVTKTtcbiAgICBmYWJyaWMuSW1hZ2UuZnJvbVVSTChwYXJzZWRBdHRyaWJ1dGVzWyd4bGluazpocmVmJ10sIGNhbGxiYWNrLFxuICAgICAgZXh0ZW5kKChvcHRpb25zID8gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKG9wdGlvbnMpIDogeyB9KSwgcGFyc2VkQXR0cmlidXRlcykpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGUgdmFsdWVcbiAgICovXG4gIF9nZXRBbmdsZVZhbHVlRm9yU3RyYWlnaHRlbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFuZ2xlID0gdGhpcy5hbmdsZSAlIDM2MDtcbiAgICBpZiAoYW5nbGUgPiAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCgoYW5nbGUgLSAxKSAvIDkwKSAqIDkwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5yb3VuZChhbmdsZSAvIDkwKSAqIDkwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdHJhaWdodGVucyBhbiBvYmplY3QgKHJvdGF0aW5nIGl0IGZyb20gY3VycmVudCBhbmdsZSB0byBvbmUgb2YgMCwgOTAsIDE4MCwgMjcwLCBldGMuIGRlcGVuZGluZyBvbiB3aGljaCBpcyBjbG9zZXIpXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc3RyYWlnaHRlbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucm90YXRlKHRoaXMuX2dldEFuZ2xlVmFsdWVGb3JTdHJhaWdodGVuKCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIHtAbGluayBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zdHJhaWdodGVufSBidXQgd2l0aCBhbmltYXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNhbGxiYWNrcyBPYmplY3Qgd2l0aCBjYWxsYmFjayBmdW5jdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNvbXBsZXRlXSBJbnZva2VkIG9uIGNvbXBsZXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNoYW5nZV0gSW52b2tlZCBvbiBldmVyeSBzdGVwIG9mIGFuaW1hdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqL1xuICBmeFN0cmFpZ2h0ZW46IGZ1bmN0aW9uKGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgc3RhcnRWYWx1ZTogdGhpcy5nZXQoJ2FuZ2xlJyksXG4gICAgICBlbmRWYWx1ZTogdGhpcy5fZ2V0QW5nbGVWYWx1ZUZvclN0cmFpZ2h0ZW4oKSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLkZYX0RVUkFUSU9OLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF90aGlzLnJvdGF0ZSh2YWx1ZSk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLnNldENvb3JkcygpO1xuICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59KTtcblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIFN0cmFpZ2h0ZW5zIG9iamVjdCwgdGhlbiByZXJlbmRlcnMgY2FudmFzXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzdHJhaWdodGVuXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc3RyYWlnaHRlbk9iamVjdDogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIG9iamVjdC5zdHJhaWdodGVuKCk7XG4gICAgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhbWUgYXMge0BsaW5rIGZhYnJpYy5DYW52YXMucHJvdG90eXBlLnN0cmFpZ2h0ZW5PYmplY3R9LCBidXQgYW5pbWF0ZWRcbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHN0cmFpZ2h0ZW5cbiAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgKi9cbiAgZnhTdHJhaWdodGVuT2JqZWN0OiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdC5meFN0cmFpZ2h0ZW4oe1xuICAgICAgb25DaGFuZ2U6IHRoaXMucmVxdWVzdFJlbmRlckFsbEJvdW5kXG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIFRlc3RzIGlmIHdlYmdsIHN1cHBvcnRzIGNlcnRhaW4gcHJlY2lzaW9uXG4gICAqIEBwYXJhbSB7V2ViR0x9IENhbnZhcyBXZWJHTCBjb250ZXh0IHRvIHRlc3Qgb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IFByZWNpc2lvbiB0byB0ZXN0IGNhbiBiZSBhbnkgb2YgZm9sbG93aW5nOiAnbG93cCcsICdtZWRpdW1wJywgJ2hpZ2hwJ1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgdXNlcidzIGJyb3dzZXIgV2ViR0wgc3VwcG9ydHMgZ2l2ZW4gcHJlY2lzaW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdGVzdFByZWNpc2lvbihnbCwgcHJlY2lzaW9uKXtcbiAgICB2YXIgZnJhZ21lbnRTb3VyY2UgPSAncHJlY2lzaW9uICcgKyBwcmVjaXNpb24gKyAnIGZsb2F0O1xcbnZvaWQgbWFpbigpe30nO1xuICAgIHZhciBmcmFnbWVudFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIGdsLnNoYWRlclNvdXJjZShmcmFnbWVudFNoYWRlciwgZnJhZ21lbnRTb3VyY2UpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogSW5kaWNhdGUgd2hldGhlciB0aGlzIGZpbHRlcmluZyBiYWNrZW5kIGlzIHN1cHBvcnRlZCBieSB0aGUgdXNlcidzIGJyb3dzZXIuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aWxlU2l6ZSBjaGVjayBpZiB0aGUgdGlsZVNpemUgaXMgc3VwcG9ydGVkXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSB1c2VyJ3MgYnJvd3NlciBzdXBwb3J0cyBXZWJHTC5cbiAgICovXG4gIGZhYnJpYy5pc1dlYmdsU3VwcG9ydGVkID0gZnVuY3Rpb24odGlsZVNpemUpIHtcbiAgICBpZiAoZmFicmljLmlzTGlrZWx5Tm9kZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aWxlU2l6ZSA9IHRpbGVTaXplIHx8IGZhYnJpYy5XZWJnbEZpbHRlckJhY2tlbmQucHJvdG90eXBlLnRpbGVTaXplO1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJyk7XG4gICAgdmFyIGlzU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgaWYgKGdsKSB7XG4gICAgICBmYWJyaWMubWF4VGV4dHVyZVNpemUgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfU0laRSk7XG4gICAgICBpc1N1cHBvcnRlZCA9IGZhYnJpYy5tYXhUZXh0dXJlU2l6ZSA+PSB0aWxlU2l6ZTtcbiAgICAgIHZhciBwcmVjaXNpb25zID0gWydoaWdocCcsICdtZWRpdW1wJywgJ2xvd3AnXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICAgICAgaWYgKHRlc3RQcmVjaXNpb24oZ2wsIHByZWNpc2lvbnNbaV0pKXtcbiAgICAgICAgICBmYWJyaWMud2ViR2xQcmVjaXNpb24gPSBwcmVjaXNpb25zW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlzU3VwcG9ydGVkID0gaXNTdXBwb3J0ZWQ7XG4gICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICB9O1xuXG4gIGZhYnJpYy5XZWJnbEZpbHRlckJhY2tlbmQgPSBXZWJnbEZpbHRlckJhY2tlbmQ7XG5cbiAgLyoqXG4gICAqIFdlYkdMIGZpbHRlciBiYWNrZW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gV2ViZ2xGaWx0ZXJCYWNrZW5kKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnRpbGVTaXplKSB7XG4gICAgICB0aGlzLnRpbGVTaXplID0gb3B0aW9ucy50aWxlU2l6ZTtcbiAgICB9XG4gICAgdGhpcy5zZXR1cEdMQ29udGV4dCh0aGlzLnRpbGVTaXplLCB0aGlzLnRpbGVTaXplKTtcbiAgICB0aGlzLmNhcHR1cmVHUFVJbmZvKCk7XG4gIH07XG5cbiAgV2ViZ2xGaWx0ZXJCYWNrZW5kLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgZmFicmljLldlYmdsRmlsdGVyQmFja2VuZC5wcm90b3R5cGUgKi8ge1xuXG4gICAgdGlsZVNpemU6IDIwNDgsXG5cbiAgICAvKipcbiAgICAgKiBFeHBlcmltZW50YWwuIFRoaXMgb2JqZWN0IGlzIGEgc29ydCBvZiByZXBvc2l0b3J5IG9mIGhlbHAgbGF5ZXJzIHVzZWQgdG8gYXZvaWRcbiAgICAgKiBvZiByZWNyZWF0aW5nIHRoZW0gZHVyaW5nIGZyZXF1ZW50IGZpbHRlcmluZy4gSWYgeW91IGFyZSBwcmV2aWV3aW5nIGEgZmlsdGVyIHdpdGhcbiAgICAgKiBhIHNsaWRlciB5b3UgcHJvYmFibHkgZG8gbm90IHdhbnQgdG8gY3JlYXRlIGhlbHAgbGF5ZXJzIGV2ZXJ5IGZpbHRlciBzdGVwLlxuICAgICAqIGluIHRoaXMgb2JqZWN0IHRoZXJlIHdpbGwgYmUgYXBwZW5kZWQgc29tZSBjYW52YXNlcywgY3JlYXRlZCBvbmNlLCByZXNpemVkIHNvbWV0aW1lc1xuICAgICAqIGNsZWFyZWQgbmV2ZXIuIENsZWFyaW5nIGlzIGxlZnQgdG8gdGhlIGRldmVsb3Blci5cbiAgICAgKiovXG4gICAgcmVzb3VyY2VzOiB7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgYSBXZWJHTCBjb250ZXh0IHN1aXRhYmxlIGZvciBmaWx0ZXJpbmcsIGFuZCBiaW5kIGFueSBuZWVkZWQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICovXG4gICAgc2V0dXBHTENvbnRleHQ6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5jcmVhdGVXZWJHTENhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgdGhpcy5hUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxLCAxLCAwLCAxLCAxXSk7XG4gICAgICB0aGlzLmNob29zZUZhc3Rlc3RDb3B5R0xUbzJETWV0aG9kKHdpZHRoLCBoZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQaWNrIGEgbWV0aG9kIHRvIGNvcHkgZGF0YSBmcm9tIEdMIGNvbnRleHQgdG8gMmQgY2FudmFzLiAgSW4gc29tZSBicm93c2VycyB1c2luZ1xuICAgICAqIHB1dEltYWdlRGF0YSBpcyBmYXN0ZXIgdGhhbiBkcmF3SW1hZ2UgZm9yIHRoYXQgc3BlY2lmaWMgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGNob29zZUZhc3Rlc3RDb3B5R0xUbzJETWV0aG9kOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgY2FuTWVhc3VyZVBlcmYgPSB0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJywgY2FuVXNlSW1hZ2VEYXRhO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEltYWdlRGF0YSgxLCAxKTtcbiAgICAgICAgY2FuVXNlSW1hZ2VEYXRhID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNhblVzZUltYWdlRGF0YSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgY2FuVXNlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgY2FuVXNlVWludDhDbGFtcGVkID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJztcblxuICAgICAgaWYgKCEoY2FuTWVhc3VyZVBlcmYgJiYgY2FuVXNlSW1hZ2VEYXRhICYmIGNhblVzZUFycmF5QnVmZmVyICYmIGNhblVzZVVpbnQ4Q2xhbXBlZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0Q2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgaW1hZ2VCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgIGlmIChmYWJyaWMuZm9yY2VHTFB1dEltYWdlRGF0YSkge1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyID0gaW1hZ2VCdWZmZXI7XG4gICAgICAgIHRoaXMuY29weUdMVG8yRCA9IGNvcHlHTFRvMkRQdXRJbWFnZURhdGE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciB0ZXN0Q29udGV4dCA9IHtcbiAgICAgICAgaW1hZ2VCdWZmZXI6IGltYWdlQnVmZmVyLFxuICAgICAgICBkZXN0aW5hdGlvbldpZHRoOiB3aWR0aCxcbiAgICAgICAgZGVzdGluYXRpb25IZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgdGFyZ2V0Q2FudmFzOiB0YXJnZXRDYW52YXNcbiAgICAgIH07XG4gICAgICB2YXIgc3RhcnRUaW1lLCBkcmF3SW1hZ2VUaW1lLCBwdXRJbWFnZURhdGFUaW1lO1xuICAgICAgdGFyZ2V0Q2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICBzdGFydFRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb3B5R0xUbzJERHJhd0ltYWdlLmNhbGwodGVzdENvbnRleHQsIHRoaXMuZ2wsIHRlc3RDb250ZXh0KTtcbiAgICAgIGRyYXdJbWFnZVRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIHN0YXJ0VGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvcHlHTFRvMkRQdXRJbWFnZURhdGEuY2FsbCh0ZXN0Q29udGV4dCwgdGhpcy5nbCwgdGVzdENvbnRleHQpO1xuICAgICAgcHV0SW1hZ2VEYXRhVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgaWYgKGRyYXdJbWFnZVRpbWUgPiBwdXRJbWFnZURhdGFUaW1lKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VCdWZmZXIgPSBpbWFnZUJ1ZmZlcjtcbiAgICAgICAgdGhpcy5jb3B5R0xUbzJEID0gY29weUdMVG8yRFB1dEltYWdlRGF0YTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmNvcHlHTFRvMkQgPSBjb3B5R0xUbzJERHJhd0ltYWdlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjYW52YXMgZWxlbWVudCBhbmQgYXNzb2NpYXRlZCBXZWJHTCBjb250ZXh0IGFuZCBhdHRhY2hlcyB0aGVtIGFzXG4gICAgICogY2xhc3MgcHJvcGVydGllcyB0byB0aGUgR0xGaWx0ZXJCYWNrZW5kIGNsYXNzLlxuICAgICAqL1xuICAgIGNyZWF0ZVdlYkdMQ2FudmFzOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgY2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdmFyIGdsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBmYWxzZSxcbiAgICAgICAgICAgIGRlcHRoOiBmYWxzZSxcbiAgICAgICAgICAgIHN0ZW5jaWw6IGZhbHNlLFxuICAgICAgICAgICAgYW50aWFsaWFzOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBnbE9wdGlvbnMpO1xuICAgICAgaWYgKCFnbCkge1xuICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBnbE9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKCFnbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuICAgICAgLy8gdGhpcyBjYW52YXMgY2FuIGZpcmUgd2ViZ2xjb250ZXh0bG9zdCBhbmQgd2ViZ2xjb250ZXh0cmVzdG9yZWRcbiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgdGhpcy5nbCA9IGdsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBhcHBseSB0aGUgcmVxdWVzdGVkIGZpbHRlcnMgdG8gdGhlIHNvdXJjZSBwcm92aWRlZCwgZHJhd2luZyB0aGUgZmlsdGVyZWQgb3V0cHV0XG4gICAgICogdG8gdGhlIHByb3ZpZGVkIHRhcmdldCBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIFRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgc291cmNlIGlucHV0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgc291cmNlIGlucHV0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHRhcmdldENhbnZhcyBUaGUgZGVzdGluYXRpb24gZm9yIGZpbHRlcmVkIG91dHB1dCB0byBiZSBkcmF3bi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3x1bmRlZmluZWR9IGNhY2hlS2V5IEEga2V5IHVzZWQgdG8gY2FjaGUgcmVzb3VyY2VzIHJlbGF0ZWQgdG8gdGhlIHNvdXJjZS4gSWZcbiAgICAgKiBvbWl0dGVkLCBjYWNoaW5nIHdpbGwgYmUgc2tpcHBlZC5cbiAgICAgKi9cbiAgICBhcHBseUZpbHRlcnM6IGZ1bmN0aW9uKGZpbHRlcnMsIHNvdXJjZSwgd2lkdGgsIGhlaWdodCwgdGFyZ2V0Q2FudmFzLCBjYWNoZUtleSkge1xuICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgIHZhciBjYWNoZWRUZXh0dXJlO1xuICAgICAgaWYgKGNhY2hlS2V5KSB7XG4gICAgICAgIGNhY2hlZFRleHR1cmUgPSB0aGlzLmdldENhY2hlZFRleHR1cmUoY2FjaGVLZXksIHNvdXJjZSk7XG4gICAgICB9XG4gICAgICB2YXIgcGlwZWxpbmVTdGF0ZSA9IHtcbiAgICAgICAgb3JpZ2luYWxXaWR0aDogc291cmNlLndpZHRoIHx8IHNvdXJjZS5vcmlnaW5hbFdpZHRoLFxuICAgICAgICBvcmlnaW5hbEhlaWdodDogc291cmNlLmhlaWdodCB8fCBzb3VyY2Uub3JpZ2luYWxIZWlnaHQsXG4gICAgICAgIHNvdXJjZVdpZHRoOiB3aWR0aCxcbiAgICAgICAgc291cmNlSGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIGRlc3RpbmF0aW9uV2lkdGg6IHdpZHRoLFxuICAgICAgICBkZXN0aW5hdGlvbkhlaWdodDogaGVpZ2h0LFxuICAgICAgICBjb250ZXh0OiBnbCxcbiAgICAgICAgc291cmNlVGV4dHVyZTogdGhpcy5jcmVhdGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0LCAhY2FjaGVkVGV4dHVyZSAmJiBzb3VyY2UpLFxuICAgICAgICB0YXJnZXRUZXh0dXJlOiB0aGlzLmNyZWF0ZVRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQpLFxuICAgICAgICBvcmlnaW5hbFRleHR1cmU6IGNhY2hlZFRleHR1cmUgfHxcbiAgICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQsICFjYWNoZWRUZXh0dXJlICYmIHNvdXJjZSksXG4gICAgICAgIHBhc3NlczogZmlsdGVycy5sZW5ndGgsXG4gICAgICAgIHdlYmdsOiB0cnVlLFxuICAgICAgICBhUG9zaXRpb246IHRoaXMuYVBvc2l0aW9uLFxuICAgICAgICBwcm9ncmFtQ2FjaGU6IHRoaXMucHJvZ3JhbUNhY2hlLFxuICAgICAgICBwYXNzOiAwLFxuICAgICAgICBmaWx0ZXJCYWNrZW5kOiB0aGlzLFxuICAgICAgICB0YXJnZXRDYW52YXM6IHRhcmdldENhbnZhc1xuICAgICAgfTtcbiAgICAgIHZhciB0ZW1wRmJvID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGVtcEZibyk7XG4gICAgICBmaWx0ZXJzLmZvckVhY2goZnVuY3Rpb24oZmlsdGVyKSB7IGZpbHRlciAmJiBmaWx0ZXIuYXBwbHlUbyhwaXBlbGluZVN0YXRlKTsgfSk7XG4gICAgICByZXNpemVDYW52YXNJZk5lZWRlZChwaXBlbGluZVN0YXRlKTtcbiAgICAgIHRoaXMuY29weUdMVG8yRChnbCwgcGlwZWxpbmVTdGF0ZSk7XG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICAgIGdsLmRlbGV0ZVRleHR1cmUocGlwZWxpbmVTdGF0ZS5zb3VyY2VUZXh0dXJlKTtcbiAgICAgIGdsLmRlbGV0ZVRleHR1cmUocGlwZWxpbmVTdGF0ZS50YXJnZXRUZXh0dXJlKTtcbiAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRlbXBGYm8pO1xuICAgICAgdGFyZ2V0Q2FudmFzLmdldENvbnRleHQoJzJkJykuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgcmV0dXJuIHBpcGVsaW5lU3RhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGFjaCBldmVudCBsaXN0ZW5lcnMsIHJlbW92ZSByZWZlcmVuY2VzLCBhbmQgY2xlYW4gdXAgY2FjaGVzLlxuICAgICAqL1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmNsZWFyV2ViR0xDYWNoZXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2lwZSBvdXQgV2ViR0wtcmVsYXRlZCBjYWNoZXMuXG4gICAgICovXG4gICAgY2xlYXJXZWJHTENhY2hlczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgICAgdGhpcy50ZXh0dXJlQ2FjaGUgPSB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgV2ViR0wgdGV4dHVyZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBBY2NlcHRzIHNwZWNpZmljIGRpbWVuc2lvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVyZSB0byBvciBhIHNvdXJjZSBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY29udGV4dCB0byB1c2UgZm9yIGNyZWF0aW5nIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVyZSBhdC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IFRoZSBoZWlnaHQgdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHRleHR1cmVJbWFnZVNvdXJjZSBBIHNvdXJjZSBmb3IgdGhlIHRleHR1cmUgZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIGNyZWF0ZVRleHR1cmU6IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0LCB0ZXh0dXJlSW1hZ2VTb3VyY2UpIHtcbiAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgaWYgKHRleHR1cmVJbWFnZVNvdXJjZSkge1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRleHR1cmVJbWFnZVNvdXJjZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYW4gYmUgb3B0aW9uYWxseSB1c2VkIHRvIGdldCBhIHRleHR1cmUgZnJvbSB0aGUgY2FjaGUgYXJyYXlcbiAgICAgKlxuICAgICAqIElmIGFuIGV4aXN0aW5nIHRleHR1cmUgaXMgbm90IGZvdW5kLCBhIG5ldyB0ZXh0dXJlIGlzIGNyZWF0ZWQgYW5kIGNhY2hlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1bmlxdWVJZCBBIGNhY2hlIGtleSB0byB1c2UgdG8gZmluZCBhbiBleGlzdGluZyB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gdGV4dHVyZUltYWdlU291cmNlIEEgc291cmNlIHRvIHVzZSB0byBjcmVhdGUgdGhlXG4gICAgICogdGV4dHVyZSBjYWNoZSBlbnRyeSBpZiBvbmUgZG9lcyBub3QgYWxyZWFkeSBleGlzdC5cbiAgICAgKi9cbiAgICBnZXRDYWNoZWRUZXh0dXJlOiBmdW5jdGlvbih1bmlxdWVJZCwgdGV4dHVyZUltYWdlU291cmNlKSB7XG4gICAgICBpZiAodGhpcy50ZXh0dXJlQ2FjaGVbdW5pcXVlSWRdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVDYWNoZVt1bmlxdWVJZF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoXG4gICAgICAgICAgdGhpcy5nbCwgdGV4dHVyZUltYWdlU291cmNlLndpZHRoLCB0ZXh0dXJlSW1hZ2VTb3VyY2UuaGVpZ2h0LCB0ZXh0dXJlSW1hZ2VTb3VyY2UpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZVt1bmlxdWVJZF0gPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgb3V0IGNhY2hlZCByZXNvdXJjZXMgcmVsYXRlZCB0byBhIHNvdXJjZSBpbWFnZSB0aGF0IGhhcyBiZWVuXG4gICAgICogZmlsdGVyZWQgcHJldmlvdXNseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjYWNoZUtleSBUaGUgY2FjaGUga2V5IHByb3ZpZGVkIHdoZW4gdGhlIHNvdXJjZSBpbWFnZSB3YXMgZmlsdGVyZWQuXG4gICAgICovXG4gICAgZXZpY3RDYWNoZXNGb3JLZXk6IGZ1bmN0aW9uKGNhY2hlS2V5KSB7XG4gICAgICBpZiAodGhpcy50ZXh0dXJlQ2FjaGVbY2FjaGVLZXldKSB7XG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmVDYWNoZVtjYWNoZUtleV0pO1xuICAgICAgICBkZWxldGUgdGhpcy50ZXh0dXJlQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb3B5R0xUbzJEOiBjb3B5R0xUbzJERHJhd0ltYWdlLFxuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCB0byBleHRyYWN0IEdQVSBpbmZvcm1hdGlvbiBzdHJpbmdzIGZyb20gYSBXZWJHTCBjb250ZXh0LlxuICAgICAqXG4gICAgICogVXNlZnVsIGluZm9ybWF0aW9uIHdoZW4gZGVidWdnaW5nIG9yIGJsYWNrbGlzdGluZyBzcGVjaWZpYyBHUFVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gQSBHUFUgaW5mbyBvYmplY3Qgd2l0aCByZW5kZXJlciBhbmQgdmVuZG9yIHN0cmluZ3MuXG4gICAgICovXG4gICAgY2FwdHVyZUdQVUluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZ3B1SW5mbykge1xuICAgICAgICByZXR1cm4gdGhpcy5ncHVJbmZvO1xuICAgICAgfVxuICAgICAgdmFyIGdsID0gdGhpcy5nbCwgZ3B1SW5mbyA9IHsgcmVuZGVyZXI6ICcnLCB2ZW5kb3I6ICcnIH07XG4gICAgICBpZiAoIWdsKSB7XG4gICAgICAgIHJldHVybiBncHVJbmZvO1xuICAgICAgfVxuICAgICAgdmFyIGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbycpO1xuICAgICAgaWYgKGV4dCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBnbC5nZXRQYXJhbWV0ZXIoZXh0LlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKTtcbiAgICAgICAgdmFyIHZlbmRvciA9IGdsLmdldFBhcmFtZXRlcihleHQuVU5NQVNLRURfVkVORE9SX1dFQkdMKTtcbiAgICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgICAgZ3B1SW5mby5yZW5kZXJlciA9IHJlbmRlcmVyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZlbmRvcikge1xuICAgICAgICAgIGdwdUluZm8udmVuZG9yID0gdmVuZG9yLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuZ3B1SW5mbyA9IGdwdUluZm87XG4gICAgICByZXR1cm4gZ3B1SW5mbztcbiAgICB9LFxuICB9O1xufSkoKTtcblxuZnVuY3Rpb24gcmVzaXplQ2FudmFzSWZOZWVkZWQocGlwZWxpbmVTdGF0ZSkge1xuICB2YXIgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsXG4gICAgICB3aWR0aCA9IHRhcmdldENhbnZhcy53aWR0aCwgaGVpZ2h0ID0gdGFyZ2V0Q2FudmFzLmhlaWdodCxcbiAgICAgIGRXaWR0aCA9IHBpcGVsaW5lU3RhdGUuZGVzdGluYXRpb25XaWR0aCxcbiAgICAgIGRIZWlnaHQgPSBwaXBlbGluZVN0YXRlLmRlc3RpbmF0aW9uSGVpZ2h0O1xuXG4gIGlmICh3aWR0aCAhPT0gZFdpZHRoIHx8IGhlaWdodCAhPT0gZEhlaWdodCkge1xuICAgIHRhcmdldENhbnZhcy53aWR0aCA9IGRXaWR0aDtcbiAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gZEhlaWdodDtcbiAgfVxufVxuXG4vKipcbiAqIENvcHkgYW4gaW5wdXQgV2ViR0wgY2FudmFzIG9uIHRvIGFuIG91dHB1dCAyRCBjYW52YXMuXG4gKlxuICogVGhlIFdlYkdMIGNhbnZhcyBpcyBhc3N1bWVkIHRvIGJlIHVwc2lkZSBkb3duLCB3aXRoIHRoZSB0b3AtbGVmdCBwaXhlbCBvZiB0aGVcbiAqIGRlc2lyZWQgb3V0cHV0IGltYWdlIGFwcGVhcmluZyBpbiB0aGUgYm90dG9tLWxlZnQgY29ybmVyIG9mIHRoZSBXZWJHTCBjYW52YXMuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHNvdXJjZUNvbnRleHQgVGhlIFdlYkdMIGNvbnRleHQgdG8gY29weSBmcm9tLlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gdGFyZ2V0Q2FudmFzIFRoZSAyRCB0YXJnZXQgY2FudmFzIHRvIGNvcHkgb24gdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gcGlwZWxpbmVTdGF0ZSBUaGUgMkQgdGFyZ2V0IGNhbnZhcyB0byBjb3B5IG9uIHRvLlxuICovXG5mdW5jdGlvbiBjb3B5R0xUbzJERHJhd0ltYWdlKGdsLCBwaXBlbGluZVN0YXRlKSB7XG4gIHZhciBnbENhbnZhcyA9IGdsLmNhbnZhcywgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsXG4gICAgICBjdHggPSB0YXJnZXRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY3R4LnRyYW5zbGF0ZSgwLCB0YXJnZXRDYW52YXMuaGVpZ2h0KTsgLy8gbW92ZSBpdCBkb3duIGFnYWluXG4gIGN0eC5zY2FsZSgxLCAtMSk7IC8vIHZlcnRpY2FsIGZsaXBcbiAgLy8gd2hlcmUgaXMgbXkgaW1hZ2Ugb24gdGhlIGJpZyBnbGNhbnZhcz9cbiAgdmFyIHNvdXJjZVkgPSBnbENhbnZhcy5oZWlnaHQgLSB0YXJnZXRDYW52YXMuaGVpZ2h0O1xuICBjdHguZHJhd0ltYWdlKGdsQ2FudmFzLCAwLCBzb3VyY2VZLCB0YXJnZXRDYW52YXMud2lkdGgsIHRhcmdldENhbnZhcy5oZWlnaHQsIDAsIDAsXG4gICAgdGFyZ2V0Q2FudmFzLndpZHRoLCB0YXJnZXRDYW52YXMuaGVpZ2h0KTtcbn1cblxuLyoqXG4gKiBDb3B5IGFuIGlucHV0IFdlYkdMIGNhbnZhcyBvbiB0byBhbiBvdXRwdXQgMkQgY2FudmFzIHVzaW5nIDJkIGNhbnZhcycgcHV0SW1hZ2VEYXRhXG4gKiBBUEkuIE1lYXN1cmFibHkgZmFzdGVyIHRoYW4gdXNpbmcgY3R4LmRyYXdJbWFnZSBpbiBGaXJlZm94ICh2ZXJzaW9uIDU0IG9uIE9TWCBTaWVycmEpLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBzb3VyY2VDb250ZXh0IFRoZSBXZWJHTCBjb250ZXh0IHRvIGNvcHkgZnJvbS5cbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHRhcmdldENhbnZhcyBUaGUgMkQgdGFyZ2V0IGNhbnZhcyB0byBjb3B5IG9uIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IHBpcGVsaW5lU3RhdGUgVGhlIDJEIHRhcmdldCBjYW52YXMgdG8gY29weSBvbiB0by5cbiAqL1xuZnVuY3Rpb24gY29weUdMVG8yRFB1dEltYWdlRGF0YShnbCwgcGlwZWxpbmVTdGF0ZSkge1xuICB2YXIgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsIGN0eCA9IHRhcmdldENhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgZFdpZHRoID0gcGlwZWxpbmVTdGF0ZS5kZXN0aW5hdGlvbldpZHRoLFxuICAgICAgZEhlaWdodCA9IHBpcGVsaW5lU3RhdGUuZGVzdGluYXRpb25IZWlnaHQsXG4gICAgICBudW1CeXRlcyA9IGRXaWR0aCAqIGRIZWlnaHQgKiA0O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgdTggPSBuZXcgVWludDhBcnJheSh0aGlzLmltYWdlQnVmZmVyLCAwLCBudW1CeXRlcyk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgdThDbGFtcGVkID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMuaW1hZ2VCdWZmZXIsIDAsIG51bUJ5dGVzKTtcblxuICBnbC5yZWFkUGl4ZWxzKDAsIDAsIGRXaWR0aCwgZEhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdTgpO1xuICB2YXIgaW1nRGF0YSA9IG5ldyBJbWFnZURhdGEodThDbGFtcGVkLCBkV2lkdGgsIGRIZWlnaHQpO1xuICBjdHgucHV0SW1hZ2VEYXRhKGltZ0RhdGEsIDAsIDApO1xufVxuXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9O1xuXG4gIGZhYnJpYy5DYW52YXMyZEZpbHRlckJhY2tlbmQgPSBDYW52YXMyZEZpbHRlckJhY2tlbmQ7XG5cbiAgLyoqXG4gICAqIENhbnZhcyAyRCBmaWx0ZXIgYmFja2VuZC5cbiAgICovXG4gIGZ1bmN0aW9uIENhbnZhczJkRmlsdGVyQmFja2VuZCgpIHt9O1xuXG4gIENhbnZhczJkRmlsdGVyQmFja2VuZC5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMyZEZpbHRlckJhY2tlbmQucHJvdG90eXBlICovIHtcbiAgICBldmljdENhY2hlc0ZvcktleTogbm9vcCxcbiAgICBkaXNwb3NlOiBub29wLFxuICAgIGNsZWFyV2ViR0xDYWNoZXM6IG5vb3AsXG5cbiAgICAvKipcbiAgICAgKiBFeHBlcmltZW50YWwuIFRoaXMgb2JqZWN0IGlzIGEgc29ydCBvZiByZXBvc2l0b3J5IG9mIGhlbHAgbGF5ZXJzIHVzZWQgdG8gYXZvaWRcbiAgICAgKiBvZiByZWNyZWF0aW5nIHRoZW0gZHVyaW5nIGZyZXF1ZW50IGZpbHRlcmluZy4gSWYgeW91IGFyZSBwcmV2aWV3aW5nIGEgZmlsdGVyIHdpdGhcbiAgICAgKiBhIHNsaWRlciB5b3UgcHJvYmFibHkgZG8gbm90IHdhbnQgdG8gY3JlYXRlIGhlbHAgbGF5ZXJzIGV2ZXJ5IGZpbHRlciBzdGVwLlxuICAgICAqIGluIHRoaXMgb2JqZWN0IHRoZXJlIHdpbGwgYmUgYXBwZW5kZWQgc29tZSBjYW52YXNlcywgY3JlYXRlZCBvbmNlLCByZXNpemVkIHNvbWV0aW1lc1xuICAgICAqIGNsZWFyZWQgbmV2ZXIuIENsZWFyaW5nIGlzIGxlZnQgdG8gdGhlIGRldmVsb3Blci5cbiAgICAgKiovXG4gICAgcmVzb3VyY2VzOiB7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBzZXQgb2YgZmlsdGVycyBhZ2FpbnN0IGEgc291cmNlIGltYWdlIGFuZCBkcmF3IHRoZSBmaWx0ZXJlZCBvdXRwdXRcbiAgICAgKiB0byB0aGUgcHJvdmlkZWQgZGVzdGluYXRpb24gY2FudmFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbmhhbmNlZEZpbHRlcn0gZmlsdGVycyBUaGUgZmlsdGVyIHRvIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlRWxlbWVudCBUaGUgc291cmNlIHRvIGJlIGZpbHRlcmVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzb3VyY2VXaWR0aCBUaGUgd2lkdGggb2YgdGhlIHNvdXJjZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlSGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHNvdXJjZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSB0YXJnZXRDYW52YXMgVGhlIGRlc3RpbmF0aW9uIGZvciBmaWx0ZXJlZCBvdXRwdXQgdG8gYmUgZHJhd24uXG4gICAgICovXG4gICAgYXBwbHlGaWx0ZXJzOiBmdW5jdGlvbihmaWx0ZXJzLCBzb3VyY2VFbGVtZW50LCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0LCB0YXJnZXRDYW52YXMpIHtcbiAgICAgIHZhciBjdHggPSB0YXJnZXRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2Uoc291cmNlRWxlbWVudCwgMCwgMCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCk7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KTtcbiAgICAgIHZhciBvcmlnaW5hbEltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCk7XG4gICAgICB2YXIgcGlwZWxpbmVTdGF0ZSA9IHtcbiAgICAgICAgc291cmNlV2lkdGg6IHNvdXJjZVdpZHRoLFxuICAgICAgICBzb3VyY2VIZWlnaHQ6IHNvdXJjZUhlaWdodCxcbiAgICAgICAgaW1hZ2VEYXRhOiBpbWFnZURhdGEsXG4gICAgICAgIG9yaWdpbmFsRWw6IHNvdXJjZUVsZW1lbnQsXG4gICAgICAgIG9yaWdpbmFsSW1hZ2VEYXRhOiBvcmlnaW5hbEltYWdlRGF0YSxcbiAgICAgICAgY2FudmFzRWw6IHRhcmdldENhbnZhcyxcbiAgICAgICAgY3R4OiBjdHgsXG4gICAgICAgIGZpbHRlckJhY2tlbmQ6IHRoaXMsXG4gICAgICB9O1xuICAgICAgZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlcikgeyBmaWx0ZXIuYXBwbHlUbyhwaXBlbGluZVN0YXRlKTsgfSk7XG4gICAgICBpZiAocGlwZWxpbmVTdGF0ZS5pbWFnZURhdGEud2lkdGggIT09IHNvdXJjZVdpZHRoIHx8IHBpcGVsaW5lU3RhdGUuaW1hZ2VEYXRhLmhlaWdodCAhPT0gc291cmNlSGVpZ2h0KSB7XG4gICAgICAgIHRhcmdldENhbnZhcy53aWR0aCA9IHBpcGVsaW5lU3RhdGUuaW1hZ2VEYXRhLndpZHRoO1xuICAgICAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gcGlwZWxpbmVTdGF0ZS5pbWFnZURhdGEuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgY3R4LnB1dEltYWdlRGF0YShwaXBlbGluZVN0YXRlLmltYWdlRGF0YSwgMCwgMCk7XG4gICAgICByZXR1cm4gcGlwZWxpbmVTdGF0ZTtcbiAgICB9LFxuXG4gIH07XG59KSgpO1xuXG5cbi8qKlxuICogQG5hbWVzcGFjZSBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZVxuICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjaW1hZ2VfZmlsdGVyc31cbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAqL1xuZmFicmljLkltYWdlID0gZmFicmljLkltYWdlIHx8IHsgfTtcbmZhYnJpYy5JbWFnZS5maWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMgfHwgeyB9O1xuXG4vKipcbiAqIFJvb3QgZmlsdGVyIGNsYXNzIGZyb20gd2hpY2ggYWxsIGZpbHRlciBjbGFzc2VzIGluaGVyaXQgZnJvbVxuICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICovXG5mYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIEZpbHRlciB0eXBlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB0eXBlOiAnQmFzZUZpbHRlcicsXG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gc2VuZCB3aXRoIGJ1ZmZlcnMuIGRvIG5vdCBtb2RpZnlcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgdmVydGV4U291cmNlOiAnYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uO1xcbicgK1xuICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAndlRleENvb3JkID0gYVBvc2l0aW9uO1xcbicgK1xuICAgICAgJ2dsX1Bvc2l0aW9uID0gdmVjNChhUG9zaXRpb24gKiAyLjAgLSAxLjAsIDAuMCwgMS4wKTtcXG4nICtcbiAgICAnfScsXG5cbiAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAnZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICd9JyxcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIGZpbHRlcidzIHByb3BlcnRpZXMgZnJvbSBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIHNldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXNbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlciBwcm9ncmFtLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHRvIHVzZSBmb3Igc2hhZGVyIGNvbXBpbGF0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnJhZ21lbnRTb3VyY2UgZnJhZ21lbnRTaGFkZXIgc291cmNlIGZvciBjb21waWxhdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmVydGV4U291cmNlIHZlcnRleFNoYWRlciBzb3VyY2UgZm9yIGNvbXBpbGF0aW9uXG4gICAqL1xuICBjcmVhdGVQcm9ncmFtOiBmdW5jdGlvbihnbCwgZnJhZ21lbnRTb3VyY2UsIHZlcnRleFNvdXJjZSkge1xuICAgIGZyYWdtZW50U291cmNlID0gZnJhZ21lbnRTb3VyY2UgfHwgdGhpcy5mcmFnbWVudFNvdXJjZTtcbiAgICB2ZXJ0ZXhTb3VyY2UgPSB2ZXJ0ZXhTb3VyY2UgfHwgdGhpcy52ZXJ0ZXhTb3VyY2U7XG4gICAgaWYgKGZhYnJpYy53ZWJHbFByZWNpc2lvbiAhPT0gJ2hpZ2hwJyl7XG4gICAgICBmcmFnbWVudFNvdXJjZSA9IGZyYWdtZW50U291cmNlLnJlcGxhY2UoXG4gICAgICAgIC9wcmVjaXNpb24gaGlnaHAgZmxvYXQvZyxcbiAgICAgICAgJ3ByZWNpc2lvbiAnICsgZmFicmljLndlYkdsUHJlY2lzaW9uICsgJyBmbG9hdCdcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgdmVydGV4U291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci10ZW1wbGF0ZVxuICAgICAgICAnVmVydGV4IHNoYWRlciBjb21waWxlIGVycm9yIGZvciAnICsgdGhpcy50eXBlICsgJzogJyArXG4gICAgICAgIGdsLmdldFNoYWRlckluZm9Mb2codmVydGV4U2hhZGVyKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UoZnJhZ21lbnRTaGFkZXIsIGZyYWdtZW50U291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnbWVudFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItdGVtcGxhdGVcbiAgICAgICAgJ0ZyYWdtZW50IHNoYWRlciBjb21waWxlIGVycm9yIGZvciAnICsgdGhpcy50eXBlICsgJzogJyArXG4gICAgICAgIGdsLmdldFNoYWRlckluZm9Mb2coZnJhZ21lbnRTaGFkZXIpXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXRlbXBsYXRlXG4gICAgICAgICdTaGFkZXIgbGluayBlcnJvciBmb3IgXCIke3RoaXMudHlwZX1cIiAnICtcbiAgICAgICAgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGF0dHJpYnV0ZUxvY2F0aW9ucyA9IHRoaXMuZ2V0QXR0cmlidXRlTG9jYXRpb25zKGdsLCBwcm9ncmFtKTtcbiAgICB2YXIgdW5pZm9ybUxvY2F0aW9ucyA9IHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9ucyhnbCwgcHJvZ3JhbSkgfHwgeyB9O1xuICAgIHVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBXID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U3RlcFcnKTtcbiAgICB1bmlmb3JtTG9jYXRpb25zLnVTdGVwSCA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVN0ZXBIJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2dyYW06IHByb2dyYW0sXG4gICAgICBhdHRyaWJ1dGVMb2NhdGlvbnM6IGF0dHJpYnV0ZUxvY2F0aW9ucyxcbiAgICAgIHVuaWZvcm1Mb2NhdGlvbnM6IHVuaWZvcm1Mb2NhdGlvbnNcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBtYXAgb2YgYXR0cmlidXRlIG5hbWVzIHRvIFdlYkdMQXR0cmlidXRlTG9jYXRpb24gb2JqZWN0cy5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxuICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGUgc2hhZGVyIHByb2dyYW0gZnJvbSB3aGljaCB0byB0YWtlIGF0dHJpYnV0ZSBsb2NhdGlvbnMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEEgbWFwIG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhdHRyaWJ1dGUgbG9jYXRpb25zLlxuICAgKi9cbiAgZ2V0QXR0cmlidXRlTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgIHJldHVybiB7XG4gICAgICBhUG9zaXRpb246IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhUG9zaXRpb24nKSxcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBtYXAgb2YgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzLlxuICAgKlxuICAgKiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoZSBzaGFkZXIgcHJvZ3JhbS5cbiAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhlIHNoYWRlciBwcm9ncmFtIGZyb20gd2hpY2ggdG8gdGFrZSB1bmlmb3JtIGxvY2F0aW9ucy5cbiAgICogQHJldHVybnMge09iamVjdH0gQSBtYXAgb2YgdW5pZm9ybSBuYW1lcyB0byB1bmlmb3JtIGxvY2F0aW9ucy5cbiAgICovXG4gIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uICgvKiBnbCwgcHJvZ3JhbSAqLykge1xuICAgIC8vIGluIGNhc2UgaSBkbyBub3QgbmVlZCBhbnkgc3BlY2lhbCB1bmlmb3JtIGkgbmVlZCB0byByZXR1cm4gYW4gZW1wdHkgb2JqZWN0XG4gICAgcmV0dXJuIHsgfTtcbiAgfSxcblxuICAvKipcbiAgICogU2VuZCBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSBvbiB0aGUgR1BVLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGUgc2hhZGVyIHByb2dyYW0uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVMb2NhdGlvbnMgQSBtYXAgb2Ygc2hhZGVyIGF0dHJpYnV0ZSBuYW1lcyB0byB0aGVpciBsb2NhdGlvbnMuXG4gICAqL1xuICBzZW5kQXR0cmlidXRlRGF0YTogZnVuY3Rpb24oZ2wsIGF0dHJpYnV0ZUxvY2F0aW9ucywgYVBvc2l0aW9uRGF0YSkge1xuICAgIHZhciBhdHRyaWJ1dGVMb2NhdGlvbiA9IGF0dHJpYnV0ZUxvY2F0aW9ucy5hUG9zaXRpb247XG4gICAgdmFyIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dHJpYnV0ZUxvY2F0aW9uKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBhUG9zaXRpb25EYXRhLCBnbC5TVEFUSUNfRFJBVyk7XG4gIH0sXG5cbiAgX3NldHVwRnJhbWVCdWZmZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgZ2wgPSBvcHRpb25zLmNvbnRleHQsIHdpZHRoLCBoZWlnaHQ7XG4gICAgaWYgKG9wdGlvbnMucGFzc2VzID4gMSkge1xuICAgICAgd2lkdGggPSBvcHRpb25zLmRlc3RpbmF0aW9uV2lkdGg7XG4gICAgICBoZWlnaHQgPSBvcHRpb25zLmRlc3RpbmF0aW9uSGVpZ2h0O1xuICAgICAgaWYgKG9wdGlvbnMuc291cmNlV2lkdGggIT09IHdpZHRoIHx8IG9wdGlvbnMuc291cmNlSGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShvcHRpb25zLnRhcmdldFRleHR1cmUpO1xuICAgICAgICBvcHRpb25zLnRhcmdldFRleHR1cmUgPSBvcHRpb25zLmZpbHRlckJhY2tlbmQuY3JlYXRlVGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICB9XG4gICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgIG9wdGlvbnMudGFyZ2V0VGV4dHVyZSwgMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gZHJhdyBsYXN0IGZpbHRlciBvbiBjYW52YXMgYW5kIG5vdCB0byBmcmFtZWJ1ZmZlci5cbiAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICBnbC5maW5pc2goKTtcbiAgICB9XG4gIH0sXG5cbiAgX3N3YXBUZXh0dXJlczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIG9wdGlvbnMucGFzc2VzLS07XG4gICAgb3B0aW9ucy5wYXNzKys7XG4gICAgdmFyIHRlbXAgPSBvcHRpb25zLnRhcmdldFRleHR1cmU7XG4gICAgb3B0aW9ucy50YXJnZXRUZXh0dXJlID0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlO1xuICAgIG9wdGlvbnMuc291cmNlVGV4dHVyZSA9IHRlbXA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgaXNOZXV0cmFsIGltcGxlbWVudGF0aW9uIGZvciBvbmUgcGFyYW1ldGVyIGJhc2VkIGZpbHRlcnMuXG4gICAqIFVzZWQgb25seSBpbiBpbWFnZSBhcHBseUZpbHRlcnMgdG8gZGlzY2FyZCBmaWx0ZXJzIHRoYXQgd2lsbCBub3QgaGF2ZSBhbiBlZmZlY3RcbiAgICogb24gdGhlIGltYWdlXG4gICAqIE90aGVyIGZpbHRlcnMgbWF5IG5lZWQgdGhlaXIgb3duIHZlcnNpb24gKCBDb2xvck1hdHJpeCwgSHVlUm90YXRpb24sIGdhbW1hLCBDb21wb3NlZEZpbHRlciApXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqKi9cbiAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKC8qIG9wdGlvbnMgKi8pIHtcbiAgICB2YXIgbWFpbiA9IHRoaXMubWFpblBhcmFtZXRlcixcbiAgICAgICAgX2NsYXNzID0gZmFicmljLkltYWdlLmZpbHRlcnNbdGhpcy50eXBlXS5wcm90b3R5cGU7XG4gICAgaWYgKG1haW4pIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KF9jbGFzc1ttYWluXSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IF9jbGFzc1ttYWluXS5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICBpZiAodGhpc1ttYWluXVtpXSAhPT0gX2NsYXNzW21haW5dW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NbbWFpbl0gPT09IHRoaXNbbWFpbl07XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQXBwbHkgdGhpcyBmaWx0ZXIgdG8gdGhlIGlucHV0IGltYWdlIGRhdGEgcHJvdmlkZWQuXG4gICAqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0byB1c2UgV2ViR0wgb3IgQ2FudmFzMkQgYmFzZWQgb24gdGhlIG9wdGlvbnMud2ViZ2wgZmxhZy5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgZXhlY3V0ZWRcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnRhcmdldFRleHR1cmUgVGhlIHRleHR1cmUgd2hlcmUgZmlsdGVyZWQgb3V0cHV0IHNob3VsZCBiZSBkcmF3bi5cbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgKi9cbiAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLndlYmdsKSB7XG4gICAgICB0aGlzLl9zZXR1cEZyYW1lQnVmZmVyKG9wdGlvbnMpO1xuICAgICAgdGhpcy5hcHBseVRvV2ViR0wob3B0aW9ucyk7XG4gICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5hcHBseVRvMmQob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGNhY2hlZCBzaGFkZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICovXG4gIHJldHJpZXZlU2hhZGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eSh0aGlzLnR5cGUpKSB7XG4gICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVt0aGlzLnR5cGVdID0gdGhpcy5jcmVhdGVQcm9ncmFtKG9wdGlvbnMuY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLnByb2dyYW1DYWNoZVt0aGlzLnR5cGVdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBseSB0aGlzIGZpbHRlciB1c2luZyB3ZWJnbC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgZXhlY3V0ZWRcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5vcmlnaW5hbFRleHR1cmUgVGhlIHRleHR1cmUgb2YgdGhlIG9yaWdpbmFsIGlucHV0IGltYWdlLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnRhcmdldFRleHR1cmUgVGhlIHRleHR1cmUgd2hlcmUgZmlsdGVyZWQgb3V0cHV0IHNob3VsZCBiZSBkcmF3bi5cbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgKi9cbiAgYXBwbHlUb1dlYkdMOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGdsID0gb3B0aW9ucy5jb250ZXh0O1xuICAgIHZhciBzaGFkZXIgPSB0aGlzLnJldHJpZXZlU2hhZGVyKG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnBhc3MgPT09IDAgJiYgb3B0aW9ucy5vcmlnaW5hbFRleHR1cmUpIHtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG9wdGlvbnMub3JpZ2luYWxUZXh0dXJlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBvcHRpb25zLnNvdXJjZVRleHR1cmUpO1xuICAgIH1cbiAgICBnbC51c2VQcm9ncmFtKHNoYWRlci5wcm9ncmFtKTtcbiAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKGdsLCBzaGFkZXIuYXR0cmlidXRlTG9jYXRpb25zLCBvcHRpb25zLmFQb3NpdGlvbik7XG5cbiAgICBnbC51bmlmb3JtMWYoc2hhZGVyLnVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBXLCAxIC8gb3B0aW9ucy5zb3VyY2VXaWR0aCk7XG4gICAgZ2wudW5pZm9ybTFmKHNoYWRlci51bmlmb3JtTG9jYXRpb25zLnVTdGVwSCwgMSAvIG9wdGlvbnMuc291cmNlSGVpZ2h0KTtcblxuICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKGdsLCBzaGFkZXIudW5pZm9ybUxvY2F0aW9ucyk7XG4gICAgZ2wudmlld3BvcnQoMCwgMCwgb3B0aW9ucy5kZXN0aW5hdGlvbldpZHRoLCBvcHRpb25zLmRlc3RpbmF0aW9uSGVpZ2h0KTtcbiAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgfSxcblxuICBiaW5kQWRkaXRpb25hbFRleHR1cmU6IGZ1bmN0aW9uKGdsLCB0ZXh0dXJlLCB0ZXh0dXJlVW5pdCkge1xuICAgIGdsLmFjdGl2ZVRleHR1cmUodGV4dHVyZVVuaXQpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgIC8vIHJlc2V0IGFjdGl2ZSB0ZXh0dXJlIHRvIDAgYXMgdXN1YWxcbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgfSxcblxuICB1bmJpbmRBZGRpdGlvbmFsVGV4dHVyZTogZnVuY3Rpb24oZ2wsIHRleHR1cmVVbml0KSB7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZSh0ZXh0dXJlVW5pdCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gIH0sXG5cbiAgZ2V0TWFpblBhcmFtZXRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXNbdGhpcy5tYWluUGFyYW1ldGVyXTtcbiAgfSxcblxuICBzZXRNYWluUGFyYW1ldGVyOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXNbdGhpcy5tYWluUGFyYW1ldGVyXSA9IHZhbHVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZW5kIHVuaWZvcm0gZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSBvbiB0aGUgR1BVLlxuICAgKlxuICAgKiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoZSBzaGFkZXIgcHJvZ3JhbS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc2hhZGVyIHVuaWZvcm0gbmFtZXMgdG8gdGhlaXIgbG9jYXRpb25zLlxuICAgKi9cbiAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbigvKiBnbCwgdW5pZm9ybUxvY2F0aW9ucyAqLykge1xuICAgIC8vIEludGVudGlvbmFsbHkgbGVmdCBibGFuay4gIE92ZXJyaWRlIG1lIGluIHN1YmNsYXNzZXMuXG4gIH0sXG5cbiAgLyoqXG4gICAqIElmIG5lZWRlZCBieSBhIDJkIGZpbHRlciwgdGhpcyBmdW5jdGlvbnMgY2FuIGNyZWF0ZSBhbiBoZWxwZXIgY2FudmFzIHRvIGJlIHVzZWRcbiAgICogcmVtZW1iZXIgdGhhdCBvcHRpb25zLnRhcmdldENhbnZhcyBpcyBhdmFpbGFibGUgZm9yIHVzZSB0aWxsIGVuZCBvZiBjaGFpbi5cbiAgICovXG4gIGNyZWF0ZUhlbHBMYXllcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5oZWxwTGF5ZXIpIHtcbiAgICAgIHZhciBoZWxwTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGhlbHBMYXllci53aWR0aCA9IG9wdGlvbnMuc291cmNlV2lkdGg7XG4gICAgICBoZWxwTGF5ZXIuaGVpZ2h0ID0gb3B0aW9ucy5zb3VyY2VIZWlnaHQ7XG4gICAgICBvcHRpb25zLmhlbHBMYXllciA9IGhlbHBMYXllcjtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAqL1xuICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iamVjdCA9IHsgdHlwZTogdGhpcy50eXBlIH0sIG1haW5QID0gdGhpcy5tYWluUGFyYW1ldGVyO1xuICAgIGlmIChtYWluUCkge1xuICAgICAgb2JqZWN0W21haW5QXSA9IHRoaXNbbWFpblBdO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEpTT05cbiAgICovXG4gIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgLy8gZGVsZWdhdGUsIG5vdCBhbGlhc1xuICAgIHJldHVybiB0aGlzLnRvT2JqZWN0KCk7XG4gIH1cbn0pO1xuXG5mYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnNbb2JqZWN0LnR5cGVdKG9iamVjdCk7XG4gIGNhbGxiYWNrICYmIGNhbGxiYWNrKGZpbHRlcik7XG4gIHJldHVybiBmaWx0ZXI7XG59O1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIENvbG9yIE1hdHJpeCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQHNlZSB7QExpbmsgaHR0cDovL3d3dy53ZWJ3YXNwLmNvLnVrL3R1dG9yaWFscy8yMTkvQ29sb3JfTWF0cml4X0ZpbHRlci5waHB9XG4gICAqIEBzZWUge0BMaW5rIGh0dHA6Ly9waG9ib3NsYWIub3JnL2xvZy8yMDEzLzExL2Zhc3QtaW1hZ2UtZmlsdGVycy13aXRoLXdlYmdsfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Lb2RhY2hyb21lIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeCh7XG4gICAqICBtYXRyaXg6IFtcbiAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLFxuICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICAgIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5Db2xvck1hdHJpeCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0NvbG9yTWF0cml4JyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBtYXQ0IHVDb2xvck1hdHJpeDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUNvbnN0YW50cztcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAnY29sb3IgKj0gdUNvbG9yTWF0cml4O1xcbicgK1xuICAgICAgICAnY29sb3IgKz0gdUNvbnN0YW50cztcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3JtYXRyaXggZm9yIHBpeGVscy5cbiAgICAgKiBhcnJheSBvZiAyMCBmbG9hdHMuIE51bWJlcnMgaW4gcG9zaXRpb25zIDQsIDksIDE0LCAxOSBsb29zZSBtZWFuaW5nXG4gICAgICogb3V0c2lkZSB0aGUgLTEsIDEgcmFuZ2UuXG4gICAgICogMC4wMDM5MjE1Njg2IGlzIHRoZSBwYXJ0IG9mIDEgdGhhdCBnZXQgdHJhbnNsYXRlZCB0byAxIGluIDJkXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0cml4IGFycmF5IG9mIDIwIG51bWJlcnMuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtYXRyaXg6IFtcbiAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICBdLFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ21hdHJpeCcsXG5cbiAgICAvKipcbiAgICAgKiBMb2NrIHRoZSBjb2xvcm1hdHJpeCBvbiB0aGUgY29sb3IgcGFydCwgc2tpcHBpbmcgYWxwaGEsIG1haW5seSBmb3Igbm9uIHdlYmdsIHNjZW5hcmlvXG4gICAgICogdG8gc2F2ZSBzb21lIGNhbGN1bGF0aW9uXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBjb2xvcnNPbmx5OiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBhcnJheSBpbnN0ZWFkIG11dGF0aW5nIHRoZSBwcm90b3R5cGUgd2l0aCBwdXNoXG4gICAgICB0aGlzLm1hdHJpeCA9IHRoaXMubWF0cml4LnNsaWNlKDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQ29sb3JNYXRyaXggb3BlcmF0aW9uIHRvIGEgVWludDhBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICBpTGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgbSA9IHRoaXMubWF0cml4LFxuICAgICAgICAgIHIsIGcsIGIsIGEsIGksIGNvbG9yc09ubHkgPSB0aGlzLmNvbG9yc09ubHk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpTGVuOyBpICs9IDQpIHtcbiAgICAgICAgciA9IGRhdGFbaV07XG4gICAgICAgIGcgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgYiA9IGRhdGFbaSArIDJdO1xuICAgICAgICBpZiAoY29sb3JzT25seSkge1xuICAgICAgICAgIGRhdGFbaV0gPSByICogbVswXSArIGcgKiBtWzFdICsgYiAqIG1bMl0gKyBtWzRdICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDFdID0gciAqIG1bNV0gKyBnICogbVs2XSArIGIgKiBtWzddICsgbVs5XSAqIDI1NTtcbiAgICAgICAgICBkYXRhW2kgKyAyXSA9IHIgKiBtWzEwXSArIGcgKiBtWzExXSArIGIgKiBtWzEyXSArIG1bMTRdICogMjU1O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGEgPSBkYXRhW2kgKyAzXTtcbiAgICAgICAgICBkYXRhW2ldID0gciAqIG1bMF0gKyBnICogbVsxXSArIGIgKiBtWzJdICsgYSAqIG1bM10gKyBtWzRdICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDFdID0gciAqIG1bNV0gKyBnICogbVs2XSArIGIgKiBtWzddICsgYSAqIG1bOF0gKyBtWzldICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDJdID0gciAqIG1bMTBdICsgZyAqIG1bMTFdICsgYiAqIG1bMTJdICsgYSAqIG1bMTNdICsgbVsxNF0gKiAyNTU7XG4gICAgICAgICAgZGF0YVtpICsgM10gPSByICogbVsxNV0gKyBnICogbVsxNl0gKyBiICogbVsxN10gKyBhICogbVsxOF0gKyBtWzE5XSAqIDI1NTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdUNvbG9yTWF0cml4OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VDb2xvck1hdHJpeCcpLFxuICAgICAgICB1Q29uc3RhbnRzOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VDb25zdGFudHMnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIHZhciBtID0gdGhpcy5tYXRyaXgsXG4gICAgICAgICAgbWF0cml4ID0gW1xuICAgICAgICAgICAgbVswXSwgbVsxXSwgbVsyXSwgbVszXSxcbiAgICAgICAgICAgIG1bNV0sIG1bNl0sIG1bN10sIG1bOF0sXG4gICAgICAgICAgICBtWzEwXSwgbVsxMV0sIG1bMTJdLCBtWzEzXSxcbiAgICAgICAgICAgIG1bMTVdLCBtWzE2XSwgbVsxN10sIG1bMThdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjb25zdGFudHMgPSBbbVs0XSwgbVs5XSwgbVsxNF0sIG1bMTldXTtcbiAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodW5pZm9ybUxvY2F0aW9ucy51Q29sb3JNYXRyaXgsIGZhbHNlLCBtYXRyaXgpO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVDb25zdGFudHMsIGNvbnN0YW50cyk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBmdW5jdGlvbiB0byBpbnZva2UgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4fSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeFxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQ29sb3JNYXRyaXguZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBCcmlnaHRuZXNzIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQnJpZ2h0bmVzc1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzKHtcbiAgICogICBicmlnaHRuZXNzOiAwLjA1XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICovXG4gIGZpbHRlcnMuQnJpZ2h0bmVzcyA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnQnJpZ2h0bmVzcycsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVCcmlnaHRuZXNzO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2NvbG9yLnJnYiArPSB1QnJpZ2h0bmVzcztcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogQnJpZ2h0bmVzcyB2YWx1ZSwgZnJvbSAtMSB0byAxLlxuICAgICAqIHRyYW5zbGF0ZWQgdG8gLTI1NSB0byAyNTUgZm9yIDJkXG4gICAgICogMC4wMDM5MjE1Njg2IGlzIHRoZSBwYXJ0IG9mIDEgdGhhdCBnZXQgdHJhbnNsYXRlZCB0byAxIGluIDJkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGJyaWdodG5lc3NcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJyaWdodG5lc3M6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSB0aGUgcHJvcGVydHkgdGhhdCBpcyB0aGUgZmlsdGVyIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtYWluUGFyYW1ldGVyOiAnYnJpZ2h0bmVzcycsXG5cbiAgICAvKipcbiAgICAqIEFwcGx5IHRoZSBCcmlnaHRuZXNzIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5icmlnaHRuZXNzID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIGJyaWdodG5lc3MgPSBNYXRoLnJvdW5kKHRoaXMuYnJpZ2h0bmVzcyAqIDI1NSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZGF0YVtpXSA9IGRhdGFbaV0gKyBicmlnaHRuZXNzO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IGRhdGFbaSArIDFdICsgYnJpZ2h0bmVzcztcbiAgICAgICAgZGF0YVtpICsgMl0gPSBkYXRhW2kgKyAyXSArIGJyaWdodG5lc3M7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1QnJpZ2h0bmVzczogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1QnJpZ2h0bmVzcycpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudUJyaWdodG5lc3MsIHRoaXMuYnJpZ2h0bmVzcyk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogQWRhcHRlZCBmcm9tIDxhIGhyZWY9XCJodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9jYW52YXMvaW1hZ2VmaWx0ZXJzL1wiPmh0bWw1cm9ja3MgYXJ0aWNsZTwvYT5cbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TaGFycGVuIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUoe1xuICAgKiAgIG1hdHJpeDogWyAwLCAtMSwgIDAsXG4gICAqICAgICAgICAgICAgLTEsICA1LCAtMSxcbiAgICogICAgICAgICAgICAgMCwgLTEsICAwIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPkJsdXIgZmlsdGVyPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSh7XG4gICAqICAgbWF0cml4OiBbIDEvOSwgMS85LCAxLzksXG4gICAqICAgICAgICAgICAgIDEvOSwgMS85LCAxLzksXG4gICAqICAgICAgICAgICAgIDEvOSwgMS85LCAxLzkgXVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+RW1ib3NzIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUoe1xuICAgKiAgIG1hdHJpeDogWyAxLCAgIDEsICAxLFxuICAgKiAgICAgICAgICAgICAxLCAwLjcsIC0xLFxuICAgKiAgICAgICAgICAgIC0xLCAgLTEsIC0xIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPkVtYm9zcyBmaWx0ZXIgd2l0aCBvcGFxdWVuZXNzPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSh7XG4gICAqICAgb3BhcXVlOiB0cnVlLFxuICAgKiAgIG1hdHJpeDogWyAxLCAgIDEsICAxLFxuICAgKiAgICAgICAgICAgICAxLCAwLjcsIC0xLFxuICAgKiAgICAgICAgICAgIC0xLCAgLTEsIC0xIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqL1xuICBmaWx0ZXJzLkNvbnZvbHV0ZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdDb252b2x1dGUnLFxuXG4gICAgLypcbiAgICAgKiBPcGFxdWUgdmFsdWUgKHRydWUvZmFsc2UpXG4gICAgICovXG4gICAgb3BhcXVlOiBmYWxzZSxcblxuICAgIC8qXG4gICAgICogbWF0cml4IGZvciB0aGUgZmlsdGVyLCBtYXggOXg5XG4gICAgICovXG4gICAgbWF0cml4OiBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF0sXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZToge1xuICAgICAgQ29udm9sdXRlXzNfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDApO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCAzLjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDMuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAxKSwgdVN0ZXBIICogKGggLSAxKSk7XFxuJyArXG4gICAgICAgICAgICAgICdjb2xvciArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCArIG1hdHJpeFBvcykgKiB1TWF0cml4W2ludChoICogMy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzNfMDogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCAzLjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDMuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAxLjApLCB1U3RlcEggKiAoaCAtIDEuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogMy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzVfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzI1XTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgNS4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA1LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMi4wKSwgdVN0ZXBIICogKGggLSAyLjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA1LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfNV8wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbMjVdO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA1LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDUuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAyLjApLCB1U3RlcEggKiAoaCAtIDIuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogNS4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzdfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzQ5XTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgNy4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA3LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMy4wKSwgdVN0ZXBIICogKGggLSAzLjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA3LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfN18wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbNDldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA3LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDcuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAzLjApLCB1U3RlcEggKiAoaCAtIDMuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogNy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzlfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzgxXTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgOS4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA5LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gNC4wKSwgdVN0ZXBIICogKGggLSA0LjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA5LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfOV8wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbODFdO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA5LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDkuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSA0LjApLCB1U3RlcEggKiAoaCAtIDQuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogOS4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMub3BhcXVlPWZhbHNlXSBPcGFxdWUgdmFsdWUgKHRydWUvZmFsc2UpXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWF0cml4XSBGaWx0ZXIgbWF0cml4XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgKi9cbiAgICByZXRyaWV2ZVNoYWRlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIHNpemUgPSBNYXRoLnNxcnQodGhpcy5tYXRyaXgubGVuZ3RoKTtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHNpemUgKyAnXycgKyAodGhpcy5vcGFxdWUgPyAxIDogMCk7XG4gICAgICB2YXIgc2hhZGVyU291cmNlID0gdGhpcy5mcmFnbWVudFNvdXJjZVtjYWNoZUtleV07XG4gICAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBzaGFkZXJTb3VyY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEJyaWdodG5lc3Mgb3BlcmF0aW9uIHRvIGEgVWludDhDbGFtcGVkQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhDbGFtcGVkQXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgIHdlaWdodHMgPSB0aGlzLm1hdHJpeCxcbiAgICAgICAgICBzaWRlID0gTWF0aC5yb3VuZChNYXRoLnNxcnQod2VpZ2h0cy5sZW5ndGgpKSxcbiAgICAgICAgICBoYWxmU2lkZSA9IE1hdGguZmxvb3Ioc2lkZSAvIDIpLFxuICAgICAgICAgIHN3ID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIHNoID0gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICBvdXRwdXQgPSBvcHRpb25zLmN0eC5jcmVhdGVJbWFnZURhdGEoc3csIHNoKSxcbiAgICAgICAgICBkc3QgPSBvdXRwdXQuZGF0YSxcbiAgICAgICAgICAvLyBnbyB0aHJvdWdoIHRoZSBkZXN0aW5hdGlvbiBpbWFnZSBwaXhlbHNcbiAgICAgICAgICBhbHBoYUZhYyA9IHRoaXMub3BhcXVlID8gMSA6IDAsXG4gICAgICAgICAgciwgZywgYiwgYSwgZHN0T2ZmLFxuICAgICAgICAgIHNjeCwgc2N5LCBzcmNPZmYsIHd0LFxuICAgICAgICAgIHgsIHksIGN4LCBjeTtcblxuICAgICAgZm9yICh5ID0gMDsgeSA8IHNoOyB5KyspIHtcbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IHN3OyB4KyspIHtcbiAgICAgICAgICBkc3RPZmYgPSAoeSAqIHN3ICsgeCkgKiA0O1xuICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgd2VpZ2hlZCBzdW0gb2YgdGhlIHNvdXJjZSBpbWFnZSBwaXhlbHMgdGhhdFxuICAgICAgICAgIC8vIGZhbGwgdW5kZXIgdGhlIGNvbnZvbHV0aW9uIG1hdHJpeFxuICAgICAgICAgIHIgPSAwOyBnID0gMDsgYiA9IDA7IGEgPSAwO1xuXG4gICAgICAgICAgZm9yIChjeSA9IDA7IGN5IDwgc2lkZTsgY3krKykge1xuICAgICAgICAgICAgZm9yIChjeCA9IDA7IGN4IDwgc2lkZTsgY3grKykge1xuICAgICAgICAgICAgICBzY3kgPSB5ICsgY3kgLSBoYWxmU2lkZTtcbiAgICAgICAgICAgICAgc2N4ID0geCArIGN4IC0gaGFsZlNpZGU7XG5cbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1kZXB0aFxuICAgICAgICAgICAgICBpZiAoc2N5IDwgMCB8fCBzY3kgPj0gc2ggfHwgc2N4IDwgMCB8fCBzY3ggPj0gc3cpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNyY09mZiA9IChzY3kgKiBzdyArIHNjeCkgKiA0O1xuICAgICAgICAgICAgICB3dCA9IHdlaWdodHNbY3kgKiBzaWRlICsgY3hdO1xuXG4gICAgICAgICAgICAgIHIgKz0gZGF0YVtzcmNPZmZdICogd3Q7XG4gICAgICAgICAgICAgIGcgKz0gZGF0YVtzcmNPZmYgKyAxXSAqIHd0O1xuICAgICAgICAgICAgICBiICs9IGRhdGFbc3JjT2ZmICsgMl0gKiB3dDtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1kZXB0aFxuICAgICAgICAgICAgICBpZiAoIWFscGhhRmFjKSB7XG4gICAgICAgICAgICAgICAgYSArPSBkYXRhW3NyY09mZiArIDNdICogd3Q7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZHN0W2RzdE9mZl0gPSByO1xuICAgICAgICAgIGRzdFtkc3RPZmYgKyAxXSA9IGc7XG4gICAgICAgICAgZHN0W2RzdE9mZiArIDJdID0gYjtcbiAgICAgICAgICBpZiAoIWFscGhhRmFjKSB7XG4gICAgICAgICAgICBkc3RbZHN0T2ZmICsgM10gPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRzdFtkc3RPZmYgKyAzXSA9IGRhdGFbZHN0T2ZmICsgM107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvcHRpb25zLmltYWdlRGF0YSA9IG91dHB1dDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVNYXRyaXg6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU1hdHJpeCcpLFxuICAgICAgICB1T3BhcXVlOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VPcGFxdWUnKSxcbiAgICAgICAgdUhhbGZTaXplOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VIYWxmU2l6ZScpLFxuICAgICAgICB1U2l6ZTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U2l6ZScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmdih1bmlmb3JtTG9jYXRpb25zLnVNYXRyaXgsIHRoaXMubWF0cml4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHRlbmQodGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JyksIHtcbiAgICAgICAgb3BhcXVlOiB0aGlzLm9wYXF1ZSxcbiAgICAgICAgbWF0cml4OiB0aGlzLm1hdHJpeFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udm9sdXRlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEdyYXlzY2FsZSBpbWFnZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlKCk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5HcmF5c2NhbGUgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnR3JheXNjYWxlJyxcblxuICAgIGZyYWdtZW50U291cmNlOiB7XG4gICAgICBhdmVyYWdlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdmbG9hdCBhdmVyYWdlID0gKGNvbG9yLnIgKyBjb2xvci5iICsgY29sb3IuZykgLyAzLjA7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY29sb3IuYSk7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIGxpZ2h0bmVzczogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBpbnQgdU1vZGU7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbCA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAnZmxvYXQgYXZlcmFnZSA9IChtYXgobWF4KGNvbC5yLCBjb2wuZyksY29sLmIpICsgbWluKG1pbihjb2wuciwgY29sLmcpLGNvbC5iKSkgLyAyLjA7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY29sLmEpO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBsdW1pbm9zaXR5OiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGludCB1TW9kZTtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdmbG9hdCBhdmVyYWdlID0gMC4yMSAqIGNvbC5yICsgMC43MiAqIGNvbC5nICsgMC4wNyAqIGNvbC5iO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KGF2ZXJhZ2UsIGF2ZXJhZ2UsIGF2ZXJhZ2UsIGNvbC5hKTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIEdyYXlzY2FsZSBtb2RlLCBiZXR3ZWVuICdhdmVyYWdlJywgJ2xpZ2h0bmVzcycsICdsdW1pbm9zaXR5J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtb2RlOiAnYXZlcmFnZScsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnbW9kZScsXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgR3JheXNjYWxlIG9wZXJhdGlvbiB0byBhIFVpbnQ4QXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksXG4gICAgICAgICAgbGVuID0gZGF0YS5sZW5ndGgsIHZhbHVlLFxuICAgICAgICAgIG1vZGUgPSB0aGlzLm1vZGU7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgaWYgKG1vZGUgPT09ICdhdmVyYWdlJykge1xuICAgICAgICAgIHZhbHVlID0gKGRhdGFbaV0gKyBkYXRhW2kgKyAxXSArIGRhdGFbaSArIDJdKSAvIDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ2xpZ2h0bmVzcycpIHtcbiAgICAgICAgICB2YWx1ZSA9IChNYXRoLm1pbihkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0pICtcbiAgICAgICAgICAgIE1hdGgubWF4KGRhdGFbaV0sIGRhdGFbaSArIDFdLCBkYXRhW2kgKyAyXSkpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnbHVtaW5vc2l0eScpIHtcbiAgICAgICAgICB2YWx1ZSA9IDAuMjEgKiBkYXRhW2ldICsgMC43MiAqIGRhdGFbaSArIDFdICsgMC4wNyAqIGRhdGFbaSArIDJdO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFbaV0gPSB2YWx1ZTtcbiAgICAgICAgZGF0YVtpICsgMV0gPSB2YWx1ZTtcbiAgICAgICAgZGF0YVtpICsgMl0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHRoaXMubW9kZTtcbiAgICAgIGlmICghb3B0aW9ucy5wcm9ncmFtQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgICAgIHZhciBzaGFkZXJTb3VyY2UgPSB0aGlzLmZyYWdtZW50U291cmNlW3RoaXMubW9kZV07XG4gICAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XSA9IHRoaXMuY3JlYXRlUHJvZ3JhbShvcHRpb25zLmNvbnRleHQsIHNoYWRlclNvdXJjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdU1vZGU6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU1vZGUnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIC8vIGRlZmF1bHQgYXZlcmFnZSBtb2RlLlxuICAgICAgdmFyIG1vZGUgPSAxO1xuICAgICAgZ2wudW5pZm9ybTFpKHVuaWZvcm1Mb2NhdGlvbnMudU1vZGUsIG1vZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHcmF5c2NhbGUgZmlsdGVyIGlzTmV1dHJhbFN0YXRlIGltcGxlbWVudGF0aW9uXG4gICAgICogVGhlIGZpbHRlciBpcyBuZXZlciBuZXV0cmFsXG4gICAgICogb24gdGhlIGltYWdlXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HcmF5c2NhbGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEludmVydCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkludmVydFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuSW52ZXJ0KCk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycyhjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAqL1xuICBmaWx0ZXJzLkludmVydCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5JbnZlcnQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdJbnZlcnQnLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBpbnQgdUludmVydDtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdpZiAodUludmVydCA9PSAxKSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMS4wIC0gY29sb3IuciwxLjAgLWNvbG9yLmcsMS4wIC1jb2xvci5iLGNvbG9yLmEpO1xcbicgK1xuICAgICAgICAnfSBlbHNlIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgaW52ZXJ0LiBpZiBmYWxzZSwgZG9lcyBub3RoaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBpbnZlcnRcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGludmVydDogdHJ1ZSxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdpbnZlcnQnLFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEludmVydCBvcGVyYXRpb24gdG8gYSBVaW50OEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4QXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBpLFxuICAgICAgICAgIGxlbiA9IGRhdGEubGVuZ3RoO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGRhdGFbaV0gPSAyNTUgLSBkYXRhW2ldO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IDI1NSAtIGRhdGFbaSArIDFdO1xuICAgICAgICBkYXRhW2kgKyAyXSA9IDI1NSAtIGRhdGFbaSArIDJdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnQgZmlsdGVyIGlzTmV1dHJhbFN0YXRlIGltcGxlbWVudGF0aW9uXG4gICAgICogVXNlZCBvbmx5IGluIGltYWdlIGFwcGx5RmlsdGVycyB0byBkaXNjYXJkIGZpbHRlcnMgdGhhdCB3aWxsIG5vdCBoYXZlIGFuIGVmZmVjdFxuICAgICAqIG9uIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhdGhpcy5pbnZlcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1SW52ZXJ0OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VJbnZlcnQnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xaSh1bmlmb3JtTG9jYXRpb25zLnVJbnZlcnQsIHRoaXMuaW52ZXJ0KTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkludmVydH0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuSW52ZXJ0XG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5JbnZlcnQuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIE5vaXNlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2VcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2UjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLk5vaXNlKHtcbiAgICogICBub2lzZTogNzAwXG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKi9cbiAgZmlsdGVycy5Ob2lzZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ05vaXNlJyxcblxuICAgIC8qKlxuICAgICAqIEZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIG5vaXNlIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTZWVkO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAnZmxvYXQgcmFuZCh2ZWMyIGNvLCBmbG9hdCBzZWVkLCBmbG9hdCB2U2NhbGUpIHtcXG4nICtcbiAgICAgICAgJ3JldHVybiBmcmFjdChzaW4oZG90KGNvLnh5ICogdlNjYWxlICx2ZWMyKDEyLjk4OTggLCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzICogKHNlZWQgKyAwLjAxKSAvIDIuMCk7XFxuJyArXG4gICAgICAnfVxcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdjb2xvci5yZ2IgKz0gKDAuNSAtIHJhbmQodlRleENvb3JkLCB1U2VlZCwgMC4xIC8gdVN0ZXBIKSkgKiB1Tm9pc2U7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIHRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1haW5QYXJhbWV0ZXI6ICdub2lzZScsXG5cbiAgICAvKipcbiAgICAgKiBOb2lzZSB2YWx1ZSwgZnJvbVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBub2lzZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbm9pc2U6IDAsXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQnJpZ2h0bmVzcyBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLm5vaXNlID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIG5vaXNlID0gdGhpcy5ub2lzZSwgcmFuZDtcblxuICAgICAgZm9yIChpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gNCkge1xuXG4gICAgICAgIHJhbmQgPSAoMC41IC0gTWF0aC5yYW5kb20oKSkgKiBub2lzZTtcblxuICAgICAgICBkYXRhW2ldICs9IHJhbmQ7XG4gICAgICAgIGRhdGFbaSArIDFdICs9IHJhbmQ7XG4gICAgICAgIGRhdGFbaSArIDJdICs9IHJhbmQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1Tm9pc2U6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU5vaXNlJyksXG4gICAgICAgIHVTZWVkOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VTZWVkJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtMWYodW5pZm9ybUxvY2F0aW9ucy51Tm9pc2UsIHRoaXMubm9pc2UgLyAyNTUpO1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudVNlZWQsIE1hdGgucmFuZG9tKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnKSwge1xuICAgICAgICBub2lzZTogdGhpcy5ub2lzZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLk5vaXNlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2UuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIFBpeGVsYXRlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGVcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLlBpeGVsYXRlKHtcbiAgICogICBibG9ja3NpemU6IDhcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5QaXhlbGF0ZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1BpeGVsYXRlJyxcblxuICAgIGJsb2Nrc2l6ZTogNCxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdibG9ja3NpemUnLFxuXG4gICAgLyoqXG4gICAgICogRnJhZ21lbnQgc291cmNlIGZvciB0aGUgUGl4ZWxhdGUgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdUJsb2Nrc2l6ZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGJsb2NrVyA9IHVCbG9ja3NpemUgKiB1U3RlcFc7XFxuJyArXG4gICAgICAgICdmbG9hdCBibG9ja0ggPSB1QmxvY2tzaXplICogdVN0ZXBXO1xcbicgK1xuICAgICAgICAnaW50IHBvc1ggPSBpbnQodlRleENvb3JkLnggLyBibG9ja1cpO1xcbicgK1xuICAgICAgICAnaW50IHBvc1kgPSBpbnQodlRleENvb3JkLnkgLyBibG9ja0gpO1xcbicgK1xuICAgICAgICAnZmxvYXQgZnBvc1ggPSBmbG9hdChwb3NYKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGZwb3NZID0gZmxvYXQocG9zWSk7XFxuJyArXG4gICAgICAgICd2ZWMyIHNxdWFyZUNvb3JkcyA9IHZlYzIoZnBvc1ggKiBibG9ja1csIGZwb3NZICogYmxvY2tIKTtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHNxdWFyZUNvb3Jkcyk7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBQaXhlbGF0ZSBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsXG4gICAgICAgICAgaUxlbiA9IGltYWdlRGF0YS5oZWlnaHQsXG4gICAgICAgICAgakxlbiA9IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICBpbmRleCwgaSwgaiwgciwgZywgYiwgYSxcbiAgICAgICAgICBfaSwgX2osIF9pTGVuLCBfakxlbjtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGlMZW47IGkgKz0gdGhpcy5ibG9ja3NpemUpIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGpMZW47IGogKz0gdGhpcy5ibG9ja3NpemUpIHtcblxuICAgICAgICAgIGluZGV4ID0gKGkgKiA0KSAqIGpMZW4gKyAoaiAqIDQpO1xuXG4gICAgICAgICAgciA9IGRhdGFbaW5kZXhdO1xuICAgICAgICAgIGcgPSBkYXRhW2luZGV4ICsgMV07XG4gICAgICAgICAgYiA9IGRhdGFbaW5kZXggKyAyXTtcbiAgICAgICAgICBhID0gZGF0YVtpbmRleCArIDNdO1xuXG4gICAgICAgICAgX2lMZW4gPSBNYXRoLm1pbihpICsgdGhpcy5ibG9ja3NpemUsIGlMZW4pO1xuICAgICAgICAgIF9qTGVuID0gTWF0aC5taW4oaiArIHRoaXMuYmxvY2tzaXplLCBqTGVuKTtcbiAgICAgICAgICBmb3IgKF9pID0gaTsgX2kgPCBfaUxlbjsgX2krKykge1xuICAgICAgICAgICAgZm9yIChfaiA9IGo7IF9qIDwgX2pMZW47IF9qKyspIHtcbiAgICAgICAgICAgICAgaW5kZXggPSAoX2kgKiA0KSAqIGpMZW4gKyAoX2ogKiA0KTtcbiAgICAgICAgICAgICAgZGF0YVtpbmRleF0gPSByO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgMV0gPSBnO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgMl0gPSBiO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgM10gPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZSB3aGVuIHRoZSBmaWx0ZXIgaXMgbm90IGdvbm5hIGFwcGx5IGNoYW5nZXMgdG8gdGhlIGltYWdlXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmJsb2Nrc2l6ZSA9PT0gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVCbG9ja3NpemU6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUJsb2Nrc2l6ZScpLFxuICAgICAgICB1U3RlcFc6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVN0ZXBXJyksXG4gICAgICAgIHVTdGVwSDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U3RlcEgnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVCbG9ja3NpemUsIHRoaXMuYmxvY2tzaXplKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlBpeGVsYXRlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgd2hpdGUgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvclxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvciNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3Ioe1xuICAgKiAgIHRocmVzaG9sZDogMC4yLFxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICovXG4gIGZpbHRlcnMuUmVtb3ZlQ29sb3IgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3IucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdSZW1vdmVDb2xvcicsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byByZW1vdmUsIGluIGFueSBmb3JtYXQgdW5kZXJzdG9vZCBieSBmYWJyaWMuQ29sb3IuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvbG9yOiAnI0ZGRkZGRicsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUxvdztcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUhpZ2g7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdpZihhbGwoZ3JlYXRlclRoYW4oZ2xfRnJhZ0NvbG9yLnJnYix1TG93LnJnYikpICYmIGFsbChncmVhdGVyVGhhbih1SGlnaC5yZ2IsZ2xfRnJhZ0NvbG9yLnJnYikpKSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5hID0gMC4wO1xcbicgK1xuICAgICAgICAnfVxcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogZGlzdGFuY2UgdG8gYWN0dWFsIGNvbG9yLCBhcyB2YWx1ZSB1cCBvciBkb3duIGZyb20gZWFjaCByLGcsYlxuICAgICAqIGJldHdlZW4gMCBhbmQgMVxuICAgICAqKi9cbiAgICBkaXN0YW5jZTogMC4wMixcblxuICAgIC8qKlxuICAgICAqIEZvciBjb2xvciB0byByZW1vdmUgaW5zaWRlIGRpc3RhbmNlLCB1c2UgYWxwaGEgY2hhbm5lbCBmb3IgYSBzbW9vdGhlciBkZWxldGlvblxuICAgICAqIE5PVCBJTVBMRU1FTlRFRCBZRVRcbiAgICAgKiovXG4gICAgdXNlQWxwaGE6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlV2hpdGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0jUlJHR0JCXSBUaHJlc2hvbGQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZGlzdGFuY2U9MTBdIERpc3RhbmNlIHZhbHVlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGZpbHRlciB0byBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksXG4gICAgICAgICAgZGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlICogMjU1LFxuICAgICAgICAgIHIsIGcsIGIsXG4gICAgICAgICAgc291cmNlID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKS5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBsb3dDID0gW1xuICAgICAgICAgICAgc291cmNlWzBdIC0gZGlzdGFuY2UsXG4gICAgICAgICAgICBzb3VyY2VbMV0gLSBkaXN0YW5jZSxcbiAgICAgICAgICAgIHNvdXJjZVsyXSAtIGRpc3RhbmNlLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgaGlnaEMgPSBbXG4gICAgICAgICAgICBzb3VyY2VbMF0gKyBkaXN0YW5jZSxcbiAgICAgICAgICAgIHNvdXJjZVsxXSArIGRpc3RhbmNlLFxuICAgICAgICAgICAgc291cmNlWzJdICsgZGlzdGFuY2UsXG4gICAgICAgICAgXTtcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICByID0gZGF0YVtpXTtcbiAgICAgICAgZyA9IGRhdGFbaSArIDFdO1xuICAgICAgICBiID0gZGF0YVtpICsgMl07XG5cbiAgICAgICAgaWYgKHIgPiBsb3dDWzBdICYmXG4gICAgICAgICAgICBnID4gbG93Q1sxXSAmJlxuICAgICAgICAgICAgYiA+IGxvd0NbMl0gJiZcbiAgICAgICAgICAgIHIgPCBoaWdoQ1swXSAmJlxuICAgICAgICAgICAgZyA8IGhpZ2hDWzFdICYmXG4gICAgICAgICAgICBiIDwgaGlnaENbMl0pIHtcbiAgICAgICAgICBkYXRhW2kgKyAzXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVMb3c6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUxvdycpLFxuICAgICAgICB1SGlnaDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1SGlnaCcpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgdmFyIHNvdXJjZSA9IG5ldyBmYWJyaWMuQ29sb3IodGhpcy5jb2xvcikuZ2V0U291cmNlKCksXG4gICAgICAgICAgZGlzdGFuY2UgPSBwYXJzZUZsb2F0KHRoaXMuZGlzdGFuY2UpLFxuICAgICAgICAgIGxvd0MgPSBbXG4gICAgICAgICAgICAwICsgc291cmNlWzBdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAwICsgc291cmNlWzFdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAwICsgc291cmNlWzJdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgXSxcbiAgICAgICAgICBoaWdoQyA9IFtcbiAgICAgICAgICAgIHNvdXJjZVswXSAvIDI1NSArIGRpc3RhbmNlLFxuICAgICAgICAgICAgc291cmNlWzFdIC8gMjU1ICsgZGlzdGFuY2UsXG4gICAgICAgICAgICBzb3VyY2VbMl0gLyAyNTUgKyBkaXN0YW5jZSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICBdO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVMb3csIGxvd0MpO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVIaWdoLCBoaWdoQyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcpLCB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICBkaXN0YW5jZTogdGhpcy5kaXN0YW5jZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlbW92ZUNvbG9yfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVXaGl0ZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3IuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgdmFyIG1hdHJpY2VzID0ge1xuICAgIEJyb3duaWU6IFtcbiAgICAgIDAuNTk5NzAsMC4zNDU1MywtMC4yNzA4MiwwLDAuMTg2LFxuICAgICAgLTAuMDM3NzAsMC44NjA5NSwwLjE1MDU5LDAsLTAuMTQ0OSxcbiAgICAgIDAuMjQxMTMsLTAuMDc0NDEsMC40NDk3MiwwLC0wLjAyOTY1LFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBWaW50YWdlOiBbXG4gICAgICAwLjYyNzkzLDAuMzIwMjEsLTAuMDM5NjUsMCwwLjAzNzg0LFxuICAgICAgMC4wMjU3OCwwLjY0NDExLDAuMDMyNTksMCwwLjAyOTI2LFxuICAgICAgMC4wNDY2MCwtMC4wODUxMiwwLjUyNDE2LDAsMC4wMjAyMyxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgS29kYWNocm9tZTogW1xuICAgICAgMS4xMjg1NSwtMC4zOTY3MywtMC4wMzk5MiwwLDAuMjQ5OTEsXG4gICAgICAtMC4xNjQwNCwxLjA4MzUyLC0wLjA1NDk4LDAsMC4wOTY5OCxcbiAgICAgIC0wLjE2Nzg2LC0wLjU2MDM0LDEuNjAxNDgsMCwwLjEzOTcyLFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBUZWNobmljb2xvcjogW1xuICAgICAgMS45MTI1MiwtMC44NTQ1MywtMC4wOTE1NSwwLDAuMDQ2MjQsXG4gICAgICAtMC4zMDg3OCwxLjc2NTg5LC0wLjEwNjAxLDAsLTAuMjc1ODksXG4gICAgICAtMC4yMzExMCwtMC43NTAxOCwxLjg0NzU5LDAsMC4xMjEzNyxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgUG9sYXJvaWQ6IFtcbiAgICAgIDEuNDM4LC0wLjA2MiwtMC4wNjIsMCwwLFxuICAgICAgLTAuMTIyLDEuMzc4LC0wLjEyMiwwLDAsXG4gICAgICAtMC4wMTYsLTAuMDE2LDEuNDgzLDAsMCxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgU2VwaWE6IFtcbiAgICAgIDAuMzkzLCAwLjc2OSwgMC4xODksIDAsIDAsXG4gICAgICAwLjM0OSwgMC42ODYsIDAuMTY4LCAwLCAwLFxuICAgICAgMC4yNzIsIDAuNTM0LCAwLjEzMSwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICBdLFxuICAgIEJsYWNrV2hpdGU6IFtcbiAgICAgIDEuNSwgMS41LCAxLjUsIDAsIC0xLFxuICAgICAgMS41LCAxLjUsIDEuNSwgMCwgLTEsXG4gICAgICAxLjUsIDEuNSwgMS41LCAwLCAtMSxcbiAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgXVxuICB9O1xuXG4gIGZvciAodmFyIGtleSBpbiBtYXRyaWNlcykge1xuICAgIGZpbHRlcnNba2V5XSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQ29sb3JNYXRyaXgsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuU2VwaWEucHJvdG90eXBlICovIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgKi9cbiAgICAgIHR5cGU6IGtleSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDb2xvcm1hdHJpeCBmb3IgdGhlIGVmZmVjdFxuICAgICAgICogYXJyYXkgb2YgMjAgZmxvYXRzLiBOdW1iZXJzIGluIHBvc2l0aW9ucyA0LCA5LCAxNCwgMTkgbG9vc2UgbWVhbmluZ1xuICAgICAgICogb3V0c2lkZSB0aGUgLTEsIDEgcmFuZ2UuXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRyaXggYXJyYXkgb2YgMjAgbnVtYmVycy5cbiAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgKi9cbiAgICAgIG1hdHJpeDogbWF0cmljZXNba2V5XSxcblxuICAgICAgLyoqXG4gICAgICAgKiBMb2NrIHRoZSBtYXRyaXggZXhwb3J0IGZvciB0aGlzIGtpbmQgb2Ygc3RhdGljLCBwYXJhbWV0ZXIgbGVzcyBmaWx0ZXJzLlxuICAgICAgICovXG4gICAgICBtYWluUGFyYW1ldGVyOiBmYWxzZSxcbiAgICAgIC8qKlxuICAgICAgICogTG9jayB0aGUgY29sb3JtYXRyaXggb24gdGhlIGNvbG9yIHBhcnQsIHNraXBwaW5nIGFscGhhXG4gICAgICAgKi9cbiAgICAgIGNvbG9yc09ubHk6IHRydWUsXG5cbiAgICB9KTtcbiAgICBmYWJyaWMuSW1hZ2UuZmlsdGVyc1trZXldLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG4gIH1cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIENvbG9yIEJsZW5kIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlci5CbGVuZENvbG9yXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvcih7XG4gICAqICBjb2xvcjogJyMwMDAnLFxuICAgKiAgbW9kZTogJ211bHRpcGx5J1xuICAgKiB9KTtcbiAgICpcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZEltYWdlKHtcbiAgICogIGltYWdlOiBmYWJyaWNJbWFnZU9iamVjdCxcbiAgICogIG1vZGU6ICdtdWx0aXBseScsXG4gICAqICBhbHBoYTogMC41XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKi9cblxuICBmaWx0ZXJzLkJsZW5kQ29sb3IgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmQucHJvdG90eXBlICovIHtcbiAgICB0eXBlOiAnQmxlbmRDb2xvcicsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byBtYWtlIHRoZSBibGVuZCBvcGVyYXRpb24gd2l0aC4gZGVmYXVsdCB0byBhIHJlZGRpc2ggY29sb3Igc2luY2UgYmxhY2sgb3Igd2hpdGVcbiAgICAgKiBnaXZlcyBhbHdheXMgc3Ryb25nIHJlc3VsdC5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqKi9cbiAgICBjb2xvcjogJyNGOTVDNjMnLFxuXG4gICAgLyoqXG4gICAgICogQmxlbmQgbW9kZSBmb3IgdGhlIGZpbHRlcjogb25lIG9mIG11bHRpcGx5LCBhZGQsIGRpZmYsIHNjcmVlbiwgc3VidHJhY3QsXG4gICAgICogZGFya2VuLCBsaWdodGVuLCBvdmVybGF5LCBleGNsdXNpb24sIHRpbnQuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiovXG4gICAgbW9kZTogJ211bHRpcGx5JyxcblxuICAgIC8qKlxuICAgICAqIGFscGhhIHZhbHVlLiByZXByZXNlbnQgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibGVuZCBjb2xvciBvcGVyYXRpb24uXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiovXG4gICAgYWxwaGE6IDEsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBNdWx0aXBseSBwcm9ncmFtXG4gICAgICovXG4gICAgZnJhZ21lbnRTb3VyY2U6IHtcbiAgICAgIG11bHRpcGx5OiAnZ2xfRnJhZ0NvbG9yLnJnYiAqPSB1Q29sb3IucmdiO1xcbicsXG4gICAgICBzY3JlZW46ICdnbF9GcmFnQ29sb3IucmdiID0gMS4wIC0gKDEuMCAtIGdsX0ZyYWdDb2xvci5yZ2IpICogKDEuMCAtIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBhZGQ6ICdnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2I7XFxuJyxcbiAgICAgIGRpZmY6ICdnbF9GcmFnQ29sb3IucmdiID0gYWJzKGdsX0ZyYWdDb2xvci5yZ2IgLSB1Q29sb3IucmdiKTtcXG4nLFxuICAgICAgc3VidHJhY3Q6ICdnbF9GcmFnQ29sb3IucmdiIC09IHVDb2xvci5yZ2I7XFxuJyxcbiAgICAgIGxpZ2h0ZW46ICdnbF9GcmFnQ29sb3IucmdiID0gbWF4KGdsX0ZyYWdDb2xvci5yZ2IsIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBkYXJrZW46ICdnbF9GcmFnQ29sb3IucmdiID0gbWluKGdsX0ZyYWdDb2xvci5yZ2IsIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBleGNsdXNpb246ICdnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2IgLSAyLjAgKiAodUNvbG9yLnJnYiAqIGdsX0ZyYWdDb2xvci5yZ2IpO1xcbicsXG4gICAgICBvdmVybGF5OiAnaWYgKHVDb2xvci5yIDwgMC41KSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5yICo9IDIuMCAqIHVDb2xvci5yO1xcbicgK1xuICAgICAgICAnfSBlbHNlIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLnIgPSAxLjAgLSAyLjAgKiAoMS4wIC0gZ2xfRnJhZ0NvbG9yLnIpICogKDEuMCAtIHVDb2xvci5yKTtcXG4nICtcbiAgICAgICAgJ31cXG4nICtcbiAgICAgICAgJ2lmICh1Q29sb3IuZyA8IDAuNSkge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuZyAqPSAyLjAgKiB1Q29sb3IuZztcXG4nICtcbiAgICAgICAgJ30gZWxzZSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5nID0gMS4wIC0gMi4wICogKDEuMCAtIGdsX0ZyYWdDb2xvci5nKSAqICgxLjAgLSB1Q29sb3IuZyk7XFxuJyArXG4gICAgICAgICd9XFxuJyArXG4gICAgICAgICdpZiAodUNvbG9yLmIgPCAwLjUpIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmIgKj0gMi4wICogdUNvbG9yLmI7XFxuJyArXG4gICAgICAgICd9IGVsc2Uge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuYiA9IDEuMCAtIDIuMCAqICgxLjAgLSBnbF9GcmFnQ29sb3IuYikgKiAoMS4wIC0gdUNvbG9yLmIpO1xcbicgK1xuICAgICAgICAnfVxcbicsXG4gICAgICB0aW50OiAnZ2xfRnJhZ0NvbG9yLnJnYiAqPSAoMS4wIC0gdUNvbG9yLmEpO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yLnJnYiArPSB1Q29sb3IucmdiO1xcbicsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGJ1aWxkIHRoZSBmcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBmaWx0ZXJzLCBqb2luaW5nIHRoZSBjb21tb24gcGFydCB3aXRoXG4gICAgICogdGhlIHNwZWNpZmljIG9uZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSB0aGUgbW9kZSBvZiB0aGUgZmlsdGVyLCBhIGtleSBvZiB0aGlzLmZyYWdtZW50U291cmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0aGUgc291cmNlIHRvIGJlIGNvbXBpbGVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBidWlsZFNvdXJjZTogZnVuY3Rpb24obW9kZSkge1xuICAgICAgcmV0dXJuICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gdmVjNCB1Q29sb3I7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4nICtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTb3VyY2VbbW9kZV0gK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICd9JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHRoaXMubW9kZSwgc2hhZGVyU291cmNlO1xuICAgICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICAgICAgc2hhZGVyU291cmNlID0gdGhpcy5idWlsZFNvdXJjZSh0aGlzLm1vZGUpO1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBzaGFkZXJTb3VyY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEJsZW5kIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaUxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIHRyLCB0ZywgdGIsXG4gICAgICAgICAgciwgZywgYixcbiAgICAgICAgICBzb3VyY2UsIGFscGhhMSA9IDEgLSB0aGlzLmFscGhhO1xuXG4gICAgICBzb3VyY2UgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpLmdldFNvdXJjZSgpO1xuICAgICAgdHIgPSBzb3VyY2VbMF0gKiB0aGlzLmFscGhhO1xuICAgICAgdGcgPSBzb3VyY2VbMV0gKiB0aGlzLmFscGhhO1xuICAgICAgdGIgPSBzb3VyY2VbMl0gKiB0aGlzLmFscGhhO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlMZW47IGkgKz0gNCkge1xuXG4gICAgICAgIHIgPSBkYXRhW2ldO1xuICAgICAgICBnID0gZGF0YVtpICsgMV07XG4gICAgICAgIGIgPSBkYXRhW2kgKyAyXTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICAgIGNhc2UgJ211bHRpcGx5JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByICogdHIgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgKiB0ZyAvIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiAqIHRiIC8gMjU1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2NyZWVuJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSAyNTUgLSAoMjU1IC0gcikgKiAoMjU1IC0gdHIpIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSAyNTUgLSAoMjU1IC0gZykgKiAoMjU1IC0gdGcpIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSAyNTUgLSAoMjU1IC0gYikgKiAoMjU1IC0gdGIpIC8gMjU1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByICsgdHI7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgKyB0ZztcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiArIHRiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZGlmZic6XG4gICAgICAgICAgY2FzZSAnZGlmZmVyZW5jZSc6XG4gICAgICAgICAgICBkYXRhW2ldID0gTWF0aC5hYnMociAtIHRyKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gTWF0aC5hYnMoZyAtIHRnKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gTWF0aC5hYnMoYiAtIHRiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3N1YnRyYWN0JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByIC0gdHI7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgLSB0ZztcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiAtIHRiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZGFya2VuJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSBNYXRoLm1pbihyLCB0cik7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IE1hdGgubWluKGcsIHRnKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gTWF0aC5taW4oYiwgdGIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGlnaHRlbic6XG4gICAgICAgICAgICBkYXRhW2ldID0gTWF0aC5tYXgociwgdHIpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBNYXRoLm1heChnLCB0Zyk7XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IE1hdGgubWF4KGIsIHRiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ292ZXJsYXknOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHRyIDwgMTI4ID8gKDIgKiByICogdHIgLyAyNTUpIDogKDI1NSAtIDIgKiAoMjU1IC0gcikgKiAoMjU1IC0gdHIpIC8gMjU1KTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gdGcgPCAxMjggPyAoMiAqIGcgKiB0ZyAvIDI1NSkgOiAoMjU1IC0gMiAqICgyNTUgLSBnKSAqICgyNTUgLSB0ZykgLyAyNTUpO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSB0YiA8IDEyOCA/ICgyICogYiAqIHRiIC8gMjU1KSA6ICgyNTUgLSAyICogKDI1NSAtIGIpICogKDI1NSAtIHRiKSAvIDI1NSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdleGNsdXNpb24nOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHRyICsgciAtICgoMiAqIHRyICogcikgLyAyNTUpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSB0ZyArIGcgLSAoKDIgKiB0ZyAqIGcpIC8gMjU1KTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gdGIgKyBiIC0gKCgyICogdGIgKiBiKSAvIDI1NSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd0aW50JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSB0ciArIHIgKiBhbHBoYTE7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IHRnICsgZyAqIGFscGhhMTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gdGIgKyBiICogYWxwaGExO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1Q29sb3I6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUNvbG9yJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICB2YXIgc291cmNlID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKS5nZXRTb3VyY2UoKTtcbiAgICAgIHNvdXJjZVswXSA9IHRoaXMuYWxwaGEgKiBzb3VyY2VbMF0gLyAyNTU7XG4gICAgICBzb3VyY2VbMV0gPSB0aGlzLmFscGhhICogc291cmNlWzFdIC8gMjU1O1xuICAgICAgc291cmNlWzJdID0gdGhpcy5hbHBoYSAqIHNvdXJjZVsyXSAvIDI1NTtcbiAgICAgIHNvdXJjZVszXSA9IHRoaXMuYWxwaGE7XG4gICAgICBnbC51bmlmb3JtNGZ2KHVuaWZvcm1Mb2NhdGlvbnMudUNvbG9yLCBzb3VyY2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICBhbHBoYTogdGhpcy5hbHBoYVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvcn0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvclxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvci5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMsXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBJbWFnZSBCbGVuZCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXIuQmxlbmRJbWFnZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kQ29sb3Ioe1xuICAgKiAgY29sb3I6ICcjMDAwJyxcbiAgICogIG1vZGU6ICdtdWx0aXBseSdcbiAgICogfSk7XG4gICAqXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRJbWFnZSh7XG4gICAqICBpbWFnZTogZmFicmljSW1hZ2VPYmplY3QsXG4gICAqICBtb2RlOiAnbXVsdGlwbHknLFxuICAgKiAgYWxwaGE6IDAuNVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICovXG5cbiAgZmlsdGVycy5CbGVuZEltYWdlID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2UucHJvdG90eXBlICovIHtcbiAgICB0eXBlOiAnQmxlbmRJbWFnZScsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byBtYWtlIHRoZSBibGVuZCBvcGVyYXRpb24gd2l0aC4gZGVmYXVsdCB0byBhIHJlZGRpc2ggY29sb3Igc2luY2UgYmxhY2sgb3Igd2hpdGVcbiAgICAgKiBnaXZlcyBhbHdheXMgc3Ryb25nIHJlc3VsdC5cbiAgICAgKiovXG4gICAgaW1hZ2U6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBCbGVuZCBtb2RlIGZvciB0aGUgZmlsdGVyIChvbmUgb2YgXCJtdWx0aXBseVwiLCBcIm1hc2tcIilcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqKi9cbiAgICBtb2RlOiAnbXVsdGlwbHknLFxuXG4gICAgLyoqXG4gICAgICogYWxwaGEgdmFsdWUuIHJlcHJlc2VudCB0aGUgc3RyZW5ndGggb2YgdGhlIGJsZW5kIGltYWdlIG9wZXJhdGlvbi5cbiAgICAgKiBub3QgaW1wbGVtZW50ZWQuXG4gICAgICoqL1xuICAgIGFscGhhOiAxLFxuXG4gICAgdmVydGV4U291cmNlOiAnYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDI7XFxuJyArXG4gICAgICAndW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm1NYXRyaXg7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndlRleENvb3JkID0gYVBvc2l0aW9uO1xcbicgK1xuICAgICAgICAndlRleENvb3JkMiA9ICh1VHJhbnNmb3JtTWF0cml4ICogdmVjMyhhUG9zaXRpb24sIDEuMCkpLnh5O1xcbicgK1xuICAgICAgICAnZ2xfUG9zaXRpb24gPSB2ZWM0KGFQb3NpdGlvbiAqIDIuMCAtIDEuMCwgMC4wLCAxLjApO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogRnJhZ21lbnQgc291cmNlIGZvciB0aGUgTXVsdGlwbHkgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiB7XG4gICAgICBtdWx0aXBseTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdUltYWdlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkMjtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvcjIgPSB0ZXh0dXJlMkQodUltYWdlLCB2VGV4Q29vcmQyKTtcXG4nICtcbiAgICAgICAgICAnY29sb3IucmdiYSAqPSBjb2xvcjIucmdiYTtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIG1hc2s6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVJbWFnZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gdmVjNCB1Q29sb3I7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDI7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IyID0gdGV4dHVyZTJEKHVJbWFnZSwgdlRleENvb3JkMik7XFxuJyArXG4gICAgICAgICAgJ2NvbG9yLmEgPSBjb2xvcjIuYTtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHRoaXMubW9kZTtcbiAgICAgIHZhciBzaGFkZXJTb3VyY2UgPSB0aGlzLmZyYWdtZW50U291cmNlW3RoaXMubW9kZV07XG4gICAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBzaGFkZXJTb3VyY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgYXBwbHlUb1dlYkdMOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAvLyBsb2FkIHRleHR1cmUgdG8gYmxlbmQuXG4gICAgICB2YXIgZ2wgPSBvcHRpb25zLmNvbnRleHQsXG4gICAgICAgICAgdGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShvcHRpb25zLmZpbHRlckJhY2tlbmQsIHRoaXMuaW1hZ2UpO1xuICAgICAgdGhpcy5iaW5kQWRkaXRpb25hbFRleHR1cmUoZ2wsIHRleHR1cmUsIGdsLlRFWFRVUkUxKTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdhcHBseVRvV2ViR0wnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMudW5iaW5kQWRkaXRpb25hbFRleHR1cmUoZ2wsIGdsLlRFWFRVUkUxKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlVGV4dHVyZTogZnVuY3Rpb24oYmFja2VuZCwgaW1hZ2UpIHtcbiAgICAgIHJldHVybiBiYWNrZW5kLmdldENhY2hlZFRleHR1cmUoaW1hZ2UuY2FjaGVLZXksIGltYWdlLl9lbGVtZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGEgdHJhbnNmb3JtTWF0cml4IHRvIGFkYXB0IHRoZSBpbWFnZSB0byBibGVuZCBvdmVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAgKi9cbiAgICBjYWxjdWxhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICB3aWR0aCA9IGltYWdlLl9lbGVtZW50LndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGltYWdlLl9lbGVtZW50LmhlaWdodDtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIDEgLyBpbWFnZS5zY2FsZVgsIDAsIDAsXG4gICAgICAgIDAsIDEgLyBpbWFnZS5zY2FsZVksIDAsXG4gICAgICAgIC1pbWFnZS5sZWZ0IC8gd2lkdGgsIC1pbWFnZS50b3AgLyBoZWlnaHQsIDFcbiAgICAgIF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBCbGVuZCBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICByZXNvdXJjZXMgPSBvcHRpb25zLmZpbHRlckJhY2tlbmQucmVzb3VyY2VzLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaUxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIHdpZHRoID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQsXG4gICAgICAgICAgdHIsIHRnLCB0YiwgdGEsXG4gICAgICAgICAgciwgZywgYiwgYSxcbiAgICAgICAgICBjYW52YXMxLCBjb250ZXh0LCBpbWFnZSA9IHRoaXMuaW1hZ2UsIGJsZW5kRGF0YTtcblxuICAgICAgaWYgKCFyZXNvdXJjZXMuYmxlbmRJbWFnZSkge1xuICAgICAgICByZXNvdXJjZXMuYmxlbmRJbWFnZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIH1cbiAgICAgIGNhbnZhczEgPSByZXNvdXJjZXMuYmxlbmRJbWFnZTtcbiAgICAgIGNvbnRleHQgPSBjYW52YXMxLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBpZiAoY2FudmFzMS53aWR0aCAhPT0gd2lkdGggfHwgY2FudmFzMS5oZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICBjYW52YXMxLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhczEuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgfVxuICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oaW1hZ2Uuc2NhbGVYLCAwLCAwLCBpbWFnZS5zY2FsZVksIGltYWdlLmxlZnQsIGltYWdlLnRvcCk7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZS5fZWxlbWVudCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBibGVuZERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpTGVuOyBpICs9IDQpIHtcblxuICAgICAgICByID0gZGF0YVtpXTtcbiAgICAgICAgZyA9IGRhdGFbaSArIDFdO1xuICAgICAgICBiID0gZGF0YVtpICsgMl07XG4gICAgICAgIGEgPSBkYXRhW2kgKyAzXTtcblxuICAgICAgICB0ciA9IGJsZW5kRGF0YVtpXTtcbiAgICAgICAgdGcgPSBibGVuZERhdGFbaSArIDFdO1xuICAgICAgICB0YiA9IGJsZW5kRGF0YVtpICsgMl07XG4gICAgICAgIHRhID0gYmxlbmREYXRhW2kgKyAzXTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICAgIGNhc2UgJ211bHRpcGx5JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByICogdHIgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgKiB0ZyAvIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiAqIHRiIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgM10gPSBhICogdGEgLyAyNTU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdtYXNrJzpcbiAgICAgICAgICAgIGRhdGFbaSArIDNdID0gdGE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1VHJhbnNmb3JtTWF0cml4JyksXG4gICAgICAgIHVJbWFnZTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1SW1hZ2UnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIHZhciBtYXRyaXggPSB0aGlzLmNhbGN1bGF0ZU1hdHJpeCgpO1xuICAgICAgZ2wudW5pZm9ybTFpKHVuaWZvcm1Mb2NhdGlvbnMudUltYWdlLCAxKTsgLy8gdGV4dHVyZSB1bml0IDEuXG4gICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVuaWZvcm1Mb2NhdGlvbnMudVRyYW5zZm9ybU1hdHJpeCwgZmFsc2UsIG1hdHJpeCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIGltYWdlOiB0aGlzLmltYWdlICYmIHRoaXMuaW1hZ2UudG9PYmplY3QoKSxcbiAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICBhbHBoYTogdGhpcy5hbHBoYVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2V9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2VcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmYWJyaWMuSW1hZ2UuZnJvbU9iamVjdChvYmplY3QuaW1hZ2UsIGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvYmplY3QpO1xuICAgICAgb3B0aW9ucy5pbWFnZSA9IGltYWdlO1xuICAgICAgY2FsbGJhY2sobmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2Uob3B0aW9ucykpO1xuICAgIH0pO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLCBwb3cgPSBNYXRoLnBvdywgZmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgc3FydCA9IE1hdGguc3FydCwgYWJzID0gTWF0aC5hYnMsIHJvdW5kID0gTWF0aC5yb3VuZCwgc2luID0gTWF0aC5zaW4sXG4gICAgICBjZWlsID0gTWF0aC5jZWlsLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogUmVzaXplIGltYWdlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemUoKTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICovXG4gIGZpbHRlcnMuUmVzaXplID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1Jlc2l6ZScsXG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUgdHlwZVxuICAgICAqIGZvciB3ZWJnbCByZXNpemVUeXBlIGlzIGp1c3QgbGFuY3pvcywgZm9yIGNhbnZhczJkIGNhbiBiZTpcbiAgICAgKiBiaWxpbmVhciwgaGVybWl0ZSwgc2xpY2VIYWNrLCBsYW5jem9zLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXNpemVUeXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByZXNpemVUeXBlOiAnaGVybWl0ZScsXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZSBmYWN0b3IgZm9yIHJlc2l6aW5nLCB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVYXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzY2FsZVg6IDEsXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZSBmYWN0b3IgZm9yIHJlc2l6aW5nLCB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVZXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzY2FsZVk6IDEsXG5cbiAgICAvKipcbiAgICAgKiBMYW5jem9zTG9iZXMgcGFyYW1ldGVyIGZvciBsYW5jem9zIGZpbHRlciwgdmFsaWQgZm9yIHJlc2l6ZVR5cGUgbGFuY3pvc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsYW5jem9zTG9iZXNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxhbmN6b3NMb2JlczogMyxcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVEZWx0YTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1RGVsdGEnKSxcbiAgICAgICAgdVRhcHM6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVRhcHMnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0yZnYodW5pZm9ybUxvY2F0aW9ucy51RGVsdGEsIHRoaXMuaG9yaXpvbnRhbCA/IFsxIC8gdGhpcy53aWR0aCwgMF0gOiBbMCwgMSAvIHRoaXMuaGVpZ2h0XSk7XG4gICAgICBnbC51bmlmb3JtMWZ2KHVuaWZvcm1Mb2NhdGlvbnMudVRhcHMsIHRoaXMudGFwcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgY2FjaGVkIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgICAqL1xuICAgIHJldHJpZXZlU2hhZGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgZmlsdGVyV2luZG93ID0gdGhpcy5nZXRGaWx0ZXJXaW5kb3coKSwgY2FjaGVLZXkgPSB0aGlzLnR5cGUgKyAnXycgKyBmaWx0ZXJXaW5kb3c7XG4gICAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSB0aGlzLmdlbmVyYXRlU2hhZGVyKGZpbHRlcldpbmRvdyk7XG4gICAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XSA9IHRoaXMuY3JlYXRlUHJvZ3JhbShvcHRpb25zLmNvbnRleHQsIGZyYWdtZW50U2hhZGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV07XG4gICAgfSxcblxuICAgIGdldEZpbHRlcldpbmRvdzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NhbGUgPSB0aGlzLnRlbXBTY2FsZTtcbiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5sYW5jem9zTG9iZXMgLyBzY2FsZSk7XG4gICAgfSxcblxuICAgIGdldFRhcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxvYmVGdW5jdGlvbiA9IHRoaXMubGFuY3pvc0NyZWF0ZSh0aGlzLmxhbmN6b3NMb2JlcyksIHNjYWxlID0gdGhpcy50ZW1wU2NhbGUsXG4gICAgICAgICAgZmlsdGVyV2luZG93ID0gdGhpcy5nZXRGaWx0ZXJXaW5kb3coKSwgdGFwcyA9IG5ldyBBcnJheShmaWx0ZXJXaW5kb3cpO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gZmlsdGVyV2luZG93OyBpKyspIHtcbiAgICAgICAgdGFwc1tpIC0gMV0gPSBsb2JlRnVuY3Rpb24oaSAqIHNjYWxlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXBzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB2ZXJ0ZXggYW5kIHNoYWRlciBzb3VyY2VzIGZyb20gdGhlIG5lY2Vzc2FyeSBzdGVwcyBudW1iZXJzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZpbHRlcldpbmRvd1xuICAgICAqL1xuICAgIGdlbmVyYXRlU2hhZGVyOiBmdW5jdGlvbihmaWx0ZXJXaW5kb3cpIHtcbiAgICAgIHZhciBvZmZzZXRzID0gbmV3IEFycmF5KGZpbHRlcldpbmRvdyksXG4gICAgICAgICAgZnJhZ21lbnRTaGFkZXIgPSB0aGlzLmZyYWdtZW50U291cmNlVE9QLCBmaWx0ZXJXaW5kb3c7XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGZpbHRlcldpbmRvdzsgaSsrKSB7XG4gICAgICAgIG9mZnNldHNbaSAtIDFdID0gaSArICcuMCAqIHVEZWx0YSc7XG4gICAgICB9XG5cbiAgICAgIGZyYWdtZW50U2hhZGVyICs9ICd1bmlmb3JtIGZsb2F0IHVUYXBzWycgKyBmaWx0ZXJXaW5kb3cgKyAnXTtcXG4nO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJ3ZvaWQgbWFpbigpIHtcXG4nO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgZmxvYXQgc3VtID0gMS4wO1xcbic7XG5cbiAgICAgIG9mZnNldHMuZm9yRWFjaChmdW5jdGlvbihvZmZzZXQsIGkpIHtcbiAgICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyAnICsgb2Zmc2V0ICsgJykgKiB1VGFwc1snICsgaSArICddO1xcbic7XG4gICAgICAgIGZyYWdtZW50U2hhZGVyICs9ICcgIGNvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkIC0gJyArIG9mZnNldCArICcpICogdVRhcHNbJyArIGkgKyAnXTtcXG4nO1xuICAgICAgICBmcmFnbWVudFNoYWRlciArPSAnICBzdW0gKz0gMi4wICogdVRhcHNbJyArIGkgKyAnXTtcXG4nO1xuICAgICAgfSk7XG4gICAgICBmcmFnbWVudFNoYWRlciArPSAnICBnbF9GcmFnQ29sb3IgPSBjb2xvciAvIHN1bTtcXG4nO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJ30nO1xuICAgICAgcmV0dXJuIGZyYWdtZW50U2hhZGVyO1xuICAgIH0sXG5cbiAgICBmcmFnbWVudFNvdXJjZVRPUDogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzIgdURlbHRhO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSByZXNpemUgZmlsdGVyIHRvIHRoZSBpbWFnZVxuICAgICAqIERldGVybWluZXMgd2hldGhlciB0byB1c2UgV2ViR0wgb3IgQ2FudmFzMkQgYmFzZWQgb24gdGhlIG9wdGlvbnMud2ViZ2wgZmxhZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgZXhlY3V0ZWRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMud2ViZ2wgV2hldGhlciB0byB1c2Ugd2ViZ2wgdG8gcmVuZGVyIHRoZSBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IG9wdGlvbnMuc291cmNlVGV4dHVyZSBUaGUgdGV4dHVyZSBzZXR1cCBhcyB0aGUgc291cmNlIHRvIGJlIGZpbHRlcmVkLlxuICAgICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnRhcmdldFRleHR1cmUgVGhlIHRleHR1cmUgd2hlcmUgZmlsdGVyZWQgb3V0cHV0IHNob3VsZCBiZSBkcmF3bi5cbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAgKi9cbiAgICBhcHBseVRvOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy53ZWJnbCkge1xuICAgICAgICBvcHRpb25zLnBhc3NlcysrO1xuICAgICAgICB0aGlzLndpZHRoID0gb3B0aW9ucy5zb3VyY2VXaWR0aDtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kVyA9IE1hdGgucm91bmQodGhpcy53aWR0aCAqIHRoaXMuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5kSCA9IG9wdGlvbnMuc291cmNlSGVpZ2h0O1xuICAgICAgICB0aGlzLnRlbXBTY2FsZSA9IHRoaXMuZFcgLyB0aGlzLndpZHRoO1xuICAgICAgICB0aGlzLnRhcHMgPSB0aGlzLmdldFRhcHMoKTtcbiAgICAgICAgb3B0aW9ucy5kZXN0aW5hdGlvbldpZHRoID0gdGhpcy5kVztcbiAgICAgICAgdGhpcy5fc2V0dXBGcmFtZUJ1ZmZlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hcHBseVRvV2ViR0wob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3N3YXBUZXh0dXJlcyhvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5zb3VyY2VXaWR0aCA9IG9wdGlvbnMuZGVzdGluYXRpb25XaWR0aDtcblxuICAgICAgICB0aGlzLmhlaWdodCA9IG9wdGlvbnMuc291cmNlSGVpZ2h0O1xuICAgICAgICB0aGlzLmhvcml6b250YWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kSCA9IE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiB0aGlzLnNjYWxlWSk7XG4gICAgICAgIHRoaXMudGVtcFNjYWxlID0gdGhpcy5kSCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRhcHMgPSB0aGlzLmdldFRhcHMoKTtcbiAgICAgICAgb3B0aW9ucy5kZXN0aW5hdGlvbkhlaWdodCA9IHRoaXMuZEg7XG4gICAgICAgIHRoaXMuX3NldHVwRnJhbWVCdWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYXBwbHlUb1dlYkdMKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuc291cmNlSGVpZ2h0ID0gb3B0aW9ucy5kZXN0aW5hdGlvbkhlaWdodDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmFwcGx5VG8yZChvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2NhbGVYID09PSAxICYmIHRoaXMuc2NhbGVZID09PSAxO1xuICAgIH0sXG5cbiAgICBsYW5jem9zQ3JlYXRlOiBmdW5jdGlvbihsb2Jlcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgaWYgKHggPj0gbG9iZXMgfHwgeCA8PSAtbG9iZXMpIHtcbiAgICAgICAgICByZXR1cm4gMC4wO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4IDwgMS4xOTIwOTI5MEUtMDcgJiYgeCA+IC0xLjE5MjA5MjkwRS0wNykge1xuICAgICAgICAgIHJldHVybiAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgeCAqPSBNYXRoLlBJO1xuICAgICAgICB2YXIgeHggPSB4IC8gbG9iZXM7XG4gICAgICAgIHJldHVybiAoc2luKHgpIC8geCkgKiBzaW4oeHgpIC8geHg7XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGZpbHRlciB0byBjYW52YXMgZWxlbWVudFxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0VsIENhbnZhcyBlbGVtZW50IHRvIGFwcGx5IGZpbHRlciB0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVZXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgc2NhbGVYID0gdGhpcy5zY2FsZVgsXG4gICAgICAgICAgc2NhbGVZID0gdGhpcy5zY2FsZVk7XG5cbiAgICAgIHRoaXMucmNwU2NhbGVYID0gMSAvIHNjYWxlWDtcbiAgICAgIHRoaXMucmNwU2NhbGVZID0gMSAvIHNjYWxlWTtcblxuICAgICAgdmFyIG9XID0gaW1hZ2VEYXRhLndpZHRoLCBvSCA9IGltYWdlRGF0YS5oZWlnaHQsXG4gICAgICAgICAgZFcgPSByb3VuZChvVyAqIHNjYWxlWCksIGRIID0gcm91bmQob0ggKiBzY2FsZVkpLFxuICAgICAgICAgIG5ld0RhdGE7XG5cbiAgICAgIGlmICh0aGlzLnJlc2l6ZVR5cGUgPT09ICdzbGljZUhhY2snKSB7XG4gICAgICAgIG5ld0RhdGEgPSB0aGlzLnNsaWNlQnlUd28ob3B0aW9ucywgb1csIG9ILCBkVywgZEgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5yZXNpemVUeXBlID09PSAnaGVybWl0ZScpIHtcbiAgICAgICAgbmV3RGF0YSA9IHRoaXMuaGVybWl0ZUZhc3RSZXNpemUob3B0aW9ucywgb1csIG9ILCBkVywgZEgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5yZXNpemVUeXBlID09PSAnYmlsaW5lYXInKSB7XG4gICAgICAgIG5ld0RhdGEgPSB0aGlzLmJpbGluZWFyRmlsdGVyaW5nKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMucmVzaXplVHlwZSA9PT0gJ2xhbmN6b3MnKSB7XG4gICAgICAgIG5ld0RhdGEgPSB0aGlzLmxhbmN6b3NSZXNpemUob3B0aW9ucywgb1csIG9ILCBkVywgZEgpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5pbWFnZURhdGEgPSBuZXdEYXRhO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgc2xpY2VCeVR3b1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb1cgT3JpZ2luYWwgV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb0ggT3JpZ2luYWwgSGVpZ2h0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRXIERlc3RpbmF0aW9uIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRIIERlc3RpbmF0aW9uIEhlaWdodFxuICAgICAqIEByZXR1cm5zIHtJbWFnZURhdGF9XG4gICAgICovXG4gICAgc2xpY2VCeVR3bzogZnVuY3Rpb24ob3B0aW9ucywgb1csIG9ILCBkVywgZEgpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBtdWx0ID0gMC41LCBkb25lVyA9IGZhbHNlLCBkb25lSCA9IGZhbHNlLCBzdGVwVyA9IG9XICogbXVsdCxcbiAgICAgICAgICBzdGVwSCA9IG9IICogbXVsdCwgcmVzb3VyY2VzID0gZmFicmljLmZpbHRlckJhY2tlbmQucmVzb3VyY2VzLFxuICAgICAgICAgIHRtcENhbnZhcywgY3R4LCBzWCA9IDAsIHNZID0gMCwgZFggPSBvVywgZFkgPSAwO1xuICAgICAgaWYgKCFyZXNvdXJjZXMuc2xpY2VCeVR3bykge1xuICAgICAgICByZXNvdXJjZXMuc2xpY2VCeVR3byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgfVxuICAgICAgdG1wQ2FudmFzID0gcmVzb3VyY2VzLnNsaWNlQnlUd287XG4gICAgICBpZiAodG1wQ2FudmFzLndpZHRoIDwgb1cgKiAxLjUgfHwgdG1wQ2FudmFzLmhlaWdodCA8IG9IKSB7XG4gICAgICAgIHRtcENhbnZhcy53aWR0aCA9IG9XICogMS41O1xuICAgICAgICB0bXBDYW52YXMuaGVpZ2h0ID0gb0g7XG4gICAgICB9XG4gICAgICBjdHggPSB0bXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgb1cgKiAxLjUsIG9IKTtcbiAgICAgIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcblxuICAgICAgZFcgPSBmbG9vcihkVyk7XG4gICAgICBkSCA9IGZsb29yKGRIKTtcblxuICAgICAgd2hpbGUgKCFkb25lVyB8fCAhZG9uZUgpIHtcbiAgICAgICAgb1cgPSBzdGVwVztcbiAgICAgICAgb0ggPSBzdGVwSDtcbiAgICAgICAgaWYgKGRXIDwgZmxvb3Ioc3RlcFcgKiBtdWx0KSkge1xuICAgICAgICAgIHN0ZXBXID0gZmxvb3Ioc3RlcFcgKiBtdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzdGVwVyA9IGRXO1xuICAgICAgICAgIGRvbmVXID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZEggPCBmbG9vcihzdGVwSCAqIG11bHQpKSB7XG4gICAgICAgICAgc3RlcEggPSBmbG9vcihzdGVwSCAqIG11bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHN0ZXBIID0gZEg7XG4gICAgICAgICAgZG9uZUggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodG1wQ2FudmFzLCBzWCwgc1ksIG9XLCBvSCwgZFgsIGRZLCBzdGVwVywgc3RlcEgpO1xuICAgICAgICBzWCA9IGRYO1xuICAgICAgICBzWSA9IGRZO1xuICAgICAgICBkWSArPSBzdGVwSDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKHNYLCBzWSwgZFcsIGRIKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIGxhbmN6b3NSZXNpemVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzRWwgQ2FudmFzIGVsZW1lbnQgdG8gYXBwbHkgZmlsdGVyIHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9XIE9yaWdpbmFsIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9IIE9yaWdpbmFsIEhlaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkVyBEZXN0aW5hdGlvbiBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkSCBEZXN0aW5hdGlvbiBIZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfVxuICAgICAqL1xuICAgIGxhbmN6b3NSZXNpemU6IGZ1bmN0aW9uKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKSB7XG5cbiAgICAgIGZ1bmN0aW9uIHByb2Nlc3ModSkge1xuICAgICAgICB2YXIgdiwgaSwgd2VpZ2h0LCBpZHgsIGEsIHJlZCwgZ3JlZW4sXG4gICAgICAgICAgICBibHVlLCBhbHBoYSwgZlgsIGZZO1xuICAgICAgICBjZW50ZXIueCA9ICh1ICsgMC41KSAqIHJhdGlvWDtcbiAgICAgICAgaWNlbnRlci54ID0gZmxvb3IoY2VudGVyLngpO1xuICAgICAgICBmb3IgKHYgPSAwOyB2IDwgZEg7IHYrKykge1xuICAgICAgICAgIGNlbnRlci55ID0gKHYgKyAwLjUpICogcmF0aW9ZO1xuICAgICAgICAgIGljZW50ZXIueSA9IGZsb29yKGNlbnRlci55KTtcbiAgICAgICAgICBhID0gMDsgcmVkID0gMDsgZ3JlZW4gPSAwOyBibHVlID0gMDsgYWxwaGEgPSAwO1xuICAgICAgICAgIGZvciAoaSA9IGljZW50ZXIueCAtIHJhbmdlMlg7IGkgPD0gaWNlbnRlci54ICsgcmFuZ2UyWDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IDAgfHwgaSA+PSBvVykge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZYID0gZmxvb3IoMTAwMCAqIGFicyhpIC0gY2VudGVyLngpKTtcbiAgICAgICAgICAgIGlmICghY2FjaGVMYW5jW2ZYXSkge1xuICAgICAgICAgICAgICBjYWNoZUxhbmNbZlhdID0geyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGljZW50ZXIueSAtIHJhbmdlMlk7IGogPD0gaWNlbnRlci55ICsgcmFuZ2UyWTsgaisrKSB7XG4gICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBqID49IG9IKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZlkgPSBmbG9vcigxMDAwICogYWJzKGogLSBjZW50ZXIueSkpO1xuICAgICAgICAgICAgICBpZiAoIWNhY2hlTGFuY1tmWF1bZlldKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVMYW5jW2ZYXVtmWV0gPSBsYW5jem9zKHNxcnQocG93KGZYICogcmNwUmF0aW9YLCAyKSArIHBvdyhmWSAqIHJjcFJhdGlvWSwgMikpIC8gMTAwMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2VpZ2h0ID0gY2FjaGVMYW5jW2ZYXVtmWV07XG4gICAgICAgICAgICAgIGlmICh3ZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gKGogKiBvVyArIGkpICogNDtcbiAgICAgICAgICAgICAgICBhICs9IHdlaWdodDtcbiAgICAgICAgICAgICAgICByZWQgKz0gd2VpZ2h0ICogc3JjRGF0YVtpZHhdO1xuICAgICAgICAgICAgICAgIGdyZWVuICs9IHdlaWdodCAqIHNyY0RhdGFbaWR4ICsgMV07XG4gICAgICAgICAgICAgICAgYmx1ZSArPSB3ZWlnaHQgKiBzcmNEYXRhW2lkeCArIDJdO1xuICAgICAgICAgICAgICAgIGFscGhhICs9IHdlaWdodCAqIHNyY0RhdGFbaWR4ICsgM107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWR4ID0gKHYgKiBkVyArIHUpICogNDtcbiAgICAgICAgICBkZXN0RGF0YVtpZHhdID0gcmVkIC8gYTtcbiAgICAgICAgICBkZXN0RGF0YVtpZHggKyAxXSA9IGdyZWVuIC8gYTtcbiAgICAgICAgICBkZXN0RGF0YVtpZHggKyAyXSA9IGJsdWUgLyBhO1xuICAgICAgICAgIGRlc3REYXRhW2lkeCArIDNdID0gYWxwaGEgLyBhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCsrdSA8IGRXKSB7XG4gICAgICAgICAgcmV0dXJuIHByb2Nlc3ModSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGRlc3RJbWc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHNyY0RhdGEgPSBvcHRpb25zLmltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgIGRlc3RJbWcgPSBvcHRpb25zLmN0eC5jcmVhdGVJbWFnZURhdGEoZFcsIGRIKSxcbiAgICAgICAgICBkZXN0RGF0YSA9IGRlc3RJbWcuZGF0YSxcbiAgICAgICAgICBsYW5jem9zID0gdGhpcy5sYW5jem9zQ3JlYXRlKHRoaXMubGFuY3pvc0xvYmVzKSxcbiAgICAgICAgICByYXRpb1ggPSB0aGlzLnJjcFNjYWxlWCwgcmF0aW9ZID0gdGhpcy5yY3BTY2FsZVksXG4gICAgICAgICAgcmNwUmF0aW9YID0gMiAvIHRoaXMucmNwU2NhbGVYLCByY3BSYXRpb1kgPSAyIC8gdGhpcy5yY3BTY2FsZVksXG4gICAgICAgICAgcmFuZ2UyWCA9IGNlaWwocmF0aW9YICogdGhpcy5sYW5jem9zTG9iZXMgLyAyKSxcbiAgICAgICAgICByYW5nZTJZID0gY2VpbChyYXRpb1kgKiB0aGlzLmxhbmN6b3NMb2JlcyAvIDIpLFxuICAgICAgICAgIGNhY2hlTGFuYyA9IHsgfSwgY2VudGVyID0geyB9LCBpY2VudGVyID0geyB9O1xuXG4gICAgICByZXR1cm4gcHJvY2VzcygwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYmlsaW5lYXJGaWx0ZXJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzRWwgQ2FudmFzIGVsZW1lbnQgdG8gYXBwbHkgZmlsdGVyIHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9XIE9yaWdpbmFsIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9IIE9yaWdpbmFsIEhlaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkVyBEZXN0aW5hdGlvbiBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkSCBEZXN0aW5hdGlvbiBIZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfVxuICAgICAqL1xuICAgIGJpbGluZWFyRmlsdGVyaW5nOiBmdW5jdGlvbihvcHRpb25zLCBvVywgb0gsIGRXLCBkSCkge1xuICAgICAgdmFyIGEsIGIsIGMsIGQsIHgsIHksIGksIGosIHhEaWZmLCB5RGlmZiwgY2hubCxcbiAgICAgICAgICBjb2xvciwgb2Zmc2V0ID0gMCwgb3JpZ1BpeCwgcmF0aW9YID0gdGhpcy5yY3BTY2FsZVgsXG4gICAgICAgICAgcmF0aW9ZID0gdGhpcy5yY3BTY2FsZVksXG4gICAgICAgICAgdzQgPSA0ICogKG9XIC0gMSksIGltZyA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIHBpeGVscyA9IGltZy5kYXRhLCBkZXN0SW1hZ2UgPSBvcHRpb25zLmN0eC5jcmVhdGVJbWFnZURhdGEoZFcsIGRIKSxcbiAgICAgICAgICBkZXN0UGl4ZWxzID0gZGVzdEltYWdlLmRhdGE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZEg7IGkrKykge1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgZFc7IGorKykge1xuICAgICAgICAgIHggPSBmbG9vcihyYXRpb1ggKiBqKTtcbiAgICAgICAgICB5ID0gZmxvb3IocmF0aW9ZICogaSk7XG4gICAgICAgICAgeERpZmYgPSByYXRpb1ggKiBqIC0geDtcbiAgICAgICAgICB5RGlmZiA9IHJhdGlvWSAqIGkgLSB5O1xuICAgICAgICAgIG9yaWdQaXggPSA0ICogKHkgKiBvVyArIHgpO1xuXG4gICAgICAgICAgZm9yIChjaG5sID0gMDsgY2hubCA8IDQ7IGNobmwrKykge1xuICAgICAgICAgICAgYSA9IHBpeGVsc1tvcmlnUGl4ICsgY2hubF07XG4gICAgICAgICAgICBiID0gcGl4ZWxzW29yaWdQaXggKyA0ICsgY2hubF07XG4gICAgICAgICAgICBjID0gcGl4ZWxzW29yaWdQaXggKyB3NCArIGNobmxdO1xuICAgICAgICAgICAgZCA9IHBpeGVsc1tvcmlnUGl4ICsgdzQgKyA0ICsgY2hubF07XG4gICAgICAgICAgICBjb2xvciA9IGEgKiAoMSAtIHhEaWZmKSAqICgxIC0geURpZmYpICsgYiAqIHhEaWZmICogKDEgLSB5RGlmZikgK1xuICAgICAgICAgICAgICAgICAgICBjICogeURpZmYgKiAoMSAtIHhEaWZmKSArIGQgKiB4RGlmZiAqIHlEaWZmO1xuICAgICAgICAgICAgZGVzdFBpeGVsc1tvZmZzZXQrK10gPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXN0SW1hZ2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhlcm1pdGVGYXN0UmVzaXplXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0VsIENhbnZhcyBlbGVtZW50IHRvIGFwcGx5IGZpbHRlciB0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvVyBPcmlnaW5hbCBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvSCBPcmlnaW5hbCBIZWlnaHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZFcgRGVzdGluYXRpb24gV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZEggRGVzdGluYXRpb24gSGVpZ2h0XG4gICAgICogQHJldHVybnMge0ltYWdlRGF0YX1cbiAgICAgKi9cbiAgICBoZXJtaXRlRmFzdFJlc2l6ZTogZnVuY3Rpb24ob3B0aW9ucywgb1csIG9ILCBkVywgZEgpIHtcbiAgICAgIHZhciByYXRpb1cgPSB0aGlzLnJjcFNjYWxlWCwgcmF0aW9IID0gdGhpcy5yY3BTY2FsZVksXG4gICAgICAgICAgcmF0aW9XSGFsZiA9IGNlaWwocmF0aW9XIC8gMiksXG4gICAgICAgICAgcmF0aW9ISGFsZiA9IGNlaWwocmF0aW9IIC8gMiksXG4gICAgICAgICAgaW1nID0gb3B0aW9ucy5pbWFnZURhdGEsIGRhdGEgPSBpbWcuZGF0YSxcbiAgICAgICAgICBpbWcyID0gb3B0aW9ucy5jdHguY3JlYXRlSW1hZ2VEYXRhKGRXLCBkSCksIGRhdGEyID0gaW1nMi5kYXRhO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkSDsgaisrKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZFc7IGkrKykge1xuICAgICAgICAgIHZhciB4MiA9IChpICsgaiAqIGRXKSAqIDQsIHdlaWdodCA9IDAsIHdlaWdodHMgPSAwLCB3ZWlnaHRzQWxwaGEgPSAwLFxuICAgICAgICAgICAgICBneFIgPSAwLCBneEcgPSAwLCBneEIgPSAwLCBneEEgPSAwLCBjZW50ZXJZID0gKGogKyAwLjUpICogcmF0aW9IO1xuICAgICAgICAgIGZvciAodmFyIHl5ID0gZmxvb3IoaiAqIHJhdGlvSCk7IHl5IDwgKGogKyAxKSAqIHJhdGlvSDsgeXkrKykge1xuICAgICAgICAgICAgdmFyIGR5ID0gYWJzKGNlbnRlclkgLSAoeXkgKyAwLjUpKSAvIHJhdGlvSEhhbGYsXG4gICAgICAgICAgICAgICAgY2VudGVyWCA9IChpICsgMC41KSAqIHJhdGlvVywgdzAgPSBkeSAqIGR5O1xuICAgICAgICAgICAgZm9yICh2YXIgeHggPSBmbG9vcihpICogcmF0aW9XKTsgeHggPCAoaSArIDEpICogcmF0aW9XOyB4eCsrKSB7XG4gICAgICAgICAgICAgIHZhciBkeCA9IGFicyhjZW50ZXJYIC0gKHh4ICsgMC41KSkgLyByYXRpb1dIYWxmLFxuICAgICAgICAgICAgICAgICAgdyA9IHNxcnQodzAgKyBkeCAqIGR4KTtcbiAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWRlcHRoICovXG4gICAgICAgICAgICAgIGlmICh3ID4gMSAmJiB3IDwgLTEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvL2hlcm1pdGUgZmlsdGVyXG4gICAgICAgICAgICAgIHdlaWdodCA9IDIgKiB3ICogdyAqIHcgLSAzICogdyAqIHcgKyAxO1xuICAgICAgICAgICAgICBpZiAod2VpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIGR4ID0gNCAqICh4eCArIHl5ICogb1cpO1xuICAgICAgICAgICAgICAgIC8vYWxwaGFcbiAgICAgICAgICAgICAgICBneEEgKz0gd2VpZ2h0ICogZGF0YVtkeCArIDNdO1xuICAgICAgICAgICAgICAgIHdlaWdodHNBbHBoYSArPSB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy9jb2xvcnNcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtkeCArIDNdIDwgMjU1KSB7XG4gICAgICAgICAgICAgICAgICB3ZWlnaHQgPSB3ZWlnaHQgKiBkYXRhW2R4ICsgM10gLyAyNTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGd4UiArPSB3ZWlnaHQgKiBkYXRhW2R4XTtcbiAgICAgICAgICAgICAgICBneEcgKz0gd2VpZ2h0ICogZGF0YVtkeCArIDFdO1xuICAgICAgICAgICAgICAgIGd4QiArPSB3ZWlnaHQgKiBkYXRhW2R4ICsgMl07XG4gICAgICAgICAgICAgICAgd2VpZ2h0cyArPSB3ZWlnaHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtZGVwdGggKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YTJbeDJdID0gZ3hSIC8gd2VpZ2h0cztcbiAgICAgICAgICBkYXRhMlt4MiArIDFdID0gZ3hHIC8gd2VpZ2h0cztcbiAgICAgICAgICBkYXRhMlt4MiArIDJdID0gZ3hCIC8gd2VpZ2h0cztcbiAgICAgICAgICBkYXRhMlt4MiArIDNdID0gZ3hBIC8gd2VpZ2h0c0FscGhhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW1nMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgc2NhbGVYOiB0aGlzLnNjYWxlWCxcbiAgICAgICAgc2NhbGVZOiB0aGlzLnNjYWxlWSxcbiAgICAgICAgcmVzaXplVHlwZTogdGhpcy5yZXNpemVUeXBlLFxuICAgICAgICBsYW5jem9zTG9iZXM6IHRoaXMubGFuY3pvc0xvYmVzXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemV9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBDb250cmFzdCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdCh7XG4gICAqICAgY29udHJhc3Q6IDAuMjVcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5Db250cmFzdCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0NvbnRyYXN0JyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdUNvbnRyYXN0O1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGNvbnRyYXN0RiA9IDEuMDE1ICogKHVDb250cmFzdCArIDEuMCkgLyAoMS4wICogKDEuMDE1IC0gdUNvbnRyYXN0KSk7XFxuJyArXG4gICAgICAgICdjb2xvci5yZ2IgPSBjb250cmFzdEYgKiAoY29sb3IucmdiIC0gMC41KSArIDAuNTtcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogY29udHJhc3QgdmFsdWUsIHJhbmdlIGZyb20gLTEgdG8gMS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29udHJhc3RcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgY29udHJhc3Q6IDAsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnY29udHJhc3QnLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3QucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb250cmFzdD0wXSBWYWx1ZSB0byBjb250cmFzdCB0aGUgaW1hZ2UgdXAgKC0xLi4uMSlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAgKiBBcHBseSB0aGUgQ29udHJhc3Qgb3BlcmF0aW9uIHRvIGEgVWludDhBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRyYXN0ID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSwgaSwgbGVuLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgY29udHJhc3QgPSBNYXRoLmZsb29yKHRoaXMuY29udHJhc3QgKiAyNTUpLFxuICAgICAgICAgIGNvbnRyYXN0RiA9IDI1OSAqIChjb250cmFzdCArIDI1NSkgLyAoMjU1ICogKDI1OSAtIGNvbnRyYXN0KSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBkYXRhW2ldID0gY29udHJhc3RGICogKGRhdGFbaV0gLSAxMjgpICsgMTI4O1xuICAgICAgICBkYXRhW2kgKyAxXSA9IGNvbnRyYXN0RiAqIChkYXRhW2kgKyAxXSAtIDEyOCkgKyAxMjg7XG4gICAgICAgIGRhdGFbaSArIDJdID0gY29udHJhc3RGICogKGRhdGFbaSArIDJdIC0gMTI4KSArIDEyODtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVDb250cmFzdDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1Q29udHJhc3QnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVDb250cmFzdCwgdGhpcy5jb250cmFzdCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdH0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3RcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0LmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBTYXR1cmF0ZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvbiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvbih7XG4gICAqICAgc2F0dXJhdGlvbjogMVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLlNhdHVyYXRpb24gPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1NhdHVyYXRpb24nLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBmbG9hdCB1U2F0dXJhdGlvbjtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdmbG9hdCByZ01heCA9IG1heChjb2xvci5yLCBjb2xvci5nKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IHJnYk1heCA9IG1heChyZ01heCwgY29sb3IuYik7XFxuJyArXG4gICAgICAgICdjb2xvci5yICs9IHJnYk1heCAhPSBjb2xvci5yID8gKHJnYk1heCAtIGNvbG9yLnIpICogdVNhdHVyYXRpb24gOiAwLjAwO1xcbicgK1xuICAgICAgICAnY29sb3IuZyArPSByZ2JNYXggIT0gY29sb3IuZyA/IChyZ2JNYXggLSBjb2xvci5nKSAqIHVTYXR1cmF0aW9uIDogMC4wMDtcXG4nICtcbiAgICAgICAgJ2NvbG9yLmIgKz0gcmdiTWF4ICE9IGNvbG9yLmIgPyAocmdiTWF4IC0gY29sb3IuYikgKiB1U2F0dXJhdGlvbiA6IDAuMDA7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIFNhdHVyYXRpb24gdmFsdWUsIGZyb20gLTEgdG8gMS5cbiAgICAgKiBJbmNyZWFzZXMvZGVjcmVhc2VzIHRoZSBjb2xvciBzYXR1cmF0aW9uLlxuICAgICAqIEEgdmFsdWUgb2YgMCBoYXMgbm8gZWZmZWN0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzYXR1cmF0aW9uXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzYXR1cmF0aW9uOiAwLFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ3NhdHVyYXRpb24nLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zYXR1cmF0ZT0wXSBWYWx1ZSB0byBzYXR1cmF0ZSB0aGUgaW1hZ2UgKC0xLi4uMSlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBTYXR1cmF0aW9uIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuc2F0dXJhdGlvbiA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICBhZGp1c3QgPSAtdGhpcy5zYXR1cmF0aW9uLCBpLCBtYXg7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBtYXggPSBNYXRoLm1heChkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0pO1xuICAgICAgICBkYXRhW2ldICs9IG1heCAhPT0gZGF0YVtpXSA/IChtYXggLSBkYXRhW2ldKSAqIGFkanVzdCA6IDA7XG4gICAgICAgIGRhdGFbaSArIDFdICs9IG1heCAhPT0gZGF0YVtpICsgMV0gPyAobWF4IC0gZGF0YVtpICsgMV0pICogYWRqdXN0IDogMDtcbiAgICAgICAgZGF0YVtpICsgMl0gKz0gbWF4ICE9PSBkYXRhW2kgKyAyXSA/IChtYXggLSBkYXRhW2kgKyAyXSkgKiBhZGp1c3QgOiAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdVNhdHVyYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVNhdHVyYXRpb24nKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVTYXR1cmF0aW9uLCAtdGhpcy5zYXR1cmF0aW9uKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRpb259IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0aW9uLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBWaWJyYW5jZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5WaWJyYW5jZSh7XG4gICAqICAgdmlicmFuY2U6IDFcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5WaWJyYW5jZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5WaWJyYW5jZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1ZpYnJhbmNlJyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdVZpYnJhbmNlO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IG1heCA9IG1heChjb2xvci5yLCBtYXgoY29sb3IuZywgY29sb3IuYikpO1xcbicgK1xuICAgICAgICAnZmxvYXQgYXZnID0gKGNvbG9yLnIgKyBjb2xvci5nICsgY29sb3IuYikgLyAzLjA7XFxuJyArXG4gICAgICAgICdmbG9hdCBhbXQgPSAoYWJzKG1heCAtIGF2ZykgKiAyLjApICogdVZpYnJhbmNlO1xcbicgK1xuICAgICAgICAnY29sb3IuciArPSBtYXggIT0gY29sb3IuciA/IChtYXggLSBjb2xvci5yKSAqIGFtdCA6IDAuMDA7XFxuJyArXG4gICAgICAgICdjb2xvci5nICs9IG1heCAhPSBjb2xvci5nID8gKG1heCAtIGNvbG9yLmcpICogYW10IDogMC4wMDtcXG4nICtcbiAgICAgICAgJ2NvbG9yLmIgKz0gbWF4ICE9IGNvbG9yLmIgPyAobWF4IC0gY29sb3IuYikgKiBhbXQgOiAwLjAwO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBWaWJyYW5jZSB2YWx1ZSwgZnJvbSAtMSB0byAxLlxuICAgICAqIEluY3JlYXNlcy9kZWNyZWFzZXMgdGhlIHNhdHVyYXRpb24gb2YgbW9yZSBtdXRlZCBjb2xvcnMgd2l0aCBsZXNzIGVmZmVjdCBvbiBzYXR1cmF0ZWQgY29sb3JzLlxuICAgICAqIEEgdmFsdWUgb2YgMCBoYXMgbm8gZWZmZWN0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2aWJyYW5jZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdmlicmFuY2U6IDAsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAndmlicmFuY2UnLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuVmlicmFuY2UucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy52aWJyYW5jZT0wXSBWaWJyYW5jZSB2YWx1ZSBmb3IgdGhlIGltYWdlIChiZXR3ZWVuIC0xIGFuZCAxKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIFZpYnJhbmNlIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMudmlicmFuY2UgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgYWRqdXN0ID0gLXRoaXMudmlicmFuY2UsIGksIG1heCwgYXZnLCBhbXQ7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBtYXggPSBNYXRoLm1heChkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0pO1xuICAgICAgICBhdmcgPSAoZGF0YVtpXSArIGRhdGFbaSArIDFdICsgZGF0YVtpICsgMl0pIC8gMztcbiAgICAgICAgYW10ID0gKChNYXRoLmFicyhtYXggLSBhdmcpICogMiAvIDI1NSkgKiBhZGp1c3QpO1xuICAgICAgICBkYXRhW2ldICs9IG1heCAhPT0gZGF0YVtpXSA/IChtYXggLSBkYXRhW2ldKSAqIGFtdCA6IDA7XG4gICAgICAgIGRhdGFbaSArIDFdICs9IG1heCAhPT0gZGF0YVtpICsgMV0gPyAobWF4IC0gZGF0YVtpICsgMV0pICogYW10IDogMDtcbiAgICAgICAgZGF0YVtpICsgMl0gKz0gbWF4ICE9PSBkYXRhW2kgKyAyXSA/IChtYXggLSBkYXRhW2kgKyAyXSkgKiBhbXQgOiAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdVZpYnJhbmNlOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VWaWJyYW5jZScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudVZpYnJhbmNlLCAtdGhpcy52aWJyYW5jZSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5WaWJyYW5jZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuVmlicmFuY2VcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBCbHVyIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQmx1clxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbHVyI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbHVyKHtcbiAgICogICBibHVyOiAwLjVcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqL1xuICBmaWx0ZXJzLkJsdXIgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmx1ci5wcm90b3R5cGUgKi8ge1xuXG4gICAgdHlwZTogJ0JsdXInLFxuXG4gICAgLypcbidnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC03ICogdURlbHRhKSowLjAwNDQyOTkxMjEwNTUxMTMyNjU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC02ICogdURlbHRhKSowLjAwODk1NzgxMjExNzk0OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtNSAqIHVEZWx0YSkqMC4wMjE1OTYzODY2MDUzOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtNCAqIHVEZWx0YSkqMC4wNDQzNjgzMzM4NzE4OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtMyAqIHVEZWx0YSkqMC4wNzc2NzQ0MjE5OTMzOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtMiAqIHVEZWx0YSkqMC4xMTU4NzY2MjExMDU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC0xICogdURlbHRhKSowLjE0NzMwODA1NjEyMTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICAgICAgICAgICAgICApKjAuMTU5NTc2OTEyMTYxOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAxICogdURlbHRhKSowLjE0NzMwODA1NjEyMTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgMiAqIHVEZWx0YSkqMC4xMTU4NzY2MjExMDU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDMgKiB1RGVsdGEpKjAuMDc3Njc0NDIxOTkzMzsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgNCAqIHVEZWx0YSkqMC4wNDQzNjgzMzM4NzE4OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyA1ICogdURlbHRhKSowLjAyMTU5NjM4NjYwNTM7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDYgKiB1RGVsdGEpKjAuMDA4OTU3ODEyMTE3OTQ7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDcgKiB1RGVsdGEpKjAuMDA0NDI5OTEyMTA1NTExMzI2NTsnLFxuKi9cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzIgdURlbHRhO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAnY29uc3QgZmxvYXQgblNhbXBsZXMgPSAxNS4wO1xcbicgK1xuICAgICAgJ3ZlYzMgdjNvZmZzZXQgPSB2ZWMzKDEyLjk4OTgsIDc4LjIzMywgMTUxLjcxODIpO1xcbicgK1xuICAgICAgJ2Zsb2F0IHJhbmRvbSh2ZWMzIHNjYWxlKSB7XFxuJyArXG4gICAgICAgIC8qIHVzZSB0aGUgZnJhZ21lbnQgcG9zaXRpb24gZm9yIGEgZGlmZmVyZW50IHNlZWQgcGVyLXBpeGVsICovXG4gICAgICAgICdyZXR1cm4gZnJhY3Qoc2luKGRvdChnbF9GcmFnQ29vcmQueHl6LCBzY2FsZSkpICogNDM3NTguNTQ1Myk7XFxuJyArXG4gICAgICAnfVxcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAuMCk7XFxuJyArXG4gICAgICAgICdmbG9hdCB0b3RhbCA9IDAuMDtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IG9mZnNldCA9IHJhbmRvbSh2M29mZnNldCk7XFxuJyArXG4gICAgICAgICdmb3IgKGZsb2F0IHQgPSAtblNhbXBsZXM7IHQgPD0gblNhbXBsZXM7IHQrKykge1xcbicgK1xuICAgICAgICAgICdmbG9hdCBwZXJjZW50ID0gKHQgKyBvZmZzZXQgLSAwLjUpIC8gblNhbXBsZXM7XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IHdlaWdodCA9IDEuMCAtIGFicyhwZXJjZW50KTtcXG4nICtcbiAgICAgICAgICAnY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyB1RGVsdGEgKiBwZXJjZW50KSAqIHdlaWdodDtcXG4nICtcbiAgICAgICAgICAndG90YWwgKz0gd2VpZ2h0O1xcbicgK1xuICAgICAgICAnfVxcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3IgLyB0b3RhbDtcXG4nICtcbiAgICAgICd9JyxcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgIC8qKlxuICAgICAqIGJsdXIgdmFsdWUsIGluIHBlcmNlbnRhZ2Ugb2YgaW1hZ2UgZGltZW5zaW9ucy5cbiAgICAgKiBzcGVjaWZpYyB0byBrZWVwIHRoZSBpbWFnZSBibHVyIGNvbnN0YW50IGF0IGRpZmZlcmVudCByZXNvbHV0aW9uc1xuICAgICAqIHJhbmdlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJsdXI6IDAsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnYmx1cicsXG5cbiAgICBhcHBseVRvOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy53ZWJnbCkge1xuICAgICAgICAvLyB0aGlzIGFzcGVjdFJhdGlvIGlzIHVzZWQgdG8gZ2l2ZSB0aGUgc2FtZSBibHVyIHRvIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsXG4gICAgICAgIHRoaXMuYXNwZWN0UmF0aW8gPSBvcHRpb25zLnNvdXJjZVdpZHRoIC8gb3B0aW9ucy5zb3VyY2VIZWlnaHQ7XG4gICAgICAgIG9wdGlvbnMucGFzc2VzKys7XG4gICAgICAgIHRoaXMuX3NldHVwRnJhbWVCdWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IHRydWU7XG4gICAgICAgIHRoaXMuYXBwbHlUb1dlYkdMKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3NldHVwRnJhbWVCdWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFwcGx5VG9XZWJHTChvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fc3dhcFRleHR1cmVzKG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYXBwbHlUbzJkKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIC8vIHBhaW50IGNhbnZhc0VsIHdpdGggY3VycmVudCBpbWFnZSBkYXRhLlxuICAgICAgLy9vcHRpb25zLmN0eC5wdXRJbWFnZURhdGEob3B0aW9ucy5pbWFnZURhdGEsIDAsIDApO1xuICAgICAgb3B0aW9ucy5pbWFnZURhdGEgPSB0aGlzLnNpbXBsZUJsdXIob3B0aW9ucyk7XG4gICAgfSxcblxuICAgIHNpbXBsZUJsdXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciByZXNvdXJjZXMgPSBvcHRpb25zLmZpbHRlckJhY2tlbmQucmVzb3VyY2VzLCBjYW52YXMxLCBjYW52YXMyLFxuICAgICAgICAgIHdpZHRoID0gb3B0aW9ucy5pbWFnZURhdGEud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gb3B0aW9ucy5pbWFnZURhdGEuaGVpZ2h0O1xuXG4gICAgICBpZiAoIXJlc291cmNlcy5ibHVyTGF5ZXIxKSB7XG4gICAgICAgIHJlc291cmNlcy5ibHVyTGF5ZXIxID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgICByZXNvdXJjZXMuYmx1ckxheWVyMiA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIH1cbiAgICAgIGNhbnZhczEgPSByZXNvdXJjZXMuYmx1ckxheWVyMTtcbiAgICAgIGNhbnZhczIgPSByZXNvdXJjZXMuYmx1ckxheWVyMjtcbiAgICAgIGlmIChjYW52YXMxLndpZHRoICE9PSB3aWR0aCB8fCBjYW52YXMxLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgIGNhbnZhczIud2lkdGggPSBjYW52YXMxLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhczIuaGVpZ2h0ID0gY2FudmFzMS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9XG4gICAgICB2YXIgY3R4MSA9IGNhbnZhczEuZ2V0Q29udGV4dCgnMmQnKSxcbiAgICAgICAgICBjdHgyID0gY2FudmFzMi5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICAgIG5TYW1wbGVzID0gMTUsXG4gICAgICAgICAgcmFuZG9tLCBwZXJjZW50LCBqLCBpLFxuICAgICAgICAgIGJsdXIgPSB0aGlzLmJsdXIgKiAwLjA2ICogMC41O1xuXG4gICAgICAvLyBsb2FkIGZpcnN0IGNhbnZhc1xuICAgICAgY3R4MS5wdXRJbWFnZURhdGEob3B0aW9ucy5pbWFnZURhdGEsIDAsIDApO1xuICAgICAgY3R4Mi5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgIGZvciAoaSA9IC1uU2FtcGxlczsgaSA8PSBuU2FtcGxlczsgaSsrKSB7XG4gICAgICAgIHJhbmRvbSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAvIDQ7XG4gICAgICAgIHBlcmNlbnQgPSBpIC8gblNhbXBsZXM7XG4gICAgICAgIGogPSBibHVyICogcGVyY2VudCAqIHdpZHRoICsgcmFuZG9tO1xuICAgICAgICBjdHgyLmdsb2JhbEFscGhhID0gMSAtIE1hdGguYWJzKHBlcmNlbnQpO1xuICAgICAgICBjdHgyLmRyYXdJbWFnZShjYW52YXMxLCBqLCByYW5kb20pO1xuICAgICAgICBjdHgxLmRyYXdJbWFnZShjYW52YXMyLCAwLCAwKTtcbiAgICAgICAgY3R4Mi5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIGN0eDIuY2xlYXJSZWN0KDAsIDAsIGNhbnZhczIud2lkdGgsIGNhbnZhczIuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IC1uU2FtcGxlczsgaSA8PSBuU2FtcGxlczsgaSsrKSB7XG4gICAgICAgIHJhbmRvbSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAvIDQ7XG4gICAgICAgIHBlcmNlbnQgPSBpIC8gblNhbXBsZXM7XG4gICAgICAgIGogPSBibHVyICogcGVyY2VudCAqIGhlaWdodCArIHJhbmRvbTtcbiAgICAgICAgY3R4Mi5nbG9iYWxBbHBoYSA9IDEgLSBNYXRoLmFicyhwZXJjZW50KTtcbiAgICAgICAgY3R4Mi5kcmF3SW1hZ2UoY2FudmFzMSwgcmFuZG9tLCBqKTtcbiAgICAgICAgY3R4MS5kcmF3SW1hZ2UoY2FudmFzMiwgMCwgMCk7XG4gICAgICAgIGN0eDIuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjdHgyLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMyLndpZHRoLCBjYW52YXMyLmhlaWdodCk7XG4gICAgICB9XG4gICAgICBvcHRpb25zLmN0eC5kcmF3SW1hZ2UoY2FudmFzMSwgMCwgMCk7XG4gICAgICB2YXIgbmV3SW1hZ2VEYXRhID0gb3B0aW9ucy5jdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhczEud2lkdGgsIGNhbnZhczEuaGVpZ2h0KTtcbiAgICAgIGN0eDEuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgY3R4MS5jbGVhclJlY3QoMCwgMCwgY2FudmFzMS53aWR0aCwgY2FudmFzMS5oZWlnaHQpO1xuICAgICAgcmV0dXJuIG5ld0ltYWdlRGF0YTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlbHRhOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VEZWx0YScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgdmFyIGRlbHRhID0gdGhpcy5jaG9vc2VSaWdodERlbHRhKCk7XG4gICAgICBnbC51bmlmb3JtMmZ2KHVuaWZvcm1Mb2NhdGlvbnMuZGVsdGEsIGRlbHRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2hvb3NlIHJpZ2h0IHZhbHVlIG9mIGltYWdlIHBlcmNlbnRhZ2UgdG8gYmx1ciB3aXRoXG4gICAgICogQHJldHVybnMge0FycmF5fSBhIG51bWVyaWMgYXJyYXkgd2l0aCBkZWx0YSB2YWx1ZXNcbiAgICAgKi9cbiAgICBjaG9vc2VSaWdodERlbHRhOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBibHVyU2NhbGUgPSAxLCBkZWx0YSA9IFswLCAwXSwgYmx1cjtcbiAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuYXNwZWN0UmF0aW8gPiAxKSB7XG4gICAgICAgICAgLy8gaW1hZ2UgaXMgd2lkZSwgaSB3YW50IHRvIHNocmluayByYWRpdXMgaG9yaXpvbnRhbFxuICAgICAgICAgIGJsdXJTY2FsZSA9IDEgLyB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuYXNwZWN0UmF0aW8gPCAxKSB7XG4gICAgICAgICAgLy8gaW1hZ2UgaXMgdGFsbCwgaSB3YW50IHRvIHNocmluayByYWRpdXMgdmVydGljYWxcbiAgICAgICAgICBibHVyU2NhbGUgPSB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBibHVyID0gYmx1clNjYWxlICogdGhpcy5ibHVyICogMC4xMjtcbiAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgZGVsdGFbMF0gPSBibHVyO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRlbHRhWzFdID0gYmx1cjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWx0YTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogRGVzZXJpYWxpemUgYSBKU09OIGRlZmluaXRpb24gb2YgYSBCbHVyRmlsdGVyIGludG8gYSBjb25jcmV0ZSBpbnN0YW5jZS5cbiAgICovXG4gIGZpbHRlcnMuQmx1ci5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogR2FtbWEgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWEoe1xuICAgKiAgIGdhbW1hOiBbMSwgMC41LCAyLjFdXG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICovXG4gIGZpbHRlcnMuR2FtbWEgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWEucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdHYW1tYScsXG5cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzMgdUdhbW1hO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ3ZlYzMgY29ycmVjdGlvbiA9ICgxLjAgLyB1R2FtbWEpO1xcbicgK1xuICAgICAgICAnY29sb3IuciA9IHBvdyhjb2xvci5yLCBjb3JyZWN0aW9uLnIpO1xcbicgK1xuICAgICAgICAnY29sb3IuZyA9IHBvdyhjb2xvci5nLCBjb3JyZWN0aW9uLmcpO1xcbicgK1xuICAgICAgICAnY29sb3IuYiA9IHBvdyhjb2xvci5iLCBjb3JyZWN0aW9uLmIpO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IucmdiICo9IGNvbG9yLmE7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBHYW1tYSBhcnJheSB2YWx1ZSwgZnJvbSAwLjAxIHRvIDIuMi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBnYW1tYVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZ2FtbWE6IFsxLCAxLCAxXSxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIHRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1haW5QYXJhbWV0ZXI6ICdnYW1tYScsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmdhbW1hID0gWzEsIDEsIDFdO1xuICAgICAgZmlsdGVycy5CYXNlRmlsdGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBHYW1tYSBvcGVyYXRpb24gdG8gYSBVaW50OEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4QXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICBnYW1tYSA9IHRoaXMuZ2FtbWEsIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIHJJbnYgPSAxIC8gZ2FtbWFbMF0sIGdJbnYgPSAxIC8gZ2FtbWFbMV0sXG4gICAgICAgICAgYkludiA9IDEgLyBnYW1tYVsyXSwgaTtcblxuICAgICAgaWYgKCF0aGlzLnJWYWxzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICB0aGlzLnJWYWxzID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHRoaXMuZ1ZhbHMgPSBuZXcgVWludDhBcnJheSgyNTYpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgdGhpcy5iVmFscyA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgaXMgYW4gb3B0aW1pemF0aW9uIC0gcHJlLWNvbXB1dGUgYSBsb29rLXVwIHRhYmxlIGZvciBlYWNoIGNvbG9yIGNoYW5uZWxcbiAgICAgIC8vIGluc3RlYWQgb2YgcGVyZm9ybWluZyB0aGVzZSBwb3cgY2FsbHMgZm9yIGVhY2ggcGl4ZWwgaW4gdGhlIGltYWdlLlxuICAgICAgZm9yIChpID0gMCwgbGVuID0gMjU2OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdGhpcy5yVmFsc1tpXSA9IE1hdGgucG93KGkgLyAyNTUsIHJJbnYpICogMjU1O1xuICAgICAgICB0aGlzLmdWYWxzW2ldID0gTWF0aC5wb3coaSAvIDI1NSwgZ0ludikgKiAyNTU7XG4gICAgICAgIHRoaXMuYlZhbHNbaV0gPSBNYXRoLnBvdyhpIC8gMjU1LCBiSW52KSAqIDI1NTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZGF0YVtpXSA9IHRoaXMuclZhbHNbZGF0YVtpXV07XG4gICAgICAgIGRhdGFbaSArIDFdID0gdGhpcy5nVmFsc1tkYXRhW2kgKyAxXV07XG4gICAgICAgIGRhdGFbaSArIDJdID0gdGhpcy5iVmFsc1tkYXRhW2kgKyAyXV07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1R2FtbWE6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUdhbW1hJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtM2Z2KHVuaWZvcm1Mb2NhdGlvbnMudUdhbW1hLCB0aGlzLmdhbW1hKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkdhbW1hfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWEuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEEgY29udGFpbmVyIGNsYXNzIHRoYXQga25vd3MgaG93IHRvIGFwcGx5IGEgc2VxdWVuY2Ugb2YgZmlsdGVycyB0byBhbiBpbnB1dCBpbWFnZS5cbiAgICovXG4gIGZpbHRlcnMuQ29tcG9zZWQgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQ29tcG9zZWQucHJvdG90eXBlICovIHtcblxuICAgIHR5cGU6ICdDb21wb3NlZCcsXG5cbiAgICAvKipcbiAgICAgKiBBIG5vbiBzcGFyc2UgYXJyYXkgb2YgZmlsdGVycyB0byBhcHBseVxuICAgICAqL1xuICAgIHN1YkZpbHRlcnM6IFtdLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBhcnJheSBpbnN0ZWFkIG11dGF0aW5nIHRoZSBwcm90b3R5cGUgd2l0aCBwdXNoXG4gICAgICB0aGlzLnN1YkZpbHRlcnMgPSB0aGlzLnN1YkZpbHRlcnMuc2xpY2UoMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoaXMgY29udGFpbmVyJ3MgZmlsdGVycyB0byB0aGUgaW5wdXQgaW1hZ2UgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhc3NlcyBUaGUgbnVtYmVyIG9mIGZpbHRlcnMgcmVtYWluaW5nIHRvIGJlIGFwcGxpZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5wYXNzZXMgKz0gdGhpcy5zdWJGaWx0ZXJzLmxlbmd0aCAtIDE7XG4gICAgICB0aGlzLnN1YkZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbihmaWx0ZXIpIHtcbiAgICAgICAgZmlsdGVyLmFwcGx5VG8ob3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIHRoaXMgZmlsdGVyIGludG8gSlNPTi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGZpbHRlci5cbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnKSwge1xuICAgICAgICBzdWJGaWx0ZXJzOiB0aGlzLnN1YkZpbHRlcnMubWFwKGZ1bmN0aW9uKGZpbHRlcikgeyByZXR1cm4gZmlsdGVyLnRvT2JqZWN0KCk7IH0pLFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhdGhpcy5zdWJGaWx0ZXJzLnNvbWUoZnVuY3Rpb24oZmlsdGVyKSB7IHJldHVybiAhZmlsdGVyLmlzTmV1dHJhbFN0YXRlKCk7IH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIERlc2VyaWFsaXplIGEgSlNPTiBkZWZpbml0aW9uIG9mIGEgQ29tcG9zZWRGaWx0ZXIgaW50byBhIGNvbmNyZXRlIGluc3RhbmNlLlxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQ29tcG9zZWQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZmlsdGVycyA9IG9iamVjdC5zdWJGaWx0ZXJzIHx8IFtdLFxuICAgICAgICBzdWJGaWx0ZXJzID0gZmlsdGVycy5tYXAoZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVyc1tmaWx0ZXIudHlwZV0oZmlsdGVyKTtcbiAgICAgICAgfSksXG4gICAgICAgIGluc3RhbmNlID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbXBvc2VkKHsgc3ViRmlsdGVyczogc3ViRmlsdGVycyB9KTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhpbnN0YW5jZSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEh1ZVJvdGF0aW9uIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb24jaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkh1ZVJvdGF0aW9uKHtcbiAgICogICByb3RhdGlvbjogLTAuNVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLkh1ZVJvdGF0aW9uID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5Db2xvck1hdHJpeCwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0h1ZVJvdGF0aW9uJyxcblxuICAgIC8qKlxuICAgICAqIEh1ZVJvdGF0aW9uIHZhbHVlLCBmcm9tIC0xIHRvIDEuXG4gICAgICogdGhlIHVuaXQgaXMgcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBteVBhcmFtZXRlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcm90YXRpb246IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSB0aGUgcHJvcGVydHkgdGhhdCBpcyB0aGUgZmlsdGVyIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtYWluUGFyYW1ldGVyOiAncm90YXRpb24nLFxuXG4gICAgY2FsY3VsYXRlTWF0cml4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByYWQgPSB0aGlzLnJvdGF0aW9uICogTWF0aC5QSSwgY29zID0gZmFicmljLnV0aWwuY29zKHJhZCksIHNpbiA9IGZhYnJpYy51dGlsLnNpbihyYWQpLFxuICAgICAgICAgIGFUaGlyZCA9IDEgLyAzLCBhVGhpcmRTcXRTaW4gPSBNYXRoLnNxcnQoYVRoaXJkKSAqIHNpbiwgT25lTWludXNDb3MgPSAxIC0gY29zO1xuICAgICAgdGhpcy5tYXRyaXggPSBbXG4gICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICAgIF07XG4gICAgICB0aGlzLm1hdHJpeFswXSA9IGNvcyArIE9uZU1pbnVzQ29zIC8gMztcbiAgICAgIHRoaXMubWF0cml4WzFdID0gYVRoaXJkICogT25lTWludXNDb3MgLSBhVGhpcmRTcXRTaW47XG4gICAgICB0aGlzLm1hdHJpeFsyXSA9IGFUaGlyZCAqIE9uZU1pbnVzQ29zICsgYVRoaXJkU3F0U2luO1xuICAgICAgdGhpcy5tYXRyaXhbNV0gPSBhVGhpcmQgKiBPbmVNaW51c0NvcyArIGFUaGlyZFNxdFNpbjtcbiAgICAgIHRoaXMubWF0cml4WzZdID0gY29zICsgYVRoaXJkICogT25lTWludXNDb3M7XG4gICAgICB0aGlzLm1hdHJpeFs3XSA9IGFUaGlyZCAqIE9uZU1pbnVzQ29zIC0gYVRoaXJkU3F0U2luO1xuICAgICAgdGhpcy5tYXRyaXhbMTBdID0gYVRoaXJkICogT25lTWludXNDb3MgLSBhVGhpcmRTcXRTaW47XG4gICAgICB0aGlzLm1hdHJpeFsxMV0gPSBhVGhpcmQgKiBPbmVNaW51c0NvcyArIGFUaGlyZFNxdFNpbjtcbiAgICAgIHRoaXMubWF0cml4WzEyXSA9IGNvcyArIGFUaGlyZCAqIE9uZU1pbnVzQ29zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIdWVSb3RhdGlvbiBpc05ldXRyYWxTdGF0ZSBpbXBsZW1lbnRhdGlvblxuICAgICAqIFVzZWQgb25seSBpbiBpbWFnZSBhcHBseUZpbHRlcnMgdG8gZGlzY2FyZCBmaWx0ZXJzIHRoYXQgd2lsbCBub3QgaGF2ZSBhbiBlZmZlY3RcbiAgICAgKiBvbiB0aGUgaW1hZ2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqKi9cbiAgICBpc05ldXRyYWxTdGF0ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxjdWxhdGVNYXRyaXgoKTtcbiAgICAgIHJldHVybiBmaWx0ZXJzLkJhc2VGaWx0ZXIucHJvdG90eXBlLmlzTmV1dHJhbFN0YXRlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoaXMgZmlsdGVyIHRvIHRoZSBpbnB1dCBpbWFnZSBkYXRhIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIHVzZSBXZWJHTCBvciBDYW52YXMyRCBiYXNlZCBvbiB0aGUgb3B0aW9ucy53ZWJnbCBmbGFnLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXNzZXMgVGhlIG51bWJlciBvZiBmaWx0ZXJzIHJlbWFpbmluZyB0byBiZSBleGVjdXRlZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy53ZWJnbCBXaGV0aGVyIHRvIHVzZSB3ZWJnbCB0byByZW5kZXIgdGhlIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAgICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IG9wdGlvbnMudGFyZ2V0VGV4dHVyZSBUaGUgdGV4dHVyZSB3aGVyZSBmaWx0ZXJlZCBvdXRwdXQgc2hvdWxkIGJlIGRyYXduLlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgICAqL1xuICAgIGFwcGx5VG86IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlTWF0cml4KCk7XG4gICAgICBmaWx0ZXJzLkJhc2VGaWx0ZXIucHJvdG90eXBlLmFwcGx5VG8uY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb259IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkh1ZVJvdGF0aW9uXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvbi5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZTtcblxuICBpZiAoZmFicmljLlRleHQpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlRleHQgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGFkZGl0aW9uYWxQcm9wcyA9XG4gICAgKCdmb250RmFtaWx5IGZvbnRXZWlnaHQgZm9udFNpemUgdGV4dCB1bmRlcmxpbmUgb3ZlcmxpbmUgbGluZXRocm91Z2gnICtcbiAgICAnIHRleHRBbGlnbiBmb250U3R5bGUgbGluZUhlaWdodCB0ZXh0QmFja2dyb3VuZENvbG9yIGNoYXJTcGFjaW5nIHN0eWxlcycgK1xuICAgICcgZGlyZWN0aW9uIHBhdGggcGF0aFN0YXJ0T2Zmc2V0IHBhdGhTaWRlIHBhdGhBbGlnbicpLnNwbGl0KCcgJyk7XG5cbiAgLyoqXG4gICAqIFRleHQgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5UZXh0XG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLlRleHR9IHRoaXNBcmdcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjdGV4dH1cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlRleHQjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5UZXh0ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuVGV4dC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyB3aGljaCB3aGVuIHNldCBjYXVzZSBvYmplY3QgdG8gY2hhbmdlIGRpbWVuc2lvbnNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzOiBbXG4gICAgICAnZm9udFNpemUnLFxuICAgICAgJ2ZvbnRXZWlnaHQnLFxuICAgICAgJ2ZvbnRGYW1pbHknLFxuICAgICAgJ2ZvbnRTdHlsZScsXG4gICAgICAnbGluZUhlaWdodCcsXG4gICAgICAndGV4dCcsXG4gICAgICAnY2hhclNwYWNpbmcnLFxuICAgICAgJ3RleHRBbGlnbicsXG4gICAgICAnc3R5bGVzJyxcbiAgICAgICdwYXRoJyxcbiAgICAgICdwYXRoU3RhcnRPZmZzZXQnLFxuICAgICAgJ3BhdGhTaWRlJyxcbiAgICAgICdwYXRoQWxpZ24nXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlTmV3bGluZTogL1xccj9cXG4vLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgcmVndWxhciBleHByZXNzaW9uIHRvIGZpbHRlciBmb3Igd2hpdGVzcGFjZXMgdGhhdCBpcyBub3QgYSBuZXcgbGluZS5cbiAgICAgKiBNb3N0bHkgdXNlZCB3aGVuIHRleHQgaXMgJ2p1c3RpZnknIGFsaWduZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVTcGFjZXNBbmRUYWJzOiAvWyBcXHRcXHJdL2csXG5cbiAgICAvKipcbiAgICAgKiBVc2UgdGhpcyByZWd1bGFyIGV4cHJlc3Npb24gdG8gZmlsdGVyIGZvciB3aGl0ZXNwYWNlIHRoYXQgaXMgbm90IGEgbmV3IGxpbmUuXG4gICAgICogTW9zdGx5IHVzZWQgd2hlbiB0ZXh0IGlzICdqdXN0aWZ5JyBhbGlnbmVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlU3BhY2VBbmRUYWI6IC9bIFxcdFxccl0vLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgcmVndWxhciBleHByZXNzaW9uIHRvIGZpbHRlciBjb25zZWN1dGl2ZSBncm91cHMgb2Ygbm9uIHNwYWNlcy5cbiAgICAgKiBNb3N0bHkgdXNlZCB3aGVuIHRleHQgaXMgJ2p1c3RpZnknIGFsaWduZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVXb3JkczogL1xcUysvZyxcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAgICAgICAgICAgICAgICAgJ3RleHQnLFxuXG4gICAgLyoqXG4gICAgICogRm9udCBzaXplIChpbiBwaXhlbHMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmb250U2l6ZTogICAgICAgICAgICAgNDAsXG5cbiAgICAvKipcbiAgICAgKiBGb250IHdlaWdodCAoZS5nLiBib2xkLCBub3JtYWwsIDQwMCwgNjAwLCA4MDApXG4gICAgICogQHR5cGUgeyhOdW1iZXJ8U3RyaW5nKX1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZvbnRXZWlnaHQ6ICAgICAgICAgICAnbm9ybWFsJyxcblxuICAgIC8qKlxuICAgICAqIEZvbnQgZmFtaWx5XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmb250RmFtaWx5OiAgICAgICAgICAgJ1RpbWVzIE5ldyBSb21hbicsXG5cbiAgICAvKipcbiAgICAgKiBUZXh0IGRlY29yYXRpb24gdW5kZXJsaW5lLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHVuZGVybGluZTogICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUZXh0IGRlY29yYXRpb24gb3ZlcmxpbmUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3ZlcmxpbmU6ICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGV4dCBkZWNvcmF0aW9uIGxpbmV0aHJvdWdoLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxpbmV0aHJvdWdoOiAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRleHQgYWxpZ25tZW50LiBQb3NzaWJsZSB2YWx1ZXM6IFwibGVmdFwiLCBcImNlbnRlclwiLCBcInJpZ2h0XCIsIFwianVzdGlmeVwiLFxuICAgICAqIFwianVzdGlmeS1sZWZ0XCIsIFwianVzdGlmeS1jZW50ZXJcIiBvciBcImp1c3RpZnktcmlnaHRcIi5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRleHRBbGlnbjogICAgICAgICAgICAnbGVmdCcsXG5cbiAgICAvKipcbiAgICAgKiBGb250IHN0eWxlIC4gUG9zc2libGUgdmFsdWVzOiBcIlwiLCBcIm5vcm1hbFwiLCBcIml0YWxpY1wiIG9yIFwib2JsaXF1ZVwiLlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZm9udFN0eWxlOiAgICAgICAgICAgICdub3JtYWwnLFxuXG4gICAgLyoqXG4gICAgICogTGluZSBoZWlnaHRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxpbmVIZWlnaHQ6ICAgICAgICAgICAxLjE2LFxuXG4gICAgLyoqXG4gICAgICogU3VwZXJzY3JpcHQgc2NoZW1hIG9iamVjdCAobWluaW11bSBvdmVybGFwKVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdXBlcnNjcmlwdDoge1xuICAgICAgc2l6ZTogICAgICAwLjYwLCAvLyBmb250U2l6ZSBmYWN0b3JcbiAgICAgIGJhc2VsaW5lOiAtMC4zNSAgLy8gYmFzZWxpbmUtc2hpZnQgZmFjdG9yICh1cHdhcmRzKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpcHQgc2NoZW1hIG9iamVjdCAobWluaW11bSBvdmVybGFwKVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdWJzY3JpcHQ6IHtcbiAgICAgIHNpemU6ICAgICAgMC42MCwgLy8gZm9udFNpemUgZmFjdG9yXG4gICAgICBiYXNlbGluZTogIDAuMTEgIC8vIGJhc2VsaW5lLXNoaWZ0IGZhY3RvciAoZG93bndhcmRzKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCYWNrZ3JvdW5kIGNvbG9yIG9mIHRleHQgbGluZXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRleHRCYWNrZ3JvdW5kQ29sb3I6ICAnJyxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmXG4gICAgICogc3RhdGUgb2YgYW4gb2JqZWN0IGlzIGNoYW5nZWQgKHtAbGluayBmYWJyaWMuT2JqZWN0I2hhc1N0YXRlQ2hhbmdlZH0pXG4gICAgICogYXMgd2VsbCBhcyBmb3IgaGlzdG9yeSAodW5kby9yZWRvKSBwdXJwb3Nlc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3RhdGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zdGF0ZVByb3BlcnRpZXMuY29uY2F0KGFkZGl0aW9uYWxQcm9wcyksXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZiBjYWNoZSBuZWVkcyByZWZyZXNoXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoYWRkaXRpb25hbFByb3BzKSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gZGVmaW5lZCwgYW4gb2JqZWN0IGlzIHJlbmRlcmVkIHZpYSBzdHJva2UgYW5kIHRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGl0cyBjb2xvci5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGlzIHByb3BlcnR5IHdhcyBuYW1lZCBcInN0cm9rZVN0eWxlXCIgdW50aWwgdjEuMS42XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2U6ICAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBvYmplY3QgcmVwcmVzZW50aW5nIHNoYWRvdyBvZiB0aGlzIHNoYXBlLlxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgd2FzIG5hbWVkIFwidGV4dFNoYWRvd1wiIChTdHJpbmcpIHVudGlsIHYxLjIuMTFcbiAgICAgKiBAdHlwZSBmYWJyaWMuU2hhZG93XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzaGFkb3c6ICAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZhYnJpYy5QYXRoIHRoYXQgdGhlIHRleHQgc2hvdWxkIGZvbGxvdy5cbiAgICAgKiBzaW5jZSA0LjYuMCB0aGUgcGF0aCB3aWxsIGJlIGRyYXduIGF1dG9tYXRpY2FsbHkuXG4gICAgICogaWYgeW91IHdhbnQgdG8gbWFrZSB0aGUgcGF0aCB2aXNpYmxlLCBnaXZlIGl0IGEgc3Ryb2tlIGFuZCBzdHJva2VXaWR0aCBvciBmaWxsIHZhbHVlXG4gICAgICogaWYgeW91IHdhbnQgaXQgdG8gYmUgaGlkZGVuLCBhc3NpZ24gdmlzaWJsZSA9IGZhbHNlIHRvIHRoZSBwYXRoLlxuICAgICAqIFRoaXMgZmVhdHVyZSBpcyBpbiBCRVRBLCBhbmQgU1ZHIGltcG9ydC9leHBvcnQgaXMgbm90IHlldCBzdXBwb3J0ZWQuXG4gICAgICogQHR5cGUgZmFicmljLlBhdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciB0ZXh0UGF0aCA9IG5ldyBmYWJyaWMuVGV4dCgnVGV4dCBvbiBhIHBhdGgnLCB7XG4gICAgICogICAgIHRvcDogMTUwLFxuICAgICAqICAgICBsZWZ0OiAxNTAsXG4gICAgICogICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICogICAgIGNoYXJTcGFjaW5nOiAtNTAsXG4gICAgICogICAgIHBhdGg6IG5ldyBmYWJyaWMuUGF0aCgnTSAwIDAgQyA1MCAtMTAwIDE1MCAtMTAwIDIwMCAwJywge1xuICAgICAqICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICogICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAqICAgICB9KSxcbiAgICAgKiAgICAgcGF0aFNpZGU6ICdsZWZ0JyxcbiAgICAgKiAgICAgcGF0aFN0YXJ0T2Zmc2V0OiAwXG4gICAgICogfSk7XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwYXRoOiAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBPZmZzZXQgYW1vdW50IGZvciB0ZXh0IHBhdGggc3RhcnRpbmcgcG9zaXRpb25cbiAgICAgKiBPbmx5IHVzZWQgd2hlbiB0ZXh0IGhhcyBhIHBhdGhcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdGhTdGFydE9mZnNldDogICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogV2hpY2ggc2lkZSBvZiB0aGUgcGF0aCB0aGUgdGV4dCBzaG91bGQgYmUgZHJhd24gb24uXG4gICAgICogT25seSB1c2VkIHdoZW4gdGV4dCBoYXMgYSBwYXRoXG4gICAgICogQHR5cGUge1N0cmluZ30gJ2xlZnR8cmlnaHQnXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwYXRoU2lkZTogICAgICAgICAgICAgICAnbGVmdCcsXG5cbiAgICAvKipcbiAgICAgKiBIb3cgdGV4dCBpcyBhbGlnbmVkIHRvIHRoZSBwYXRoLiBUaGlzIHByb3BlcnR5IGRldGVybWluZXNcbiAgICAgKiB0aGUgcGVycGVuZGljdWxhciBwb3NpdGlvbiBvZiBlYWNoIGNoYXJhY3RlciByZWxhdGl2ZSB0byB0aGUgcGF0aC5cbiAgICAgKiAob25lIG9mIFwiYmFzZWxpbmVcIiwgXCJjZW50ZXJcIiwgXCJhc2NlbmRlclwiLCBcImRlc2NlbmRlclwiKVxuICAgICAqIFRoaXMgZmVhdHVyZSBpcyBpbiBCRVRBLCBhbmQgaXRzIGJlaGF2aW9yIG1heSBjaGFuZ2VcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdGhBbGlnbjogICAgICAgICAgICAgICAnYmFzZWxpbmUnLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZm9udFNpemVGcmFjdGlvbjogMC4yMjIsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9mZnNldHM6IHtcbiAgICAgIHVuZGVybGluZTogMC4xMCxcbiAgICAgIGxpbmV0aHJvdWdoOiAtMC4zMTUsXG4gICAgICBvdmVybGluZTogLTAuODhcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGV4dCBMaW5lIHByb3BvcnRpb24gdG8gZm9udCBTaXplIChpbiBwaXhlbHMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBfZm9udFNpemVNdWx0OiAgICAgICAgICAgICAxLjEzLFxuXG4gICAgLyoqXG4gICAgICogYWRkaXRpb25hbCBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnNcbiAgICAgKiBleHByZXNzZWQgaW4gdGhvdXNhbmRzIG9mIGVtIHVuaXRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNoYXJTcGFjaW5nOiAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IGNvbnRhaW5pbmcgY2hhcmFjdGVyIHN0eWxlcyAtIHRvcC1sZXZlbCBwcm9wZXJ0aWVzIC0+IGxpbmUgbnVtYmVycyxcbiAgICAgKiAybmQtbGV2ZWwgcHJvcGVydGllcyAtIGNoYXJhY3RlciBudW1iZXJzXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHlsZXM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gYSBjb250ZXh0IHRvIG1lYXN1cmUgdGV4dCBjaGFyIG9yIGNvdXBsZSBvZiBjaGFyc1xuICAgICAqIHRoZSBjYWNoZUNvbnRleHQgb2YgdGhlIGNhbnZhcyB3aWxsIGJlIHVzZWQgb3IgYSBmcmVzaGx5IGNyZWF0ZWQgb25lIGlmIHRoZSBvYmplY3QgaXMgbm90IG9uIGNhbnZhc1xuICAgICAqIG9uY2UgY3JlYXRlZCBpdCB3aWxsIGJlIHJlZmVyZW5jZWQgb24gZmFicmljLl9tZWFzdXJpbmdDb250ZXh0IHRvIGF2b2lkIGNyZWF0aW5nIGEgY2FudmFzIGZvciBldmVyeVxuICAgICAqIHRleHQgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIF9tZWFzdXJpbmdDb250ZXh0OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQmFzZWxpbmUgc2hpZnQsIHN0eWxlcyBvbmx5LCBrZWVwIGF0IDAgZm9yIHRoZSBtYWluIHRleHQgb2JqZWN0XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGRlbHRhWTogMCxcblxuICAgIC8qKlxuICAgICAqIFdBUk5JTkc6IEVYUEVSSU1FTlRBTC4gTk9UIFNVUFBPUlRFRCBZRVRcbiAgICAgKiBkZXRlcm1pbmUgdGhlIGRpcmVjdGlvbiBvZiB0aGUgdGV4dC5cbiAgICAgKiBUaGlzIGhhcyB0byBiZSBzZXQgbWFudWFsbHkgdG9nZXRoZXIgd2l0aCB0ZXh0QWxpZ24gYW5kIG9yaWdpblggZm9yIHByb3BlclxuICAgICAqIGV4cGVyaWVuY2UuXG4gICAgICogc29tZSBpbnRlcmVzdGluZyBsaW5rIGZvciB0aGUgZnV0dXJlXG4gICAgICogaHR0cHM6Ly93d3cudzMub3JnL0ludGVybmF0aW9uYWwvcXVlc3Rpb25zL3FhLWJpZGktdW5pY29kZS1jb250cm9sc1xuICAgICAqIEBzaW5jZSA0LjUuMFxuICAgICAqIEB0eXBlIHtTdHJpbmd9ICdsdHJ8cnRsJ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZGlyZWN0aW9uOiAnbHRyJyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHByb3BlcnRpZXMgdGhhdCBkZWZpbmUgYSBzdHlsZSB1bml0IChvZiAnc3R5bGVzJykuXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgX3N0eWxlUHJvcGVydGllczogW1xuICAgICAgJ3N0cm9rZScsXG4gICAgICAnc3Ryb2tlV2lkdGgnLFxuICAgICAgJ2ZpbGwnLFxuICAgICAgJ2ZvbnRGYW1pbHknLFxuICAgICAgJ2ZvbnRTaXplJyxcbiAgICAgICdmb250V2VpZ2h0JyxcbiAgICAgICdmb250U3R5bGUnLFxuICAgICAgJ3VuZGVybGluZScsXG4gICAgICAnb3ZlcmxpbmUnLFxuICAgICAgJ2xpbmV0aHJvdWdoJyxcbiAgICAgICdkZWx0YVknLFxuICAgICAgJ3RleHRCYWNrZ3JvdW5kQ29sb3InLFxuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBjb250YWlucyBjaGFyYWN0ZXJzIGJvdW5kaW5nIGJveGVzXG4gICAgICovXG4gICAgX19jaGFyQm91bmRzOiBbXSxcblxuICAgIC8qKlxuICAgICAqIHVzZSB0aGlzIHNpemUgd2hlbiBtZWFzdXJpbmcgdGV4dC4gVG8gYXZvaWQgSUUxMSByb3VuZGluZyBlcnJvcnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDQUNIRV9GT05UX1NJWkU6IDQwMCxcblxuICAgIC8qKlxuICAgICAqIGNvbnRhaW5zIHRoZSBtaW4gdGV4dCB3aWR0aCB0byBhdm9pZCBnZXR0aW5nIDBcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgTUlOX1RFWFRfV0lEVEg6IDIsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRleHQgc3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5zdHlsZXMgPSBvcHRpb25zID8gKG9wdGlvbnMuc3R5bGVzIHx8IHsgfSkgOiB7IH07XG4gICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgdGhpcy5fX3NraXBEaW1lbnNpb24gPSB0cnVlO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgICAgdGhpcy5zZXRQYXRoSW5mbygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX3NraXBEaW1lbnNpb24gPSBmYWxzZTtcbiAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLnNldHVwU3RhdGUoeyBwcm9wZXJ0eVNldDogJ19kaW1lbnNpb25BZmZlY3RpbmdQcm9wcycgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIElmIHRleHQgaGFzIGEgcGF0aCwgaXQgd2lsbCBhZGQgdGhlIGV4dHJhIGluZm9ybWF0aW9uIG5lZWRlZFxuICAgICAqIGZvciBwYXRoIGFuZCB0ZXh0IGNhbGN1bGF0aW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICovXG4gICAgc2V0UGF0aEluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLnBhdGg7XG4gICAgICBpZiAocGF0aCkge1xuICAgICAgICBwYXRoLnNlZ21lbnRzSW5mbyA9IGZhYnJpYy51dGlsLmdldFBhdGhTZWdtZW50c0luZm8ocGF0aC5wYXRoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgY29udGV4dCBmb3IgbWVhc3VyZW1lbnQgb2YgdGV4dCBzdHJpbmcuXG4gICAgICogaWYgY3JlYXRlZCBpdCBnZXRzIHN0b3JlZCBmb3IgcmV1c2VcbiAgICAgKiB0aGlzIGlzIGZvciBpbnRlcm5hbCB1c2UsIHBsZWFzZSBkbyBub3QgdXNlIGl0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBUZXh0IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGdldE1lYXN1cmluZ0NvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaWYgd2UgZGlkIG5vdCByZXR1cm4gd2UgaGF2ZSB0byBtZWFzdXJlIHNvbWV0aGluZy5cbiAgICAgIGlmICghZmFicmljLl9tZWFzdXJpbmdDb250ZXh0KSB7XG4gICAgICAgIGZhYnJpYy5fbWVhc3VyaW5nQ29udGV4dCA9IHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLmNvbnRleHRDYWNoZSB8fFxuICAgICAgICAgIGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhYnJpYy5fbWVhc3VyaW5nQ29udGV4dDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBEaXZpZGVzIHRleHQgaW50byBsaW5lcyBvZiB0ZXh0IGFuZCBsaW5lcyBvZiBncmFwaGVtZXMuXG4gICAgICovXG4gICAgX3NwbGl0VGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV3TGluZXMgPSB0aGlzLl9zcGxpdFRleHRJbnRvTGluZXModGhpcy50ZXh0KTtcbiAgICAgIHRoaXMudGV4dExpbmVzID0gbmV3TGluZXMubGluZXM7XG4gICAgICB0aGlzLl90ZXh0TGluZXMgPSBuZXdMaW5lcy5ncmFwaGVtZUxpbmVzO1xuICAgICAgdGhpcy5fdW53cmFwcGVkVGV4dExpbmVzID0gbmV3TGluZXMuX3Vud3JhcHBlZExpbmVzO1xuICAgICAgdGhpcy5fdGV4dCA9IG5ld0xpbmVzLmdyYXBoZW1lVGV4dDtcbiAgICAgIHJldHVybiBuZXdMaW5lcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBvciB1cGRhdGUgdGV4dCBkaW1lbnNpb25zLlxuICAgICAqIFVwZGF0ZXMgdGhpcy53aWR0aCBhbmQgdGhpcy5oZWlnaHQgd2l0aCB0aGUgcHJvcGVyIHZhbHVlcy5cbiAgICAgKiBEb2VzIG5vdCByZXR1cm4gZGltZW5zaW9ucy5cbiAgICAgKi9cbiAgICBpbml0RGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fX3NraXBEaW1lbnNpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3BsaXRUZXh0KCk7XG4gICAgICB0aGlzLl9jbGVhckNhY2hlKCk7XG4gICAgICBpZiAodGhpcy5wYXRoKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnBhdGgud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5wYXRoLmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYWxjVGV4dFdpZHRoKCkgfHwgdGhpcy5jdXJzb3JXaWR0aCB8fCB0aGlzLk1JTl9URVhUX1dJRFRIO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FsY1RleHRIZWlnaHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnRleHRBbGlnbi5pbmRleE9mKCdqdXN0aWZ5JykgIT09IC0xKSB7XG4gICAgICAgIC8vIG9uY2UgdGV4dCBpcyBtZWFzdXJlZCB3ZSBuZWVkIHRvIG1ha2Ugc3BhY2UgZmF0dGVyIHRvIG1ha2UganVzdGlmaWVkIHRleHQuXG4gICAgICAgIHRoaXMuZW5sYXJnZVNwYWNlcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5zYXZlU3RhdGUoeyBwcm9wZXJ0eVNldDogJ19kaW1lbnNpb25BZmZlY3RpbmdQcm9wcycgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVubGFyZ2Ugc3BhY2UgYm94ZXMgYW5kIHNoaWZ0IHRoZSBvdGhlcnNcbiAgICAgKi9cbiAgICBlbmxhcmdlU3BhY2VzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaWZmU3BhY2UsIGN1cnJlbnRMaW5lV2lkdGgsIG51bWJlck9mU3BhY2VzLCBhY2N1bXVsYXRlZFNwYWNlLCBsaW5lLCBjaGFyQm91bmQsIHNwYWNlcztcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dEFsaWduICE9PSAnanVzdGlmeScgJiYgKGkgPT09IGxlbiAtIDEgfHwgdGhpcy5pc0VuZE9mV3JhcHBpbmcoaSkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYWNjdW11bGF0ZWRTcGFjZSA9IDA7XG4gICAgICAgIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbaV07XG4gICAgICAgIGN1cnJlbnRMaW5lV2lkdGggPSB0aGlzLmdldExpbmVXaWR0aChpKTtcbiAgICAgICAgaWYgKGN1cnJlbnRMaW5lV2lkdGggPCB0aGlzLndpZHRoICYmIChzcGFjZXMgPSB0aGlzLnRleHRMaW5lc1tpXS5tYXRjaCh0aGlzLl9yZVNwYWNlc0FuZFRhYnMpKSkge1xuICAgICAgICAgIG51bWJlck9mU3BhY2VzID0gc3BhY2VzLmxlbmd0aDtcbiAgICAgICAgICBkaWZmU3BhY2UgPSAodGhpcy53aWR0aCAtIGN1cnJlbnRMaW5lV2lkdGgpIC8gbnVtYmVyT2ZTcGFjZXM7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8PSBqbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGNoYXJCb3VuZCA9IHRoaXMuX19jaGFyQm91bmRzW2ldW2pdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChsaW5lW2pdKSkge1xuICAgICAgICAgICAgICBjaGFyQm91bmQud2lkdGggKz0gZGlmZlNwYWNlO1xuICAgICAgICAgICAgICBjaGFyQm91bmQua2VybmVkV2lkdGggKz0gZGlmZlNwYWNlO1xuICAgICAgICAgICAgICBjaGFyQm91bmQubGVmdCArPSBhY2N1bXVsYXRlZFNwYWNlO1xuICAgICAgICAgICAgICBhY2N1bXVsYXRlZFNwYWNlICs9IGRpZmZTcGFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjaGFyQm91bmQubGVmdCArPSBhY2N1bXVsYXRlZFNwYWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgdGhlIHRleHQgbGluZSBpcyBlbmRlZCB3aXRoIGFuIGhhcmQgYnJlYWtcbiAgICAgKiB0ZXh0IGFuZCBpdGV4dCBkbyBub3QgaGF2ZSB3cmFwcGluZywgcmV0dXJuIGZhbHNlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VuZE9mV3JhcHBpbmc6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgcmV0dXJuIGxpbmVJbmRleCA9PT0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aCAtIDE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBpZiBhIGxpbmUgaGFzIGEgbGluZWJyZWFrIGFuZCBzbyB3ZSBuZWVkIHRvIGFjY291bnQgZm9yIGl0IHdoZW4gbW92aW5nXG4gICAgICogYW5kIGNvdW50aW5nIHN0eWxlLlxuICAgICAqIEl0IHJldHVybiBhbHdheXMgZm9yIHRleHQgYW5kIEl0ZXh0LlxuICAgICAqIEByZXR1cm4gTnVtYmVyXG4gICAgICovXG4gICAgbWlzc2luZ05ld2xpbmVPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGV4dCBvYmplY3RcbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLlRleHQgKCcgKyB0aGlzLmNvbXBsZXhpdHkoKSArXG4gICAgICAgICcpOiB7IFwidGV4dFwiOiBcIicgKyB0aGlzLnRleHQgKyAnXCIsIFwiZm9udEZhbWlseVwiOiBcIicgKyB0aGlzLmZvbnRGYW1pbHkgKyAnXCIgfT4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGRpbWVuc2lvbiBhbmQgdGhlIHpvb20gbGV2ZWwgbmVlZGVkIHRvIGNyZWF0ZSBhIGNhY2hlIGNhbnZhc1xuICAgICAqIGJpZyBlbm91Z2ggdG8gaG9zdCB0aGUgb2JqZWN0IHRvIGJlIGNhY2hlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW0ueCB3aWR0aCBvZiBvYmplY3QgdG8gYmUgY2FjaGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbS55IGhlaWdodCBvZiBvYmplY3QgdG8gYmUgY2FjaGVkXG4gICAgICogQHJldHVybiB7T2JqZWN0fS53aWR0aCB3aWR0aCBvZiBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LmhlaWdodCBoZWlnaHQgb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS56b29tWCB6b29tWCB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVkgem9vbVkgem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKi9cbiAgICBfZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaW1zID0gdGhpcy5jYWxsU3VwZXIoJ19nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnMnKTtcbiAgICAgIHZhciBmb250U2l6ZSA9IHRoaXMuZm9udFNpemU7XG4gICAgICBkaW1zLndpZHRoICs9IGZvbnRTaXplICogZGltcy56b29tWDtcbiAgICAgIGRpbXMuaGVpZ2h0ICs9IGZvbnRTaXplICogZGltcy56b29tWTtcbiAgICAgIHJldHVybiBkaW1zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBwYXRoID0gdGhpcy5wYXRoO1xuICAgICAgcGF0aCAmJiAhcGF0aC5pc05vdFZpc2libGUoKSAmJiBwYXRoLl9yZW5kZXIoY3R4KTtcbiAgICAgIHRoaXMuX3NldFRleHRTdHlsZXMoY3R4KTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHRMaW5lc0JhY2tncm91bmQoY3R4KTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHREZWNvcmF0aW9uKGN0eCwgJ3VuZGVybGluZScpO1xuICAgICAgdGhpcy5fcmVuZGVyVGV4dChjdHgpO1xuICAgICAgdGhpcy5fcmVuZGVyVGV4dERlY29yYXRpb24oY3R4LCAnb3ZlcmxpbmUnKTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHREZWNvcmF0aW9uKGN0eCwgJ2xpbmV0aHJvdWdoJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0OiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICh0aGlzLnBhaW50Rmlyc3QgPT09ICdzdHJva2UnKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRleHRTdHJva2UoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGV4dEZpbGwoY3R4KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW5kZXJUZXh0RmlsbChjdHgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJUZXh0U3Ryb2tlKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZm9udCBwYXJhbWV0ZXIgb2YgdGhlIGNvbnRleHQgd2l0aCB0aGUgb2JqZWN0IHByb3BlcnRpZXMgb3Igd2l0aCBjaGFyU3R5bGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NoYXJTdHlsZV0gb2JqZWN0IHdpdGggZm9udCBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjaGFyU3R5bGUuZm9udEZhbWlseV0gRm9udCBGYW1pbHlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NoYXJTdHlsZS5mb250U2l6ZV0gRm9udCBzaXplIGluIHBpeGVscy4gKCB3aXRob3V0IHB4IHN1ZmZpeCApXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjaGFyU3R5bGUuZm9udFdlaWdodF0gRm9udCB3ZWlnaHRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NoYXJTdHlsZS5mb250U3R5bGVdIEZvbnQgc3R5bGUgKGl0YWxpY3xub3JtYWwpXG4gICAgICovXG4gICAgX3NldFRleHRTdHlsZXM6IGZ1bmN0aW9uKGN0eCwgY2hhclN0eWxlLCBmb3JNZWFzdXJpbmcpIHtcbiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpY2FsJztcbiAgICAgIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnBhdGhBbGlnbikge1xuICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdhc2NlbmRlcic6XG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdkZXNjZW5kZXInOlxuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdib3R0b20nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN0eC5mb250ID0gdGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKGNoYXJTdHlsZSwgZm9yTWVhc3VyaW5nKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlIGFuZCByZXR1cm4gdGhlIHRleHQgV2lkdGggbWVhc3VyaW5nIGVhY2ggbGluZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE1heGltdW0gd2lkdGggb2YgZmFicmljLlRleHQgb2JqZWN0XG4gICAgICovXG4gICAgY2FsY1RleHRXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLmdldExpbmVXaWR0aCgwKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudExpbmVXaWR0aCA9IHRoaXMuZ2V0TGluZVdpZHRoKGkpO1xuICAgICAgICBpZiAoY3VycmVudExpbmVXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgbWF4V2lkdGggPSBjdXJyZW50TGluZVdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF4V2lkdGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCBNZXRob2QgbmFtZSAoXCJmaWxsVGV4dFwiIG9yIFwic3Ryb2tlVGV4dFwiKVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbGluZSBUZXh0IHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgcG9zaXRpb24gb2YgdGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIHBvc2l0aW9uIG9mIHRleHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IEluZGV4IG9mIGEgbGluZSBpbiBhIHRleHRcbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dExpbmU6IGZ1bmN0aW9uKG1ldGhvZCwgY3R4LCBsaW5lLCBsZWZ0LCB0b3AsIGxpbmVJbmRleCkge1xuICAgICAgdGhpcy5fcmVuZGVyQ2hhcnMobWV0aG9kLCBjdHgsIGxpbmUsIGxlZnQsIHRvcCwgbGluZUluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgdGV4dCBiYWNrZ3JvdW5kIGZvciBsaW5lcywgdGFraW5nIGNhcmUgb2Ygc3R5bGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dExpbmVzQmFja2dyb3VuZDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMudGV4dEJhY2tncm91bmRDb2xvciAmJiAhdGhpcy5zdHlsZUhhcygndGV4dEJhY2tncm91bmRDb2xvcicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBoZWlnaHRPZkxpbmUsXG4gICAgICAgICAgbGluZUxlZnRPZmZzZXQsIG9yaWdpbmFsRmlsbCA9IGN0eC5maWxsU3R5bGUsXG4gICAgICAgICAgbGluZSwgbGFzdENvbG9yLFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksXG4gICAgICAgICAgbGluZVRvcE9mZnNldCA9IHRoaXMuX2dldFRvcE9mZnNldCgpLFxuICAgICAgICAgIGJveFN0YXJ0ID0gMCwgYm94V2lkdGggPSAwLCBjaGFyQm94LCBjdXJyZW50Q29sb3IsIHBhdGggPSB0aGlzLnBhdGgsXG4gICAgICAgICAgZHJhd1N0YXJ0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGhlaWdodE9mTGluZSA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpO1xuICAgICAgICBpZiAoIXRoaXMudGV4dEJhY2tncm91bmRDb2xvciAmJiAhdGhpcy5zdHlsZUhhcygndGV4dEJhY2tncm91bmRDb2xvcicsIGkpKSB7XG4gICAgICAgICAgbGluZVRvcE9mZnNldCArPSBoZWlnaHRPZkxpbmU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tpXTtcbiAgICAgICAgbGluZUxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChpKTtcbiAgICAgICAgYm94V2lkdGggPSAwO1xuICAgICAgICBib3hTdGFydCA9IDA7XG4gICAgICAgIGxhc3RDb2xvciA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgMCwgJ3RleHRCYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgICAgIGNoYXJCb3ggPSB0aGlzLl9fY2hhckJvdW5kc1tpXVtqXTtcbiAgICAgICAgICBjdXJyZW50Q29sb3IgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIGosICd0ZXh0QmFja2dyb3VuZENvbG9yJyk7XG4gICAgICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKGNoYXJCb3gucmVuZGVyTGVmdCwgY2hhckJveC5yZW5kZXJUb3ApO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZShjaGFyQm94LmFuZ2xlKTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjdXJyZW50Q29sb3I7XG4gICAgICAgICAgICBjdXJyZW50Q29sb3IgJiYgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgICAtY2hhckJveC53aWR0aCAvIDIsXG4gICAgICAgICAgICAgIC1oZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHQgKiAoMSAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pLFxuICAgICAgICAgICAgICBjaGFyQm94LndpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Q29sb3IgIT09IGxhc3RDb2xvcikge1xuICAgICAgICAgICAgZHJhd1N0YXJ0ID0gbGVmdE9mZnNldCArIGxpbmVMZWZ0T2Zmc2V0ICsgYm94U3RhcnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgICAgIGRyYXdTdGFydCA9IHRoaXMud2lkdGggLSBkcmF3U3RhcnQgLSBib3hXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBsYXN0Q29sb3I7XG4gICAgICAgICAgICBsYXN0Q29sb3IgJiYgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgICBkcmF3U3RhcnQsXG4gICAgICAgICAgICAgIGxpbmVUb3BPZmZzZXQsXG4gICAgICAgICAgICAgIGJveFdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBib3hTdGFydCA9IGNoYXJCb3gubGVmdDtcbiAgICAgICAgICAgIGJveFdpZHRoID0gY2hhckJveC53aWR0aDtcbiAgICAgICAgICAgIGxhc3RDb2xvciA9IGN1cnJlbnRDb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudENvbG9yICYmICFwYXRoKSB7XG4gICAgICAgICAgZHJhd1N0YXJ0ID0gbGVmdE9mZnNldCArIGxpbmVMZWZ0T2Zmc2V0ICsgYm94U3RhcnQ7XG4gICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICAgICAgZHJhd1N0YXJ0ID0gdGhpcy53aWR0aCAtIGRyYXdTdGFydCAtIGJveFdpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gY3VycmVudENvbG9yO1xuICAgICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgIGRyYXdTdGFydCxcbiAgICAgICAgICAgIGxpbmVUb3BPZmZzZXQsXG4gICAgICAgICAgICBib3hXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodE9mTGluZSAvIHRoaXMubGluZUhlaWdodFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgbGluZVRvcE9mZnNldCArPSBoZWlnaHRPZkxpbmU7XG4gICAgICB9XG4gICAgICBjdHguZmlsbFN0eWxlID0gb3JpZ2luYWxGaWxsO1xuICAgICAgLy8gaWYgdGhlcmUgaXMgdGV4dCBiYWNrZ3JvdW5kIGNvbG9yIG5vXG4gICAgICAvLyBvdGhlciBzaGFkb3dzIHNob3VsZCBiZSBjYXN0ZWRcbiAgICAgIHRoaXMuX3JlbW92ZVNoYWRvdyhjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWNsIHN0eWxlIGRlY2xhcmF0aW9uIGZvciBjYWNoZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkZWNsLmZvbnRGYW1pbHkgZm9udEZhbWlseVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkZWNsLmZvbnRTdHlsZSBmb250U3R5bGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGVjbC5mb250V2VpZ2h0IGZvbnRXZWlnaHRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHJlZmVyZW5jZSB0byBjYWNoZVxuICAgICAqL1xuICAgIGdldEZvbnRDYWNoZTogZnVuY3Rpb24oZGVjbCkge1xuICAgICAgdmFyIGZvbnRGYW1pbHkgPSBkZWNsLmZvbnRGYW1pbHkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XSkge1xuICAgICAgICBmYWJyaWMuY2hhcldpZHRoc0NhY2hlW2ZvbnRGYW1pbHldID0geyB9O1xuICAgICAgfVxuICAgICAgdmFyIGNhY2hlID0gZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XSxcbiAgICAgICAgICBjYWNoZVByb3AgPSBkZWNsLmZvbnRTdHlsZS50b0xvd2VyQ2FzZSgpICsgJ18nICsgKGRlY2wuZm9udFdlaWdodCArICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFjYWNoZVtjYWNoZVByb3BdKSB7XG4gICAgICAgIGNhY2hlW2NhY2hlUHJvcF0gPSB7IH07XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FjaGVbY2FjaGVQcm9wXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWVhc3VyZSBhbmQgcmV0dXJuIHRoZSB3aWR0aCBvZiBhIHNpbmdsZSBjaGFyYWN0ZXIuXG4gICAgICogcG9zc2libHkgb3ZlcnJpZGRlbiB0byBhY2NvbW1vZGF0ZSBkaWZmZXJlbnQgbWVhc3VyZSBsb2dpYyBvclxuICAgICAqIHRvIGhvb2sgc29tZSBleHRlcm5hbCBsaWIgZm9yIGNoYXJhY3RlciBtZWFzdXJlbWVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IF9jaGFyLCBjaGFyIHRvIGJlIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNoYXJTdHlsZSBzdHlsZSBvZiBjaGFyIHRvIGJlIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtwcmV2aW91c0NoYXJdIHByZXZpb3VzIGNoYXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3ByZXZDaGFyU3R5bGVdIHN0eWxlIG9mIHByZXZpb3VzIGNoYXJcbiAgICAgKi9cbiAgICBfbWVhc3VyZUNoYXI6IGZ1bmN0aW9uKF9jaGFyLCBjaGFyU3R5bGUsIHByZXZpb3VzQ2hhciwgcHJldkNoYXJTdHlsZSkge1xuICAgICAgLy8gZmlyc3QgaSB0cnkgdG8gcmV0dXJuIGZyb20gY2FjaGVcbiAgICAgIHZhciBmb250Q2FjaGUgPSB0aGlzLmdldEZvbnRDYWNoZShjaGFyU3R5bGUpLCBmb250RGVjbGFyYXRpb24gPSB0aGlzLl9nZXRGb250RGVjbGFyYXRpb24oY2hhclN0eWxlKSxcbiAgICAgICAgICBwcmV2aW91c0ZvbnREZWNsYXJhdGlvbiA9IHRoaXMuX2dldEZvbnREZWNsYXJhdGlvbihwcmV2Q2hhclN0eWxlKSwgY291cGxlID0gcHJldmlvdXNDaGFyICsgX2NoYXIsXG4gICAgICAgICAgc3R5bGVzQXJlRXF1YWwgPSBmb250RGVjbGFyYXRpb24gPT09IHByZXZpb3VzRm9udERlY2xhcmF0aW9uLCB3aWR0aCwgY291cGxlV2lkdGgsIHByZXZpb3VzV2lkdGgsXG4gICAgICAgICAgZm9udE11bHRpcGxpZXIgPSBjaGFyU3R5bGUuZm9udFNpemUgLyB0aGlzLkNBQ0hFX0ZPTlRfU0laRSwga2VybmVkV2lkdGg7XG5cbiAgICAgIGlmIChwcmV2aW91c0NoYXIgJiYgZm9udENhY2hlW3ByZXZpb3VzQ2hhcl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcmV2aW91c1dpZHRoID0gZm9udENhY2hlW3ByZXZpb3VzQ2hhcl07XG4gICAgICB9XG4gICAgICBpZiAoZm9udENhY2hlW19jaGFyXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtlcm5lZFdpZHRoID0gd2lkdGggPSBmb250Q2FjaGVbX2NoYXJdO1xuICAgICAgfVxuICAgICAgaWYgKHN0eWxlc0FyZUVxdWFsICYmIGZvbnRDYWNoZVtjb3VwbGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY291cGxlV2lkdGggPSBmb250Q2FjaGVbY291cGxlXTtcbiAgICAgICAga2VybmVkV2lkdGggPSBjb3VwbGVXaWR0aCAtIHByZXZpb3VzV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCB8fCBwcmV2aW91c1dpZHRoID09PSB1bmRlZmluZWQgfHwgY291cGxlV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY3R4ID0gdGhpcy5nZXRNZWFzdXJpbmdDb250ZXh0KCk7XG4gICAgICAgIC8vIHNlbmQgYSBUUlVFIHRvIHNwZWNpZnkgbWVhc3VyaW5nIGZvbnQgc2l6ZSBDQUNIRV9GT05UX1NJWkVcbiAgICAgICAgdGhpcy5fc2V0VGV4dFN0eWxlcyhjdHgsIGNoYXJTdHlsZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXJuZWRXaWR0aCA9IHdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KF9jaGFyKS53aWR0aDtcbiAgICAgICAgZm9udENhY2hlW19jaGFyXSA9IHdpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpb3VzV2lkdGggPT09IHVuZGVmaW5lZCAmJiBzdHlsZXNBcmVFcXVhbCAmJiBwcmV2aW91c0NoYXIpIHtcbiAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChwcmV2aW91c0NoYXIpLndpZHRoO1xuICAgICAgICBmb250Q2FjaGVbcHJldmlvdXNDaGFyXSA9IHByZXZpb3VzV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVzQXJlRXF1YWwgJiYgY291cGxlV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyB3ZSBjYW4gbWVhc3VyZSB0aGUga2VybmluZyBjb3VwbGUgYW5kIHN1YnRyYWN0IHRoZSB3aWR0aCBvZiB0aGUgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgICAgIGNvdXBsZVdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGNvdXBsZSkud2lkdGg7XG4gICAgICAgIGZvbnRDYWNoZVtjb3VwbGVdID0gY291cGxlV2lkdGg7XG4gICAgICAgIGtlcm5lZFdpZHRoID0gY291cGxlV2lkdGggLSBwcmV2aW91c1dpZHRoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoICogZm9udE11bHRpcGxpZXIsIGtlcm5lZFdpZHRoOiBrZXJuZWRXaWR0aCAqIGZvbnRNdWx0aXBsaWVyIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGhlaWdodCBvZiBjaGFyYWN0ZXIgYXQgZ2l2ZW4gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZSB0aGUgbGluZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gX2NoYXIgdGhlIGNoYXJhY3RlciBpbmRleCBudW1iZXJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGZvbnRTaXplIG9mIHRoZSBjaGFyYWN0ZXJcbiAgICAgKi9cbiAgICBnZXRIZWlnaHRPZkNoYXI6IGZ1bmN0aW9uKGxpbmUsIF9jaGFyKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsaW5lLCBfY2hhciwgJ2ZvbnRTaXplJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG1lYXN1cmUgYSB0ZXh0IGxpbmUgbWVhc3VyaW5nIGFsbCBjaGFyYWN0ZXJzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggbGluZSBudW1iZXJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IExpbmUgd2lkdGhcbiAgICAgKi9cbiAgICBtZWFzdXJlTGluZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgbGluZUluZm8gPSB0aGlzLl9tZWFzdXJlTGluZShsaW5lSW5kZXgpO1xuICAgICAgaWYgKHRoaXMuY2hhclNwYWNpbmcgIT09IDApIHtcbiAgICAgICAgbGluZUluZm8ud2lkdGggLT0gdGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAobGluZUluZm8ud2lkdGggPCAwKSB7XG4gICAgICAgIGxpbmVJbmZvLndpZHRoID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaW5lSW5mbztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWVhc3VyZSBldmVyeSBncmFwaGVtZSBvZiBhIGxpbmUsIHBvcHVsYXRpbmcgX19jaGFyQm91bmRzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LndpZHRoIHRvdGFsIHdpZHRoIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdC53aWR0aE9mU3BhY2VzIGxlbmd0aCBvZiBjaGFycyB0aGF0IG1hdGNoIHRoaXMuX3JlU3BhY2VzQW5kVGFic1xuICAgICAqL1xuICAgIF9tZWFzdXJlTGluZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgd2lkdGggPSAwLCBpLCBncmFwaGVtZSwgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLCBwcmV2R3JhcGhlbWUsXG4gICAgICAgICAgZ3JhcGhlbWVJbmZvLCBudW1PZlNwYWNlcyA9IDAsIGxpbmVCb3VuZHMgPSBuZXcgQXJyYXkobGluZS5sZW5ndGgpLFxuICAgICAgICAgIHBvc2l0aW9uSW5QYXRoID0gMCwgc3RhcnRpbmdQb2ludCwgdG90YWxQYXRoTGVuZ3RoLCBwYXRoID0gdGhpcy5wYXRoLFxuICAgICAgICAgIHJldmVyc2UgPSB0aGlzLnBhdGhTaWRlID09PSAncmlnaHQnO1xuXG4gICAgICB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdID0gbGluZUJvdW5kcztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGdyYXBoZW1lID0gbGluZVtpXTtcbiAgICAgICAgZ3JhcGhlbWVJbmZvID0gdGhpcy5fZ2V0R3JhcGhlbWVCb3goZ3JhcGhlbWUsIGxpbmVJbmRleCwgaSwgcHJldkdyYXBoZW1lKTtcbiAgICAgICAgbGluZUJvdW5kc1tpXSA9IGdyYXBoZW1lSW5mbztcbiAgICAgICAgd2lkdGggKz0gZ3JhcGhlbWVJbmZvLmtlcm5lZFdpZHRoO1xuICAgICAgICBwcmV2R3JhcGhlbWUgPSBncmFwaGVtZTtcbiAgICAgIH1cbiAgICAgIC8vIHRoaXMgbGF0ZXN0IGJvdW5kIGJveCByZXByZXNlbnQgdGhlIGxhc3QgY2hhcmFjdGVyIG9mIHRoZSBsaW5lXG4gICAgICAvLyB0byBzaW1wbGlmeSBjdXJzb3IgaGFuZGxpbmcgaW4gaW50ZXJhY3RpdmUgbW9kZS5cbiAgICAgIGxpbmVCb3VuZHNbaV0gPSB7XG4gICAgICAgIGxlZnQ6IGdyYXBoZW1lSW5mbyA/IGdyYXBoZW1lSW5mby5sZWZ0ICsgZ3JhcGhlbWVJbmZvLndpZHRoIDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGtlcm5lZFdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuZm9udFNpemVcbiAgICAgIH07XG4gICAgICBpZiAocGF0aCkge1xuICAgICAgICB0b3RhbFBhdGhMZW5ndGggPSBwYXRoLnNlZ21lbnRzSW5mb1twYXRoLnNlZ21lbnRzSW5mby5sZW5ndGggLSAxXS5sZW5ndGg7XG4gICAgICAgIHN0YXJ0aW5nUG9pbnQgPSBmYWJyaWMudXRpbC5nZXRQb2ludE9uUGF0aChwYXRoLnBhdGgsIDAsIHBhdGguc2VnbWVudHNJbmZvKTtcbiAgICAgICAgc3RhcnRpbmdQb2ludC54ICs9IHBhdGgucGF0aE9mZnNldC54O1xuICAgICAgICBzdGFydGluZ1BvaW50LnkgKz0gcGF0aC5wYXRoT2Zmc2V0Lnk7XG4gICAgICAgIHN3aXRjaCAodGhpcy50ZXh0QWxpZ24pIHtcbiAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHBvc2l0aW9uSW5QYXRoID0gcmV2ZXJzZSA/ICh0b3RhbFBhdGhMZW5ndGggLSB3aWR0aCkgOiAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgIHBvc2l0aW9uSW5QYXRoID0gKHRvdGFsUGF0aExlbmd0aCAtIHdpZHRoKSAvIDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICBwb3NpdGlvbkluUGF0aCA9IHJldmVyc2UgPyAwIDogKHRvdGFsUGF0aExlbmd0aCAtIHdpZHRoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vdG9kbyAtIGFkZCBzdXBwb3J0IGZvciBqdXN0aWZ5XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpb25JblBhdGggKz0gdGhpcy5wYXRoU3RhcnRPZmZzZXQgKiAocmV2ZXJzZSA/IC0xIDogMSk7XG4gICAgICAgIGZvciAoaSA9IHJldmVyc2UgPyBsaW5lLmxlbmd0aCAtIDEgOiAwO1xuICAgICAgICAgIHJldmVyc2UgPyBpID49IDAgOiBpIDwgbGluZS5sZW5ndGg7XG4gICAgICAgICAgcmV2ZXJzZSA/IGktLSA6IGkrKykge1xuICAgICAgICAgIGdyYXBoZW1lSW5mbyA9IGxpbmVCb3VuZHNbaV07XG4gICAgICAgICAgaWYgKHBvc2l0aW9uSW5QYXRoID4gdG90YWxQYXRoTGVuZ3RoKSB7XG4gICAgICAgICAgICBwb3NpdGlvbkluUGF0aCAlPSB0b3RhbFBhdGhMZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uSW5QYXRoIDwgMCkge1xuICAgICAgICAgICAgcG9zaXRpb25JblBhdGggKz0gdG90YWxQYXRoTGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpdCB3b3VsZCBwcm9iYWJseSBtdWNoIGZhc3RlciB0byBzZW5kIGFsbCB0aGUgZ3JhcGhlbWUgcG9zaXRpb24gZm9yIGEgbGluZVxuICAgICAgICAgIC8vIGFuZCBjYWxjdWxhdGUgcGF0aCBwb3NpdGlvbi9hbmdsZSBhdCBvbmNlLlxuICAgICAgICAgIHRoaXMuX3NldEdyYXBoZW1lT25QYXRoKHBvc2l0aW9uSW5QYXRoLCBncmFwaGVtZUluZm8sIHN0YXJ0aW5nUG9pbnQpO1xuICAgICAgICAgIHBvc2l0aW9uSW5QYXRoICs9IGdyYXBoZW1lSW5mby5rZXJuZWRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoLCBudW1PZlNwYWNlczogbnVtT2ZTcGFjZXMgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBhbmdsZSAgYW5kIHRoZSBsZWZ0LHRvcCBwb3NpdGlvbiBvZiB0aGUgY2hhciB0aGF0IGZvbGxvdyBhIHBhdGguXG4gICAgICogSXQgYXBwZW5kcyBpdCB0byBncmFwaGVtZUluZm8gdG8gYmUgcmV1c2VkIGxhdGVyIGF0IHJlbmRlcmluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uSW5QYXRoIHRvIGJlIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGdyYXBoZW1lSW5mbyBjdXJyZW50IGdyYXBoZW1lIGJveCBpbmZvcm1hdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFydGluZ1BvaW50IHBvc2l0aW9uIG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIF9zZXRHcmFwaGVtZU9uUGF0aDogZnVuY3Rpb24ocG9zaXRpb25JblBhdGgsIGdyYXBoZW1lSW5mbywgc3RhcnRpbmdQb2ludCkge1xuICAgICAgdmFyIGNlbnRlclBvc2l0aW9uID0gcG9zaXRpb25JblBhdGggKyBncmFwaGVtZUluZm8ua2VybmVkV2lkdGggLyAyLFxuICAgICAgICAgIHBhdGggPSB0aGlzLnBhdGg7XG5cbiAgICAgIC8vIHdlIGFyZSBhdCBjdXJyZW50UG9zaXRpb25PblBhdGguIHdlIHdhbnQgdG8ga25vdyB3aGF0IHBvaW50IG9uIHRoZSBwYXRoIGlzLlxuICAgICAgdmFyIGluZm8gPSBmYWJyaWMudXRpbC5nZXRQb2ludE9uUGF0aChwYXRoLnBhdGgsIGNlbnRlclBvc2l0aW9uLCBwYXRoLnNlZ21lbnRzSW5mbyk7XG4gICAgICBncmFwaGVtZUluZm8ucmVuZGVyTGVmdCA9IGluZm8ueCAtIHN0YXJ0aW5nUG9pbnQueDtcbiAgICAgIGdyYXBoZW1lSW5mby5yZW5kZXJUb3AgPSBpbmZvLnkgLSBzdGFydGluZ1BvaW50Lnk7XG4gICAgICBncmFwaGVtZUluZm8uYW5nbGUgPSBpbmZvLmFuZ2xlICsgKHRoaXMucGF0aFNpZGUgPT09ICAncmlnaHQnID8gTWF0aC5QSSA6IDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlIGFuZCByZXR1cm4gdGhlIGluZm8gb2YgYSBzaW5nbGUgZ3JhcGhlbWUuXG4gICAgICogbmVlZHMgdGhlIHRoZSBpbmZvIG9mIHByZXZpb3VzIGdyYXBoZW1lcyBhbHJlYWR5IGZpbGxlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGdyYXBoZW1lIHRvIGJlIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBpbmRleCBvZiB0aGUgbGluZSB3aGVyZSB0aGUgY2hhciBpc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXggcG9zaXRpb24gaW4gdGhlIGxpbmVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3ByZXZHcmFwaGVtZV0gY2hhcmFjdGVyIHByZWNlZGluZyB0aGUgb25lIHRvIGJlIG1lYXN1cmVkXG4gICAgICovXG4gICAgX2dldEdyYXBoZW1lQm94OiBmdW5jdGlvbihncmFwaGVtZSwgbGluZUluZGV4LCBjaGFySW5kZXgsIHByZXZHcmFwaGVtZSwgc2tpcExlZnQpIHtcbiAgICAgIHZhciBzdHlsZSA9IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSxcbiAgICAgICAgICBwcmV2U3R5bGUgPSBwcmV2R3JhcGhlbWUgPyB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCAtIDEpIDogeyB9LFxuICAgICAgICAgIGluZm8gPSB0aGlzLl9tZWFzdXJlQ2hhcihncmFwaGVtZSwgc3R5bGUsIHByZXZHcmFwaGVtZSwgcHJldlN0eWxlKSxcbiAgICAgICAgICBrZXJuZWRXaWR0aCA9IGluZm8ua2VybmVkV2lkdGgsXG4gICAgICAgICAgd2lkdGggPSBpbmZvLndpZHRoLCBjaGFyU3BhY2luZztcblxuICAgICAgaWYgKHRoaXMuY2hhclNwYWNpbmcgIT09IDApIHtcbiAgICAgICAgY2hhclNwYWNpbmcgPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKTtcbiAgICAgICAgd2lkdGggKz0gY2hhclNwYWNpbmc7XG4gICAgICAgIGtlcm5lZFdpZHRoICs9IGNoYXJTcGFjaW5nO1xuICAgICAgfVxuXG4gICAgICB2YXIgYm94ID0ge1xuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIGhlaWdodDogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIGtlcm5lZFdpZHRoOiBrZXJuZWRXaWR0aCxcbiAgICAgICAgZGVsdGFZOiBzdHlsZS5kZWx0YVksXG4gICAgICB9O1xuICAgICAgaWYgKGNoYXJJbmRleCA+IDAgJiYgIXNraXBMZWZ0KSB7XG4gICAgICAgIHZhciBwcmV2aW91c0JveCA9IHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF1bY2hhckluZGV4IC0gMV07XG4gICAgICAgIGJveC5sZWZ0ID0gcHJldmlvdXNCb3gubGVmdCArIHByZXZpb3VzQm94LndpZHRoICsgaW5mby5rZXJuZWRXaWR0aCAtIGluZm8ud2lkdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYm94O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgaGVpZ2h0IG9mIGxpbmUgYXQgJ2xpbmVJbmRleCdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IGluZGV4IG9mIGxpbmUgdG8gY2FsY3VsYXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldEhlaWdodE9mTGluZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBpZiAodGhpcy5fX2xpbmVIZWlnaHRzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19saW5lSGVpZ2h0c1tsaW5lSW5kZXhdO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLFxuICAgICAgICAgIC8vIGNoYXIgMCBpcyBtZWFzdXJlZCBiZWZvcmUgdGhlIGxpbmUgY3ljbGUgYmVjYXVzZSBpdCBubmVkcyB0byBjaGFyXG4gICAgICAgICAgLy8gZW1wdHlsaW5lc1xuICAgICAgICAgIG1heEhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0T2ZDaGFyKGxpbmVJbmRleCwgMCk7XG4gICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbGluZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBtYXhIZWlnaHQgPSBNYXRoLm1heCh0aGlzLmdldEhlaWdodE9mQ2hhcihsaW5lSW5kZXgsIGkpLCBtYXhIZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fX2xpbmVIZWlnaHRzW2xpbmVJbmRleF0gPSBtYXhIZWlnaHQgKiB0aGlzLmxpbmVIZWlnaHQgKiB0aGlzLl9mb250U2l6ZU11bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0ZXh0IGJveCBoZWlnaHRcbiAgICAgKi9cbiAgICBjYWxjVGV4dEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGluZUhlaWdodCwgaGVpZ2h0ID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGluZUhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpO1xuICAgICAgICBoZWlnaHQgKz0gKGkgPT09IGxlbiAtIDEgPyBsaW5lSGVpZ2h0IC8gdGhpcy5saW5lSGVpZ2h0IDogbGluZUhlaWdodCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTGVmdCBvZmZzZXRcbiAgICAgKi9cbiAgICBfZ2V0TGVmdE9mZnNldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb24gPT09ICdsdHInID8gLXRoaXMud2lkdGggLyAyIDogdGhpcy53aWR0aCAvIDI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUb3Agb2Zmc2V0XG4gICAgICovXG4gICAgX2dldFRvcE9mZnNldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gLXRoaXMuaGVpZ2h0IC8gMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCBNZXRob2QgbmFtZSAoXCJmaWxsVGV4dFwiIG9yIFwic3Ryb2tlVGV4dFwiKVxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0Q29tbW9uOiBmdW5jdGlvbihjdHgsIG1ldGhvZCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIHZhciBsaW5lSGVpZ2h0cyA9IDAsIGxlZnQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksIHRvcCA9IHRoaXMuX2dldFRvcE9mZnNldCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGVpZ2h0T2ZMaW5lID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSksXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHQsXG4gICAgICAgICAgICBsZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaSk7XG4gICAgICAgIHRoaXMuX3JlbmRlclRleHRMaW5lKFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICBjdHgsXG4gICAgICAgICAgdGhpcy5fdGV4dExpbmVzW2ldLFxuICAgICAgICAgIGxlZnQgKyBsZWZ0T2Zmc2V0LFxuICAgICAgICAgIHRvcCArIGxpbmVIZWlnaHRzICsgbWF4SGVpZ2h0LFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgICAgbGluZUhlaWdodHMgKz0gaGVpZ2h0T2ZMaW5lO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlclRleHRGaWxsOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5maWxsICYmICF0aGlzLnN0eWxlSGFzKCdmaWxsJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZW5kZXJUZXh0Q29tbW9uKGN0eCwgJ2ZpbGxUZXh0Jyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0U3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICgoIXRoaXMuc3Ryb2tlIHx8IHRoaXMuc3Ryb2tlV2lkdGggPT09IDApICYmIHRoaXMuaXNFbXB0eVN0eWxlcygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2hhZG93ICYmICF0aGlzLnNoYWRvdy5hZmZlY3RTdHJva2UpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9zZXRMaW5lRGFzaChjdHgsIHRoaXMuc3Ryb2tlRGFzaEFycmF5KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHRDb21tb24oY3R4LCAnc3Ryb2tlVGV4dCcpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIGZpbGxUZXh0IG9yIHN0cm9rZVRleHQuXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpbmUgQ29udGVudCBvZiB0aGUgbGluZSwgc3BsaXR0ZWQgaW4gYW4gYXJyYXkgYnkgZ3JhcGhlbWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVmdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b3BcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICovXG4gICAgX3JlbmRlckNoYXJzOiBmdW5jdGlvbihtZXRob2QsIGN0eCwgbGluZSwgbGVmdCwgdG9wLCBsaW5lSW5kZXgpIHtcbiAgICAgIC8vIHNldCBwcm9wZXIgbGluZSBvZmZzZXRcbiAgICAgIHZhciBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUobGluZUluZGV4KSxcbiAgICAgICAgICBpc0p1c3RpZnkgPSB0aGlzLnRleHRBbGlnbi5pbmRleE9mKCdqdXN0aWZ5JykgIT09IC0xLFxuICAgICAgICAgIGFjdHVhbFN0eWxlLFxuICAgICAgICAgIG5leHRTdHlsZSxcbiAgICAgICAgICBjaGFyc1RvUmVuZGVyID0gJycsXG4gICAgICAgICAgY2hhckJveCxcbiAgICAgICAgICBib3hXaWR0aCA9IDAsXG4gICAgICAgICAgdGltZVRvUmVuZGVyLFxuICAgICAgICAgIHBhdGggPSB0aGlzLnBhdGgsXG4gICAgICAgICAgc2hvcnRDdXQgPSAhaXNKdXN0aWZ5ICYmIHRoaXMuY2hhclNwYWNpbmcgPT09IDAgJiYgdGhpcy5pc0VtcHR5U3R5bGVzKGxpbmVJbmRleCkgJiYgIXBhdGgsXG4gICAgICAgICAgaXNMdHIgPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ2x0cicsIHNpZ24gPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyAxIDogLTEsXG4gICAgICAgICAgZHJhd2luZ0xlZnQsIGN1cnJlbnREaXJlY3Rpb24gPSBjdHguY2FudmFzLmdldEF0dHJpYnV0ZSgnZGlyJyk7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgaWYgKGN1cnJlbnREaXJlY3Rpb24gIT09IHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCdkaXInLCBpc0x0ciA/ICdsdHInIDogJ3J0bCcpO1xuICAgICAgICBjdHguZGlyZWN0aW9uID0gaXNMdHIgPyAnbHRyJyA6ICdydGwnO1xuICAgICAgICBjdHgudGV4dEFsaWduID0gaXNMdHIgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgfVxuICAgICAgdG9wIC09IGxpbmVIZWlnaHQgKiB0aGlzLl9mb250U2l6ZUZyYWN0aW9uIC8gdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgaWYgKHNob3J0Q3V0KSB7XG4gICAgICAgIC8vIHJlbmRlciBhbGwgdGhlIGxpbmUgaW4gb25lIHBhc3Mgd2l0aG91dCBjaGVja2luZ1xuICAgICAgICAvLyBkcmF3aW5nTGVmdCA9IGlzTHRyID8gbGVmdCA6IGxlZnQgLSB0aGlzLmdldExpbmVXaWR0aChsaW5lSW5kZXgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJDaGFyKG1ldGhvZCwgY3R4LCBsaW5lSW5kZXgsIDAsIGxpbmUuam9pbignJyksIGxlZnQsIHRvcCwgbGluZUhlaWdodCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaW5lLmxlbmd0aCAtIDE7IGkgPD0gbGVuOyBpKyspIHtcbiAgICAgICAgdGltZVRvUmVuZGVyID0gaSA9PT0gbGVuIHx8IHRoaXMuY2hhclNwYWNpbmcgfHwgcGF0aDtcbiAgICAgICAgY2hhcnNUb1JlbmRlciArPSBsaW5lW2ldO1xuICAgICAgICBjaGFyQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtpXTtcbiAgICAgICAgaWYgKGJveFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgbGVmdCArPSBzaWduICogKGNoYXJCb3gua2VybmVkV2lkdGggLSBjaGFyQm94LndpZHRoKTtcbiAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94LndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gua2VybmVkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSnVzdGlmeSAmJiAhdGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChsaW5lW2ldKSkge1xuICAgICAgICAgICAgdGltZVRvUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aW1lVG9SZW5kZXIpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGNoYXJTcGFjaW5nLCB3ZSByZW5kZXIgY2hhciBieSBjaGFyXG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBhY3R1YWxTdHlsZSB8fCB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGkpO1xuICAgICAgICAgIG5leHRTdHlsZSA9IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSArIDEpO1xuICAgICAgICAgIHRpbWVUb1JlbmRlciA9IGZhYnJpYy51dGlsLmhhc1N0eWxlQ2hhbmdlZChhY3R1YWxTdHlsZSwgbmV4dFN0eWxlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVUb1JlbmRlcikge1xuICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShjaGFyQm94LnJlbmRlckxlZnQsIGNoYXJCb3gucmVuZGVyVG9wKTtcbiAgICAgICAgICAgIGN0eC5yb3RhdGUoY2hhckJveC5hbmdsZSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJDaGFyKG1ldGhvZCwgY3R4LCBsaW5lSW5kZXgsIGksIGNoYXJzVG9SZW5kZXIsIC1ib3hXaWR0aCAvIDIsIDAsIGxpbmVIZWlnaHQpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkcmF3aW5nTGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJDaGFyKG1ldGhvZCwgY3R4LCBsaW5lSW5kZXgsIGksIGNoYXJzVG9SZW5kZXIsIGRyYXdpbmdMZWZ0LCB0b3AsIGxpbmVIZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFyc1RvUmVuZGVyID0gJyc7XG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBuZXh0U3R5bGU7XG4gICAgICAgICAgbGVmdCArPSBzaWduICogYm94V2lkdGg7XG4gICAgICAgICAgYm94V2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHRyeSB0byBwYXRjaCB0aGUgbWlzc2luZyBncmFkaWVudFRyYW5zZm9ybSBvbiBjYW52YXMgZ3JhZGllbnRzLlxuICAgICAqIHRyYW5zZm9ybWluZyBhIGNvbnRleHQgdG8gdHJhbnNmb3JtIHRoZSBncmFkaWVudCwgaXMgZ29pbmcgdG8gdHJhbnNmb3JtIHRoZSBzdHJva2UgdG9vLlxuICAgICAqIHdlIHdhbnQgdG8gdHJhbnNmb3JtIHRoZSBncmFkaWVudCBidXQgbm90IHRoZSBzdHJva2Ugb3BlcmF0aW9uLCBzbyB3ZSBjcmVhdGVcbiAgICAgKiBhIHRyYW5zZm9ybWVkIGdyYWRpZW50IG9uIGEgcGF0dGVybiBhbmQgdGhlbiB3ZSB1c2UgdGhlIHBhdHRlcm4gaW5zdGVhZCBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICogdGhpcyBtZXRob2QgaGFzIGRyYXdiYWNrczogaXMgc2xvdywgaXMgaW4gbG93IHJlc29sdXRpb24sIG5lZWRzIGEgcGF0Y2ggZm9yIHdoZW4gdGhlIHNpemVcbiAgICAgKiBpcyBsaW1pdGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuR3JhZGllbnR9IGZpbGxlciBhIGZhYnJpYyBncmFkaWVudCBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0NhbnZhc1BhdHRlcm59IGEgcGF0dGVybiB0byB1c2UgYXMgZmlsbC9zdHJva2Ugc3R5bGVcbiAgICAgKi9cbiAgICBfYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm1UZXh0OiBmdW5jdGlvbihmaWxsZXIpIHtcbiAgICAgIHZhciBwQ2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpLCBwQ3R4LFxuICAgICAgICAgIC8vIFRPRE86IHZlcmlmeSBjb21wYXRpYmlsaXR5IHdpdGggc3Ryb2tlVW5pZm9ybVxuICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aCArIHRoaXMuc3Ryb2tlV2lkdGgsIGhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgdGhpcy5zdHJva2VXaWR0aDtcbiAgICAgIHBDYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgIHBDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgcEN0eCA9IHBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIHBDdHguYmVnaW5QYXRoKCk7IHBDdHgubW92ZVRvKDAsIDApOyBwQ3R4LmxpbmVUbyh3aWR0aCwgMCk7IHBDdHgubGluZVRvKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgcEN0eC5saW5lVG8oMCwgaGVpZ2h0KTsgcEN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIHBDdHgudHJhbnNsYXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICBwQ3R4LmZpbGxTdHlsZSA9IGZpbGxlci50b0xpdmUocEN0eCk7XG4gICAgICB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShwQ3R4LCBmaWxsZXIpO1xuICAgICAgcEN0eC5maWxsKCk7XG4gICAgICByZXR1cm4gcEN0eC5jcmVhdGVQYXR0ZXJuKHBDYW52YXMsICduby1yZXBlYXQnKTtcbiAgICB9LFxuXG4gICAgaGFuZGxlRmlsbGVyOiBmdW5jdGlvbihjdHgsIHByb3BlcnR5LCBmaWxsZXIpIHtcbiAgICAgIHZhciBvZmZzZXRYLCBvZmZzZXRZO1xuICAgICAgaWYgKGZpbGxlci50b0xpdmUpIHtcbiAgICAgICAgaWYgKGZpbGxlci5ncmFkaWVudFVuaXRzID09PSAncGVyY2VudGFnZScgfHwgZmlsbGVyLmdyYWRpZW50VHJhbnNmb3JtIHx8IGZpbGxlci5wYXR0ZXJuVHJhbnNmb3JtKSB7XG4gICAgICAgICAgLy8gbmVlZCB0byB0cmFuc2Zvcm0gZ3JhZGllbnQgaW4gYSBwYXR0ZXJuLlxuICAgICAgICAgIC8vIHRoaXMgaXMgYSBzbG93IHByb2Nlc3MuIElmIHlvdSBhcmUgaGl0dGluZyB0aGlzIGNvZGVwYXRoLCBhbmQgdGhlIG9iamVjdFxuICAgICAgICAgIC8vIGlzIG5vdCB1c2luZyBjYWNoaW5nLCB5b3Ugc2hvdWxkIGNvbnNpZGVyIHN3aXRjaGluZyBpdCBvbi5cbiAgICAgICAgICAvLyB3ZSBuZWVkIGEgY2FudmFzIGFzIGJpZyBhcyB0aGUgY3VycmVudCBvYmplY3QgY2FjaGluZyBjYW52YXMuXG4gICAgICAgICAgb2Zmc2V0WCA9IC10aGlzLndpZHRoIC8gMjtcbiAgICAgICAgICBvZmZzZXRZID0gLXRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgICBjdHgudHJhbnNsYXRlKG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgICAgIGN0eFtwcm9wZXJ0eV0gPSB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybVRleHQoZmlsbGVyKTtcbiAgICAgICAgICByZXR1cm4geyBvZmZzZXRYOiBvZmZzZXRYLCBvZmZzZXRZOiBvZmZzZXRZIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gaXMgYSBzaW1wbGUgZ3JhZGllbnQgb3IgcGF0dGVyblxuICAgICAgICAgIGN0eFtwcm9wZXJ0eV0gPSBmaWxsZXIudG9MaXZlKGN0eCwgdGhpcyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtKGN0eCwgZmlsbGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGlzIGEgY29sb3JcbiAgICAgICAgY3R4W3Byb3BlcnR5XSA9IGZpbGxlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IG9mZnNldFg6IDAsIG9mZnNldFk6IDAgfTtcbiAgICB9LFxuXG4gICAgX3NldFN0cm9rZVN0eWxlczogZnVuY3Rpb24oY3R4LCBkZWNsKSB7XG4gICAgICBjdHgubGluZVdpZHRoID0gZGVjbC5zdHJva2VXaWR0aDtcbiAgICAgIGN0eC5saW5lQ2FwID0gdGhpcy5zdHJva2VMaW5lQ2FwO1xuICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gdGhpcy5zdHJva2VEYXNoT2Zmc2V0O1xuICAgICAgY3R4LmxpbmVKb2luID0gdGhpcy5zdHJva2VMaW5lSm9pbjtcbiAgICAgIGN0eC5taXRlckxpbWl0ID0gdGhpcy5zdHJva2VNaXRlckxpbWl0O1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRmlsbGVyKGN0eCwgJ3N0cm9rZVN0eWxlJywgZGVjbC5zdHJva2UpO1xuICAgIH0sXG5cbiAgICBfc2V0RmlsbFN0eWxlczogZnVuY3Rpb24oY3R4LCBkZWNsKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVGaWxsZXIoY3R4LCAnZmlsbFN0eWxlJywgZGVjbC5maWxsKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IF9jaGFyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSGVpZ2h0IEhlaWdodCBvZiB0aGUgbGluZVxuICAgICAqL1xuICAgIF9yZW5kZXJDaGFyOiBmdW5jdGlvbihtZXRob2QsIGN0eCwgbGluZUluZGV4LCBjaGFySW5kZXgsIF9jaGFyLCBsZWZ0LCB0b3ApIHtcbiAgICAgIHZhciBkZWNsID0gdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCksXG4gICAgICAgICAgZnVsbERlY2wgPSB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCksXG4gICAgICAgICAgc2hvdWxkRmlsbCA9IG1ldGhvZCA9PT0gJ2ZpbGxUZXh0JyAmJiBmdWxsRGVjbC5maWxsLFxuICAgICAgICAgIHNob3VsZFN0cm9rZSA9IG1ldGhvZCA9PT0gJ3N0cm9rZVRleHQnICYmIGZ1bGxEZWNsLnN0cm9rZSAmJiBmdWxsRGVjbC5zdHJva2VXaWR0aCxcbiAgICAgICAgICBmaWxsT2Zmc2V0cywgc3Ryb2tlT2Zmc2V0cztcblxuICAgICAgaWYgKCFzaG91bGRTdHJva2UgJiYgIXNob3VsZEZpbGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgc2hvdWxkRmlsbCAmJiAoZmlsbE9mZnNldHMgPSB0aGlzLl9zZXRGaWxsU3R5bGVzKGN0eCwgZnVsbERlY2wpKTtcbiAgICAgIHNob3VsZFN0cm9rZSAmJiAoc3Ryb2tlT2Zmc2V0cyA9IHRoaXMuX3NldFN0cm9rZVN0eWxlcyhjdHgsIGZ1bGxEZWNsKSk7XG5cbiAgICAgIGN0eC5mb250ID0gdGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKGZ1bGxEZWNsKTtcblxuXG4gICAgICBpZiAoZGVjbCAmJiBkZWNsLnRleHRCYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgICB9XG4gICAgICBpZiAoZGVjbCAmJiBkZWNsLmRlbHRhWSkge1xuICAgICAgICB0b3AgKz0gZGVjbC5kZWx0YVk7XG4gICAgICB9XG4gICAgICBzaG91bGRGaWxsICYmIGN0eC5maWxsVGV4dChfY2hhciwgbGVmdCAtIGZpbGxPZmZzZXRzLm9mZnNldFgsIHRvcCAtIGZpbGxPZmZzZXRzLm9mZnNldFkpO1xuICAgICAgc2hvdWxkU3Ryb2tlICYmIGN0eC5zdHJva2VUZXh0KF9jaGFyLCBsZWZ0IC0gc3Ryb2tlT2Zmc2V0cy5vZmZzZXRYLCB0b3AgLSBzdHJva2VPZmZzZXRzLm9mZnNldFkpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHVybnMgdGhlIGNoYXJhY3RlciBpbnRvIGEgJ3N1cGVyaW9yIGZpZ3VyZScgKGkuZS4gJ3N1cGVyc2NyaXB0JylcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgc2VsZWN0aW9uIHN0YXJ0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBzZWxlY3Rpb24gZW5kXG4gICAgICogQHJldHVybnMge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldFN1cGVyc2NyaXB0OiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2V0U2NyaXB0KHN0YXJ0LCBlbmQsIHRoaXMuc3VwZXJzY3JpcHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUdXJucyB0aGUgY2hhcmFjdGVyIGludG8gYW4gJ2luZmVyaW9yIGZpZ3VyZScgKGkuZS4gJ3N1YnNjcmlwdCcpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IHNlbGVjdGlvbiBzdGFydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgc2VsZWN0aW9uIGVuZFxuICAgICAqIEByZXR1cm5zIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRTdWJzY3JpcHQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXRTY3JpcHQoc3RhcnQsIGVuZCwgdGhpcy5zdWJzY3JpcHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzICdzY2hlbWEnIGF0IGdpdmVuIHBvc2l0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgc2VsZWN0aW9uIHN0YXJ0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBzZWxlY3Rpb24gZW5kXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjaGVtYVxuICAgICAqIEByZXR1cm5zIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBfc2V0U2NyaXB0OiBmdW5jdGlvbihzdGFydCwgZW5kLCBzY2hlbWEpIHtcbiAgICAgIHZhciBsb2MgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc3RhcnQsIHRydWUpLFxuICAgICAgICAgIGZvbnRTaXplID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4LCAnZm9udFNpemUnKSxcbiAgICAgICAgICBkeSA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCwgJ2RlbHRhWScpLFxuICAgICAgICAgIHN0eWxlID0geyBmb250U2l6ZTogZm9udFNpemUgKiBzY2hlbWEuc2l6ZSwgZGVsdGFZOiBkeSArIGZvbnRTaXplICogc2NoZW1hLmJhc2VsaW5lIH07XG4gICAgICB0aGlzLnNldFNlbGVjdGlvblN0eWxlcyhzdHlsZSwgc3RhcnQsIGVuZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IGluZGV4IHRleHQgbGluZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTGluZSBsZWZ0IG9mZnNldFxuICAgICAqL1xuICAgIF9nZXRMaW5lTGVmdE9mZnNldDogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgbGluZVdpZHRoID0gdGhpcy5nZXRMaW5lV2lkdGgobGluZUluZGV4KSxcbiAgICAgICAgICBsaW5lRGlmZiA9IHRoaXMud2lkdGggLSBsaW5lV2lkdGgsIHRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduLCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbixcbiAgICAgICAgICBpc0VuZE9mV3JhcHBpbmcsIGxlZnRPZmZzZXQgPSAwLCBpc0VuZE9mV3JhcHBpbmcgPSB0aGlzLmlzRW5kT2ZXcmFwcGluZyhsaW5lSW5kZXgpO1xuICAgICAgaWYgKHRleHRBbGlnbiA9PT0gJ2p1c3RpZnknXG4gICAgICAgIHx8ICh0ZXh0QWxpZ24gPT09ICdqdXN0aWZ5LWNlbnRlcicgJiYgIWlzRW5kT2ZXcmFwcGluZylcbiAgICAgICAgfHwgKHRleHRBbGlnbiA9PT0gJ2p1c3RpZnktcmlnaHQnICYmICFpc0VuZE9mV3JhcHBpbmcpXG4gICAgICAgIHx8ICh0ZXh0QWxpZ24gPT09ICdqdXN0aWZ5LWxlZnQnICYmICFpc0VuZE9mV3JhcHBpbmcpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAodGV4dEFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICBsZWZ0T2Zmc2V0ID0gbGluZURpZmYgLyAyO1xuICAgICAgfVxuICAgICAgaWYgKHRleHRBbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBsZWZ0T2Zmc2V0ID0gbGluZURpZmY7XG4gICAgICB9XG4gICAgICBpZiAodGV4dEFsaWduID09PSAnanVzdGlmeS1jZW50ZXInKSB7XG4gICAgICAgIGxlZnRPZmZzZXQgPSBsaW5lRGlmZiAvIDI7XG4gICAgICB9XG4gICAgICBpZiAodGV4dEFsaWduID09PSAnanVzdGlmeS1yaWdodCcpIHtcbiAgICAgICAgbGVmdE9mZnNldCA9IGxpbmVEaWZmO1xuICAgICAgfVxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgbGVmdE9mZnNldCAtPSBsaW5lRGlmZjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZWZ0T2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbGVhckNhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX19saW5lV2lkdGhzID0gW107XG4gICAgICB0aGlzLl9fbGluZUhlaWdodHMgPSBbXTtcbiAgICAgIHRoaXMuX19jaGFyQm91bmRzID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNob3VsZENsZWFyID0gdGhpcy5fZm9yY2VDbGVhckNhY2hlO1xuICAgICAgc2hvdWxkQ2xlYXIgfHwgKHNob3VsZENsZWFyID0gdGhpcy5oYXNTdGF0ZUNoYW5nZWQoJ19kaW1lbnNpb25BZmZlY3RpbmdQcm9wcycpKTtcbiAgICAgIGlmIChzaG91bGRDbGVhcikge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2hvdWxkQ2xlYXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmUgYSBzaW5nbGUgbGluZSBnaXZlbiBpdHMgaW5kZXguIFVzZWQgdG8gY2FsY3VsYXRlIHRoZSBpbml0aWFsXG4gICAgICogdGV4dCBib3VuZGluZyBib3guIFRoZSB2YWx1ZXMgYXJlIGNhbGN1bGF0ZWQgYW5kIHN0b3JlZCBpbiBfX2xpbmVXaWR0aHMgY2FjaGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IGxpbmUgbnVtYmVyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBMaW5lIHdpZHRoXG4gICAgICovXG4gICAgZ2V0TGluZVdpZHRoOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLl9fbGluZVdpZHRoc1tsaW5lSW5kZXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19saW5lV2lkdGhzW2xpbmVJbmRleF07XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5lSW5mbyA9IHRoaXMubWVhc3VyZUxpbmUobGluZUluZGV4KTtcbiAgICAgIHZhciB3aWR0aCA9IGxpbmVJbmZvLndpZHRoO1xuICAgICAgdGhpcy5fX2xpbmVXaWR0aHNbbGluZUluZGV4XSA9IHdpZHRoO1xuICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH0sXG5cbiAgICBfZ2V0V2lkdGhPZkNoYXJTcGFjaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmNoYXJTcGFjaW5nICE9PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTaXplICogdGhpcy5jaGFyU3BhY2luZyAvIDEwMDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBwcm9wZXJ0eSBhdCBnaXZlbiBjaGFyYWN0ZXIgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IHRoZSBsaW5lIG51bWJlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXggdGhlIGNoYXJhY3RlciBudW1iZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgdGhlIHByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJucyB0aGUgdmFsdWUgb2YgJ3Byb3BlcnR5J1xuICAgICAqL1xuICAgIGdldFZhbHVlT2ZQcm9wZXJ0eUF0OiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCwgcHJvcGVydHkpIHtcbiAgICAgIHZhciBjaGFyU3R5bGUgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KTtcbiAgICAgIGlmIChjaGFyU3R5bGUgJiYgdHlwZW9mIGNoYXJTdHlsZVtwcm9wZXJ0eV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBjaGFyU3R5bGVbcHJvcGVydHldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dERlY29yYXRpb246IGZ1bmN0aW9uKGN0eCwgdHlwZSkge1xuICAgICAgaWYgKCF0aGlzW3R5cGVdICYmICF0aGlzLnN0eWxlSGFzKHR5cGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBoZWlnaHRPZkxpbmUsIHNpemUsIF9zaXplLFxuICAgICAgICAgIGxpbmVMZWZ0T2Zmc2V0LCBkeSwgX2R5LFxuICAgICAgICAgIGxpbmUsIGxhc3REZWNvcmF0aW9uLFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksXG4gICAgICAgICAgdG9wT2Zmc2V0ID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCksIHRvcCxcbiAgICAgICAgICBib3hTdGFydCwgYm94V2lkdGgsIGNoYXJCb3gsIGN1cnJlbnREZWNvcmF0aW9uLFxuICAgICAgICAgIG1heEhlaWdodCwgY3VycmVudEZpbGwsIGxhc3RGaWxsLCBwYXRoID0gdGhpcy5wYXRoLFxuICAgICAgICAgIGNoYXJTcGFjaW5nID0gdGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCksXG4gICAgICAgICAgb2Zmc2V0WSA9IHRoaXMub2Zmc2V0c1t0eXBlXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBoZWlnaHRPZkxpbmUgPSB0aGlzLmdldEhlaWdodE9mTGluZShpKTtcbiAgICAgICAgaWYgKCF0aGlzW3R5cGVdICYmICF0aGlzLnN0eWxlSGFzKHR5cGUsIGkpKSB7XG4gICAgICAgICAgdG9wT2Zmc2V0ICs9IGhlaWdodE9mTGluZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2ldO1xuICAgICAgICBtYXhIZWlnaHQgPSBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaSk7XG4gICAgICAgIGJveFN0YXJ0ID0gMDtcbiAgICAgICAgYm94V2lkdGggPSAwO1xuICAgICAgICBsYXN0RGVjb3JhdGlvbiA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgMCwgdHlwZSk7XG4gICAgICAgIGxhc3RGaWxsID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCAwLCAnZmlsbCcpO1xuICAgICAgICB0b3AgPSB0b3BPZmZzZXQgKyBtYXhIZWlnaHQgKiAoMSAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pO1xuICAgICAgICBzaXplID0gdGhpcy5nZXRIZWlnaHRPZkNoYXIoaSwgMCk7XG4gICAgICAgIGR5ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCAwLCAnZGVsdGFZJyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gbGluZS5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgICAgICBjaGFyQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbaV1bal07XG4gICAgICAgICAgY3VycmVudERlY29yYXRpb24gPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIGosIHR5cGUpO1xuICAgICAgICAgIGN1cnJlbnRGaWxsID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCBqLCAnZmlsbCcpO1xuICAgICAgICAgIF9zaXplID0gdGhpcy5nZXRIZWlnaHRPZkNoYXIoaSwgaik7XG4gICAgICAgICAgX2R5ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCBqLCAnZGVsdGFZJyk7XG4gICAgICAgICAgaWYgKHBhdGggJiYgY3VycmVudERlY29yYXRpb24gJiYgY3VycmVudEZpbGwpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gbGFzdEZpbGw7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKGNoYXJCb3gucmVuZGVyTGVmdCwgY2hhckJveC5yZW5kZXJUb3ApO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZShjaGFyQm94LmFuZ2xlKTtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgICAgLWNoYXJCb3gua2VybmVkV2lkdGggLyAyLFxuICAgICAgICAgICAgICBvZmZzZXRZICogX3NpemUgKyBfZHksXG4gICAgICAgICAgICAgIGNoYXJCb3gua2VybmVkV2lkdGgsXG4gICAgICAgICAgICAgIHRoaXMuZm9udFNpemUgLyAxNVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgKGN1cnJlbnREZWNvcmF0aW9uICE9PSBsYXN0RGVjb3JhdGlvbiB8fCBjdXJyZW50RmlsbCAhPT0gbGFzdEZpbGwgfHwgX3NpemUgIT09IHNpemUgfHwgX2R5ICE9PSBkeSlcbiAgICAgICAgICAgICYmIGJveFdpZHRoID4gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIGRyYXdTdGFydCA9IGxlZnRPZmZzZXQgKyBsaW5lTGVmdE9mZnNldCArIGJveFN0YXJ0O1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICAgICAgICBkcmF3U3RhcnQgPSB0aGlzLndpZHRoIC0gZHJhd1N0YXJ0IC0gYm94V2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdERlY29yYXRpb24gJiYgbGFzdEZpbGwpIHtcbiAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhc3RGaWxsO1xuICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgICAgZHJhd1N0YXJ0LFxuICAgICAgICAgICAgICAgIHRvcCArIG9mZnNldFkgKiBzaXplICsgZHksXG4gICAgICAgICAgICAgICAgYm94V2lkdGgsXG4gICAgICAgICAgICAgICAgdGhpcy5mb250U2l6ZSAvIDE1XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib3hTdGFydCA9IGNoYXJCb3gubGVmdDtcbiAgICAgICAgICAgIGJveFdpZHRoID0gY2hhckJveC53aWR0aDtcbiAgICAgICAgICAgIGxhc3REZWNvcmF0aW9uID0gY3VycmVudERlY29yYXRpb247XG4gICAgICAgICAgICBsYXN0RmlsbCA9IGN1cnJlbnRGaWxsO1xuICAgICAgICAgICAgc2l6ZSA9IF9zaXplO1xuICAgICAgICAgICAgZHkgPSBfZHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYm94V2lkdGggKz0gY2hhckJveC5rZXJuZWRXaWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRyYXdTdGFydCA9IGxlZnRPZmZzZXQgKyBsaW5lTGVmdE9mZnNldCArIGJveFN0YXJ0O1xuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgZHJhd1N0YXJ0ID0gdGhpcy53aWR0aCAtIGRyYXdTdGFydCAtIGJveFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjdXJyZW50RmlsbDtcbiAgICAgICAgY3VycmVudERlY29yYXRpb24gJiYgY3VycmVudEZpbGwgJiYgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgIGRyYXdTdGFydCxcbiAgICAgICAgICB0b3AgKyBvZmZzZXRZICogc2l6ZSArIGR5LFxuICAgICAgICAgIGJveFdpZHRoIC0gY2hhclNwYWNpbmcsXG4gICAgICAgICAgdGhpcy5mb250U2l6ZSAvIDE1XG4gICAgICAgICk7XG4gICAgICAgIHRvcE9mZnNldCArPSBoZWlnaHRPZkxpbmU7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGVyZSBpcyB0ZXh0IGJhY2tncm91bmQgY29sb3Igbm9cbiAgICAgIC8vIG90aGVyIHNoYWRvd3Mgc2hvdWxkIGJlIGNhc3RlZFxuICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiBmb250IGRlY2xhcmF0aW9uIHN0cmluZyBmb3IgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0eWxlT2JqZWN0XSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBmb250IGRlY2xhcmF0aW9uIGZvcm1hdHRlZCBmb3IgY2FudmFzIGNvbnRleHQuXG4gICAgICovXG4gICAgX2dldEZvbnREZWNsYXJhdGlvbjogZnVuY3Rpb24oc3R5bGVPYmplY3QsIGZvck1lYXN1cmluZykge1xuICAgICAgdmFyIHN0eWxlID0gc3R5bGVPYmplY3QgfHwgdGhpcywgZmFtaWx5ID0gdGhpcy5mb250RmFtaWx5LFxuICAgICAgICAgIGZvbnRJc0dlbmVyaWMgPSBmYWJyaWMuVGV4dC5nZW5lcmljRm9udHMuaW5kZXhPZihmYW1pbHkudG9Mb3dlckNhc2UoKSkgPiAtMTtcbiAgICAgIHZhciBmb250RmFtaWx5ID0gZmFtaWx5ID09PSB1bmRlZmluZWQgfHxcbiAgICAgIGZhbWlseS5pbmRleE9mKCdcXCcnKSA+IC0xIHx8IGZhbWlseS5pbmRleE9mKCcsJykgPiAtMSB8fFxuICAgICAgZmFtaWx5LmluZGV4T2YoJ1wiJykgPiAtMSB8fCBmb250SXNHZW5lcmljXG4gICAgICAgID8gc3R5bGUuZm9udEZhbWlseSA6ICdcIicgKyBzdHlsZS5mb250RmFtaWx5ICsgJ1wiJztcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC8vIG5vZGUtY2FudmFzIG5lZWRzIFwid2VpZ2h0IHN0eWxlXCIsIHdoaWxlIGJyb3dzZXJzIG5lZWQgXCJzdHlsZSB3ZWlnaHRcIlxuICAgICAgICAvLyB2ZXJpZnkgaWYgdGhpcyBjYW4gYmUgZml4ZWQgaW4gSlNET01cbiAgICAgICAgKGZhYnJpYy5pc0xpa2VseU5vZGUgPyBzdHlsZS5mb250V2VpZ2h0IDogc3R5bGUuZm9udFN0eWxlKSxcbiAgICAgICAgKGZhYnJpYy5pc0xpa2VseU5vZGUgPyBzdHlsZS5mb250U3R5bGUgOiBzdHlsZS5mb250V2VpZ2h0KSxcbiAgICAgICAgZm9yTWVhc3VyaW5nID8gdGhpcy5DQUNIRV9GT05UX1NJWkUgKyAncHgnIDogc3R5bGUuZm9udFNpemUgKyAncHgnLFxuICAgICAgICBmb250RmFtaWx5XG4gICAgICBdLmpvaW4oJyAnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGluc3RhbmNlIG9uIGEgc3BlY2lmaWVkIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIC8vIGRvIG5vdCByZW5kZXIgaWYgb2JqZWN0IGlzIG5vdCB2aXNpYmxlXG4gICAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuc2tpcE9mZnNjcmVlbiAmJiAhdGhpcy5ncm91cCAmJiAhdGhpcy5pc09uU2NyZWVuKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGxTdXBlcigncmVuZGVyJywgY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGV4dCBhcyBhbiBhcnJheSBvZiBsaW5lcy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0ZXh0IHRvIHNwbGl0XG4gICAgICogQHJldHVybnMge0FycmF5fSBMaW5lcyBpbiB0aGUgdGV4dFxuICAgICAqL1xuICAgIF9zcGxpdFRleHRJbnRvTGluZXM6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHZhciBsaW5lcyA9IHRleHQuc3BsaXQodGhpcy5fcmVOZXdsaW5lKSxcbiAgICAgICAgICBuZXdMaW5lcyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpLFxuICAgICAgICAgIG5ld0xpbmUgPSBbJ1xcbiddLFxuICAgICAgICAgIG5ld1RleHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbmV3TGluZXNbaV0gPSBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdChsaW5lc1tpXSk7XG4gICAgICAgIG5ld1RleHQgPSBuZXdUZXh0LmNvbmNhdChuZXdMaW5lc1tpXSwgbmV3TGluZSk7XG4gICAgICB9XG4gICAgICBuZXdUZXh0LnBvcCgpO1xuICAgICAgcmV0dXJuIHsgX3Vud3JhcHBlZExpbmVzOiBuZXdMaW5lcywgbGluZXM6IGxpbmVzLCBncmFwaGVtZVRleHQ6IG5ld1RleHQsIGdyYXBoZW1lTGluZXM6IG5ld0xpbmVzIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBhbGxQcm9wZXJ0aWVzID0gYWRkaXRpb25hbFByb3BzLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIHZhciBvYmogPSB0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBhbGxQcm9wZXJ0aWVzKTtcbiAgICAgIG9iai5zdHlsZXMgPSBmYWJyaWMudXRpbC5zdHlsZXNUb0FycmF5KHRoaXMuc3R5bGVzLCB0aGlzLnRleHQpO1xuICAgICAgaWYgKG9iai5wYXRoKSB7XG4gICAgICAgIG9iai5wYXRoID0gdGhpcy5wYXRoLnRvT2JqZWN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHByb3BlcnR5IHRvIGEgZ2l2ZW4gdmFsdWUuIFdoZW4gY2hhbmdpbmcgcG9zaXRpb24vZGltZW5zaW9uIC1yZWxhdGVkIHByb3BlcnRpZXMgKGxlZnQsIHRvcCwgc2NhbGUsIGFuZ2xlLCBldGMuKSBgc2V0YCBkb2VzIG5vdCB1cGRhdGUgcG9zaXRpb24gb2Ygb2JqZWN0J3MgYm9yZGVycy9jb250cm9scy4gSWYgeW91IG5lZWQgdG8gdXBkYXRlIHRob3NlLCBjYWxsIGBzZXRDb29yZHMoKWAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBrZXkgUHJvcGVydHkgbmFtZSBvciBvYmplY3QgKGlmIG9iamVjdCwgaXRlcmF0ZSBvdmVyIHRoZSBvYmplY3QgcHJvcGVydGllcylcbiAgICAgKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gdmFsdWUgUHJvcGVydHkgdmFsdWUgKGlmIGZ1bmN0aW9uLCB0aGUgdmFsdWUgaXMgcGFzc2VkIGludG8gaXQgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgdXNlZCBhcyBhIG5ldyBvbmUpXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdzZXQnLCBrZXksIHZhbHVlKTtcbiAgICAgIHZhciBuZWVkc0RpbXMgPSBmYWxzZTtcbiAgICAgIHZhciBpc0FkZGluZ1BhdGggPSBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKHZhciBfa2V5IGluIGtleSkge1xuICAgICAgICAgIGlmIChfa2V5ID09PSAncGF0aCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UGF0aEluZm8oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmVlZHNEaW1zID0gbmVlZHNEaW1zIHx8IHRoaXMuX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzLmluZGV4T2YoX2tleSkgIT09IC0xO1xuICAgICAgICAgIGlzQWRkaW5nUGF0aCA9IGlzQWRkaW5nUGF0aCB8fCBfa2V5ID09PSAncGF0aCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZWVkc0RpbXMgPSB0aGlzLl9kaW1lbnNpb25BZmZlY3RpbmdQcm9wcy5pbmRleE9mKGtleSkgIT09IC0xO1xuICAgICAgICBpc0FkZGluZ1BhdGggPSBrZXkgPT09ICdwYXRoJztcbiAgICAgIH1cbiAgICAgIGlmIChpc0FkZGluZ1BhdGgpIHtcbiAgICAgICAgdGhpcy5zZXRQYXRoSW5mbygpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRzRGltcykge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb21wbGV4aXR5IG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBjb21wbGV4aXR5XG4gICAgICovXG4gICAgY29tcGxleGl0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSB7QGxpbmsgZmFicmljLlRleHQuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuVGV4dFxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvdGV4dC5odG1sI1RleHRFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuVGV4dC5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KFxuICAgICd4IHkgZHggZHkgZm9udC1mYW1pbHkgZm9udC1zdHlsZSBmb250LXdlaWdodCBmb250LXNpemUgbGV0dGVyLXNwYWNpbmcgdGV4dC1kZWNvcmF0aW9uIHRleHQtYW5jaG9yJy5zcGxpdCgnICcpKTtcblxuICAvKipcbiAgICogRGVmYXVsdCBTVkcgZm9udCBzaXplXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UZXh0XG4gICAqL1xuICBmYWJyaWMuVGV4dC5ERUZBVUxUX1NWR19GT05UX1NJWkUgPSAxNjtcblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuVGV4dCBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50ICg8Yj5ub3QgeWV0IGltcGxlbWVudGVkPC9iPilcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBhZnRlciBwYXJzaW5nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIGZhYnJpYy5UZXh0LmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLlRleHQuQVRUUklCVVRFX05BTUVTKSxcbiAgICAgICAgcGFyc2VkQW5jaG9yID0gcGFyc2VkQXR0cmlidXRlcy50ZXh0QW5jaG9yIHx8ICdsZWZ0JztcbiAgICBvcHRpb25zID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCgob3B0aW9ucyA/IGNsb25lKG9wdGlvbnMpIDogeyB9KSwgcGFyc2VkQXR0cmlidXRlcyk7XG5cbiAgICBvcHRpb25zLnRvcCA9IG9wdGlvbnMudG9wIHx8IDA7XG4gICAgb3B0aW9ucy5sZWZ0ID0gb3B0aW9ucy5sZWZ0IHx8IDA7XG4gICAgaWYgKHBhcnNlZEF0dHJpYnV0ZXMudGV4dERlY29yYXRpb24pIHtcbiAgICAgIHZhciB0ZXh0RGVjb3JhdGlvbiA9IHBhcnNlZEF0dHJpYnV0ZXMudGV4dERlY29yYXRpb247XG4gICAgICBpZiAodGV4dERlY29yYXRpb24uaW5kZXhPZigndW5kZXJsaW5lJykgIT09IC0xKSB7XG4gICAgICAgIG9wdGlvbnMudW5kZXJsaW5lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCdvdmVybGluZScpICE9PSAtMSkge1xuICAgICAgICBvcHRpb25zLm92ZXJsaW5lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCdsaW5lLXRocm91Z2gnKSAhPT0gLTEpIHtcbiAgICAgICAgb3B0aW9ucy5saW5ldGhyb3VnaCA9IHRydWU7XG4gICAgICB9XG4gICAgICBkZWxldGUgb3B0aW9ucy50ZXh0RGVjb3JhdGlvbjtcbiAgICB9XG4gICAgaWYgKCdkeCcgaW4gcGFyc2VkQXR0cmlidXRlcykge1xuICAgICAgb3B0aW9ucy5sZWZ0ICs9IHBhcnNlZEF0dHJpYnV0ZXMuZHg7XG4gICAgfVxuICAgIGlmICgnZHknIGluIHBhcnNlZEF0dHJpYnV0ZXMpIHtcbiAgICAgIG9wdGlvbnMudG9wICs9IHBhcnNlZEF0dHJpYnV0ZXMuZHk7XG4gICAgfVxuICAgIGlmICghKCdmb250U2l6ZScgaW4gb3B0aW9ucykpIHtcbiAgICAgIG9wdGlvbnMuZm9udFNpemUgPSBmYWJyaWMuVGV4dC5ERUZBVUxUX1NWR19GT05UX1NJWkU7XG4gICAgfVxuXG4gICAgdmFyIHRleHRDb250ZW50ID0gJyc7XG5cbiAgICAvLyBUaGUgWE1MIGlzIG5vdCBwcm9wZXJseSBwYXJzZWQgaW4gSUU5IHNvIGEgd29ya2Fyb3VuZCB0byBnZXRcbiAgICAvLyB0ZXh0Q29udGVudCBpcyB0aHJvdWdoIGZpcnN0Q2hpbGQuZGF0YS4gQW5vdGhlciB3b3JrYXJvdW5kIHdvdWxkIGJlXG4gICAgLy8gdG8gY29udmVydCBYTUwgbG9hZGVkIGZyb20gYSBmaWxlIHRvIGJlIGNvbnZlcnRlZCB1c2luZyBET01QYXJzZXIgKHNhbWUgd2F5IGxvYWRTVkdGcm9tU3RyaW5nKCkgZG9lcylcbiAgICBpZiAoISgndGV4dENvbnRlbnQnIGluIGVsZW1lbnQpKSB7XG4gICAgICBpZiAoJ2ZpcnN0Q2hpbGQnIGluIGVsZW1lbnQgJiYgZWxlbWVudC5maXJzdENoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIGlmICgnZGF0YScgaW4gZWxlbWVudC5maXJzdENoaWxkICYmIGVsZW1lbnQuZmlyc3RDaGlsZC5kYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgdGV4dENvbnRlbnQgPSBlbGVtZW50LmZpcnN0Q2hpbGQuZGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRleHRDb250ZW50ID0gZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICB9XG5cbiAgICB0ZXh0Q29udGVudCA9IHRleHRDb250ZW50LnJlcGxhY2UoL15cXHMrfFxccyskfFxcbisvZywgJycpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICB2YXIgb3JpZ2luYWxTdHJva2VXaWR0aCA9IG9wdGlvbnMuc3Ryb2tlV2lkdGg7XG4gICAgb3B0aW9ucy5zdHJva2VXaWR0aCA9IDA7XG5cbiAgICB2YXIgdGV4dCA9IG5ldyBmYWJyaWMuVGV4dCh0ZXh0Q29udGVudCwgb3B0aW9ucyksXG4gICAgICAgIHRleHRIZWlnaHRTY2FsZUZhY3RvciA9IHRleHQuZ2V0U2NhbGVkSGVpZ2h0KCkgLyB0ZXh0LmhlaWdodCxcbiAgICAgICAgbGluZUhlaWdodERpZmYgPSAodGV4dC5oZWlnaHQgKyB0ZXh0LnN0cm9rZVdpZHRoKSAqIHRleHQubGluZUhlaWdodCAtIHRleHQuaGVpZ2h0LFxuICAgICAgICBzY2FsZWREaWZmID0gbGluZUhlaWdodERpZmYgKiB0ZXh0SGVpZ2h0U2NhbGVGYWN0b3IsXG4gICAgICAgIHRleHRIZWlnaHQgPSB0ZXh0LmdldFNjYWxlZEhlaWdodCgpICsgc2NhbGVkRGlmZixcbiAgICAgICAgb2ZmWCA9IDA7XG4gICAgLypcbiAgICAgIEFkanVzdCBwb3NpdGlvbmluZzpcbiAgICAgICAgeC95IGF0dHJpYnV0ZXMgaW4gU1ZHIGNvcnJlc3BvbmQgdG8gdGhlIGJvdHRvbS1sZWZ0IGNvcm5lciBvZiB0ZXh0IGJvdW5kaW5nIGJveFxuICAgICAgICBmYWJyaWMgb3V0cHV0IGJ5IGRlZmF1bHQgYXQgdG9wLCBsZWZ0LlxuICAgICovXG4gICAgaWYgKHBhcnNlZEFuY2hvciA9PT0gJ2NlbnRlcicpIHtcbiAgICAgIG9mZlggPSB0ZXh0LmdldFNjYWxlZFdpZHRoKCkgLyAyO1xuICAgIH1cbiAgICBpZiAocGFyc2VkQW5jaG9yID09PSAncmlnaHQnKSB7XG4gICAgICBvZmZYID0gdGV4dC5nZXRTY2FsZWRXaWR0aCgpO1xuICAgIH1cbiAgICB0ZXh0LnNldCh7XG4gICAgICBsZWZ0OiB0ZXh0LmxlZnQgLSBvZmZYLFxuICAgICAgdG9wOiB0ZXh0LnRvcCAtICh0ZXh0SGVpZ2h0IC0gdGV4dC5mb250U2l6ZSAqICgwLjA3ICsgdGV4dC5fZm9udFNpemVGcmFjdGlvbikpIC8gdGV4dC5saW5lSGVpZ2h0LFxuICAgICAgc3Ryb2tlV2lkdGg6IHR5cGVvZiBvcmlnaW5hbFN0cm9rZVdpZHRoICE9PSAndW5kZWZpbmVkJyA/IG9yaWdpbmFsU3Ryb2tlV2lkdGggOiAxLFxuICAgIH0pO1xuICAgIGNhbGxiYWNrKHRleHQpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5UZXh0IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UZXh0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgcGxhaW4ganMgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlRleHQgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlRleHQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgb2JqZWN0Q29weSA9IGNsb25lKG9iamVjdCksIHBhdGggPSBvYmplY3QucGF0aDtcbiAgICBkZWxldGUgb2JqZWN0Q29weS5wYXRoO1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdUZXh0Jywgb2JqZWN0Q29weSwgZnVuY3Rpb24odGV4dEluc3RhbmNlKSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uuc3R5bGVzID0gZmFicmljLnV0aWwuc3R5bGVzRnJvbUFycmF5KG9iamVjdC5zdHlsZXMsIG9iamVjdC50ZXh0KTtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ1BhdGgnLCBwYXRoLCBmdW5jdGlvbihwYXRoSW5zdGFuY2UpIHtcbiAgICAgICAgICB0ZXh0SW5zdGFuY2Uuc2V0KCdwYXRoJywgcGF0aEluc3RhbmNlKTtcbiAgICAgICAgICBjYWxsYmFjayh0ZXh0SW5zdGFuY2UpO1xuICAgICAgICB9LCAncGF0aCcpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHRleHRJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfSwgJ3RleHQnKTtcbiAgfTtcblxuICBmYWJyaWMuVGV4dC5nZW5lcmljRm9udHMgPSBbJ3NhbnMtc2VyaWYnLCAnc2VyaWYnLCAnY3Vyc2l2ZScsICdmYW50YXN5JywgJ21vbm9zcGFjZSddO1xuXG4gIGZhYnJpYy51dGlsLmNyZWF0ZUFjY2Vzc29ycyAmJiBmYWJyaWMudXRpbC5jcmVhdGVBY2Nlc3NvcnMoZmFicmljLlRleHQpO1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5UZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuVGV4dC5wcm90b3R5cGUgKi8ge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIG5vIHN0eWxpbmcgb3Igbm8gc3R5bGluZyBpbiBhIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4ICwgbGluZUluZGV4IGlzIG9uIHdyYXBwZWQgbGluZXMuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VtcHR5U3R5bGVzOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICghdGhpcy5zdHlsZXMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxpbmVJbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuc3R5bGVzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gdHlwZW9mIGxpbmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnN0eWxlcyA6IHsgbGluZTogdGhpcy5zdHlsZXNbbGluZUluZGV4XSB9O1xuICAgICAgZm9yICh2YXIgcDEgaW4gb2JqKSB7XG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICBmb3IgKHZhciBwMyBpbiBvYmpbcDFdW3AyXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIGEgc3R5bGUgcHJvcGVydHkgb3IgaGFzIGl0IGluYSBzcGVjaWZpZWQgbGluZVxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBkZXRlY3QgaWYgYSB0ZXh0IHdpbGwgdXNlIGEgcGFydGljdWxhciBwcm9wZXJ0eSBvciBub3QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IHRvIGNoZWNrIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggdG8gY2hlY2sgdGhlIHN0eWxlIG9uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzdHlsZUhhczogZnVuY3Rpb24ocHJvcGVydHksIGxpbmVJbmRleCkge1xuICAgICAgaWYgKCF0aGlzLnN0eWxlcyB8fCAhcHJvcGVydHkgfHwgcHJvcGVydHkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGluZUluZGV4ICE9PSAndW5kZWZpbmVkJyAmJiAhdGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gdHlwZW9mIGxpbmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnN0eWxlcyA6IHsgMDogdGhpcy5zdHlsZXNbbGluZUluZGV4XSB9O1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBmb3IgKHZhciBwMSBpbiBvYmopIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9ialtwMV1bcDJdW3Byb3BlcnR5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjaGFyYWN0ZXJzIGluIGEgdGV4dCBoYXZlIGEgdmFsdWUgZm9yIGEgcHJvcGVydHlcbiAgICAgKiB3aG9zZSB2YWx1ZSBtYXRjaGVzIHRoZSB0ZXh0Ym94J3MgdmFsdWUgZm9yIHRoYXQgcHJvcGVydHkuICBJZiBzbyxcbiAgICAgKiB0aGUgY2hhcmFjdGVyLWxldmVsIHByb3BlcnR5IGlzIGRlbGV0ZWQuICBJZiB0aGUgY2hhcmFjdGVyXG4gICAgICogaGFzIG5vIG90aGVyIHByb3BlcnRpZXMsIHRoZW4gaXQgaXMgYWxzbyBkZWxldGVkLiAgRmluYWxseSxcbiAgICAgKiBpZiB0aGUgbGluZSBjb250YWluaW5nIHRoYXQgY2hhcmFjdGVyIGhhcyBubyBvdGhlciBjaGFyYWN0ZXJzXG4gICAgICogdGhlbiBpdCBhbHNvIGlzIGRlbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIHByb3BlcnR5IHRvIGNvbXBhcmUgYmV0d2VlbiBjaGFyYWN0ZXJzIGFuZCB0ZXh0LlxuICAgICAqL1xuICAgIGNsZWFuU3R5bGU6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzIHx8ICFwcm9wZXJ0eSB8fCBwcm9wZXJ0eSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IHRoaXMuc3R5bGVzLCBzdHlsZXNDb3VudCA9IDAsIGxldHRlckNvdW50LCBzdHlsZVByb3BlcnR5VmFsdWUsXG4gICAgICAgICAgYWxsU3R5bGVPYmplY3RQcm9wZXJ0aWVzTWF0Y2ggPSB0cnVlLCBncmFwaGVtZUNvdW50ID0gMCwgc3R5bGVPYmplY3Q7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGZvciAodmFyIHAxIGluIG9iaikge1xuICAgICAgICBsZXR0ZXJDb3VudCA9IDA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBmb3IgKHZhciBwMiBpbiBvYmpbcDFdKSB7XG4gICAgICAgICAgdmFyIHN0eWxlT2JqZWN0ID0gb2JqW3AxXVtwMl0sXG4gICAgICAgICAgICAgIHN0eWxlUHJvcGVydHlIYXNCZWVuU2V0ID0gc3R5bGVPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpO1xuXG4gICAgICAgICAgc3R5bGVzQ291bnQrKztcblxuICAgICAgICAgIGlmIChzdHlsZVByb3BlcnR5SGFzQmVlblNldCkge1xuICAgICAgICAgICAgaWYgKCFzdHlsZVByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgc3R5bGVQcm9wZXJ0eVZhbHVlID0gc3R5bGVPYmplY3RbcHJvcGVydHldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGVPYmplY3RbcHJvcGVydHldICE9PSBzdHlsZVByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgYWxsU3R5bGVPYmplY3RQcm9wZXJ0aWVzTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlT2JqZWN0W3Byb3BlcnR5XSA9PT0gdGhpc1twcm9wZXJ0eV0pIHtcbiAgICAgICAgICAgICAgZGVsZXRlIHN0eWxlT2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbGxTdHlsZU9iamVjdFByb3BlcnRpZXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzdHlsZU9iamVjdCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBsZXR0ZXJDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpbcDFdW3AyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGV0dGVyQ291bnQgPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgb2JqW3AxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gaWYgZXZlcnkgZ3JhcGhlbWUgaGFzIHRoZSBzYW1lIHN0eWxlIHNldCB0aGVuXG4gICAgICAvLyBkZWxldGUgdGhvc2Ugc3R5bGVzIGFuZCBzZXQgaXQgb24gdGhlIHBhcmVudFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JhcGhlbWVDb3VudCArPSB0aGlzLl90ZXh0TGluZXNbaV0ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGFsbFN0eWxlT2JqZWN0UHJvcGVydGllc01hdGNoICYmIHN0eWxlc0NvdW50ID09PSBncmFwaGVtZUNvdW50KSB7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gc3R5bGVQcm9wZXJ0eVZhbHVlO1xuICAgICAgICB0aGlzLnJlbW92ZVN0eWxlKHByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc3R5bGUgcHJvcGVydHkgb3IgcHJvcGVydGllcyBmcm9tIGFsbCBpbmRpdmlkdWFsIGNoYXJhY3RlciBzdHlsZXNcbiAgICAgKiBpbiBhIHRleHQgb2JqZWN0LiAgRGVsZXRlcyB0aGUgY2hhcmFjdGVyIHN0eWxlIG9iamVjdCBpZiBpdCBjb250YWlucyBubyBvdGhlciBzdHlsZVxuICAgICAqIHByb3BzLiAgRGVsZXRlcyBhIGxpbmUgc3R5bGUgb2JqZWN0IGlmIGl0IGNvbnRhaW5zIG5vIG90aGVyIGNoYXJhY3RlciBzdHlsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMgVGhlIHByb3BlcnR5IHRvIHJlbW92ZSBmcm9tIGNoYXJhY3RlciBzdHlsZXMuXG4gICAgICovXG4gICAgcmVtb3ZlU3R5bGU6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzIHx8ICFwcm9wZXJ0eSB8fCBwcm9wZXJ0eSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IHRoaXMuc3R5bGVzLCBsaW5lLCBsaW5lTnVtLCBjaGFyTnVtO1xuICAgICAgZm9yIChsaW5lTnVtIGluIG9iaikge1xuICAgICAgICBsaW5lID0gb2JqW2xpbmVOdW1dO1xuICAgICAgICBmb3IgKGNoYXJOdW0gaW4gbGluZSkge1xuICAgICAgICAgIGRlbGV0ZSBsaW5lW2NoYXJOdW1dW3Byb3BlcnR5XTtcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMobGluZVtjaGFyTnVtXSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkZWxldGUgbGluZVtjaGFyTnVtXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGxpbmUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBvYmpbbGluZU51bV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZXh0ZW5kU3R5bGVzOiBmdW5jdGlvbihpbmRleCwgc3R5bGVzKSB7XG4gICAgICB2YXIgbG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKGluZGV4KTtcblxuICAgICAgaWYgKCF0aGlzLl9nZXRMaW5lU3R5bGUobG9jLmxpbmVJbmRleCkpIHtcbiAgICAgICAgdGhpcy5fc2V0TGluZVN0eWxlKGxvYy5saW5lSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2dldFN0eWxlRGVjbGFyYXRpb24obG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCkpIHtcbiAgICAgICAgdGhpcy5fc2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4LCB7fSk7XG4gICAgICB9XG5cbiAgICAgIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQodGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4KSwgc3R5bGVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAyZCByZXByZXNlbnRhdGlvbiAobGluZUluZGV4IGFuZCBjaGFySW5kZXgpIG9mIGN1cnNvciAob3Igc2VsZWN0aW9uIHN0YXJ0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2VsZWN0aW9uU3RhcnRdIE9wdGlvbmFsIGluZGV4LiBXaGVuIG5vdCBnaXZlbiwgY3VycmVudCBzZWxlY3Rpb25TdGFydCBpcyB1c2VkLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBXcmFwcGluZ10gY29uc2lkZXIgdGhlIGxvY2F0aW9uIGZvciB1bndyYXBwZWQgbGluZXMuIHVzZWZ1bCB0byBtYW5hZ2Ugc3R5bGVzLlxuICAgICAqL1xuICAgIGdldDJEQ3Vyc29yTG9jYXRpb246IGZ1bmN0aW9uKHNlbGVjdGlvblN0YXJ0LCBza2lwV3JhcHBpbmcpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2VsZWN0aW9uU3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgIH1cbiAgICAgIHZhciBsaW5lcyA9IHNraXBXcmFwcGluZyA/IHRoaXMuX3Vud3JhcHBlZFRleHRMaW5lcyA6IHRoaXMuX3RleHRMaW5lcyxcbiAgICAgICAgICBsZW4gPSBsaW5lcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA8PSBsaW5lc1tpXS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGluZUluZGV4OiBpLFxuICAgICAgICAgICAgY2hhckluZGV4OiBzZWxlY3Rpb25TdGFydFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0aW9uU3RhcnQgLT0gbGluZXNbaV0ubGVuZ3RoICsgdGhpcy5taXNzaW5nTmV3bGluZU9mZnNldChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbmVJbmRleDogaSAtIDEsXG4gICAgICAgIGNoYXJJbmRleDogbGluZXNbaSAtIDFdLmxlbmd0aCA8IHNlbGVjdGlvblN0YXJ0ID8gbGluZXNbaSAtIDFdLmxlbmd0aCA6IHNlbGVjdGlvblN0YXJ0XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHN0eWxlIG9mIGEgY3VycmVudCBzZWxlY3Rpb24vY3Vyc29yIChhdCB0aGUgc3RhcnQgcG9zaXRpb24pXG4gICAgICogaWYgc3RhcnRJbmRleCBvciBlbmRJbmRleCBhcmUgbm90IHByb3ZpZGVkLCBzZWxlY3Rpb25TdGFydCBvciBzZWxlY3Rpb25FbmQgd2lsbCBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRJbmRleF0gU3RhcnQgaW5kZXggdG8gZ2V0IHN0eWxlcyBhdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kSW5kZXhdIEVuZCBpbmRleCB0byBnZXQgc3R5bGVzIGF0LCBpZiBub3Qgc3BlY2lmaWVkIHNlbGVjdGlvbkVuZCBvciBzdGFydEluZGV4ICsgMVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbXBsZXRlXSBnZXQgZnVsbCBzdHlsZSBvciBub3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gc3R5bGVzIGFuIGFycmF5IHdpdGggb25lLCB6ZXJvIG9yIG1vcmUgU3R5bGUgb2JqZWN0c1xuICAgICAqL1xuICAgIGdldFNlbGVjdGlvblN0eWxlczogZnVuY3Rpb24oc3RhcnRJbmRleCwgZW5kSW5kZXgsIGNvbXBsZXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0SW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0aGlzLnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbmRJbmRleCA9IHRoaXMuc2VsZWN0aW9uRW5kIHx8IHN0YXJ0SW5kZXg7XG4gICAgICB9XG4gICAgICB2YXIgc3R5bGVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgc3R5bGVzLnB1c2godGhpcy5nZXRTdHlsZUF0UG9zaXRpb24oaSwgY29tcGxldGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgc3R5bGUgb2YgYSBjdXJyZW50IHNlbGVjdGlvbi9jdXJzb3IgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gIHRvIGdldCBzdHlsZXMgYXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb21wbGV0ZV0gZnVsbCBzdHlsZSBpZiB0cnVlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBTdHlsZSBvYmplY3QgYXQgYSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFN0eWxlQXRQb3NpdGlvbjogZnVuY3Rpb24ocG9zaXRpb24sIGNvbXBsZXRlKSB7XG4gICAgICB2YXIgbG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHBvc2l0aW9uKSxcbiAgICAgICAgICBzdHlsZSA9IGNvbXBsZXRlID8gdGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCkgOlxuICAgICAgICAgICAgdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4KTtcbiAgICAgIHJldHVybiBzdHlsZSB8fCB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzdHlsZSBvZiBhIGN1cnJlbnQgc2VsZWN0aW9uLCBpZiBubyBzZWxlY3Rpb24gZXhpc3QsIGRvIG5vdCBzZXQgYW55dGhpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdHlsZXNdIFN0eWxlcyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0SW5kZXhdIFN0YXJ0IGluZGV4IHRvIGdldCBzdHlsZXMgYXRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZEluZGV4XSBFbmQgaW5kZXggdG8gZ2V0IHN0eWxlcyBhdCwgaWYgbm90IHNwZWNpZmllZCBzZWxlY3Rpb25FbmQgb3Igc3RhcnRJbmRleCArIDFcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSVRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uU3R5bGVzOiBmdW5jdGlvbihzdHlsZXMsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0SW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0aGlzLnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbmRJbmRleCA9IHRoaXMuc2VsZWN0aW9uRW5kIHx8IHN0YXJ0SW5kZXg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgdGhpcy5fZXh0ZW5kU3R5bGVzKGksIHN0eWxlcyk7XG4gICAgICB9XG4gICAgICAvKiBub3QgaW5jbHVkZWQgaW4gX2V4dGVuZFN0eWxlcyB0byBhdm9pZCBjbGVhcmluZyBjYWNoZSBtb3JlIHRoYW4gb25jZSAqL1xuICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgdGhlIHJlZmVyZW5jZSwgbm90IGEgY2xvbmUsIG9mIHRoZSBzdHlsZSBvYmplY3QgZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN0eWxlIG9iamVjdFxuICAgICAqL1xuICAgIF9nZXRTdHlsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCkge1xuICAgICAgdmFyIGxpbmVTdHlsZSA9IHRoaXMuc3R5bGVzICYmIHRoaXMuc3R5bGVzW2xpbmVJbmRleF07XG4gICAgICBpZiAoIWxpbmVTdHlsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaW5lU3R5bGVbY2hhckluZGV4XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGEgbmV3IG9iamVjdCB0aGF0IGNvbnRhaW5zIGFsbCB0aGUgc3R5bGUgcHJvcGVydHkgZm9yIGEgY2hhcmFjdGVyXG4gICAgICogdGhlIG9iamVjdCByZXR1cm5lZCBpcyBuZXdseSBjcmVhdGVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBvZiB0aGUgbGluZSB3aGVyZSB0aGUgY2hhcmFjdGVyIGlzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hhcmFjdGVyIG9uIHRoZSBsaW5lXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICB2YXIgc3R5bGUgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB8fCB7IH0sXG4gICAgICAgICAgc3R5bGVPYmplY3QgPSB7IH0sIHByb3A7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3N0eWxlUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9wID0gdGhpcy5fc3R5bGVQcm9wZXJ0aWVzW2ldO1xuICAgICAgICBzdHlsZU9iamVjdFtwcm9wXSA9IHR5cGVvZiBzdHlsZVtwcm9wXSA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzW3Byb3BdIDogc3R5bGVbcHJvcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVPYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U3R5bGVEZWNsYXJhdGlvbjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgsIHN0eWxlKSB7XG4gICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleF0gPSBzdHlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RlbGV0ZVN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gaWYgdGhlIGxpbmUgZXhpc3RzIG9yIG5vdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldExpbmVTdHlsZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICByZXR1cm4gISF0aGlzLnN0eWxlc1tsaW5lSW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgc3R5bGUgdG8gYW4gZW1wdHkgb2JqZWN0IHNvIHRoYXQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0TGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleF0gPSB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RlbGV0ZUxpbmVTdHlsZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gcGFyc2VEZWNvcmF0aW9uKG9iamVjdCkge1xuICAgIGlmIChvYmplY3QudGV4dERlY29yYXRpb24pIHtcbiAgICAgIG9iamVjdC50ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCd1bmRlcmxpbmUnKSA+IC0xICYmIChvYmplY3QudW5kZXJsaW5lID0gdHJ1ZSk7XG4gICAgICBvYmplY3QudGV4dERlY29yYXRpb24uaW5kZXhPZignbGluZS10aHJvdWdoJykgPiAtMSAmJiAob2JqZWN0LmxpbmV0aHJvdWdoID0gdHJ1ZSk7XG4gICAgICBvYmplY3QudGV4dERlY29yYXRpb24uaW5kZXhPZignb3ZlcmxpbmUnKSA+IC0xICYmIChvYmplY3Qub3ZlcmxpbmUgPSB0cnVlKTtcbiAgICAgIGRlbGV0ZSBvYmplY3QudGV4dERlY29yYXRpb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElUZXh0IGNsYXNzIChpbnRyb2R1Y2VkIGluIDxiPnYxLjQ8L2I+KSBFdmVudHMgYXJlIGFsc28gZmlyZWQgd2l0aCBcInRleHQ6XCJcbiAgICogcHJlZml4IHdoZW4gb2JzZXJ2aW5nIGNhbnZhcy5cbiAgICogQGNsYXNzIGZhYnJpYy5JVGV4dFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuVGV4dFxuICAgKiBAbWl4ZXMgZmFicmljLk9ic2VydmFibGVcbiAgICpcbiAgICogQGZpcmVzIGNoYW5nZWRcbiAgICogQGZpcmVzIHNlbGVjdGlvbjpjaGFuZ2VkXG4gICAqIEBmaXJlcyBlZGl0aW5nOmVudGVyZWRcbiAgICogQGZpcmVzIGVkaXRpbmc6ZXhpdGVkXG4gICAqXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSVRleHQjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICpcbiAgICogPHA+U3VwcG9ydGVkIGtleSBjb21iaW5hdGlvbnM6PC9wPlxuICAgKiA8cHJlPlxuICAgKiAgIE1vdmUgY3Vyc29yOiAgICAgICAgICAgICAgICAgICAgbGVmdCwgcmlnaHQsIHVwLCBkb3duXG4gICAqICAgU2VsZWN0IGNoYXJhY3RlcjogICAgICAgICAgICAgICBzaGlmdCArIGxlZnQsIHNoaWZ0ICsgcmlnaHRcbiAgICogICBTZWxlY3QgdGV4dCB2ZXJ0aWNhbGx5OiAgICAgICAgIHNoaWZ0ICsgdXAsIHNoaWZ0ICsgZG93blxuICAgKiAgIE1vdmUgY3Vyc29yIGJ5IHdvcmQ6ICAgICAgICAgICAgYWx0ICsgbGVmdCwgYWx0ICsgcmlnaHRcbiAgICogICBTZWxlY3Qgd29yZHM6ICAgICAgICAgICAgICAgICAgIHNoaWZ0ICsgYWx0ICsgbGVmdCwgc2hpZnQgKyBhbHQgKyByaWdodFxuICAgKiAgIE1vdmUgY3Vyc29yIHRvIGxpbmUgc3RhcnQvZW5kOiAgY21kICsgbGVmdCwgY21kICsgcmlnaHQgb3IgaG9tZSwgZW5kXG4gICAqICAgU2VsZWN0IHRpbGwgc3RhcnQvZW5kIG9mIGxpbmU6ICBjbWQgKyBzaGlmdCArIGxlZnQsIGNtZCArIHNoaWZ0ICsgcmlnaHQgb3Igc2hpZnQgKyBob21lLCBzaGlmdCArIGVuZFxuICAgKiAgIEp1bXAgdG8gc3RhcnQvZW5kIG9mIHRleHQ6ICAgICAgY21kICsgdXAsIGNtZCArIGRvd25cbiAgICogICBTZWxlY3QgdGlsbCBzdGFydC9lbmQgb2YgdGV4dDogIGNtZCArIHNoaWZ0ICsgdXAsIGNtZCArIHNoaWZ0ICsgZG93biBvciBzaGlmdCArIHBnVXAsIHNoaWZ0ICsgcGdEb3duXG4gICAqICAgRGVsZXRlIGNoYXJhY3RlcjogICAgICAgICAgICAgICBiYWNrc3BhY2VcbiAgICogICBEZWxldGUgd29yZDogICAgICAgICAgICAgICAgICAgIGFsdCArIGJhY2tzcGFjZVxuICAgKiAgIERlbGV0ZSBsaW5lOiAgICAgICAgICAgICAgICAgICAgY21kICsgYmFja3NwYWNlXG4gICAqICAgRm9yd2FyZCBkZWxldGU6ICAgICAgICAgICAgICAgICBkZWxldGVcbiAgICogICBDb3B5IHRleHQ6ICAgICAgICAgICAgICAgICAgICAgIGN0cmwvY21kICsgY1xuICAgKiAgIFBhc3RlIHRleHQ6ICAgICAgICAgICAgICAgICAgICAgY3RybC9jbWQgKyB2XG4gICAqICAgQ3V0IHRleHQ6ICAgICAgICAgICAgICAgICAgICAgICBjdHJsL2NtZCArIHhcbiAgICogICBTZWxlY3QgZW50aXJlIHRleHQ6ICAgICAgICAgICAgIGN0cmwvY21kICsgYVxuICAgKiAgIFF1aXQgZWRpdGluZyAgICAgICAgICAgICAgICAgICAgdGFiIG9yIGVzY1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogPHA+U3VwcG9ydGVkIG1vdXNlL3RvdWNoIGNvbWJpbmF0aW9uPC9wPlxuICAgKiA8cHJlPlxuICAgKiAgIFBvc2l0aW9uIGN1cnNvcjogICAgICAgICAgICAgICAgY2xpY2svdG91Y2hcbiAgICogICBDcmVhdGUgc2VsZWN0aW9uOiAgICAgICAgICAgICAgIGNsaWNrL3RvdWNoICYgZHJhZ1xuICAgKiAgIENyZWF0ZSBzZWxlY3Rpb246ICAgICAgICAgICAgICAgY2xpY2sgJiBzaGlmdCArIGNsaWNrXG4gICAqICAgU2VsZWN0IHdvcmQ6ICAgICAgICAgICAgICAgICAgICBkb3VibGUgY2xpY2tcbiAgICogICBTZWxlY3QgbGluZTogICAgICAgICAgICAgICAgICAgIHRyaXBsZSBjbGlja1xuICAgKiA8L3ByZT5cbiAgICovXG4gIGZhYnJpYy5JVGV4dCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5UZXh0LCBmYWJyaWMuT2JzZXJ2YWJsZSwgLyoqIEBsZW5kcyBmYWJyaWMuSVRleHQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnaS10ZXh0JyxcblxuICAgIC8qKlxuICAgICAqIEluZGV4IHdoZXJlIHRleHQgc2VsZWN0aW9uIHN0YXJ0cyAob3Igd2hlcmUgY3Vyc29yIGlzIHdoZW4gdGhlcmUgaXMgbm8gc2VsZWN0aW9uKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uU3RhcnQ6IDAsXG5cbiAgICAvKipcbiAgICAgKiBJbmRleCB3aGVyZSB0ZXh0IHNlbGVjdGlvbiBlbmRzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25FbmQ6IDAsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiB0ZXh0IHNlbGVjdGlvblxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uQ29sb3I6ICdyZ2JhKDE3LDExOSwyNTUsMC4zKScsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0ZXh0IGlzIGluIGVkaXRpbmcgbW9kZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGlzRWRpdGluZzogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBhIHRleHQgY2FuIGJlIGVkaXRlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGVkaXRhYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQm9yZGVyIGNvbG9yIG9mIHRleHQgb2JqZWN0IHdoaWxlIGl0J3MgaW4gZWRpdGluZyBtb2RlXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBlZGl0aW5nQm9yZGVyQ29sb3I6ICdyZ2JhKDEwMiwxNTMsMjU1LDAuMjUpJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIGN1cnNvciAoaW4gcHgpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JXaWR0aDogMixcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIHRleHQgY3Vyc29yIGNvbG9yIGluIGVkaXRpbmcgbW9kZS5cbiAgICAgKiBpZiBub3Qgc2V0IChkZWZhdWx0KSB3aWxsIHRha2UgY29sb3IgZnJvbSB0aGUgdGV4dC5cbiAgICAgKiBpZiBzZXQgdG8gYSBjb2xvciB2YWx1ZSB0aGF0IGZhYnJpYyBjYW4gdW5kZXJzdGFuZCwgaXQgd2lsbFxuICAgICAqIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY29sb3Igb2YgdGhlIHRleHQgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JDb2xvcjogJycsXG5cbiAgICAvKipcbiAgICAgKiBEZWxheSBiZXR3ZWVuIGN1cnNvciBibGluayAoaW4gbXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JEZWxheTogMTAwMCxcblxuICAgIC8qKlxuICAgICAqIER1cmF0aW9uIG9mIGN1cnNvciBmYWRlaW4gKGluIG1zKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY3Vyc29yRHVyYXRpb246IDYwMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIGludGVybmFsIHRleHQgY2hhciB3aWR0aHMgY2FuIGJlIGNhY2hlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNhY2hpbmc6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBET00gY29udGFpbmVyIHRvIGFwcGVuZCB0aGUgaGlkZGVuVGV4dGFyZWEuXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYXR0YWNoaW5nIHRvIHRoZSBkb2N1bWVudC5ib2R5LlxuICAgICAqIFVzZWZ1bCB0byByZWR1Y2UgbGFnZ2lzaCByZWRyYXcgb2YgdGhlIGZ1bGwgZG9jdW1lbnQuYm9keSB0cmVlIGFuZFxuICAgICAqIGFsc28gd2l0aCBtb2RhbHMgZXZlbnQgY2FwdHVyaW5nIHRoYXQgd29uJ3QgbGV0IHRoZSB0ZXh0YXJlYSB0YWtlIGZvY3VzLlxuICAgICAqIEB0eXBlIEhUTUxFbGVtZW50XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoaWRkZW5UZXh0YXJlYUNvbnRhaW5lcjogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlU3BhY2U6IC9cXHN8XFxuLyxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2N1cnJlbnRDdXJzb3JPcGFjaXR5OiAwLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2VsZWN0aW9uRGlyZWN0aW9uOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYWJvcnRDdXJzb3JBbmltYXRpb246IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX3dpZHRoT2ZTcGFjZTogW10sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBkZXRlcm1pbmluZyB3aGVuIHRoZSB0ZXh0IGlzIGluIGNvbXBvc2l0aW9uLCBzbyB0aGF0IHRoZSBjdXJzb3JcbiAgICAgKiByZW5kZXJpbmcgaXMgYWx0ZXJlZC5cbiAgICAgKi9cbiAgICBpbkNvbXBvc2l0aW9uTW9kZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRleHQgc3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgdGV4dCwgb3B0aW9ucyk7XG4gICAgICB0aGlzLmluaXRCZWhhdmlvcigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHNlbGVjdGlvbiBzdGFydCAobGVmdCBib3VuZGFyeSBvZiBhIHNlbGVjdGlvbilcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggSW5kZXggdG8gc2V0IHNlbGVjdGlvbiBzdGFydCB0b1xuICAgICAqL1xuICAgIHNldFNlbGVjdGlvblN0YXJ0OiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgaW5kZXggPSBNYXRoLm1heChpbmRleCwgMCk7XG4gICAgICB0aGlzLl91cGRhdGVBbmRGaXJlKCdzZWxlY3Rpb25TdGFydCcsIGluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzZWxlY3Rpb24gZW5kIChyaWdodCBib3VuZGFyeSBvZiBhIHNlbGVjdGlvbilcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggSW5kZXggdG8gc2V0IHNlbGVjdGlvbiBlbmQgdG9cbiAgICAgKi9cbiAgICBzZXRTZWxlY3Rpb25FbmQ6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpbmRleCA9IE1hdGgubWluKGluZGV4LCB0aGlzLnRleHQubGVuZ3RoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUFuZEZpcmUoJ3NlbGVjdGlvbkVuZCcsIGluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgJ3NlbGVjdGlvblN0YXJ0JyBvciAnc2VsZWN0aW9uRW5kJ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBuZXcgcG9zaXRpb24gb2YgcHJvcGVydHlcbiAgICAgKi9cbiAgICBfdXBkYXRlQW5kRmlyZTogZnVuY3Rpb24ocHJvcGVydHksIGluZGV4KSB7XG4gICAgICBpZiAodGhpc1twcm9wZXJ0eV0gIT09IGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gaW5kZXg7XG4gICAgICB9XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB0aGUgZXZlbiBvZiBzZWxlY3Rpb24gY2hhbmdlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZmlyZSgnc2VsZWN0aW9uOmNoYW5nZWQnKTtcbiAgICAgIHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLmZpcmUoJ3RleHQ6c2VsZWN0aW9uOmNoYW5nZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0ZXh0IGRpbWVuc2lvbnMuIFJlbmRlciBhbGwgdGV4dCBvbiBnaXZlbiBjb250ZXh0XG4gICAgICogb3Igb24gYSBvZmZzY3JlZW4gY2FudmFzIHRvIGdldCB0aGUgdGV4dCB3aWR0aCB3aXRoIG1lYXN1cmVUZXh0LlxuICAgICAqIFVwZGF0ZXMgdGhpcy53aWR0aCBhbmQgdGhpcy5oZWlnaHQgd2l0aCB0aGUgcHJvcGVyIHZhbHVlcy5cbiAgICAgKiBEb2VzIG5vdCByZXR1cm4gZGltZW5zaW9ucy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXREaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaXNFZGl0aW5nICYmIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdERpbWVuc2lvbnMnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB0aGlzLmNhbGxTdXBlcigncmVuZGVyJywgY3R4KTtcbiAgICAgIC8vIGNsZWFyIHRoZSBjdXJzb3JPZmZzZXRDYWNoZSwgc28gd2UgZW5zdXJlIHRvIGNhbGN1bGF0ZSBvbmNlIHBlciByZW5kZXJDdXJzb3JcbiAgICAgIC8vIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGJ1dCBub3QgYXQgZXZlcnkgY3Vyc29yIGFuaW1hdGlvbi5cbiAgICAgIHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGUgPSB7IH07XG4gICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19yZW5kZXInLCBjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIGFuZCBjbGVhbiB0aGUgY29udGV4dFRvcFxuICAgICAqL1xuICAgIGNsZWFyQ29udGV4dFRvcDogZnVuY3Rpb24oc2tpcFJlc3RvcmUpIHtcbiAgICAgIGlmICghdGhpcy5pc0VkaXRpbmcgfHwgIXRoaXMuY2FudmFzIHx8ICF0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCB2ID0gdGhpcy5jYW52YXMudmlld3BvcnRUcmFuc2Zvcm07XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtKGN0eCk7XG4gICAgICB0aGlzLl9jbGVhclRleHRBcmVhKGN0eCk7XG4gICAgICBza2lwUmVzdG9yZSB8fCBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBjdXJzb3Igb3Igc2VsZWN0aW9uIChkZXBlbmRpbmcgb24gd2hhdCBleGlzdHMpXG4gICAgICogaXQgZG9lcyBvbiB0aGUgY29udGV4dFRvcC4gSWYgY29udGV4dFRvcCBpcyBub3QgYXZhaWxhYmxlLCBkbyBub3RoaW5nLlxuICAgICAqL1xuICAgIHJlbmRlckN1cnNvck9yU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5pc0VkaXRpbmcgfHwgIXRoaXMuY2FudmFzIHx8ICF0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBib3VuZGFyaWVzID0gdGhpcy5fZ2V0Q3Vyc29yQm91bmRhcmllcygpLFxuICAgICAgICAgIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3A7XG4gICAgICB0aGlzLmNsZWFyQ29udGV4dFRvcCh0cnVlKTtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID09PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgICB0aGlzLnJlbmRlckN1cnNvcihib3VuZGFyaWVzLCBjdHgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyU2VsZWN0aW9uKGJvdW5kYXJpZXMsIGN0eCk7XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICBfY2xlYXJUZXh0QXJlYTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICAvLyB3ZSBhZGQgNCBwaXhlbCwgdG8gYmUgc3VyZSB0byBkbyBub3QgbGVhdmUgYW55IHBpeGVsIG91dFxuICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCArIDQsIGhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgNDtcbiAgICAgIGN0eC5jbGVhclJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGN1cnNvciBib3VuZGFyaWVzIChsZWZ0LCB0b3AsIGxlZnRPZmZzZXQsIHRvcE9mZnNldClcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNoYXJzIEFycmF5IG9mIGNoYXJhY3RlcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZU9mQm91bmRhcmllc1xuICAgICAqL1xuICAgIF9nZXRDdXJzb3JCb3VuZGFyaWVzOiBmdW5jdGlvbihwb3NpdGlvbikge1xuXG4gICAgICAvLyBsZWZ0L3RvcCBhcmUgbGVmdC90b3Agb2YgZW50aXJlIHRleHQgYm94XG4gICAgICAvLyBsZWZ0T2Zmc2V0L3RvcE9mZnNldCBhcmUgb2Zmc2V0IGZyb20gdGhhdCBsZWZ0L3RvcCBwb2ludCBvZiBhIHRleHQgYm94XG5cbiAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlZnQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksXG4gICAgICAgICAgdG9wID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCksXG4gICAgICAgICAgb2Zmc2V0cyA9IHRoaXMuX2dldEN1cnNvckJvdW5kYXJpZXNPZmZzZXRzKHBvc2l0aW9uKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBsZWZ0T2Zmc2V0OiBvZmZzZXRzLmxlZnQsXG4gICAgICAgIHRvcE9mZnNldDogb2Zmc2V0cy50b3BcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldEN1cnNvckJvdW5kYXJpZXNPZmZzZXRzOiBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgaWYgKHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGUgJiYgJ3RvcCcgaW4gdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3JPZmZzZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIHZhciBsaW5lTGVmdE9mZnNldCxcbiAgICAgICAgICBsaW5lSW5kZXgsXG4gICAgICAgICAgY2hhckluZGV4LFxuICAgICAgICAgIHRvcE9mZnNldCA9IDAsXG4gICAgICAgICAgbGVmdE9mZnNldCA9IDAsXG4gICAgICAgICAgYm91bmRhcmllcyxcbiAgICAgICAgICBjdXJzb3JQb3NpdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihwb3NpdGlvbik7XG4gICAgICBjaGFySW5kZXggPSBjdXJzb3JQb3NpdGlvbi5jaGFySW5kZXg7XG4gICAgICBsaW5lSW5kZXggPSBjdXJzb3JQb3NpdGlvbi5saW5lSW5kZXg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVJbmRleDsgaSsrKSB7XG4gICAgICAgIHRvcE9mZnNldCArPSB0aGlzLmdldEhlaWdodE9mTGluZShpKTtcbiAgICAgIH1cbiAgICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobGluZUluZGV4KTtcbiAgICAgIHZhciBib3VuZCA9IHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF1bY2hhckluZGV4XTtcbiAgICAgIGJvdW5kICYmIChsZWZ0T2Zmc2V0ID0gYm91bmQubGVmdCk7XG4gICAgICBpZiAodGhpcy5jaGFyU3BhY2luZyAhPT0gMCAmJiBjaGFySW5kZXggPT09IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLmxlbmd0aCkge1xuICAgICAgICBsZWZ0T2Zmc2V0IC09IHRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpO1xuICAgICAgfVxuICAgICAgYm91bmRhcmllcyA9IHtcbiAgICAgICAgdG9wOiB0b3BPZmZzZXQsXG4gICAgICAgIGxlZnQ6IGxpbmVMZWZ0T2Zmc2V0ICsgKGxlZnRPZmZzZXQgPiAwID8gbGVmdE9mZnNldCA6IDApLFxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgYm91bmRhcmllcy5sZWZ0ICo9IC0xO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSA9IGJvdW5kYXJpZXM7XG4gICAgICByZXR1cm4gdGhpcy5jdXJzb3JPZmZzZXRDYWNoZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBjdXJzb3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYm91bmRhcmllc1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggdHJhbnNmb3JtZWQgY29udGV4dCB0byBkcmF3IG9uXG4gICAgICovXG4gICAgcmVuZGVyQ3Vyc29yOiBmdW5jdGlvbihib3VuZGFyaWVzLCBjdHgpIHtcbiAgICAgIHZhciBjdXJzb3JMb2NhdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbigpLFxuICAgICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleCxcbiAgICAgICAgICBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXggPiAwID8gY3Vyc29yTG9jYXRpb24uY2hhckluZGV4IC0gMSA6IDAsXG4gICAgICAgICAgY2hhckhlaWdodCA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobGluZUluZGV4LCBjaGFySW5kZXgsICdmb250U2l6ZScpLFxuICAgICAgICAgIG11bHRpcGxpZXIgPSB0aGlzLnNjYWxlWCAqIHRoaXMuY2FudmFzLmdldFpvb20oKSxcbiAgICAgICAgICBjdXJzb3JXaWR0aCA9IHRoaXMuY3Vyc29yV2lkdGggLyBtdWx0aXBsaWVyLFxuICAgICAgICAgIHRvcE9mZnNldCA9IGJvdW5kYXJpZXMudG9wT2Zmc2V0LFxuICAgICAgICAgIGR5ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsaW5lSW5kZXgsIGNoYXJJbmRleCwgJ2RlbHRhWScpO1xuICAgICAgdG9wT2Zmc2V0ICs9ICgxIC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbikgKiB0aGlzLmdldEhlaWdodE9mTGluZShsaW5lSW5kZXgpIC8gdGhpcy5saW5lSGVpZ2h0XG4gICAgICAgIC0gY2hhckhlaWdodCAqICgxIC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbik7XG5cbiAgICAgIGlmICh0aGlzLmluQ29tcG9zaXRpb25Nb2RlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyU2VsZWN0aW9uKGJvdW5kYXJpZXMsIGN0eCk7XG4gICAgICB9XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jdXJzb3JDb2xvciB8fCB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGxpbmVJbmRleCwgY2hhckluZGV4LCAnZmlsbCcpO1xuICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdGhpcy5fX2lzTW91c2Vkb3duID8gMSA6IHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5O1xuICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICBib3VuZGFyaWVzLmxlZnQgKyBib3VuZGFyaWVzLmxlZnRPZmZzZXQgLSBjdXJzb3JXaWR0aCAvIDIsXG4gICAgICAgIHRvcE9mZnNldCArIGJvdW5kYXJpZXMudG9wICsgZHksXG4gICAgICAgIGN1cnNvcldpZHRoLFxuICAgICAgICBjaGFySGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IHNlbGVjdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBib3VuZGFyaWVzIE9iamVjdCB3aXRoIGxlZnQvdG9wL2xlZnRPZmZzZXQvdG9wT2Zmc2V0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCB0cmFuc2Zvcm1lZCBjb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKi9cbiAgICByZW5kZXJTZWxlY3Rpb246IGZ1bmN0aW9uKGJvdW5kYXJpZXMsIGN0eCkge1xuXG4gICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLmluQ29tcG9zaXRpb25Nb2RlID8gdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25TdGFydCA6IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA/IHRoaXMuaGlkZGVuVGV4dGFyZWEuc2VsZWN0aW9uRW5kIDogdGhpcy5zZWxlY3Rpb25FbmQsXG4gICAgICAgICAgaXNKdXN0aWZ5ID0gdGhpcy50ZXh0QWxpZ24uaW5kZXhPZignanVzdGlmeScpICE9PSAtMSxcbiAgICAgICAgICBzdGFydCA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihzZWxlY3Rpb25TdGFydCksXG4gICAgICAgICAgZW5kID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHNlbGVjdGlvbkVuZCksXG4gICAgICAgICAgc3RhcnRMaW5lID0gc3RhcnQubGluZUluZGV4LFxuICAgICAgICAgIGVuZExpbmUgPSBlbmQubGluZUluZGV4LFxuICAgICAgICAgIHN0YXJ0Q2hhciA9IHN0YXJ0LmNoYXJJbmRleCA8IDAgPyAwIDogc3RhcnQuY2hhckluZGV4LFxuICAgICAgICAgIGVuZENoYXIgPSBlbmQuY2hhckluZGV4IDwgMCA/IDAgOiBlbmQuY2hhckluZGV4O1xuXG4gICAgICBmb3IgKHZhciBpID0gc3RhcnRMaW5lOyBpIDw9IGVuZExpbmU7IGkrKykge1xuICAgICAgICB2YXIgbGluZU9mZnNldCA9IHRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGkpIHx8IDAsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSksXG4gICAgICAgICAgICByZWFsTGluZUhlaWdodCA9IDAsIGJveFN0YXJ0ID0gMCwgYm94RW5kID0gMDtcblxuICAgICAgICBpZiAoaSA9PT0gc3RhcnRMaW5lKSB7XG4gICAgICAgICAgYm94U3RhcnQgPSB0aGlzLl9fY2hhckJvdW5kc1tzdGFydExpbmVdW3N0YXJ0Q2hhcl0ubGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+PSBzdGFydExpbmUgJiYgaSA8IGVuZExpbmUpIHtcbiAgICAgICAgICBib3hFbmQgPSBpc0p1c3RpZnkgJiYgIXRoaXMuaXNFbmRPZldyYXBwaW5nKGkpID8gdGhpcy53aWR0aCA6IHRoaXMuZ2V0TGluZVdpZHRoKGkpIHx8IDU7IC8vIFdURiBpcyB0aGlzIDU/XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaSA9PT0gZW5kTGluZSkge1xuICAgICAgICAgIGlmIChlbmRDaGFyID09PSAwKSB7XG4gICAgICAgICAgICBib3hFbmQgPSB0aGlzLl9fY2hhckJvdW5kc1tlbmRMaW5lXVtlbmRDaGFyXS5sZWZ0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGFyU3BhY2luZyA9IHRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpO1xuICAgICAgICAgICAgYm94RW5kID0gdGhpcy5fX2NoYXJCb3VuZHNbZW5kTGluZV1bZW5kQ2hhciAtIDFdLmxlZnRcbiAgICAgICAgICAgICAgKyB0aGlzLl9fY2hhckJvdW5kc1tlbmRMaW5lXVtlbmRDaGFyIC0gMV0ud2lkdGggLSBjaGFyU3BhY2luZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVhbExpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5saW5lSGVpZ2h0IDwgMSB8fCAoaSA9PT0gZW5kTGluZSAmJiB0aGlzLmxpbmVIZWlnaHQgPiAxKSkge1xuICAgICAgICAgIGxpbmVIZWlnaHQgLz0gdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBkcmF3U3RhcnQgPSBib3VuZGFyaWVzLmxlZnQgKyBsaW5lT2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgICAgICBkcmF3V2lkdGggPSBib3hFbmQgLSBib3hTdGFydCxcbiAgICAgICAgICAgIGRyYXdIZWlnaHQgPSBsaW5lSGVpZ2h0LCBleHRyYVRvcCA9IDA7XG4gICAgICAgIGlmICh0aGlzLmluQ29tcG9zaXRpb25Nb2RlKSB7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29tcG9zaXRpb25Db2xvciB8fCAnYmxhY2snO1xuICAgICAgICAgIGRyYXdIZWlnaHQgPSAxO1xuICAgICAgICAgIGV4dHJhVG9wID0gbGluZUhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5zZWxlY3Rpb25Db2xvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgZHJhd1N0YXJ0ID0gdGhpcy53aWR0aCAtIGRyYXdTdGFydCAtIGRyYXdXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgZHJhd1N0YXJ0LFxuICAgICAgICAgIGJvdW5kYXJpZXMudG9wICsgYm91bmRhcmllcy50b3BPZmZzZXQgKyBleHRyYVRvcCxcbiAgICAgICAgICBkcmF3V2lkdGgsXG4gICAgICAgICAgZHJhd0hlaWdodCk7XG4gICAgICAgIGJvdW5kYXJpZXMudG9wT2Zmc2V0ICs9IHJlYWxMaW5lSGVpZ2h0O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWdoIGxldmVsIGZ1bmN0aW9uIHRvIGtub3cgdGhlIGhlaWdodCBvZiB0aGUgY3Vyc29yLlxuICAgICAqIHRoZSBjdXJyZW50Q2hhciBpcyB0aGUgb25lIHRoYXQgcHJlY2VkZXMgdGhlIGN1cnNvclxuICAgICAqIFJldHVybnMgZm9udFNpemUgb2YgY2hhciBhdCB0aGUgY3VycmVudCBjdXJzb3JcbiAgICAgKiBVbnVzZWQgZnJvbSB0aGUgbGlicmFyeSwgaXMgZm9yIHRoZSBlbmQgdXNlclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gQ2hhcmFjdGVyIGZvbnQgc2l6ZVxuICAgICAqL1xuICAgIGdldEN1cnJlbnRDaGFyRm9udFNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNwID0gdGhpcy5fZ2V0Q3VycmVudENoYXJJbmRleCgpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoY3AubCwgY3AuYywgJ2ZvbnRTaXplJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhpZ2ggbGV2ZWwgZnVuY3Rpb24gdG8ga25vdyB0aGUgY29sb3Igb2YgdGhlIGN1cnNvci5cbiAgICAgKiB0aGUgY3VycmVudENoYXIgaXMgdGhlIG9uZSB0aGF0IHByZWNlZGVzIHRoZSBjdXJzb3JcbiAgICAgKiBSZXR1cm5zIGNvbG9yIChmaWxsKSBvZiBjaGFyIGF0IHRoZSBjdXJyZW50IGN1cnNvclxuICAgICAqIGlmIHRoZSB0ZXh0IG9iamVjdCBoYXMgYSBwYXR0ZXJuIG9yIGdyYWRpZW50IGZvciBmaWxsZXIsIGl0IHdpbGwgcmV0dXJuIHRoYXQuXG4gICAgICogVW51c2VkIGJ5IHRoZSBsaWJyYXJ5LCBpcyBmb3IgdGhlIGVuZCB1c2VyXG4gICAgICogQHJldHVybiB7U3RyaW5nIHwgZmFicmljLkdyYWRpZW50IHwgZmFicmljLlBhdHRlcm59IENoYXJhY3RlciBjb2xvciAoZmlsbClcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50Q2hhckNvbG9yOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjcCA9IHRoaXMuX2dldEN1cnJlbnRDaGFySW5kZXgoKTtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGNwLmwsIGNwLmMsICdmaWxsJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnNvciBwb3NpdGlvbiBmb3IgdGhlIGdldEN1cnJlbnQuLiBmdW5jdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDdXJyZW50Q2hhckluZGV4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJzb3JQb3NpdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbih0aGlzLnNlbGVjdGlvblN0YXJ0LCB0cnVlKSxcbiAgICAgICAgICBjaGFySW5kZXggPSBjdXJzb3JQb3NpdGlvbi5jaGFySW5kZXggPiAwID8gY3Vyc29yUG9zaXRpb24uY2hhckluZGV4IC0gMSA6IDA7XG4gICAgICByZXR1cm4geyBsOiBjdXJzb3JQb3NpdGlvbi5saW5lSW5kZXgsIGM6IGNoYXJJbmRleCB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLklUZXh0IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JVGV4dFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgYXJndW1lbnRcbiAgICovXG4gIGZhYnJpYy5JVGV4dC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBzdHlsZXMgPSBmYWJyaWMudXRpbC5zdHlsZXNGcm9tQXJyYXkob2JqZWN0LnN0eWxlcywgb2JqZWN0LnRleHQpO1xuICAgIC8vY29weSBvYmplY3QgdG8gcHJldmVudCBtdXRhdGlvblxuICAgIHZhciBvYmpDb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0LCB7IHN0eWxlczogc3R5bGVzIH0pO1xuICAgIHBhcnNlRGVjb3JhdGlvbihvYmpDb3B5KTtcbiAgICBpZiAob2JqQ29weS5zdHlsZXMpIHtcbiAgICAgIGZvciAodmFyIGkgaW4gb2JqQ29weS5zdHlsZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaiBpbiBvYmpDb3B5LnN0eWxlc1tpXSkge1xuICAgICAgICAgIHBhcnNlRGVjb3JhdGlvbihvYmpDb3B5LnN0eWxlc1tpXVtqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnSVRleHQnLCBvYmpDb3B5LCBjYWxsYmFjaywgJ3RleHQnKTtcbiAgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZTtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5JVGV4dC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLklUZXh0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbGwgdGhlIGludGVyYWN0aXZlIGJlaGF2aW9yIG9mIElUZXh0XG4gICAgICovXG4gICAgaW5pdEJlaGF2aW9yOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaW5pdEFkZGVkSGFuZGxlcigpO1xuICAgICAgdGhpcy5pbml0UmVtb3ZlZEhhbmRsZXIoKTtcbiAgICAgIHRoaXMuaW5pdEN1cnNvclNlbGVjdGlvbkhhbmRsZXJzKCk7XG4gICAgICB0aGlzLmluaXREb3VibGVDbGlja1NpbXVsYXRpb24oKTtcbiAgICAgIHRoaXMubW91c2VNb3ZlSGFuZGxlciA9IHRoaXMubW91c2VNb3ZlSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIH0sXG5cbiAgICBvbkRlc2VsZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaXNFZGl0aW5nICYmIHRoaXMuZXhpdEVkaXRpbmcoKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgXCJhZGRlZFwiIGV2ZW50IGhhbmRsZXJcbiAgICAgKi9cbiAgICBpbml0QWRkZWRIYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLm9uKCdhZGRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMuY2FudmFzO1xuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgaWYgKCFjYW52YXMuX2hhc0lUZXh0SGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGNhbnZhcy5faGFzSVRleHRIYW5kbGVycyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5faW5pdENhbnZhc0hhbmRsZXJzKGNhbnZhcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMgPSBjYW52YXMuX2lUZXh0SW5zdGFuY2VzIHx8IFtdO1xuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMucHVzaChfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBpbml0UmVtb3ZlZEhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMub24oJ3JlbW92ZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IF90aGlzLmNhbnZhcztcbiAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMgPSBjYW52YXMuX2lUZXh0SW5zdGFuY2VzIHx8IFtdO1xuICAgICAgICAgIGZhYnJpYy51dGlsLnJlbW92ZUZyb21BcnJheShjYW52YXMuX2lUZXh0SW5zdGFuY2VzLCBfdGhpcyk7XG4gICAgICAgICAgaWYgKGNhbnZhcy5faVRleHRJbnN0YW5jZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjYW52YXMuX2hhc0lUZXh0SGFuZGxlcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9yZW1vdmVDYW52YXNIYW5kbGVycyhjYW52YXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlZ2lzdGVyIGNhbnZhcyBldmVudCB0byBtYW5hZ2UgZXhpdGluZyBvbiBvdGhlciBpbnN0YW5jZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0Q2FudmFzSGFuZGxlcnM6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgY2FudmFzLl9tb3VzZVVwSVRleHRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjYW52YXMuX2lUZXh0SW5zdGFuY2VzKSB7XG4gICAgICAgICAgY2FudmFzLl9pVGV4dEluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgb2JqLl9faXNNb3VzZWRvd24gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNhbnZhcy5vbignbW91c2U6dXAnLCBjYW52YXMuX21vdXNlVXBJVGV4dEhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgY2FudmFzIGV2ZW50IHRvIG1hbmFnZSBleGl0aW5nIG9uIG90aGVyIGluc3RhbmNlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbW92ZUNhbnZhc0hhbmRsZXJzOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIGNhbnZhcy5vZmYoJ21vdXNlOnVwJywgY2FudmFzLl9tb3VzZVVwSVRleHRIYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGljazogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VGlja1N0YXRlID0gdGhpcy5fYW5pbWF0ZUN1cnNvcih0aGlzLCAxLCB0aGlzLmN1cnNvckR1cmF0aW9uLCAnX29uVGlja0NvbXBsZXRlJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FuaW1hdGVDdXJzb3I6IGZ1bmN0aW9uKG9iaiwgdGFyZ2V0T3BhY2l0eSwgZHVyYXRpb24sIGNvbXBsZXRlTWV0aG9kKSB7XG5cbiAgICAgIHZhciB0aWNrU3RhdGU7XG5cbiAgICAgIHRpY2tTdGF0ZSA9IHtcbiAgICAgICAgaXNBYm9ydGVkOiBmYWxzZSxcbiAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuaXNBYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG9iai5hbmltYXRlKCdfY3VycmVudEN1cnNvck9wYWNpdHknLCB0YXJnZXRPcGFjaXR5LCB7XG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCF0aWNrU3RhdGUuaXNBYm9ydGVkKSB7XG4gICAgICAgICAgICBvYmpbY29tcGxldGVNZXRob2RdKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gd2UgZG8gbm90IHdhbnQgdG8gYW5pbWF0ZSBhIHNlbGVjdGlvbiwgb25seSBjdXJzb3JcbiAgICAgICAgICBpZiAob2JqLmNhbnZhcyAmJiBvYmouc2VsZWN0aW9uU3RhcnQgPT09IG9iai5zZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICAgIG9iai5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aWNrU3RhdGUuaXNBYm9ydGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aWNrU3RhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uVGlja0NvbXBsZXRlOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2N1cnNvclRpbWVvdXQxKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jdXJzb3JUaW1lb3V0MSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jdXJzb3JUaW1lb3V0MSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUgPSBfdGhpcy5fYW5pbWF0ZUN1cnNvcihfdGhpcywgMCwgdGhpcy5jdXJzb3JEdXJhdGlvbiAvIDIsICdfdGljaycpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgZGVsYXllZCBjdXJzb3JcbiAgICAgKi9cbiAgICBpbml0RGVsYXllZEN1cnNvcjogZnVuY3Rpb24ocmVzdGFydCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICBkZWxheSA9IHJlc3RhcnQgPyAwIDogdGhpcy5jdXJzb3JEZWxheTtcblxuICAgICAgdGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpO1xuICAgICAgdGhpcy5fY3VycmVudEN1cnNvck9wYWNpdHkgPSAxO1xuICAgICAgdGhpcy5fY3Vyc29yVGltZW91dDIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5fdGljaygpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgY3Vyc29yIGFuaW1hdGlvbiBhbmQgY2xlYXJzIGFsbCB0aW1lb3V0c1xuICAgICAqL1xuICAgIGFib3J0Q3Vyc29yQW5pbWF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzaG91bGRDbGVhciA9IHRoaXMuX2N1cnJlbnRUaWNrU3RhdGUgfHwgdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlLFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgdGhpcy5fY3VycmVudFRpY2tTdGF0ZSAmJiB0aGlzLl9jdXJyZW50VGlja1N0YXRlLmFib3J0KCk7XG4gICAgICB0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUgJiYgdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlLmFib3J0KCk7XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jdXJzb3JUaW1lb3V0MSk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fY3Vyc29yVGltZW91dDIpO1xuXG4gICAgICB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSA9IDA7XG4gICAgICAvLyB0byBjbGVhciBqdXN0IGl0ZXh0IGFyZWEgd2UgbmVlZCB0byB0cmFuc2Zvcm0gdGhlIGNvbnRleHRcbiAgICAgIC8vIGl0IG1heSBub3QgYmUgd29ydGggaXRcbiAgICAgIGlmIChzaG91bGRDbGVhciAmJiBjYW52YXMpIHtcbiAgICAgICAgY2FudmFzLmNsZWFyQ29udGV4dChjYW52YXMuY29udGV4dFRvcCB8fCBjYW52YXMuY29udGV4dENvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBlbnRpcmUgdGV4dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZWxlY3RBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuX3RleHQubGVuZ3RoO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzZWxlY3RlZCB0ZXh0XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFNlbGVjdGVkVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGV4dC5zbGljZSh0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCkuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmQgbmV3IHNlbGVjdGlvbiBpbmRleCByZXByZXNlbnRpbmcgc3RhcnQgb2YgY3VycmVudCB3b3JkIGFjY29yZGluZyB0byBjdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEZyb20gQ3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE5ldyBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKi9cbiAgICBmaW5kV29yZEJvdW5kYXJ5TGVmdDogZnVuY3Rpb24oc3RhcnRGcm9tKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgaW5kZXggPSBzdGFydEZyb20gLSAxO1xuXG4gICAgICAvLyByZW1vdmUgc3BhY2UgYmVmb3JlIGN1cnNvciBmaXJzdFxuICAgICAgaWYgKHRoaXMuX3JlU3BhY2UudGVzdCh0aGlzLl90ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3JlU3BhY2UudGVzdCh0aGlzLl90ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoL1xcUy8udGVzdCh0aGlzLl90ZXh0W2luZGV4XSkgJiYgaW5kZXggPiAtMSkge1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0RnJvbSAtIG9mZnNldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZCBuZXcgc2VsZWN0aW9uIGluZGV4IHJlcHJlc2VudGluZyBlbmQgb2YgY3VycmVudCB3b3JkIGFjY29yZGluZyB0byBjdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEZyb20gQ3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE5ldyBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKi9cbiAgICBmaW5kV29yZEJvdW5kYXJ5UmlnaHQ6IGZ1bmN0aW9uKHN0YXJ0RnJvbSkge1xuICAgICAgdmFyIG9mZnNldCA9IDAsIGluZGV4ID0gc3RhcnRGcm9tO1xuXG4gICAgICAvLyByZW1vdmUgc3BhY2UgYWZ0ZXIgY3Vyc29yIGZpcnN0XG4gICAgICBpZiAodGhpcy5fcmVTcGFjZS50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSkge1xuICAgICAgICB3aGlsZSAodGhpcy5fcmVTcGFjZS50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSkge1xuICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgvXFxTLy50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSAmJiBpbmRleCA8IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRGcm9tICsgb2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIG5ldyBzZWxlY3Rpb24gaW5kZXggcmVwcmVzZW50aW5nIHN0YXJ0IG9mIGN1cnJlbnQgbGluZSBhY2NvcmRpbmcgdG8gY3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRGcm9tIEN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBOZXcgc2VsZWN0aW9uIGluZGV4XG4gICAgICovXG4gICAgZmluZExpbmVCb3VuZGFyeUxlZnQ6IGZ1bmN0aW9uKHN0YXJ0RnJvbSkge1xuICAgICAgdmFyIG9mZnNldCA9IDAsIGluZGV4ID0gc3RhcnRGcm9tIC0gMTtcblxuICAgICAgd2hpbGUgKCEvXFxuLy50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSAmJiBpbmRleCA+IC0xKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRGcm9tIC0gb2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIG5ldyBzZWxlY3Rpb24gaW5kZXggcmVwcmVzZW50aW5nIGVuZCBvZiBjdXJyZW50IGxpbmUgYWNjb3JkaW5nIHRvIGN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0RnJvbSBDdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTmV3IHNlbGVjdGlvbiBpbmRleFxuICAgICAqL1xuICAgIGZpbmRMaW5lQm91bmRhcnlSaWdodDogZnVuY3Rpb24oc3RhcnRGcm9tKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgaW5kZXggPSBzdGFydEZyb207XG5cbiAgICAgIHdoaWxlICghL1xcbi8udGVzdCh0aGlzLl90ZXh0W2luZGV4XSkgJiYgaW5kZXggPCB0aGlzLl90ZXh0Lmxlbmd0aCkge1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0RnJvbSArIG9mZnNldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZHMgaW5kZXggY29ycmVzcG9uZGluZyB0byBiZWdpbm5pbmcgb3IgZW5kIG9mIGEgd29yZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWxlY3Rpb25TdGFydCBJbmRleCBvZiBhIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkaXJlY3Rpb24gMSBvciAtMVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgdGhlIGJlZ2lubmluZyBvciBlbmQgb2YgYSB3b3JkXG4gICAgICovXG4gICAgc2VhcmNoV29yZEJvdW5kYXJ5OiBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCwgZGlyZWN0aW9uKSB7XG4gICAgICB2YXIgdGV4dCA9IHRoaXMuX3RleHQsXG4gICAgICAgICAgaW5kZXggICAgID0gdGhpcy5fcmVTcGFjZS50ZXN0KHRleHRbc2VsZWN0aW9uU3RhcnRdKSA/IHNlbGVjdGlvblN0YXJ0IC0gMSA6IHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIF9jaGFyICAgICA9IHRleHRbaW5kZXhdLFxuICAgICAgICAgIC8vIHdyb25nXG4gICAgICAgICAgcmVOb25Xb3JkID0gZmFicmljLnJlTm9uV29yZDtcblxuICAgICAgd2hpbGUgKCFyZU5vbldvcmQudGVzdChfY2hhcikgJiYgaW5kZXggPiAwICYmIGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyZWN0aW9uO1xuICAgICAgICBfY2hhciA9IHRleHRbaW5kZXhdO1xuICAgICAgfVxuICAgICAgaWYgKHJlTm9uV29yZC50ZXN0KF9jaGFyKSkge1xuICAgICAgICBpbmRleCArPSBkaXJlY3Rpb24gPT09IDEgPyAwIDogMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBhIHdvcmQgYmFzZWQgb24gdGhlIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNlbGVjdGlvblN0YXJ0IEluZGV4IG9mIGEgY2hhcmFjdGVyXG4gICAgICovXG4gICAgc2VsZWN0V29yZDogZnVuY3Rpb24oc2VsZWN0aW9uU3RhcnQpIHtcbiAgICAgIHNlbGVjdGlvblN0YXJ0ID0gc2VsZWN0aW9uU3RhcnQgfHwgdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgIHZhciBuZXdTZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VhcmNoV29yZEJvdW5kYXJ5KHNlbGVjdGlvblN0YXJ0LCAtMSksIC8qIHNlYXJjaCBiYWNrd2FyZHMgKi9cbiAgICAgICAgICBuZXdTZWxlY3Rpb25FbmQgPSB0aGlzLnNlYXJjaFdvcmRCb3VuZGFyeShzZWxlY3Rpb25TdGFydCwgMSk7IC8qIHNlYXJjaCBmb3J3YXJkICovXG5cbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb25TdGFydDtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uRW5kO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgYSBsaW5lIGJhc2VkIG9uIHRoZSBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWxlY3Rpb25TdGFydCBJbmRleCBvZiBhIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZWxlY3RMaW5lOiBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCkge1xuICAgICAgc2VsZWN0aW9uU3RhcnQgPSBzZWxlY3Rpb25TdGFydCB8fCB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgdmFyIG5ld1NlbGVjdGlvblN0YXJ0ID0gdGhpcy5maW5kTGluZUJvdW5kYXJ5TGVmdChzZWxlY3Rpb25TdGFydCksXG4gICAgICAgICAgbmV3U2VsZWN0aW9uRW5kID0gdGhpcy5maW5kTGluZUJvdW5kYXJ5UmlnaHQoc2VsZWN0aW9uU3RhcnQpO1xuXG4gICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uU3RhcnQ7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbkVuZDtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVudGVycyBlZGl0aW5nIHN0YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLklUZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGVudGVyRWRpdGluZzogZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKHRoaXMuaXNFZGl0aW5nIHx8ICF0aGlzLmVkaXRhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmNhbGNPZmZzZXQoKTtcbiAgICAgICAgdGhpcy5leGl0RWRpdGluZ09uT3RoZXJzKHRoaXMuY2FudmFzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc0VkaXRpbmcgPSB0cnVlO1xuXG4gICAgICB0aGlzLmluaXRIaWRkZW5UZXh0YXJlYShlKTtcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUgPSB0aGlzLnRleHQ7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgICAgdGhpcy5fc2F2ZUVkaXRpbmdQcm9wcygpO1xuICAgICAgdGhpcy5fc2V0RWRpdGluZ1Byb3BzKCk7XG4gICAgICB0aGlzLl90ZXh0QmVmb3JlRWRpdCA9IHRoaXMudGV4dDtcblxuICAgICAgdGhpcy5fdGljaygpO1xuICAgICAgdGhpcy5maXJlKCdlZGl0aW5nOmVudGVyZWQnKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdGhpcy5jYW52YXMuZmlyZSgndGV4dDplZGl0aW5nOmVudGVyZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICAgIHRoaXMuaW5pdE1vdXNlTW92ZUhhbmRsZXIoKTtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBleGl0RWRpdGluZ09uT3RoZXJzOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIGlmIChjYW52YXMuX2lUZXh0SW5zdGFuY2VzKSB7XG4gICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICBvYmouc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAob2JqLmlzRWRpdGluZykge1xuICAgICAgICAgICAgb2JqLmV4aXRFZGl0aW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgXCJtb3VzZW1vdmVcIiBldmVudCBoYW5kbGVyXG4gICAgICovXG4gICAgaW5pdE1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYW52YXMub24oJ21vdXNlOm1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5fX2lzTW91c2Vkb3duIHx8ICF0aGlzLmlzRWRpdGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHJlZ2FpbiBmb2N1c1xuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy5oaWRkZW5UZXh0YXJlYSAmJiB0aGlzLmhpZGRlblRleHRhcmVhLmZvY3VzKCk7XG5cbiAgICAgIHZhciBuZXdTZWxlY3Rpb25TdGFydCA9IHRoaXMuZ2V0U2VsZWN0aW9uU3RhcnRGcm9tUG9pbnRlcihvcHRpb25zLmUpLFxuICAgICAgICAgIGN1cnJlbnRTdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgY3VycmVudEVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgICAgaWYgKFxuICAgICAgICAobmV3U2VsZWN0aW9uU3RhcnQgIT09IHRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duIHx8IGN1cnJlbnRTdGFydCA9PT0gY3VycmVudEVuZClcbiAgICAgICAgJiZcbiAgICAgICAgKGN1cnJlbnRTdGFydCA9PT0gbmV3U2VsZWN0aW9uU3RhcnQgfHwgY3VycmVudEVuZCA9PT0gbmV3U2VsZWN0aW9uU3RhcnQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG5ld1NlbGVjdGlvblN0YXJ0ID4gdGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24pIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb25TdGFydDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLl9fc2VsZWN0aW9uU3RhcnRPbk1vdXNlRG93bjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSBjdXJyZW50U3RhcnQgfHwgdGhpcy5zZWxlY3Rpb25FbmQgIT09IGN1cnJlbnRFbmQpIHtcbiAgICAgICAgdGhpcy5yZXN0YXJ0Q3Vyc29ySWZOZWVkZWQoKTtcbiAgICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVGV4dGFyZWEoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRFZGl0aW5nUHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5ob3ZlckN1cnNvciA9ICd0ZXh0JztcblxuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmRlZmF1bHRDdXJzb3IgPSB0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yID0gJ3RleHQnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmJvcmRlckNvbG9yID0gdGhpcy5lZGl0aW5nQm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLmhhc0NvbnRyb2xzID0gdGhpcy5zZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFggPSB0aGlzLmxvY2tNb3ZlbWVudFkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0IGZyb20gdGV4dGFyZWEgdG8gZ3JhcGhlbWUgaW5kZXhlc1xuICAgICAqL1xuICAgIGZyb21TdHJpbmdUb0dyYXBoZW1lU2VsZWN0aW9uOiBmdW5jdGlvbihzdGFydCwgZW5kLCB0ZXh0KSB7XG4gICAgICB2YXIgc21hbGxlclRleHRTdGFydCA9IHRleHQuc2xpY2UoMCwgc3RhcnQpLFxuICAgICAgICAgIGdyYXBoZW1lU3RhcnQgPSBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdChzbWFsbGVyVGV4dFN0YXJ0KS5sZW5ndGg7XG4gICAgICBpZiAoc3RhcnQgPT09IGVuZCkge1xuICAgICAgICByZXR1cm4geyBzZWxlY3Rpb25TdGFydDogZ3JhcGhlbWVTdGFydCwgc2VsZWN0aW9uRW5kOiBncmFwaGVtZVN0YXJ0IH07XG4gICAgICB9XG4gICAgICB2YXIgc21hbGxlclRleHRFbmQgPSB0ZXh0LnNsaWNlKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgIGdyYXBoZW1lRW5kID0gZmFicmljLnV0aWwuc3RyaW5nLmdyYXBoZW1lU3BsaXQoc21hbGxlclRleHRFbmQpLmxlbmd0aDtcbiAgICAgIHJldHVybiB7IHNlbGVjdGlvblN0YXJ0OiBncmFwaGVtZVN0YXJ0LCBzZWxlY3Rpb25FbmQ6IGdyYXBoZW1lU3RhcnQgKyBncmFwaGVtZUVuZCB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0IGZyb20gZmFicmljIHRvIHRleHRhcmVhIHZhbHVlc1xuICAgICAqL1xuICAgIGZyb21HcmFwaGVtZVRvU3RyaW5nU2VsZWN0aW9uOiBmdW5jdGlvbihzdGFydCwgZW5kLCBfdGV4dCkge1xuICAgICAgdmFyIHNtYWxsZXJUZXh0U3RhcnQgPSBfdGV4dC5zbGljZSgwLCBzdGFydCksXG4gICAgICAgICAgZ3JhcGhlbWVTdGFydCA9IHNtYWxsZXJUZXh0U3RhcnQuam9pbignJykubGVuZ3RoO1xuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIHsgc2VsZWN0aW9uU3RhcnQ6IGdyYXBoZW1lU3RhcnQsIHNlbGVjdGlvbkVuZDogZ3JhcGhlbWVTdGFydCB9O1xuICAgICAgfVxuICAgICAgdmFyIHNtYWxsZXJUZXh0RW5kID0gX3RleHQuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgZ3JhcGhlbWVFbmQgPSBzbWFsbGVyVGV4dEVuZC5qb2luKCcnKS5sZW5ndGg7XG4gICAgICByZXR1cm4geyBzZWxlY3Rpb25TdGFydDogZ3JhcGhlbWVTdGFydCwgc2VsZWN0aW9uRW5kOiBncmFwaGVtZVN0YXJ0ICsgZ3JhcGhlbWVFbmQgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlVGV4dGFyZWE6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSA9IHsgfTtcbiAgICAgIGlmICghdGhpcy5oaWRkZW5UZXh0YXJlYSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaW5Db21wb3NpdGlvbk1vZGUpIHtcbiAgICAgICAgdmFyIG5ld1NlbGVjdGlvbiA9IHRoaXMuZnJvbUdyYXBoZW1lVG9TdHJpbmdTZWxlY3Rpb24odGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQsIHRoaXMuX3RleHQpO1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbi5zZWxlY3Rpb25FbmQ7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVRleHRhcmVhUG9zaXRpb24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVGcm9tVGV4dEFyZWE6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmhpZGRlblRleHRhcmVhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGUgPSB7IH07XG4gICAgICB0aGlzLnRleHQgPSB0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlO1xuICAgICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3U2VsZWN0aW9uID0gdGhpcy5mcm9tU3RyaW5nVG9HcmFwaGVtZVNlbGVjdGlvbihcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25TdGFydCwgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQsIHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUpO1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvbkVuZDtcbiAgICAgIGlmICghdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVUZXh0YXJlYVBvc2l0aW9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlVGV4dGFyZWFQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fY2FsY1RleHRhcmVhUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zdHlsZS5sZWZ0ID0gc3R5bGUubGVmdDtcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zdHlsZS50b3AgPSBzdHlsZS50b3A7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBjb250YWlucyBzdHlsZSBmb3IgaGlkZGVuVGV4dGFyZWFcbiAgICAgKi9cbiAgICBfY2FsY1RleHRhcmVhUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICByZXR1cm4geyB4OiAxLCB5OiAxIH07XG4gICAgICB9XG4gICAgICB2YXIgZGVzaXJlZFBvc2l0aW9uID0gdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA/IHRoaXMuY29tcG9zaXRpb25TdGFydCA6IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgYm91bmRhcmllcyA9IHRoaXMuX2dldEN1cnNvckJvdW5kYXJpZXMoZGVzaXJlZFBvc2l0aW9uKSxcbiAgICAgICAgICBjdXJzb3JMb2NhdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihkZXNpcmVkUG9zaXRpb24pLFxuICAgICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleCxcbiAgICAgICAgICBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXgsXG4gICAgICAgICAgY2hhckhlaWdodCA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobGluZUluZGV4LCBjaGFySW5kZXgsICdmb250U2l6ZScpICogdGhpcy5saW5lSGVpZ2h0LFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSBib3VuZGFyaWVzLmxlZnRPZmZzZXQsXG4gICAgICAgICAgbSA9IHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpLFxuICAgICAgICAgIHAgPSB7XG4gICAgICAgICAgICB4OiBib3VuZGFyaWVzLmxlZnQgKyBsZWZ0T2Zmc2V0LFxuICAgICAgICAgICAgeTogYm91bmRhcmllcy50b3AgKyBib3VuZGFyaWVzLnRvcE9mZnNldCArIGNoYXJIZWlnaHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJldGluYVNjYWxpbmcgPSB0aGlzLmNhbnZhcy5nZXRSZXRpbmFTY2FsaW5nKCksXG4gICAgICAgICAgdXBwZXJDYW52YXMgPSB0aGlzLmNhbnZhcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIHVwcGVyQ2FudmFzV2lkdGggPSB1cHBlckNhbnZhcy53aWR0aCAvIHJldGluYVNjYWxpbmcsXG4gICAgICAgICAgdXBwZXJDYW52YXNIZWlnaHQgPSB1cHBlckNhbnZhcy5oZWlnaHQgLyByZXRpbmFTY2FsaW5nLFxuICAgICAgICAgIG1heFdpZHRoID0gdXBwZXJDYW52YXNXaWR0aCAtIGNoYXJIZWlnaHQsXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gdXBwZXJDYW52YXNIZWlnaHQgLSBjaGFySGVpZ2h0LFxuICAgICAgICAgIHNjYWxlWCA9IHVwcGVyQ2FudmFzLmNsaWVudFdpZHRoIC8gdXBwZXJDYW52YXNXaWR0aCxcbiAgICAgICAgICBzY2FsZVkgPSB1cHBlckNhbnZhcy5jbGllbnRIZWlnaHQgLyB1cHBlckNhbnZhc0hlaWdodDtcblxuICAgICAgcCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHAsIG0pO1xuICAgICAgcCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHAsIHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtKTtcbiAgICAgIHAueCAqPSBzY2FsZVg7XG4gICAgICBwLnkgKj0gc2NhbGVZO1xuICAgICAgaWYgKHAueCA8IDApIHtcbiAgICAgICAgcC54ID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChwLnggPiBtYXhXaWR0aCkge1xuICAgICAgICBwLnggPSBtYXhXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChwLnkgPCAwKSB7XG4gICAgICAgIHAueSA9IDA7XG4gICAgICB9XG4gICAgICBpZiAocC55ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIHAueSA9IG1heEhlaWdodDtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGNhbnZhcyBvZmZzZXQgb24gZG9jdW1lbnRcbiAgICAgIHAueCArPSB0aGlzLmNhbnZhcy5fb2Zmc2V0LmxlZnQ7XG4gICAgICBwLnkgKz0gdGhpcy5jYW52YXMuX29mZnNldC50b3A7XG5cbiAgICAgIHJldHVybiB7IGxlZnQ6IHAueCArICdweCcsIHRvcDogcC55ICsgJ3B4JywgZm9udFNpemU6IGNoYXJIZWlnaHQgKyAncHgnLCBjaGFySGVpZ2h0OiBjaGFySGVpZ2h0IH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NhdmVFZGl0aW5nUHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fc2F2ZWRQcm9wcyA9IHtcbiAgICAgICAgaGFzQ29udHJvbHM6IHRoaXMuaGFzQ29udHJvbHMsXG4gICAgICAgIGJvcmRlckNvbG9yOiB0aGlzLmJvcmRlckNvbG9yLFxuICAgICAgICBsb2NrTW92ZW1lbnRYOiB0aGlzLmxvY2tNb3ZlbWVudFgsXG4gICAgICAgIGxvY2tNb3ZlbWVudFk6IHRoaXMubG9ja01vdmVtZW50WSxcbiAgICAgICAgaG92ZXJDdXJzb3I6IHRoaXMuaG92ZXJDdXJzb3IsXG4gICAgICAgIHNlbGVjdGFibGU6IHRoaXMuc2VsZWN0YWJsZSxcbiAgICAgICAgZGVmYXVsdEN1cnNvcjogdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuZGVmYXVsdEN1cnNvcixcbiAgICAgICAgbW92ZUN1cnNvcjogdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMubW92ZUN1cnNvclxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzdG9yZUVkaXRpbmdQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX3NhdmVkUHJvcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhvdmVyQ3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5ob3ZlckN1cnNvcjtcbiAgICAgIHRoaXMuaGFzQ29udHJvbHMgPSB0aGlzLl9zYXZlZFByb3BzLmhhc0NvbnRyb2xzO1xuICAgICAgdGhpcy5ib3JkZXJDb2xvciA9IHRoaXMuX3NhdmVkUHJvcHMuYm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLnNlbGVjdGFibGUgPSB0aGlzLl9zYXZlZFByb3BzLnNlbGVjdGFibGU7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFggPSB0aGlzLl9zYXZlZFByb3BzLmxvY2tNb3ZlbWVudFg7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFkgPSB0aGlzLl9zYXZlZFByb3BzLmxvY2tNb3ZlbWVudFk7XG5cbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcy5kZWZhdWx0Q3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5kZWZhdWx0Q3Vyc29yO1xuICAgICAgICB0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5tb3ZlQ3Vyc29yO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFeGl0cyBmcm9tIGVkaXRpbmcgc3RhdGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSVRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZXhpdEVkaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlzVGV4dENoYW5nZWQgPSAodGhpcy5fdGV4dEJlZm9yZUVkaXQgIT09IHRoaXMudGV4dCk7XG4gICAgICB2YXIgaGlkZGVuVGV4dGFyZWEgPSB0aGlzLmhpZGRlblRleHRhcmVhO1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0VkaXRpbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuXG4gICAgICBpZiAoaGlkZGVuVGV4dGFyZWEpIHtcbiAgICAgICAgaGlkZGVuVGV4dGFyZWEuYmx1ciAmJiBoaWRkZW5UZXh0YXJlYS5ibHVyKCk7XG4gICAgICAgIGhpZGRlblRleHRhcmVhLnBhcmVudE5vZGUgJiYgaGlkZGVuVGV4dGFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChoaWRkZW5UZXh0YXJlYSk7XG4gICAgICB9XG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhID0gbnVsbDtcbiAgICAgIHRoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKTtcbiAgICAgIHRoaXMuX3Jlc3RvcmVFZGl0aW5nUHJvcHMoKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5ID0gMDtcbiAgICAgIGlmICh0aGlzLl9zaG91bGRDbGVhckRpbWVuc2lvbkNhY2hlKCkpIHtcbiAgICAgICAgdGhpcy5pbml0RGltZW5zaW9ucygpO1xuICAgICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5maXJlKCdlZGl0aW5nOmV4aXRlZCcpO1xuICAgICAgaXNUZXh0Q2hhbmdlZCAmJiB0aGlzLmZpcmUoJ21vZGlmaWVkJyk7XG4gICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgdGhpcy5jYW52YXMub2ZmKCdtb3VzZTptb3ZlJywgdGhpcy5tb3VzZU1vdmVIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5jYW52YXMuZmlyZSgndGV4dDplZGl0aW5nOmV4aXRlZCcsIHsgdGFyZ2V0OiB0aGlzIH0pO1xuICAgICAgICBpc1RleHRDaGFuZ2VkICYmIHRoaXMuY2FudmFzLmZpcmUoJ29iamVjdDptb2RpZmllZCcsIHsgdGFyZ2V0OiB0aGlzIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbW92ZUV4dHJhbmVvdXNTdHlsZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGlzLnN0eWxlcykge1xuICAgICAgICBpZiAoIXRoaXMuX3RleHRMaW5lc1twcm9wXSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1twcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgYW5kIHJlZmxvdyBhIHN0eWxlIGJsb2NrIGZyb20gc3RhcnQgdG8gZW5kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCBsaW5lYXIgc3RhcnQgcG9zaXRpb24gZm9yIHJlbW92YWwgKGluY2x1ZGVkIGluIHJlbW92YWwpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBsaW5lYXIgZW5kIHBvc2l0aW9uIGZvciByZW1vdmFsICggZXhjbHVkZWQgZnJvbSByZW1vdmFsIClcbiAgICAgKi9cbiAgICByZW1vdmVTdHlsZUZyb21UbzogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGN1cnNvclN0YXJ0ID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHN0YXJ0LCB0cnVlKSxcbiAgICAgICAgICBjdXJzb3JFbmQgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oZW5kLCB0cnVlKSxcbiAgICAgICAgICBsaW5lU3RhcnQgPSBjdXJzb3JTdGFydC5saW5lSW5kZXgsXG4gICAgICAgICAgY2hhclN0YXJ0ID0gY3Vyc29yU3RhcnQuY2hhckluZGV4LFxuICAgICAgICAgIGxpbmVFbmQgPSBjdXJzb3JFbmQubGluZUluZGV4LFxuICAgICAgICAgIGNoYXJFbmQgPSBjdXJzb3JFbmQuY2hhckluZGV4LFxuICAgICAgICAgIGksIHN0eWxlT2JqO1xuICAgICAgaWYgKGxpbmVTdGFydCAhPT0gbGluZUVuZCkge1xuICAgICAgICAvLyBzdGVwMSByZW1vdmUgdGhlIHRyYWlsaW5nIG9mIGxpbmVTdGFydFxuICAgICAgICBpZiAodGhpcy5zdHlsZXNbbGluZVN0YXJ0XSkge1xuICAgICAgICAgIGZvciAoaSA9IGNoYXJTdGFydDsgaSA8IHRoaXMuX3Vud3JhcHBlZFRleHRMaW5lc1tsaW5lU3RhcnRdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZVN0YXJ0XVtpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcDIgbW92ZSB0aGUgdHJhaWxpbmcgb2YgbGluZUVuZCB0byBsaW5lU3RhcnQgaWYgbmVlZGVkXG4gICAgICAgIGlmICh0aGlzLnN0eWxlc1tsaW5lRW5kXSkge1xuICAgICAgICAgIGZvciAoaSA9IGNoYXJFbmQ7IGkgPCB0aGlzLl91bndyYXBwZWRUZXh0TGluZXNbbGluZUVuZF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN0eWxlT2JqID0gdGhpcy5zdHlsZXNbbGluZUVuZF1baV07XG4gICAgICAgICAgICBpZiAoc3R5bGVPYmopIHtcbiAgICAgICAgICAgICAgdGhpcy5zdHlsZXNbbGluZVN0YXJ0XSB8fCAodGhpcy5zdHlsZXNbbGluZVN0YXJ0XSA9IHsgfSk7XG4gICAgICAgICAgICAgIHRoaXMuc3R5bGVzW2xpbmVTdGFydF1bY2hhclN0YXJ0ICsgaSAtIGNoYXJFbmRdID0gc3R5bGVPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHN0ZXAzIGRldGVjdHMgbGluZXMgd2lsbCBiZSBjb21wbGV0ZWx5IHJlbW92ZWQuXG4gICAgICAgIGZvciAoaSA9IGxpbmVTdGFydCArIDE7IGkgPD0gbGluZUVuZDsgaSsrKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0ZXA0IHNoaWZ0IHJlbWFpbmluZyBsaW5lcy5cbiAgICAgICAgdGhpcy5zaGlmdExpbmVTdHlsZXMobGluZUVuZCwgbGluZVN0YXJ0IC0gbGluZUVuZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFuZCBzaGlmdCBsZWZ0IG9uIHRoZSBzYW1lIGxpbmVcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVzW2xpbmVTdGFydF0pIHtcbiAgICAgICAgICBzdHlsZU9iaiA9IHRoaXMuc3R5bGVzW2xpbmVTdGFydF07XG4gICAgICAgICAgdmFyIGRpZmYgPSBjaGFyRW5kIC0gY2hhclN0YXJ0LCBudW1lcmljQ2hhciwgX2NoYXI7XG4gICAgICAgICAgZm9yIChpID0gY2hhclN0YXJ0OyBpIDwgY2hhckVuZDsgaSsrKSB7XG4gICAgICAgICAgICBkZWxldGUgc3R5bGVPYmpbaV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoX2NoYXIgaW4gdGhpcy5zdHlsZXNbbGluZVN0YXJ0XSkge1xuICAgICAgICAgICAgbnVtZXJpY0NoYXIgPSBwYXJzZUludChfY2hhciwgMTApO1xuICAgICAgICAgICAgaWYgKG51bWVyaWNDaGFyID49IGNoYXJFbmQpIHtcbiAgICAgICAgICAgICAgc3R5bGVPYmpbbnVtZXJpY0NoYXIgLSBkaWZmXSA9IHN0eWxlT2JqW19jaGFyXTtcbiAgICAgICAgICAgICAgZGVsZXRlIHN0eWxlT2JqW19jaGFyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2hpZnRzIGxpbmUgc3R5bGVzIHVwIG9yIGRvd25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IEluZGV4IG9mIGEgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgQ2FuIGFueSBudW1iZXI/XG4gICAgICovXG4gICAgc2hpZnRMaW5lU3R5bGVzOiBmdW5jdGlvbihsaW5lSW5kZXgsIG9mZnNldCkge1xuICAgICAgLy8gc2hpZnQgYWxsIGxpbmUgc3R5bGVzIGJ5IG9mZnNldCB1cHdhcmQgb3IgZG93bndhcmRcbiAgICAgIC8vIGRvIG5vdCBjbG9uZSBkZWVwLiB3ZSBuZWVkIG5ldyBhcnJheSwgbm90IG5ldyBzdHlsZSBvYmplY3RzXG4gICAgICB2YXIgY2xvbmVkU3R5bGVzID0gY2xvbmUodGhpcy5zdHlsZXMpO1xuICAgICAgZm9yICh2YXIgbGluZSBpbiB0aGlzLnN0eWxlcykge1xuICAgICAgICB2YXIgbnVtZXJpY0xpbmUgPSBwYXJzZUludChsaW5lLCAxMCk7XG4gICAgICAgIGlmIChudW1lcmljTGluZSA+IGxpbmVJbmRleCkge1xuICAgICAgICAgIHRoaXMuc3R5bGVzW251bWVyaWNMaW5lICsgb2Zmc2V0XSA9IGNsb25lZFN0eWxlc1tudW1lcmljTGluZV07XG4gICAgICAgICAgaWYgKCFjbG9uZWRTdHlsZXNbbnVtZXJpY0xpbmUgLSBvZmZzZXRdKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbnVtZXJpY0xpbmVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZXN0YXJ0Q3Vyc29ySWZOZWVkZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9jdXJyZW50VGlja1N0YXRlIHx8IHRoaXMuX2N1cnJlbnRUaWNrU3RhdGUuaXNBYm9ydGVkXG4gICAgICAgIHx8ICF0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUgfHwgdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlLmlzQWJvcnRlZFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluc2VydGlvbiBvZiBtb3JlIGNvbnNlY3V0aXZlIHN0eWxlIGxpbmVzIGZvciB3aGVuIG9uZSBvciBtb3JlXG4gICAgICogbmV3bGluZXMgZ2V0cyBhZGRlZCB0byB0aGUgdGV4dC4gU2luY2UgY3VycmVudCBzdHlsZSBuZWVkcyB0byBiZSBzaGlmdGVkXG4gICAgICogZmlyc3Qgd2Ugc2hpZnQgdGhlIGN1cnJlbnQgc3R5bGUgb2YgdGhlIG51bWJlciBsaW5lcyBuZWVkZWQsIHRoZW4gd2UgYWRkXG4gICAgICogbmV3IGxpbmVzIGZyb20gdGhlIGxhc3QgdG8gdGhlIGZpcnN0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggSW5kZXggb2YgYSBsaW5lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleCBJbmRleCBvZiBhIGNoYXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcXR5IG51bWJlciBvZiBsaW5lcyB0byBhZGRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjb3BpZWRTdHlsZSBBcnJheSBvZiBvYmplY3RzIHN0eWxlc1xuICAgICAqL1xuICAgIGluc2VydE5ld2xpbmVTdHlsZU9iamVjdDogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgsIHF0eSwgY29waWVkU3R5bGUpIHtcbiAgICAgIHZhciBjdXJyZW50Q2hhclN0eWxlLFxuICAgICAgICAgIG5ld0xpbmVTdHlsZXMgPSB7fSxcbiAgICAgICAgICBzb21ldGhpbmdBZGRlZCA9IGZhbHNlLFxuICAgICAgICAgIGlzRW5kT2ZMaW5lID0gdGhpcy5fdW53cmFwcGVkVGV4dExpbmVzW2xpbmVJbmRleF0ubGVuZ3RoID09PSBjaGFySW5kZXg7XG5cbiAgICAgIHF0eSB8fCAocXR5ID0gMSk7XG4gICAgICB0aGlzLnNoaWZ0TGluZVN0eWxlcyhsaW5lSW5kZXgsIHF0eSk7XG4gICAgICBpZiAodGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICBjdXJyZW50Q2hhclN0eWxlID0gdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXggPT09IDAgPyBjaGFySW5kZXggOiBjaGFySW5kZXggLSAxXTtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGNsb25lIHN0eWxlcyBvZiBhbGwgY2hhcnNcbiAgICAgIC8vIGFmdGVyIGN1cnNvciBvbnRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgIGZvciAodmFyIGluZGV4IGluIHRoaXMuc3R5bGVzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgdmFyIG51bUluZGV4ID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICAgICAgaWYgKG51bUluZGV4ID49IGNoYXJJbmRleCkge1xuICAgICAgICAgIHNvbWV0aGluZ0FkZGVkID0gdHJ1ZTtcbiAgICAgICAgICBuZXdMaW5lU3R5bGVzW251bUluZGV4IC0gY2hhckluZGV4XSA9IHRoaXMuc3R5bGVzW2xpbmVJbmRleF1baW5kZXhdO1xuICAgICAgICAgIC8vIHJlbW92ZSBsaW5lcyBmcm9tIHRoZSBwcmV2aW91cyBsaW5lIHNpbmNlIHRoZXkncmUgb24gYSBuZXcgbGluZSBub3dcbiAgICAgICAgICBpZiAoIShpc0VuZE9mTGluZSAmJiBjaGFySW5kZXggPT09IDApKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc3R5bGVDYXJyaWVkT3ZlciA9IGZhbHNlO1xuICAgICAgaWYgKHNvbWV0aGluZ0FkZGVkICYmICFpc0VuZE9mTGluZSkge1xuICAgICAgICAvLyBpZiBpcyBlbmQgb2YgbGluZSwgdGhlIGV4dHJhIHN0eWxlIHdlIGNvcGllZFxuICAgICAgICAvLyBpcyBwcm9iYWJseSBub3Qgc29tZXRoaW5nIHdlIHdhbnRcbiAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4ICsgcXR5XSA9IG5ld0xpbmVTdHlsZXM7XG4gICAgICAgIHN0eWxlQ2FycmllZE92ZXIgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHN0eWxlQ2FycmllZE92ZXIpIHtcbiAgICAgICAgLy8gc2tpcCB0aGUgbGFzdCBsaW5lIG9mIHNpbmNlIHdlIGFscmVhZHkgcHJlcGFyZWQgaXQuXG4gICAgICAgIHF0eS0tO1xuICAgICAgfVxuICAgICAgLy8gZm9yIHRoZSBhbGwgdGhlIGxpbmVzIG9yIGFsbCB0aGUgb3RoZXIgbGluZXNcbiAgICAgIC8vIHdlIGNsb25lIGN1cnJlbnQgY2hhciBzdHlsZSBvbnRvIHRoZSBuZXh0IChvdGhlcndpc2UgZW1wdHkpIGxpbmVcbiAgICAgIHdoaWxlIChxdHkgPiAwKSB7XG4gICAgICAgIGlmIChjb3BpZWRTdHlsZSAmJiBjb3BpZWRTdHlsZVtxdHkgLSAxXSkge1xuICAgICAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleCArIHF0eV0gPSB7IDA6IGNsb25lKGNvcGllZFN0eWxlW3F0eSAtIDFdKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRDaGFyU3R5bGUpIHtcbiAgICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXggKyBxdHldID0geyAwOiBjbG9uZShjdXJyZW50Q2hhclN0eWxlKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lSW5kZXggKyBxdHldO1xuICAgICAgICB9XG4gICAgICAgIHF0eS0tO1xuICAgICAgfVxuICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBzdHlsZSBvYmplY3QgZm9yIGEgZ2l2ZW4gbGluZS9jaGFyIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBJbmRleCBvZiBhIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4IEluZGV4IG9mIGEgY2hhclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBxdWFudGl0eSBudW1iZXIgU3R5bGUgb2JqZWN0IHRvIGluc2VydCwgaWYgZ2l2ZW5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjb3BpZWRTdHlsZSBhcnJheSBvZiBzdHlsZSBvYmplY3RzXG4gICAgICovXG4gICAgaW5zZXJ0Q2hhclN0eWxlT2JqZWN0OiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCwgcXVhbnRpdHksIGNvcGllZFN0eWxlKSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzKSB7XG4gICAgICAgIHRoaXMuc3R5bGVzID0ge307XG4gICAgICB9XG4gICAgICB2YXIgY3VycmVudExpbmVTdHlsZXMgICAgICAgPSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdLFxuICAgICAgICAgIGN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkID0gY3VycmVudExpbmVTdHlsZXMgPyBjbG9uZShjdXJyZW50TGluZVN0eWxlcykgOiB7fTtcblxuICAgICAgcXVhbnRpdHkgfHwgKHF1YW50aXR5ID0gMSk7XG4gICAgICAvLyBzaGlmdCBhbGwgY2hhciBzdHlsZXMgYnkgcXVhbnRpdHkgZm9yd2FyZFxuICAgICAgLy8gMCwxLDIsMyAtPiAoY2hhckluZGV4PTIpIC0+IDAsMSwzLDQgLT4gKGluc2VydCAyKSAtPiAwLDEsMiwzLDRcbiAgICAgIGZvciAodmFyIGluZGV4IGluIGN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkKSB7XG4gICAgICAgIHZhciBudW1lcmljSW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgICAgICBpZiAobnVtZXJpY0luZGV4ID49IGNoYXJJbmRleCkge1xuICAgICAgICAgIGN1cnJlbnRMaW5lU3R5bGVzW251bWVyaWNJbmRleCArIHF1YW50aXR5XSA9IGN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkW251bWVyaWNJbmRleF07XG4gICAgICAgICAgLy8gb25seSBkZWxldGUgdGhlIHN0eWxlIGlmIHRoZXJlIHdhcyBub3RoaW5nIG1vdmVkIHRoZXJlXG4gICAgICAgICAgaWYgKCFjdXJyZW50TGluZVN0eWxlc0Nsb25lZFtudW1lcmljSW5kZXggLSBxdWFudGl0eV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjdXJyZW50TGluZVN0eWxlc1tudW1lcmljSW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gdHJ1ZTtcbiAgICAgIGlmIChjb3BpZWRTdHlsZSkge1xuICAgICAgICB3aGlsZSAocXVhbnRpdHktLSkge1xuICAgICAgICAgIGlmICghT2JqZWN0LmtleXMoY29waWVkU3R5bGVbcXVhbnRpdHldKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRoaXMuc3R5bGVzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleF0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXggKyBxdWFudGl0eV0gPSBjbG9uZShjb3BpZWRTdHlsZVtxdWFudGl0eV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY3VycmVudExpbmVTdHlsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1N0eWxlID0gY3VycmVudExpbmVTdHlsZXNbY2hhckluZGV4ID8gY2hhckluZGV4IC0gMSA6IDFdO1xuICAgICAgd2hpbGUgKG5ld1N0eWxlICYmIHF1YW50aXR5LS0pIHtcbiAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXggKyBxdWFudGl0eV0gPSBjbG9uZShuZXdTdHlsZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgc3R5bGUgb2JqZWN0KHMpXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5zZXJ0ZWRUZXh0IENoYXJhY3RlcnMgYXQgdGhlIGxvY2F0aW9uIHdoZXJlIHN0eWxlIGlzIGluc2VydGVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IGN1cnNvciBpbmRleCBmb3IgaW5zZXJ0aW5nIHN0eWxlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvcGllZFN0eWxlXSBhcnJheSBvZiBzdHlsZSBvYmplY3RzIHRvIGluc2VydC5cbiAgICAgKi9cbiAgICBpbnNlcnROZXdTdHlsZUJsb2NrOiBmdW5jdGlvbihpbnNlcnRlZFRleHQsIHN0YXJ0LCBjb3BpZWRTdHlsZSkge1xuICAgICAgdmFyIGN1cnNvckxvYyA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihzdGFydCwgdHJ1ZSksXG4gICAgICAgICAgYWRkZWRMaW5lcyA9IFswXSwgbGluZXNMZW5ndGggPSAwO1xuICAgICAgLy8gZ2V0IGFuIGFycmF5IG9mIGhvdyBtYW55IGNoYXIgcGVyIGxpbmVzIGFyZSBiZWluZyBhZGRlZC5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5zZXJ0ZWRUZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpbnNlcnRlZFRleHRbaV0gPT09ICdcXG4nKSB7XG4gICAgICAgICAgbGluZXNMZW5ndGgrKztcbiAgICAgICAgICBhZGRlZExpbmVzW2xpbmVzTGVuZ3RoXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWRkZWRMaW5lc1tsaW5lc0xlbmd0aF0rKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZm9yIHRoZSBmaXJzdCBsaW5lIGNvcHkgdGhlIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgY2hhciBwb3NpdGlvbi5cbiAgICAgIGlmIChhZGRlZExpbmVzWzBdID4gMCkge1xuICAgICAgICB0aGlzLmluc2VydENoYXJTdHlsZU9iamVjdChjdXJzb3JMb2MubGluZUluZGV4LCBjdXJzb3JMb2MuY2hhckluZGV4LCBhZGRlZExpbmVzWzBdLCBjb3BpZWRTdHlsZSk7XG4gICAgICAgIGNvcGllZFN0eWxlID0gY29waWVkU3R5bGUgJiYgY29waWVkU3R5bGUuc2xpY2UoYWRkZWRMaW5lc1swXSArIDEpO1xuICAgICAgfVxuICAgICAgbGluZXNMZW5ndGggJiYgdGhpcy5pbnNlcnROZXdsaW5lU3R5bGVPYmplY3QoXG4gICAgICAgIGN1cnNvckxvYy5saW5lSW5kZXgsIGN1cnNvckxvYy5jaGFySW5kZXggKyBhZGRlZExpbmVzWzBdLCBsaW5lc0xlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxpbmVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFkZGVkTGluZXNbaV0gPiAwKSB7XG4gICAgICAgICAgdGhpcy5pbnNlcnRDaGFyU3R5bGVPYmplY3QoY3Vyc29yTG9jLmxpbmVJbmRleCArIGksIDAsIGFkZGVkTGluZXNbaV0sIGNvcGllZFN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb3BpZWRTdHlsZSkge1xuICAgICAgICAgIC8vIHRoaXMgdGVzdCBpcyByZXF1aXJlZCBpbiBvcmRlciB0byBjbG9zZSAjNjg0MVxuICAgICAgICAgIC8vIHdoZW4gYSBwYXN0ZWQgYnVmZmVyIGJlZ2lucyB3aXRoIGEgbmV3bGluZSB0aGVuXG4gICAgICAgICAgLy8gdGhpcy5zdHlsZXNbY3Vyc29yTG9jLmxpbmVJbmRleCArIGldIGFuZCBjb3BpZWRTdHlsZVswXVxuICAgICAgICAgIC8vIG1heSBiZSB1bmRlZmluZWQgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgICAgaWYgKHRoaXMuc3R5bGVzW2N1cnNvckxvYy5saW5lSW5kZXggKyBpXSAmJiBjb3BpZWRTdHlsZVswXSkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZXNbY3Vyc29yTG9jLmxpbmVJbmRleCArIGldWzBdID0gY29waWVkU3R5bGVbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvcGllZFN0eWxlID0gY29waWVkU3R5bGUgJiYgY29waWVkU3R5bGUuc2xpY2UoYWRkZWRMaW5lc1tpXSArIDEpO1xuICAgICAgfVxuICAgICAgLy8gd2UgdXNlIGkgb3V0c2lkZSB0aGUgbG9vcCB0byBnZXQgaXQgbGlrZSBsaW5lc0xlbmd0aFxuICAgICAgaWYgKGFkZGVkTGluZXNbaV0gPiAwKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hhclN0eWxlT2JqZWN0KGN1cnNvckxvYy5saW5lSW5kZXggKyBpLCAwLCBhZGRlZExpbmVzW2ldLCBjb3BpZWRTdHlsZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2VsZWN0aW9uU3RhcnQgYW5kIHNlbGVjdGlvbkVuZCBhY2NvcmRpbmcgdG8gdGhlIG5ldyBwb3NpdGlvbiBvZiBjdXJzb3JcbiAgICAgKiBtaW1pYyB0aGUga2V5IC0gbW91c2UgbmF2aWdhdGlvbiB3aGVuIHNoaWZ0IGlzIHByZXNzZWQuXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIG5ld1NlbGVjdGlvbikge1xuICAgICAgaWYgKG5ld1NlbGVjdGlvbiA8PSBzdGFydCkge1xuICAgICAgICBpZiAoZW5kID09PSBzdGFydCkge1xuICAgICAgICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAnbGVmdCc7XG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobmV3U2VsZWN0aW9uID4gc3RhcnQgJiYgbmV3U2VsZWN0aW9uIDwgZW5kKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gbmV3U2VsZWN0aW9uIGlzID4gc2VsZWN0aW9uIHN0YXJ0IGFuZCBlbmRcbiAgICAgICAgaWYgKGVuZCA9PT0gc3RhcnQpIHtcbiAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzZXRTZWxlY3Rpb25JbkJvdW5kYXJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA+IGxlbmd0aCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA8IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25FbmQgPiBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGlvbkVuZCA8IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLklUZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuSVRleHQucHJvdG90eXBlICovIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIFwiZGJjbGlja1wiIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIGluaXREb3VibGVDbGlja1NpbXVsYXRpb246IGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gZm9yIGRvdWJsZSBjbGlja1xuICAgIHRoaXMuX19sYXN0Q2xpY2tUaW1lID0gK25ldyBEYXRlKCk7XG5cbiAgICAvLyBmb3IgdHJpcGxlIGNsaWNrXG4gICAgdGhpcy5fX2xhc3RMYXN0Q2xpY2tUaW1lID0gK25ldyBEYXRlKCk7XG5cbiAgICB0aGlzLl9fbGFzdFBvaW50ZXIgPSB7IH07XG5cbiAgICB0aGlzLm9uKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCBldmVudCBoYW5kbGVyIHRvIHNpbXVsYXRlIHRyaXBsZSBjbGlja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Nb3VzZURvd246IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX19uZXdDbGlja1RpbWUgPSArbmV3IERhdGUoKTtcbiAgICB2YXIgbmV3UG9pbnRlciA9IG9wdGlvbnMucG9pbnRlcjtcbiAgICBpZiAodGhpcy5pc1RyaXBsZUNsaWNrKG5ld1BvaW50ZXIpKSB7XG4gICAgICB0aGlzLmZpcmUoJ3RyaXBsZWNsaWNrJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zdG9wRXZlbnQob3B0aW9ucy5lKTtcbiAgICB9XG4gICAgdGhpcy5fX2xhc3RMYXN0Q2xpY2tUaW1lID0gdGhpcy5fX2xhc3RDbGlja1RpbWU7XG4gICAgdGhpcy5fX2xhc3RDbGlja1RpbWUgPSB0aGlzLl9fbmV3Q2xpY2tUaW1lO1xuICAgIHRoaXMuX19sYXN0UG9pbnRlciA9IG5ld1BvaW50ZXI7XG4gICAgdGhpcy5fX2xhc3RJc0VkaXRpbmcgPSB0aGlzLmlzRWRpdGluZztcbiAgICB0aGlzLl9fbGFzdFNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZDtcbiAgfSxcblxuICBpc1RyaXBsZUNsaWNrOiBmdW5jdGlvbihuZXdQb2ludGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX19uZXdDbGlja1RpbWUgLSB0aGlzLl9fbGFzdENsaWNrVGltZSA8IDUwMCAmJlxuICAgICAgICB0aGlzLl9fbGFzdENsaWNrVGltZSAtIHRoaXMuX19sYXN0TGFzdENsaWNrVGltZSA8IDUwMCAmJlxuICAgICAgICB0aGlzLl9fbGFzdFBvaW50ZXIueCA9PT0gbmV3UG9pbnRlci54ICYmXG4gICAgICAgIHRoaXMuX19sYXN0UG9pbnRlci55ID09PSBuZXdQb2ludGVyLnk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RvcEV2ZW50OiBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24gJiYgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgZXZlbnQgaGFuZGxlcnMgcmVsYXRlZCB0byBjdXJzb3Igb3Igc2VsZWN0aW9uXG4gICAqL1xuICBpbml0Q3Vyc29yU2VsZWN0aW9uSGFuZGxlcnM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdE1vdXNlZG93bkhhbmRsZXIoKTtcbiAgICB0aGlzLmluaXRNb3VzZXVwSGFuZGxlcigpO1xuICAgIHRoaXMuaW5pdENsaWNrcygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGhhbmRsZXIgZm9yIGRvdWJsZSBjbGljaywgc2VsZWN0IGEgd29yZFxuICAgKi9cbiAgZG91YmxlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdFdvcmQodGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKG9wdGlvbnMuZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGhhbmRsZXIgZm9yIHRyaXBsZSBjbGljaywgc2VsZWN0IGEgbGluZVxuICAgKi9cbiAgdHJpcGxlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdExpbmUodGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKG9wdGlvbnMuZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBkb3VibGUgYW5kIHRyaXBsZSBjbGljayBldmVudCBoYW5kbGVyc1xuICAgKi9cbiAgaW5pdENsaWNrczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vbignbW91c2VkYmxjbGljaycsIHRoaXMuZG91YmxlQ2xpY2tIYW5kbGVyKTtcbiAgICB0aGlzLm9uKCd0cmlwbGVjbGljaycsIHRoaXMudHJpcGxlQ2xpY2tIYW5kbGVyKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCBldmVudCBoYW5kbGVyIGZvciB0aGUgYmFzaWMgZnVuY3Rpb25hbGl0aWVzIG5lZWRlZCBvbiBfbW91c2VEb3duXG4gICAqIGNhbiBiZSBvdmVycmlkZGVuIHRvIGRvIHNvbWV0aGluZyBkaWZmZXJlbnQuXG4gICAqIFNjb3BlIG9mIHRoaXMgaW1wbGVtZW50YXRpb24gaXM6IGZpbmQgdGhlIGNsaWNrIHBvc2l0aW9uLCBzZXQgc2VsZWN0aW9uU3RhcnRcbiAgICogZmluZCBzZWxlY3Rpb25FbmQsIGluaXRpYWxpemUgdGhlIGRyYXdpbmcgb2YgZWl0aGVyIGN1cnNvciBvciBzZWxlY3Rpb24gYXJlYVxuICAgKiBpbml0aWFsaXppbmcgYSBtb3VzZWREb3duIG9uIGEgdGV4dCBhcmVhIHdpbGwgY2FuY2VsIGZhYnJpY2pzIGtub3dsZWRnZSBvZlxuICAgKiBjdXJyZW50IGNvbXBvc2l0aW9uTW9kZS4gSXQgd2lsbCBiZSBzZXQgdG8gZmFsc2UuXG4gICAqL1xuICBfbW91c2VEb3duSGFuZGxlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5jYW52YXMgfHwgIXRoaXMuZWRpdGFibGUgfHwgKG9wdGlvbnMuZS5idXR0b24gJiYgb3B0aW9ucy5lLmJ1dHRvbiAhPT0gMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9faXNNb3VzZWRvd24gPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgIHRoaXMuaW5Db21wb3NpdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2V0Q3Vyc29yQnlDbGljayhvcHRpb25zLmUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzRWRpdGluZykge1xuICAgICAgdGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24gPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdGllcyBuZWVkZWQgb24gbW91c2Vkb3duOmJlZm9yZVxuICAgKiBjYW4gYmUgb3ZlcnJpZGRlbiB0byBkbyBzb21ldGhpbmcgZGlmZmVyZW50LlxuICAgKiBTY29wZSBvZiB0aGlzIGltcGxlbWVudGF0aW9uIGlzOiB2ZXJpZnkgdGhlIG9iamVjdCBpcyBhbHJlYWR5IHNlbGVjdGVkIHdoZW4gbW91c2luZyBkb3duXG4gICAqL1xuICBfbW91c2VEb3duSGFuZGxlckJlZm9yZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5jYW52YXMgfHwgIXRoaXMuZWRpdGFibGUgfHwgKG9wdGlvbnMuZS5idXR0b24gJiYgb3B0aW9ucy5lLmJ1dHRvbiAhPT0gMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gd2Ugd2FudCB0byBhdm9pZCB0aGF0IGFuIG9iamVjdCB0aGF0IHdhcyBzZWxlY3RlZCBhbmQgdGhlbiBiZWNvbWVzIHVuc2VsZWN0YWJsZSxcbiAgICAvLyBtYXkgdHJpZ2dlciBlZGl0aW5nIG1vZGUgaW4gc29tZSB3YXkuXG4gICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMgPT09IHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3Q7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIFwibW91c2Vkb3duXCIgZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgaW5pdE1vdXNlZG93bkhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub24oJ21vdXNlZG93bicsIHRoaXMuX21vdXNlRG93bkhhbmRsZXIpO1xuICAgIHRoaXMub24oJ21vdXNlZG93bjpiZWZvcmUnLCB0aGlzLl9tb3VzZURvd25IYW5kbGVyQmVmb3JlKTtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgXCJtb3VzZXVwXCIgZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgaW5pdE1vdXNldXBIYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwSGFuZGxlcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHN0YW5kYXJkIGhhbmRsZXIgZm9yIG1vdXNlIHVwLCBvdmVycmlkYWJsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbW91c2VVcEhhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9faXNNb3VzZWRvd24gPSBmYWxzZTtcbiAgICBpZiAoIXRoaXMuZWRpdGFibGUgfHwgdGhpcy5ncm91cCB8fFxuICAgICAgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9wdGlvbnMudHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZCkgfHxcbiAgICAgIChvcHRpb25zLmUuYnV0dG9uICYmIG9wdGlvbnMuZS5idXR0b24gIT09IDEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB2YXIgY3VycmVudEFjdGl2ZSA9IHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3Q7XG4gICAgICBpZiAoY3VycmVudEFjdGl2ZSAmJiBjdXJyZW50QWN0aXZlICE9PSB0aGlzKSB7XG4gICAgICAgIC8vIGF2b2lkIHJ1bm5pbmcgdGhpcyBsb2dpYyB3aGVuIHRoZXJlIGlzIGFuIGFjdGl2ZSBvYmplY3RcbiAgICAgICAgLy8gdGhpcyBiZWNhdXNlIGlzIHBvc3NpYmxlIHdpdGggc2hpZnQgY2xpY2sgYW5kIGZhc3QgY2xpY2tzLFxuICAgICAgICAvLyB0byByYXBpZGx5IGRlc2VsZWN0IGFuZCByZXNlbGVjdCB0aGlzIG9iamVjdCBhbmQgdHJpZ2dlciBhbiBlbnRlckVkaXRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9fbGFzdFNlbGVjdGVkICYmICF0aGlzLl9fY29ybmVyKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9fbGFzdFNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmVudGVyRWRpdGluZyhvcHRpb25zLmUpO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IodHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2hhbmdlcyBjdXJzb3IgbG9jYXRpb24gaW4gYSB0ZXh0IGRlcGVuZGluZyBvbiBwYXNzZWQgcG9pbnRlciAoeC95KSBvYmplY3RcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIHNldEN1cnNvckJ5Q2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgbmV3U2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKGUpLFxuICAgICAgICBzdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQsIGVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICB0aGlzLnNldFNlbGVjdGlvblN0YXJ0RW5kV2l0aFNoaWZ0KHN0YXJ0LCBlbmQsIG5ld1NlbGVjdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IG5ld1NlbGVjdGlvbjtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0VkaXRpbmcpIHtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBpbmRleCBvZiBhIGNoYXJhY3RlciBjb3JyZXNwb25kaW5nIHRvIHdoZXJlIGFuIG9iamVjdCB3YXMgY2xpY2tlZFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEluZGV4IG9mIGEgY2hhcmFjdGVyXG4gICAqL1xuICBnZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIG1vdXNlT2Zmc2V0ID0gdGhpcy5nZXRMb2NhbFBvaW50ZXIoZSksXG4gICAgICAgIHByZXZXaWR0aCA9IDAsXG4gICAgICAgIHdpZHRoID0gMCxcbiAgICAgICAgaGVpZ2h0ID0gMCxcbiAgICAgICAgY2hhckluZGV4ID0gMCxcbiAgICAgICAgbGluZUluZGV4ID0gMCxcbiAgICAgICAgbGluZUxlZnRPZmZzZXQsXG4gICAgICAgIGxpbmU7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGhlaWdodCA8PSBtb3VzZU9mZnNldC55KSB7XG4gICAgICAgIGhlaWdodCArPSB0aGlzLmdldEhlaWdodE9mTGluZShpKSAqIHRoaXMuc2NhbGVZO1xuICAgICAgICBsaW5lSW5kZXggPSBpO1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICBjaGFySW5kZXggKz0gdGhpcy5fdGV4dExpbmVzW2kgLSAxXS5sZW5ndGggKyB0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KGkgLSAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBsaW5lTGVmdE9mZnNldCA9IHRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGxpbmVJbmRleCk7XG4gICAgd2lkdGggPSBsaW5lTGVmdE9mZnNldCAqIHRoaXMuc2NhbGVYO1xuICAgIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XTtcbiAgICAvLyBoYW5kbGluZyBvZiBSVEw6IGluIG9yZGVyIHRvIGdldCB0aGluZ3Mgd29yayBjb3JyZWN0bHksXG4gICAgLy8gd2UgYXNzdW1lIFJUTCB3cml0aW5nIGlzIG1pcnJvcmVkIGNvbXBhcmVkIHRvIExUUiB3cml0aW5nLlxuICAgIC8vIHNvIGluIHBvc2l0aW9uIGRldGVjdGlvbiB3ZSBtaXJyb3IgdGhlIFggb2Zmc2V0LCBhbmQgd2hlbiBpcyB0aW1lXG4gICAgLy8gb2YgcmVuZGVyaW5nIGl0LCB3ZSBtaXJyb3IgaXQgYWdhaW4uXG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgbW91c2VPZmZzZXQueCA9IHRoaXMud2lkdGggKiB0aGlzLnNjYWxlWCAtIG1vdXNlT2Zmc2V0LnggKyB3aWR0aDtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgcHJldldpZHRoID0gd2lkdGg7XG4gICAgICAvLyBpIHJlbW92ZWQgc29tZXRoaW5nIGFib3V0IGZsaXBYIGhlcmUsIGNoZWNrLlxuICAgICAgd2lkdGggKz0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtqXS5rZXJuZWRXaWR0aCAqIHRoaXMuc2NhbGVYO1xuICAgICAgaWYgKHdpZHRoIDw9IG1vdXNlT2Zmc2V0LngpIHtcbiAgICAgICAgY2hhckluZGV4Kys7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9nZXROZXdTZWxlY3Rpb25TdGFydEZyb21PZmZzZXQobW91c2VPZmZzZXQsIHByZXZXaWR0aCwgd2lkdGgsIGNoYXJJbmRleCwgamxlbik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0TmV3U2VsZWN0aW9uU3RhcnRGcm9tT2Zmc2V0OiBmdW5jdGlvbihtb3VzZU9mZnNldCwgcHJldldpZHRoLCB3aWR0aCwgaW5kZXgsIGpsZW4pIHtcbiAgICAvLyB3ZSBuZWVkIE1hdGguYWJzIGJlY2F1c2Ugd2hlbiB3aWR0aCBpcyBhZnRlciB0aGUgbGFzdCBjaGFyLCB0aGUgb2Zmc2V0IGlzIGdpdmVuIGFzIDEsIHdoaWxlIGlzIDBcbiAgICB2YXIgZGlzdGFuY2VCdHdMYXN0Q2hhckFuZEN1cnNvciA9IG1vdXNlT2Zmc2V0LnggLSBwcmV2V2lkdGgsXG4gICAgICAgIGRpc3RhbmNlQnR3TmV4dENoYXJBbmRDdXJzb3IgPSB3aWR0aCAtIG1vdXNlT2Zmc2V0LngsXG4gICAgICAgIG9mZnNldCA9IGRpc3RhbmNlQnR3TmV4dENoYXJBbmRDdXJzb3IgPiBkaXN0YW5jZUJ0d0xhc3RDaGFyQW5kQ3Vyc29yIHx8XG4gICAgICAgICAgZGlzdGFuY2VCdHdOZXh0Q2hhckFuZEN1cnNvciA8IDAgPyAwIDogMSxcbiAgICAgICAgbmV3U2VsZWN0aW9uU3RhcnQgPSBpbmRleCArIG9mZnNldDtcbiAgICAvLyBpZiBvYmplY3QgaXMgaG9yaXpvbnRhbGx5IGZsaXBwZWQsIG1pcnJvciBjdXJzb3IgbG9jYXRpb24gZnJvbSB0aGUgZW5kXG4gICAgaWYgKHRoaXMuZmxpcFgpIHtcbiAgICAgIG5ld1NlbGVjdGlvblN0YXJ0ID0gamxlbiAtIG5ld1NlbGVjdGlvblN0YXJ0O1xuICAgIH1cblxuICAgIGlmIChuZXdTZWxlY3Rpb25TdGFydCA+IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICBuZXdTZWxlY3Rpb25TdGFydCA9IHRoaXMuX3RleHQubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdTZWxlY3Rpb25TdGFydDtcbiAgfVxufSk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuSVRleHQucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5JVGV4dC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBoaWRkZW4gdGV4dGFyZWEgKG5lZWRlZCB0byBicmluZyB1cCBrZXlib2FyZCBpbiBpT1MpXG4gICAqL1xuICBpbml0SGlkZGVuVGV4dGFyZWE6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEgPSBmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnYXV0b2NhcGl0YWxpemUnLCAnb2ZmJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2F1dG9jb3JyZWN0JywgJ29mZicpO1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3NwZWxsY2hlY2snLCAnZmFsc2UnKTtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnZGF0YS1mYWJyaWMtaGlkZGVudGV4dGFyZWEnLCAnJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3dyYXAnLCAnb2ZmJyk7XG4gICAgdmFyIHN0eWxlID0gdGhpcy5fY2FsY1RleHRhcmVhUG9zaXRpb24oKTtcbiAgICAvLyBsaW5lLWhlaWdodDogMXB4OyB3YXMgcmVtb3ZlZCBmcm9tIHRoZSBzdHlsZSB0byBmaXggdGhpczpcbiAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04NzA5NjZcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IGFic29sdXRlOyB0b3A6ICcgKyBzdHlsZS50b3AgK1xuICAgICc7IGxlZnQ6ICcgKyBzdHlsZS5sZWZ0ICsgJzsgei1pbmRleDogLTk5OTsgb3BhY2l0eTogMDsgd2lkdGg6IDFweDsgaGVpZ2h0OiAxcHg7IGZvbnQtc2l6ZTogMXB4OycgK1xuICAgICcgcGFkZGluZ++9sHRvcDogJyArIHN0eWxlLmZvbnRTaXplICsgJzsnO1xuXG4gICAgaWYgKHRoaXMuaGlkZGVuVGV4dGFyZWFDb250YWluZXIpIHtcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWFDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5oaWRkZW5UZXh0YXJlYSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmFicmljLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5oaWRkZW5UZXh0YXJlYSk7XG4gICAgfVxuXG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAna2V5dXAnLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2lucHV0JywgdGhpcy5vbklucHV0LmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdjb3B5JywgdGhpcy5jb3B5LmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdjdXQnLCB0aGlzLmNvcHkuYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ3Bhc3RlJywgdGhpcy5wYXN0ZS5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY29tcG9zaXRpb25zdGFydCcsIHRoaXMub25Db21wb3NpdGlvblN0YXJ0LmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdjb21wb3NpdGlvbnVwZGF0ZScsIHRoaXMub25Db21wb3NpdGlvblVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY29tcG9zaXRpb25lbmQnLCB0aGlzLm9uQ29tcG9zaXRpb25FbmQuYmluZCh0aGlzKSk7XG5cbiAgICBpZiAoIXRoaXMuX2NsaWNrSGFuZGxlckluaXRpYWxpemVkICYmIHRoaXMuY2FudmFzKSB7XG4gICAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmNhbnZhcy51cHBlckNhbnZhc0VsLCAnY2xpY2snLCB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLl9jbGlja0hhbmRsZXJJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGb3IgZnVuY3Rpb25hbGl0aWVzIG9uIGtleURvd25cbiAgICogTWFwIGEgc3BlY2lhbCBrZXkgdG8gYSBmdW5jdGlvbiBvZiB0aGUgaW5zdGFuY2UvcHJvdG90eXBlXG4gICAqIElmIHlvdSBuZWVkIGRpZmZlcmVudCBiZWhhdmlvdXIgZm9yIEVTQyBvciBUQUIgb3IgYXJyb3dzLCB5b3UgaGF2ZSB0byBjaGFuZ2VcbiAgICogdGhpcyBtYXAgc2V0dGluZyB0aGUgbmFtZSBvZiBhIGZ1bmN0aW9uIHRoYXQgeW91IGJ1aWxkIG9uIHRoZSBmYWJyaWMuSXRleHQgb3JcbiAgICogeW91ciBwcm90b3R5cGUuXG4gICAqIHRoZSBtYXAgY2hhbmdlIHdpbGwgYWZmZWN0IGFsbCBJbnN0YW5jZXMgdW5sZXNzIHlvdSBuZWVkIGZvciBvbmx5IHNvbWUgdGV4dCBJbnN0YW5jZXNcbiAgICogaW4gdGhhdCBjYXNlIHlvdSBoYXZlIHRvIGNsb25lIHRoaXMgb2JqZWN0IGFuZCBhc3NpZ24geW91ciBJbnN0YW5jZS5cbiAgICogdGhpcy5rZXlzTWFwID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKHRoaXMua2V5c01hcCk7XG4gICAqIFRoZSBmdW5jdGlvbiBtdXN0IGJlIGluIGZhYnJpYy5JdGV4dC5wcm90b3R5cGUubXlGdW5jdGlvbiBBbmQgd2lsbCByZWNlaXZlIGV2ZW50IGFzIGFyZ3NbMF1cbiAgICovXG4gIGtleXNNYXA6IHtcbiAgICA5OiAgJ2V4aXRFZGl0aW5nJyxcbiAgICAyNzogJ2V4aXRFZGl0aW5nJyxcbiAgICAzMzogJ21vdmVDdXJzb3JVcCcsXG4gICAgMzQ6ICdtb3ZlQ3Vyc29yRG93bicsXG4gICAgMzU6ICdtb3ZlQ3Vyc29yUmlnaHQnLFxuICAgIDM2OiAnbW92ZUN1cnNvckxlZnQnLFxuICAgIDM3OiAnbW92ZUN1cnNvckxlZnQnLFxuICAgIDM4OiAnbW92ZUN1cnNvclVwJyxcbiAgICAzOTogJ21vdmVDdXJzb3JSaWdodCcsXG4gICAgNDA6ICdtb3ZlQ3Vyc29yRG93bicsXG4gIH0sXG5cbiAga2V5c01hcFJ0bDoge1xuICAgIDk6ICAnZXhpdEVkaXRpbmcnLFxuICAgIDI3OiAnZXhpdEVkaXRpbmcnLFxuICAgIDMzOiAnbW92ZUN1cnNvclVwJyxcbiAgICAzNDogJ21vdmVDdXJzb3JEb3duJyxcbiAgICAzNTogJ21vdmVDdXJzb3JMZWZ0JyxcbiAgICAzNjogJ21vdmVDdXJzb3JSaWdodCcsXG4gICAgMzc6ICdtb3ZlQ3Vyc29yUmlnaHQnLFxuICAgIDM4OiAnbW92ZUN1cnNvclVwJyxcbiAgICAzOTogJ21vdmVDdXJzb3JMZWZ0JyxcbiAgICA0MDogJ21vdmVDdXJzb3JEb3duJyxcbiAgfSxcblxuICAvKipcbiAgICogRm9yIGZ1bmN0aW9uYWxpdGllcyBvbiBrZXlVcCArIGN0cmwgfHwgY21kXG4gICAqL1xuICBjdHJsS2V5c01hcFVwOiB7XG4gICAgNjc6ICdjb3B5JyxcbiAgICA4ODogJ2N1dCdcbiAgfSxcblxuICAvKipcbiAgICogRm9yIGZ1bmN0aW9uYWxpdGllcyBvbiBrZXlEb3duICsgY3RybCB8fCBjbWRcbiAgICovXG4gIGN0cmxLZXlzTWFwRG93bjoge1xuICAgIDY1OiAnc2VsZWN0QWxsJ1xuICB9LFxuXG4gIG9uQ2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgIC8vIE5vIG5lZWQgdG8gdHJpZ2dlciBjbGljayBldmVudCBoZXJlLCBmb2N1cyBpcyBlbm91Z2ggdG8gaGF2ZSB0aGUga2V5Ym9hcmQgYXBwZWFyIG9uIEFuZHJvaWRcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhICYmIHRoaXMuaGlkZGVuVGV4dGFyZWEuZm9jdXMoKTtcbiAgfSxcblxuICAvKipcbiAgICogSGFuZGxlcyBrZXlkb3duIGV2ZW50XG4gICAqIG9ubHkgdXNlZCBmb3IgYXJyb3dzIGFuZCBjb21iaW5hdGlvbiBvZiBtb2RpZmllciBrZXlzLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgb25LZXlEb3duOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIga2V5TWFwID0gdGhpcy5kaXJlY3Rpb24gPT09ICdydGwnID8gdGhpcy5rZXlzTWFwUnRsIDogdGhpcy5rZXlzTWFwO1xuICAgIGlmIChlLmtleUNvZGUgaW4ga2V5TWFwKSB7XG4gICAgICB0aGlzW2tleU1hcFtlLmtleUNvZGVdXShlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKGUua2V5Q29kZSBpbiB0aGlzLmN0cmxLZXlzTWFwRG93bikgJiYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpKSB7XG4gICAgICB0aGlzW3RoaXMuY3RybEtleXNNYXBEb3duW2Uua2V5Q29kZV1dKGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGUua2V5Q29kZSA+PSAzMyAmJiBlLmtleUNvZGUgPD0gNDApIHtcbiAgICAgIC8vIGlmIGkgcHJlc3MgYW4gYXJyb3cga2V5IGp1c3QgdXBkYXRlIHNlbGVjdGlvblxuICAgICAgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHRUb3AoKTtcbiAgICAgIHRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGtleXVwIGV2ZW50XG4gICAqIFdlIGhhbmRsZSBLZXlVcCBiZWNhdXNlIGllMTEgYW5kIGVkZ2UgaGF2ZSBkaWZmaWN1bHRpZXMgY29weS9wYXN0aW5nXG4gICAqIGlmIGEgY29weS9jdXQgZXZlbnQgZmlyZWQsIGtleXVwIGlzIGRpc21pc3NlZFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgb25LZXlVcDogZnVuY3Rpb24oZSkge1xuICAgIGlmICghdGhpcy5pc0VkaXRpbmcgfHwgdGhpcy5fY29weURvbmUgfHwgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgdGhpcy5fY29weURvbmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKChlLmtleUNvZGUgaW4gdGhpcy5jdHJsS2V5c01hcFVwKSAmJiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkpIHtcbiAgICAgIHRoaXNbdGhpcy5jdHJsS2V5c01hcFVwW2Uua2V5Q29kZV1dKGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIG9uSW5wdXQgZXZlbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG9uSW5wdXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZnJvbVBhc3RlID0gdGhpcy5mcm9tUGFzdGU7XG4gICAgdGhpcy5mcm9tUGFzdGUgPSBmYWxzZTtcbiAgICBlICYmIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBkZWNpc2lvbnMgYWJvdXQgc3R5bGUgY2hhbmdlcy5cbiAgICB2YXIgbmV4dFRleHQgPSB0aGlzLl9zcGxpdFRleHRJbnRvTGluZXModGhpcy5oaWRkZW5UZXh0YXJlYS52YWx1ZSkuZ3JhcGhlbWVUZXh0LFxuICAgICAgICBjaGFyQ291bnQgPSB0aGlzLl90ZXh0Lmxlbmd0aCxcbiAgICAgICAgbmV4dENoYXJDb3VudCA9IG5leHRUZXh0Lmxlbmd0aCxcbiAgICAgICAgcmVtb3ZlZFRleHQsIGluc2VydGVkVGV4dCxcbiAgICAgICAgY2hhckRpZmYgPSBuZXh0Q2hhckNvdW50IC0gY2hhckNvdW50LFxuICAgICAgICBzZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kLFxuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb25TdGFydCAhPT0gc2VsZWN0aW9uRW5kLFxuICAgICAgICBjb3BpZWRTdHlsZSwgcmVtb3ZlRnJvbSwgcmVtb3ZlVG87XG4gICAgaWYgKHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUgPT09ICcnKSB7XG4gICAgICB0aGlzLnN0eWxlcyA9IHsgfTtcbiAgICAgIHRoaXMudXBkYXRlRnJvbVRleHRBcmVhKCk7XG4gICAgICB0aGlzLmZpcmUoJ2NoYW5nZWQnKTtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcy5maXJlKCd0ZXh0OmNoYW5nZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICAgICAgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ZXh0YXJlYVNlbGVjdGlvbiA9IHRoaXMuZnJvbVN0cmluZ1RvR3JhcGhlbWVTZWxlY3Rpb24oXG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQsXG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlXG4gICAgKTtcbiAgICB2YXIgYmFja0RlbGV0ZSA9IHNlbGVjdGlvblN0YXJ0ID4gdGV4dGFyZWFTZWxlY3Rpb24uc2VsZWN0aW9uU3RhcnQ7XG5cbiAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICByZW1vdmVkVGV4dCA9IHRoaXMuX3RleHQuc2xpY2Uoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG4gICAgICBjaGFyRGlmZiArPSBzZWxlY3Rpb25FbmQgLSBzZWxlY3Rpb25TdGFydDtcbiAgICB9XG4gICAgZWxzZSBpZiAobmV4dENoYXJDb3VudCA8IGNoYXJDb3VudCkge1xuICAgICAgaWYgKGJhY2tEZWxldGUpIHtcbiAgICAgICAgcmVtb3ZlZFRleHQgPSB0aGlzLl90ZXh0LnNsaWNlKHNlbGVjdGlvbkVuZCArIGNoYXJEaWZmLCBzZWxlY3Rpb25FbmQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlbW92ZWRUZXh0ID0gdGhpcy5fdGV4dC5zbGljZShzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uU3RhcnQgLSBjaGFyRGlmZik7XG4gICAgICB9XG4gICAgfVxuICAgIGluc2VydGVkVGV4dCA9IG5leHRUZXh0LnNsaWNlKHRleHRhcmVhU2VsZWN0aW9uLnNlbGVjdGlvbkVuZCAtIGNoYXJEaWZmLCB0ZXh0YXJlYVNlbGVjdGlvbi5zZWxlY3Rpb25FbmQpO1xuICAgIGlmIChyZW1vdmVkVGV4dCAmJiByZW1vdmVkVGV4dC5sZW5ndGgpIHtcbiAgICAgIGlmIChpbnNlcnRlZFRleHQubGVuZ3RoKSB7XG4gICAgICAgIC8vIGxldCdzIGNvcHkgc29tZSBzdHlsZSBiZWZvcmUgZGVsZXRpbmcuXG4gICAgICAgIC8vIHdlIHdhbnQgdG8gY29weSB0aGUgc3R5bGUgYmVmb3JlIHRoZSBjdXJzb3IgT1IgdGhlIHN0eWxlIGF0IHRoZSBjdXJzb3IgaWYgc2VsZWN0aW9uXG4gICAgICAgIC8vIGlzIGJpZ2dlciB0aGFuIDAuXG4gICAgICAgIGNvcGllZFN0eWxlID0gdGhpcy5nZXRTZWxlY3Rpb25TdHlsZXMoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvblN0YXJ0ICsgMSwgZmFsc2UpO1xuICAgICAgICAvLyBub3cgZHVwbGljYXRlIHRoZSBzdHlsZSBvbmUgZm9yIGVhY2ggaW5zZXJ0ZWQgdGV4dC5cbiAgICAgICAgY29waWVkU3R5bGUgPSBpbnNlcnRlZFRleHQubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIHRoaXMgcmV0dXJuIGFuIGFycmF5IG9mIHJlZmVyZW5jZXMsIGJ1dCB0aGF0IGlzIGZpbmUgc2luY2Ugd2UgYXJlXG4gICAgICAgICAgLy8gY29weWluZyB0aGUgc3R5bGUgbGF0ZXIuXG4gICAgICAgICAgcmV0dXJuIGNvcGllZFN0eWxlWzBdO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgcmVtb3ZlRnJvbSA9IHNlbGVjdGlvblN0YXJ0O1xuICAgICAgICByZW1vdmVUbyA9IHNlbGVjdGlvbkVuZDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGJhY2tEZWxldGUpIHtcbiAgICAgICAgLy8gZGV0ZWN0IGRpZmZlcmVuY2VzIGJldHdlZW4gZm9yd2FyZERlbGV0ZSBhbmQgYmFja0RlbGV0ZVxuICAgICAgICByZW1vdmVGcm9tID0gc2VsZWN0aW9uRW5kIC0gcmVtb3ZlZFRleHQubGVuZ3RoO1xuICAgICAgICByZW1vdmVUbyA9IHNlbGVjdGlvbkVuZDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVGcm9tID0gc2VsZWN0aW9uRW5kO1xuICAgICAgICByZW1vdmVUbyA9IHNlbGVjdGlvbkVuZCArIHJlbW92ZWRUZXh0Lmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtb3ZlU3R5bGVGcm9tVG8ocmVtb3ZlRnJvbSwgcmVtb3ZlVG8pO1xuICAgIH1cbiAgICBpZiAoaW5zZXJ0ZWRUZXh0Lmxlbmd0aCkge1xuICAgICAgaWYgKGZyb21QYXN0ZSAmJiBpbnNlcnRlZFRleHQuam9pbignJykgPT09IGZhYnJpYy5jb3BpZWRUZXh0ICYmICFmYWJyaWMuZGlzYWJsZVN0eWxlQ29weVBhc3RlKSB7XG4gICAgICAgIGNvcGllZFN0eWxlID0gZmFicmljLmNvcGllZFRleHRTdHlsZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zZXJ0TmV3U3R5bGVCbG9jayhpbnNlcnRlZFRleHQsIHNlbGVjdGlvblN0YXJ0LCBjb3BpZWRTdHlsZSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlRnJvbVRleHRBcmVhKCk7XG4gICAgdGhpcy5maXJlKCdjaGFuZ2VkJyk7XG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcy5maXJlKCd0ZXh0OmNoYW5nZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBDb21wb3NpdGlvbiBzdGFydFxuICAgKi9cbiAgb25Db21wb3NpdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluQ29tcG9zaXRpb25Nb2RlID0gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQ29tcG9zaXRpb24gZW5kXG4gICAqL1xuICBvbkNvbXBvc2l0aW9uRW5kOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluQ29tcG9zaXRpb25Nb2RlID0gZmFsc2U7XG4gIH0sXG5cbiAgLy8gLyoqXG4gIC8vICAqIENvbXBvc2l0aW9uIHVwZGF0ZVxuICAvLyAgKi9cbiAgb25Db21wb3NpdGlvblVwZGF0ZTogZnVuY3Rpb24oZSkge1xuICAgIHRoaXMuY29tcG9zaXRpb25TdGFydCA9IGUudGFyZ2V0LnNlbGVjdGlvblN0YXJ0O1xuICAgIHRoaXMuY29tcG9zaXRpb25FbmQgPSBlLnRhcmdldC5zZWxlY3Rpb25FbmQ7XG4gICAgdGhpcy51cGRhdGVUZXh0YXJlYVBvc2l0aW9uKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvcGllcyBzZWxlY3RlZCB0ZXh0XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBjb3B5OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgIC8vZG8gbm90IGN1dC1jb3B5IGlmIG5vIHNlbGVjdGlvblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZhYnJpYy5jb3BpZWRUZXh0ID0gdGhpcy5nZXRTZWxlY3RlZFRleHQoKTtcbiAgICBpZiAoIWZhYnJpYy5kaXNhYmxlU3R5bGVDb3B5UGFzdGUpIHtcbiAgICAgIGZhYnJpYy5jb3BpZWRUZXh0U3R5bGUgPSB0aGlzLmdldFNlbGVjdGlvblN0eWxlcyh0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmFicmljLmNvcGllZFRleHRTdHlsZSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX2NvcHlEb25lID0gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogUGFzdGVzIHRleHRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIHBhc3RlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmZyb21QYXN0ZSA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEByZXR1cm4ge09iamVjdH0gQ2xpcGJvYXJkIGRhdGEgb2JqZWN0XG4gICAqL1xuICBfZ2V0Q2xpcGJvYXJkRGF0YTogZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiAoZSAmJiBlLmNsaXBib2FyZERhdGEpIHx8IGZhYnJpYy53aW5kb3cuY2xpcGJvYXJkRGF0YTtcbiAgfSxcblxuICAvKipcbiAgICogRmluZHMgdGhlIHdpZHRoIGluIHBpeGVscyBiZWZvcmUgdGhlIGN1cnNvciBvbiB0aGUgc2FtZSBsaW5lXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHdpZHRoQmVmb3JlQ3Vyc29yIHdpZHRoIGJlZm9yZSBjdXJzb3JcbiAgICovXG4gIF9nZXRXaWR0aEJlZm9yZUN1cnNvcjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgpIHtcbiAgICB2YXIgd2lkdGhCZWZvcmVDdXJzb3IgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChsaW5lSW5kZXgpLCBib3VuZDtcblxuICAgIGlmIChjaGFySW5kZXggPiAwKSB7XG4gICAgICBib3VuZCA9IHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF1bY2hhckluZGV4IC0gMV07XG4gICAgICB3aWR0aEJlZm9yZUN1cnNvciArPSBib3VuZC5sZWZ0ICsgYm91bmQud2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB3aWR0aEJlZm9yZUN1cnNvcjtcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBzdGFydCBvZmZzZXQgb2YgYSBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1JpZ2h0XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGdldERvd25DdXJzb3JPZmZzZXQ6IGZ1bmN0aW9uKGUsIGlzUmlnaHQpIHtcbiAgICB2YXIgc2VsZWN0aW9uUHJvcCA9IHRoaXMuX2dldFNlbGVjdGlvbkZvck9mZnNldChlLCBpc1JpZ2h0KSxcbiAgICAgICAgY3Vyc29yTG9jYXRpb24gPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc2VsZWN0aW9uUHJvcCksXG4gICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleDtcbiAgICAvLyBpZiBvbiBsYXN0IGxpbmUsIGRvd24gY3Vyc29yIGdvZXMgdG8gZW5kIG9mIGxpbmVcbiAgICBpZiAobGluZUluZGV4ID09PSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoIC0gMSB8fCBlLm1ldGFLZXkgfHwgZS5rZXlDb2RlID09PSAzNCkge1xuICAgICAgLy8gbW92ZSB0byB0aGUgZW5kIG9mIGEgdGV4dFxuICAgICAgcmV0dXJuIHRoaXMuX3RleHQubGVuZ3RoIC0gc2VsZWN0aW9uUHJvcDtcbiAgICB9XG4gICAgdmFyIGNoYXJJbmRleCA9IGN1cnNvckxvY2F0aW9uLmNoYXJJbmRleCxcbiAgICAgICAgd2lkdGhCZWZvcmVDdXJzb3IgPSB0aGlzLl9nZXRXaWR0aEJlZm9yZUN1cnNvcihsaW5lSW5kZXgsIGNoYXJJbmRleCksXG4gICAgICAgIGluZGV4T25PdGhlckxpbmUgPSB0aGlzLl9nZXRJbmRleE9uTGluZShsaW5lSW5kZXggKyAxLCB3aWR0aEJlZm9yZUN1cnNvciksXG4gICAgICAgIHRleHRBZnRlckN1cnNvciA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLnNsaWNlKGNoYXJJbmRleCk7XG4gICAgcmV0dXJuIHRleHRBZnRlckN1cnNvci5sZW5ndGggKyBpbmRleE9uT3RoZXJMaW5lICsgMSArIHRoaXMubWlzc2luZ05ld2xpbmVPZmZzZXQobGluZUluZGV4KTtcbiAgfSxcblxuICAvKipcbiAgICogcHJpdmF0ZVxuICAgKiBIZWxwcyBmaW5kaW5nIGlmIHRoZSBvZmZzZXQgc2hvdWxkIGJlIGNvdW50ZWQgZnJvbSBTdGFydCBvciBFbmRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1JpZ2h0XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIF9nZXRTZWxlY3Rpb25Gb3JPZmZzZXQ6IGZ1bmN0aW9uKGUsIGlzUmlnaHQpIHtcbiAgICBpZiAoZS5zaGlmdEtleSAmJiB0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLnNlbGVjdGlvbkVuZCAmJiBpc1JpZ2h0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzUmlnaHRcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cbiAgZ2V0VXBDdXJzb3JPZmZzZXQ6IGZ1bmN0aW9uKGUsIGlzUmlnaHQpIHtcbiAgICB2YXIgc2VsZWN0aW9uUHJvcCA9IHRoaXMuX2dldFNlbGVjdGlvbkZvck9mZnNldChlLCBpc1JpZ2h0KSxcbiAgICAgICAgY3Vyc29yTG9jYXRpb24gPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc2VsZWN0aW9uUHJvcCksXG4gICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleDtcbiAgICBpZiAobGluZUluZGV4ID09PSAwIHx8IGUubWV0YUtleSB8fCBlLmtleUNvZGUgPT09IDMzKSB7XG4gICAgICAvLyBpZiBvbiBmaXJzdCBsaW5lLCB1cCBjdXJzb3IgZ29lcyB0byBzdGFydCBvZiBsaW5lXG4gICAgICByZXR1cm4gLXNlbGVjdGlvblByb3A7XG4gICAgfVxuICAgIHZhciBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXgsXG4gICAgICAgIHdpZHRoQmVmb3JlQ3Vyc29yID0gdGhpcy5fZ2V0V2lkdGhCZWZvcmVDdXJzb3IobGluZUluZGV4LCBjaGFySW5kZXgpLFxuICAgICAgICBpbmRleE9uT3RoZXJMaW5lID0gdGhpcy5fZ2V0SW5kZXhPbkxpbmUobGluZUluZGV4IC0gMSwgd2lkdGhCZWZvcmVDdXJzb3IpLFxuICAgICAgICB0ZXh0QmVmb3JlQ3Vyc29yID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0uc2xpY2UoMCwgY2hhckluZGV4KSxcbiAgICAgICAgbWlzc2luZ05ld2xpbmVPZmZzZXQgPSB0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KGxpbmVJbmRleCAtIDEpO1xuICAgIC8vIHJldHVybiBhIG5lZ2F0aXZlIG9mZnNldFxuICAgIHJldHVybiAtdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleCAtIDFdLmxlbmd0aFxuICAgICArIGluZGV4T25PdGhlckxpbmUgLSB0ZXh0QmVmb3JlQ3Vyc29yLmxlbmd0aCArICgxIC0gbWlzc2luZ05ld2xpbmVPZmZzZXQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBmb3IgYSBnaXZlbiB3aWR0aCBpdCBmb3VuZHMgdGhlIG1hdGNoaW5nIGNoYXJhY3Rlci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRJbmRleE9uTGluZTogZnVuY3Rpb24obGluZUluZGV4LCB3aWR0aCkge1xuXG4gICAgdmFyIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XSxcbiAgICAgICAgbGluZUxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChsaW5lSW5kZXgpLFxuICAgICAgICB3aWR0aE9mQ2hhcnNPbkxpbmUgPSBsaW5lTGVmdE9mZnNldCxcbiAgICAgICAgaW5kZXhPbkxpbmUgPSAwLCBjaGFyV2lkdGgsIGZvdW5kTWF0Y2g7XG5cbiAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGxpbmUubGVuZ3RoOyBqIDwgamxlbjsgaisrKSB7XG4gICAgICBjaGFyV2lkdGggPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2pdLndpZHRoO1xuICAgICAgd2lkdGhPZkNoYXJzT25MaW5lICs9IGNoYXJXaWR0aDtcbiAgICAgIGlmICh3aWR0aE9mQ2hhcnNPbkxpbmUgPiB3aWR0aCkge1xuICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxlZnRFZGdlID0gd2lkdGhPZkNoYXJzT25MaW5lIC0gY2hhcldpZHRoLFxuICAgICAgICAgICAgcmlnaHRFZGdlID0gd2lkdGhPZkNoYXJzT25MaW5lLFxuICAgICAgICAgICAgb2Zmc2V0RnJvbUxlZnRFZGdlID0gTWF0aC5hYnMobGVmdEVkZ2UgLSB3aWR0aCksXG4gICAgICAgICAgICBvZmZzZXRGcm9tUmlnaHRFZGdlID0gTWF0aC5hYnMocmlnaHRFZGdlIC0gd2lkdGgpO1xuXG4gICAgICAgIGluZGV4T25MaW5lID0gb2Zmc2V0RnJvbVJpZ2h0RWRnZSA8IG9mZnNldEZyb21MZWZ0RWRnZSA/IGogOiAoaiAtIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZWFjaGVkIGVuZFxuICAgIGlmICghZm91bmRNYXRjaCkge1xuICAgICAgaW5kZXhPbkxpbmUgPSBsaW5lLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZGV4T25MaW5lO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciBkb3duXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3ZlQ3Vyc29yRG93bjogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID49IHRoaXMuX3RleHQubGVuZ3RoICYmIHRoaXMuc2VsZWN0aW9uRW5kID49IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21vdmVDdXJzb3JVcE9yRG93bignRG93bicsIGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgdXBcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdmVDdXJzb3JVcDogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID09PSAwICYmIHRoaXMuc2VsZWN0aW9uRW5kID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21vdmVDdXJzb3JVcE9yRG93bignVXAnLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHVwIG9yIGRvd24sIGZpcmVzIHRoZSBldmVudHNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiAnVXAnIG9yICdEb3duJ1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgX21vdmVDdXJzb3JVcE9yRG93bjogZnVuY3Rpb24oZGlyZWN0aW9uLCBlKSB7XG4gICAgLy8gZ2V0VXBDdXJzb3JPZmZzZXRcbiAgICAvLyBnZXREb3duQ3Vyc29yT2Zmc2V0XG4gICAgdmFyIGFjdGlvbiA9ICdnZXQnICsgZGlyZWN0aW9uICsgJ0N1cnNvck9mZnNldCcsXG4gICAgICAgIG9mZnNldCA9IHRoaXNbYWN0aW9uXShlLCB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcpO1xuICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICB0aGlzLm1vdmVDdXJzb3JXaXRoU2hpZnQob2Zmc2V0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLm1vdmVDdXJzb3JXaXRob3V0U2hpZnQob2Zmc2V0KTtcbiAgICB9XG4gICAgaWYgKG9mZnNldCAhPT0gMCkge1xuICAgICAgdGhpcy5zZXRTZWxlY3Rpb25JbkJvdW5kYXJpZXMoKTtcbiAgICAgIHRoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5ID0gMTtcbiAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHdpdGggc2hpZnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFxuICAgKi9cbiAgbW92ZUN1cnNvcldpdGhTaGlmdDogZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgdmFyIG5ld1NlbGVjdGlvbiA9IHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ2xlZnQnXG4gICAgICA/IHRoaXMuc2VsZWN0aW9uU3RhcnQgKyBvZmZzZXRcbiAgICAgIDogdGhpcy5zZWxlY3Rpb25FbmQgKyBvZmZzZXQ7XG4gICAgdGhpcy5zZXRTZWxlY3Rpb25TdGFydEVuZFdpdGhTaGlmdCh0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCwgbmV3U2VsZWN0aW9uKTtcbiAgICByZXR1cm4gb2Zmc2V0ICE9PSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgdXAgd2l0aG91dCBzaGlmdFxuICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0XG4gICAqL1xuICBtb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0OiBmdW5jdGlvbihvZmZzZXQpIHtcbiAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCArPSBvZmZzZXQ7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgKz0gb2Zmc2V0O1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0ICE9PSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgbGVmdFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW92ZUN1cnNvckxlZnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gMCAmJiB0aGlzLnNlbGVjdGlvbkVuZCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tb3ZlQ3Vyc29yTGVmdE9yUmlnaHQoJ0xlZnQnLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBhIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgX21vdmU6IGZ1bmN0aW9uKGUsIHByb3AsIGRpcmVjdGlvbikge1xuICAgIHZhciBuZXdWYWx1ZTtcbiAgICBpZiAoZS5hbHRLZXkpIHtcbiAgICAgIG5ld1ZhbHVlID0gdGhpc1snZmluZFdvcmRCb3VuZGFyeScgKyBkaXJlY3Rpb25dKHRoaXNbcHJvcF0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChlLm1ldGFLZXkgfHwgZS5rZXlDb2RlID09PSAzNSB8fCAgZS5rZXlDb2RlID09PSAzNiApIHtcbiAgICAgIG5ld1ZhbHVlID0gdGhpc1snZmluZExpbmVCb3VuZGFyeScgKyBkaXJlY3Rpb25dKHRoaXNbcHJvcF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXNbcHJvcF0gKz0gZGlyZWN0aW9uID09PSAnTGVmdCcgPyAtMSA6IDE7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpc1twcm9wXSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgIHRoaXNbcHJvcF0gPSBuZXdWYWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9tb3ZlTGVmdDogZnVuY3Rpb24oZSwgcHJvcCkge1xuICAgIHJldHVybiB0aGlzLl9tb3ZlKGUsIHByb3AsICdMZWZ0Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbW92ZVJpZ2h0OiBmdW5jdGlvbihlLCBwcm9wKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vdmUoZSwgcHJvcCwgJ1JpZ2h0Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciBsZWZ0IHdpdGhvdXQga2VlcGluZyBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgKi9cbiAgbW92ZUN1cnNvckxlZnRXaXRob3V0U2hpZnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY2hhbmdlID0gdHJ1ZTtcbiAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAnbGVmdCc7XG5cbiAgICAvLyBvbmx5IG1vdmUgY3Vyc29yIHdoZW4gdGhlcmUgaXMgbm8gc2VsZWN0aW9uLFxuICAgIC8vIG90aGVyd2lzZSB3ZSBkaXNjYXJkIGl0LCBhbmQgbGVhdmUgY3Vyc29yIG9uIHNhbWUgcGxhY2VcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25FbmQgPT09IHRoaXMuc2VsZWN0aW9uU3RhcnQgJiYgdGhpcy5zZWxlY3Rpb25TdGFydCAhPT0gMCkge1xuICAgICAgY2hhbmdlID0gdGhpcy5fbW92ZUxlZnQoZSwgJ3NlbGVjdGlvblN0YXJ0Jyk7XG5cbiAgICB9XG4gICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgIHJldHVybiBjaGFuZ2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciBsZWZ0IHdoaWxlIGtlZXBpbmcgc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICovXG4gIG1vdmVDdXJzb3JMZWZ0V2l0aFNoaWZ0OiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyAmJiB0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21vdmVMZWZ0KGUsICdzZWxlY3Rpb25FbmQnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCAhPT0gMCl7XG4gICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAnbGVmdCc7XG4gICAgICByZXR1cm4gdGhpcy5fbW92ZUxlZnQoZSwgJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgcmlnaHRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdmVDdXJzb3JSaWdodDogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID49IHRoaXMuX3RleHQubGVuZ3RoICYmIHRoaXMuc2VsZWN0aW9uRW5kID49IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21vdmVDdXJzb3JMZWZ0T3JSaWdodCgnUmlnaHQnLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHJpZ2h0IG9yIExlZnQsIGZpcmVzIGV2ZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb24gJ0xlZnQnLCAnUmlnaHQnXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBfbW92ZUN1cnNvckxlZnRPclJpZ2h0OiBmdW5jdGlvbihkaXJlY3Rpb24sIGUpIHtcbiAgICB2YXIgYWN0aW9uTmFtZSA9ICdtb3ZlQ3Vyc29yJyArIGRpcmVjdGlvbiArICdXaXRoJztcbiAgICB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSA9IDE7XG5cbiAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgYWN0aW9uTmFtZSArPSAnU2hpZnQnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFjdGlvbk5hbWUgKz0gJ291dFNoaWZ0JztcbiAgICB9XG4gICAgaWYgKHRoaXNbYWN0aW9uTmFtZV0oZSkpIHtcbiAgICAgIHRoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKTtcbiAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHJpZ2h0IHdoaWxlIGtlZXBpbmcgc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICovXG4gIG1vdmVDdXJzb3JSaWdodFdpdGhTaGlmdDogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdsZWZ0JyAmJiB0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21vdmVSaWdodChlLCAnc2VsZWN0aW9uU3RhcnQnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25FbmQgIT09IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgcmV0dXJuIHRoaXMuX21vdmVSaWdodChlLCAnc2VsZWN0aW9uRW5kJyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgcmlnaHQgd2l0aG91dCBrZWVwaW5nIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW92ZUN1cnNvclJpZ2h0V2l0aG91dFNoaWZ0OiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNoYW5nZWQgPSB0cnVlO1xuICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdyaWdodCc7XG5cbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgIGNoYW5nZWQgPSB0aGlzLl9tb3ZlUmlnaHQoZSwgJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBjaGFyYWN0ZXJzIGZyb20gc3RhcnQvZW5kXG4gICAqIHN0YXJ0L2VuZCBhciBwZXIgZ3JhcGhlbWUgcG9zaXRpb24gaW4gX3RleHQgYXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFxuICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIGRlZmF1bHQgdG8gc3RhcnQgKyAxXG4gICAqL1xuICByZW1vdmVDaGFyczogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgIGlmICh0eXBlb2YgZW5kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZW5kID0gc3RhcnQgKyAxO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZVN0eWxlRnJvbVRvKHN0YXJ0LCBlbmQpO1xuICAgIHRoaXMuX3RleHQuc3BsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCk7XG4gICAgdGhpcy50ZXh0ID0gdGhpcy5fdGV4dC5qb2luKCcnKTtcbiAgICB0aGlzLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZSgpKSB7XG4gICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgIH1cbiAgICB0aGlzLl9yZW1vdmVFeHRyYW5lb3VzU3R5bGVzKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGluc2VydCBjaGFyYWN0ZXJzIGF0IHN0YXJ0IHBvc2l0aW9uLCBiZWZvcmUgc3RhcnQgcG9zaXRpb24uXG4gICAqIHN0YXJ0ICBlcXVhbCAxIGl0IG1lYW5zIHRoZSB0ZXh0IGdldCBpbnNlcnRlZCBiZXR3ZWVuIGFjdHVhbCBncmFwaGVtZSAwIGFuZCAxXG4gICAqIGlmIHN0eWxlIGFycmF5IGlzIHByb3ZpZGVkLCBpdCBtdXN0IGJlIGFzIHRoZSBzYW1lIGxlbmd0aCBvZiB0ZXh0IGluIGdyYXBoZW1lc1xuICAgKiBpZiBlbmQgaXMgcHJvdmlkZWQgYW5kIGlzIGJpZ2dlciB0aGFuIHN0YXJ0LCBvbGQgdGV4dCBpcyByZXBsYWNlZC5cbiAgICogc3RhcnQvZW5kIGFyIHBlciBncmFwaGVtZSBwb3NpdGlvbiBpbiBfdGV4dCBhcnJheS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGV4dCB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtBcnJheX0gc3R5bGUgYXJyYXkgb2Ygc3R5bGUgb2JqZWN0c1xuICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBkZWZhdWx0IHRvIHN0YXJ0ICsgMVxuICAgKi9cbiAgaW5zZXJ0Q2hhcnM6IGZ1bmN0aW9uKHRleHQsIHN0eWxlLCBzdGFydCwgZW5kKSB7XG4gICAgaWYgKHR5cGVvZiBlbmQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbmQgPSBzdGFydDtcbiAgICB9XG4gICAgaWYgKGVuZCA+IHN0YXJ0KSB7XG4gICAgICB0aGlzLnJlbW92ZVN0eWxlRnJvbVRvKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICB2YXIgZ3JhcGhlbWVzID0gZmFicmljLnV0aWwuc3RyaW5nLmdyYXBoZW1lU3BsaXQodGV4dCk7XG4gICAgdGhpcy5pbnNlcnROZXdTdHlsZUJsb2NrKGdyYXBoZW1lcywgc3RhcnQsIHN0eWxlKTtcbiAgICB0aGlzLl90ZXh0ID0gW10uY29uY2F0KHRoaXMuX3RleHQuc2xpY2UoMCwgc3RhcnQpLCBncmFwaGVtZXMsIHRoaXMuX3RleHQuc2xpY2UoZW5kKSk7XG4gICAgdGhpcy50ZXh0ID0gdGhpcy5fdGV4dC5qb2luKCcnKTtcbiAgICB0aGlzLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZSgpKSB7XG4gICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgIH1cbiAgICB0aGlzLl9yZW1vdmVFeHRyYW5lb3VzU3R5bGVzKCk7XG4gIH0sXG5cbn0pO1xuXG5cbi8qIF9UT19TVkdfU1RBUlRfICovXG4oZnVuY3Rpb24oKSB7XG4gIHZhciB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIG11bHRpcGxlU3BhY2VzUmVnZXggPSAvICArL2c7XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuVGV4dC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLlRleHQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2Zmc2V0cyA9IHRoaXMuX2dldFNWR0xlZnRUb3BPZmZzZXRzKCksXG4gICAgICAgICAgdGV4dEFuZEJnID0gdGhpcy5fZ2V0U1ZHVGV4dEFuZEJnKG9mZnNldHMudGV4dFRvcCwgb2Zmc2V0cy50ZXh0TGVmdCk7XG4gICAgICByZXR1cm4gdGhpcy5fd3JhcFNWR1RleHRBbmRCZyh0ZXh0QW5kQmcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJhc2VTVkdNYXJrdXAoXG4gICAgICAgIHRoaXMuX3RvU1ZHKCksXG4gICAgICAgIHsgcmV2aXZlcjogcmV2aXZlciwgbm9TdHlsZTogdHJ1ZSwgd2l0aFNoYWRvdzogdHJ1ZSB9XG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRTVkdMZWZ0VG9wT2Zmc2V0czogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0TGVmdDogLXRoaXMud2lkdGggLyAyLFxuICAgICAgICB0ZXh0VG9wOiAtdGhpcy5oZWlnaHQgLyAyLFxuICAgICAgICBsaW5lVG9wOiB0aGlzLmdldEhlaWdodE9mTGluZSgwKVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfd3JhcFNWR1RleHRBbmRCZzogZnVuY3Rpb24odGV4dEFuZEJnKSB7XG4gICAgICB2YXIgbm9TaGFkb3cgPSB0cnVlLFxuICAgICAgICAgIHRleHREZWNvcmF0aW9uID0gdGhpcy5nZXRTdmdUZXh0RGVjb3JhdGlvbih0aGlzKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHRleHRBbmRCZy50ZXh0QmdSZWN0cy5qb2luKCcnKSxcbiAgICAgICAgJ1xcdFxcdDx0ZXh0IHhtbDpzcGFjZT1cInByZXNlcnZlXCIgJyxcbiAgICAgICAgKHRoaXMuZm9udEZhbWlseSA/ICdmb250LWZhbWlseT1cIicgKyB0aGlzLmZvbnRGYW1pbHkucmVwbGFjZSgvXCIvZywgJ1xcJycpICsgJ1wiICcgOiAnJyksXG4gICAgICAgICh0aGlzLmZvbnRTaXplID8gJ2ZvbnQtc2l6ZT1cIicgKyB0aGlzLmZvbnRTaXplICsgJ1wiICcgOiAnJyksXG4gICAgICAgICh0aGlzLmZvbnRTdHlsZSA/ICdmb250LXN0eWxlPVwiJyArIHRoaXMuZm9udFN0eWxlICsgJ1wiICcgOiAnJyksXG4gICAgICAgICh0aGlzLmZvbnRXZWlnaHQgPyAnZm9udC13ZWlnaHQ9XCInICsgdGhpcy5mb250V2VpZ2h0ICsgJ1wiICcgOiAnJyksXG4gICAgICAgICh0ZXh0RGVjb3JhdGlvbiA/ICd0ZXh0LWRlY29yYXRpb249XCInICsgdGV4dERlY29yYXRpb24gKyAnXCIgJyA6ICcnKSxcbiAgICAgICAgJ3N0eWxlPVwiJywgdGhpcy5nZXRTdmdTdHlsZXMobm9TaGFkb3cpLCAnXCInLCB0aGlzLmFkZFBhaW50T3JkZXIoKSwgJyA+JyxcbiAgICAgICAgdGV4dEFuZEJnLnRleHRTcGFucy5qb2luKCcnKSxcbiAgICAgICAgJzwvdGV4dD5cXG4nXG4gICAgICBdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0ZXh0VG9wT2Zmc2V0IFRleHQgdG9wIG9mZnNldFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0ZXh0TGVmdE9mZnNldCBUZXh0IGxlZnQgb2Zmc2V0XG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIF9nZXRTVkdUZXh0QW5kQmc6IGZ1bmN0aW9uKHRleHRUb3BPZmZzZXQsIHRleHRMZWZ0T2Zmc2V0KSB7XG4gICAgICB2YXIgdGV4dFNwYW5zID0gW10sXG4gICAgICAgICAgdGV4dEJnUmVjdHMgPSBbXSxcbiAgICAgICAgICBoZWlnaHQgPSB0ZXh0VG9wT2Zmc2V0LCBsaW5lT2Zmc2V0O1xuICAgICAgLy8gYm91bmRpbmctYm94IGJhY2tncm91bmRcbiAgICAgIHRoaXMuX3NldFNWR0JnKHRleHRCZ1JlY3RzKTtcblxuICAgICAgLy8gdGV4dCBhbmQgdGV4dC1iYWNrZ3JvdW5kXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxpbmVPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChpKTtcbiAgICAgICAgaWYgKHRoaXMudGV4dEJhY2tncm91bmRDb2xvciB8fCB0aGlzLnN0eWxlSGFzKCd0ZXh0QmFja2dyb3VuZENvbG9yJywgaSkpIHtcbiAgICAgICAgICB0aGlzLl9zZXRTVkdUZXh0TGluZUJnKHRleHRCZ1JlY3RzLCBpLCB0ZXh0TGVmdE9mZnNldCArIGxpbmVPZmZzZXQsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0U1ZHVGV4dExpbmVUZXh0KHRleHRTcGFucywgaSwgdGV4dExlZnRPZmZzZXQgKyBsaW5lT2Zmc2V0LCBoZWlnaHQpO1xuICAgICAgICBoZWlnaHQgKz0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRleHRTcGFuczogdGV4dFNwYW5zLFxuICAgICAgICB0ZXh0QmdSZWN0czogdGV4dEJnUmVjdHNcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZVRleHRDaGFyU3BhbjogZnVuY3Rpb24oX2NoYXIsIHN0eWxlRGVjbCwgbGVmdCwgdG9wKSB7XG4gICAgICB2YXIgc2hvdWxkVXNlV2hpdGVzcGFjZSA9IF9jaGFyICE9PSBfY2hhci50cmltKCkgfHwgX2NoYXIubWF0Y2gobXVsdGlwbGVTcGFjZXNSZWdleCksXG4gICAgICAgICAgc3R5bGVQcm9wcyA9IHRoaXMuZ2V0U3ZnU3BhblN0eWxlcyhzdHlsZURlY2wsIHNob3VsZFVzZVdoaXRlc3BhY2UpLFxuICAgICAgICAgIGZpbGxTdHlsZXMgPSBzdHlsZVByb3BzID8gJ3N0eWxlPVwiJyArIHN0eWxlUHJvcHMgKyAnXCInIDogJycsXG4gICAgICAgICAgZHkgPSBzdHlsZURlY2wuZGVsdGFZLCBkeVNwYW4gPSAnJyxcbiAgICAgICAgICBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuICAgICAgaWYgKGR5KSB7XG4gICAgICAgIGR5U3BhbiA9ICcgZHk9XCInICsgdG9GaXhlZChkeSwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnXCIgJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8dHNwYW4geD1cIicsIHRvRml4ZWQobGVmdCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksICdcIiB5PVwiJyxcbiAgICAgICAgdG9GaXhlZCh0b3AsIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnXCIgJywgZHlTcGFuLFxuICAgICAgICBmaWxsU3R5bGVzLCAnPicsXG4gICAgICAgIGZhYnJpYy51dGlsLnN0cmluZy5lc2NhcGVYbWwoX2NoYXIpLFxuICAgICAgICAnPC90c3Bhbj4nXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICBfc2V0U1ZHVGV4dExpbmVUZXh0OiBmdW5jdGlvbih0ZXh0U3BhbnMsIGxpbmVJbmRleCwgdGV4dExlZnRPZmZzZXQsIHRleHRUb3BPZmZzZXQpIHtcbiAgICAgIC8vIHNldCBwcm9wZXIgbGluZSBvZmZzZXRcbiAgICAgIHZhciBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUobGluZUluZGV4KSxcbiAgICAgICAgICBpc0p1c3RpZnkgPSB0aGlzLnRleHRBbGlnbi5pbmRleE9mKCdqdXN0aWZ5JykgIT09IC0xLFxuICAgICAgICAgIGFjdHVhbFN0eWxlLFxuICAgICAgICAgIG5leHRTdHlsZSxcbiAgICAgICAgICBjaGFyc1RvUmVuZGVyID0gJycsXG4gICAgICAgICAgY2hhckJveCwgc3R5bGUsXG4gICAgICAgICAgYm94V2lkdGggPSAwLFxuICAgICAgICAgIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XSxcbiAgICAgICAgICB0aW1lVG9SZW5kZXI7XG5cbiAgICAgIHRleHRUb3BPZmZzZXQgKz0gbGluZUhlaWdodCAqICgxIC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbikgLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGluZS5sZW5ndGggLSAxOyBpIDw9IGxlbjsgaSsrKSB7XG4gICAgICAgIHRpbWVUb1JlbmRlciA9IGkgPT09IGxlbiB8fCB0aGlzLmNoYXJTcGFjaW5nO1xuICAgICAgICBjaGFyc1RvUmVuZGVyICs9IGxpbmVbaV07XG4gICAgICAgIGNoYXJCb3ggPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2ldO1xuICAgICAgICBpZiAoYm94V2lkdGggPT09IDApIHtcbiAgICAgICAgICB0ZXh0TGVmdE9mZnNldCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoIC0gY2hhckJveC53aWR0aDtcbiAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94LndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gua2VybmVkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSnVzdGlmeSAmJiAhdGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChsaW5lW2ldKSkge1xuICAgICAgICAgICAgdGltZVRvUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aW1lVG9SZW5kZXIpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGNoYXJTcGFjaW5nLCB3ZSByZW5kZXIgY2hhciBieSBjaGFyXG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBhY3R1YWxTdHlsZSB8fCB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGkpO1xuICAgICAgICAgIG5leHRTdHlsZSA9IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSArIDEpO1xuICAgICAgICAgIHRpbWVUb1JlbmRlciA9IGZhYnJpYy51dGlsLmhhc1N0eWxlQ2hhbmdlZChhY3R1YWxTdHlsZSwgbmV4dFN0eWxlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgc3R5bGUgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSkgfHwgeyB9O1xuICAgICAgICAgIHRleHRTcGFucy5wdXNoKHRoaXMuX2NyZWF0ZVRleHRDaGFyU3BhbihjaGFyc1RvUmVuZGVyLCBzdHlsZSwgdGV4dExlZnRPZmZzZXQsIHRleHRUb3BPZmZzZXQpKTtcbiAgICAgICAgICBjaGFyc1RvUmVuZGVyID0gJyc7XG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBuZXh0U3R5bGU7XG4gICAgICAgICAgdGV4dExlZnRPZmZzZXQgKz0gYm94V2lkdGg7XG4gICAgICAgICAgYm94V2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9wdXNoVGV4dEJnUmVjdDogZnVuY3Rpb24odGV4dEJnUmVjdHMsIGNvbG9yLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuICAgICAgdGV4dEJnUmVjdHMucHVzaChcbiAgICAgICAgJ1xcdFxcdDxyZWN0ICcsXG4gICAgICAgIHRoaXMuX2dldEZpbGxBdHRyaWJ1dGVzKGNvbG9yKSxcbiAgICAgICAgJyB4PVwiJyxcbiAgICAgICAgdG9GaXhlZChsZWZ0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgJ1wiIHk9XCInLFxuICAgICAgICB0b0ZpeGVkKHRvcCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICdcIiB3aWR0aD1cIicsXG4gICAgICAgIHRvRml4ZWQod2lkdGgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAnXCIgaGVpZ2h0PVwiJyxcbiAgICAgICAgdG9GaXhlZChoZWlnaHQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAnXCI+PC9yZWN0PlxcbicpO1xuICAgIH0sXG5cbiAgICBfc2V0U1ZHVGV4dExpbmVCZzogZnVuY3Rpb24odGV4dEJnUmVjdHMsIGksIGxlZnRPZmZzZXQsIHRleHRUb3BPZmZzZXQpIHtcbiAgICAgIHZhciBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2ldLFxuICAgICAgICAgIGhlaWdodE9mTGluZSA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpIC8gdGhpcy5saW5lSGVpZ2h0LFxuICAgICAgICAgIGJveFdpZHRoID0gMCxcbiAgICAgICAgICBib3hTdGFydCA9IDAsXG4gICAgICAgICAgY2hhckJveCwgY3VycmVudENvbG9yLFxuICAgICAgICAgIGxhc3RDb2xvciA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgMCwgJ3RleHRCYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gbGluZS5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgICAgY2hhckJveCA9IHRoaXMuX19jaGFyQm91bmRzW2ldW2pdO1xuICAgICAgICBjdXJyZW50Q29sb3IgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIGosICd0ZXh0QmFja2dyb3VuZENvbG9yJyk7XG4gICAgICAgIGlmIChjdXJyZW50Q29sb3IgIT09IGxhc3RDb2xvcikge1xuICAgICAgICAgIGxhc3RDb2xvciAmJiB0aGlzLl9wdXNoVGV4dEJnUmVjdCh0ZXh0QmdSZWN0cywgbGFzdENvbG9yLCBsZWZ0T2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgICAgICB0ZXh0VG9wT2Zmc2V0LCBib3hXaWR0aCwgaGVpZ2h0T2ZMaW5lKTtcbiAgICAgICAgICBib3hTdGFydCA9IGNoYXJCb3gubGVmdDtcbiAgICAgICAgICBib3hXaWR0aCA9IGNoYXJCb3gud2lkdGg7XG4gICAgICAgICAgbGFzdENvbG9yID0gY3VycmVudENvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gua2VybmVkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1cnJlbnRDb2xvciAmJiB0aGlzLl9wdXNoVGV4dEJnUmVjdCh0ZXh0QmdSZWN0cywgY3VycmVudENvbG9yLCBsZWZ0T2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgIHRleHRUb3BPZmZzZXQsIGJveFdpZHRoLCBoZWlnaHRPZkxpbmUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZG9iZSBJbGx1c3RyYXRvciAoYXQgbGVhc3QgQ1M1KSBpcyB1bmFibGUgdG8gcmVuZGVyIHJnYmEoKS1iYXNlZCBmaWxsIHZhbHVlc1xuICAgICAqIHdlIHdvcmsgYXJvdW5kIGl0IGJ5IFwibW92aW5nXCIgYWxwaGEgY2hhbm5lbCBpbnRvIG9wYWNpdHkgYXR0cmlidXRlIGFuZCBzZXR0aW5nIGZpbGwncyBhbHBoYSB0byAxXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgX2dldEZpbGxBdHRyaWJ1dGVzOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGZpbGxDb2xvciA9ICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSA/IG5ldyBmYWJyaWMuQ29sb3IodmFsdWUpIDogJyc7XG4gICAgICBpZiAoIWZpbGxDb2xvciB8fCAhZmlsbENvbG9yLmdldFNvdXJjZSgpIHx8IGZpbGxDb2xvci5nZXRBbHBoYSgpID09PSAxKSB7XG4gICAgICAgIHJldHVybiAnZmlsbD1cIicgKyB2YWx1ZSArICdcIic7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ29wYWNpdHk9XCInICsgZmlsbENvbG9yLmdldEFscGhhKCkgKyAnXCIgZmlsbD1cIicgKyBmaWxsQ29sb3Iuc2V0QWxwaGEoMSkudG9SZ2IoKSArICdcIic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFNWR0xpbmVUb3BPZmZzZXQ6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgdmFyIGxpbmVUb3BPZmZzZXQgPSAwLCBsYXN0SGVpZ2h0ID0gMDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZUluZGV4OyBqKyspIHtcbiAgICAgICAgbGluZVRvcE9mZnNldCArPSB0aGlzLmdldEhlaWdodE9mTGluZShqKTtcbiAgICAgIH1cbiAgICAgIGxhc3RIZWlnaHQgPSB0aGlzLmdldEhlaWdodE9mTGluZShqKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbmVUb3A6IGxpbmVUb3BPZmZzZXQsXG4gICAgICAgIG9mZnNldDogKHRoaXMuX2ZvbnRTaXplTXVsdCAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pICogbGFzdEhlaWdodCAvICh0aGlzLmxpbmVIZWlnaHQgKiB0aGlzLl9mb250U2l6ZU11bHQpXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0eWxlcy1zdHJpbmcgZm9yIHN2Zy1leHBvcnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNraXBTaGFkb3cgYSBib29sZWFuIHRvIHNraXAgc2hhZG93IGZpbHRlciBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnU3R5bGVzOiBmdW5jdGlvbihza2lwU2hhZG93KSB7XG4gICAgICB2YXIgc3ZnU3R5bGUgPSBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5nZXRTdmdTdHlsZXMuY2FsbCh0aGlzLCBza2lwU2hhZG93KTtcbiAgICAgIHJldHVybiBzdmdTdHlsZSArICcgd2hpdGUtc3BhY2U6IHByZTsnO1xuICAgIH0sXG4gIH0pO1xufSkoKTtcbi8qIF9UT19TVkdfRU5EXyAqL1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7fSk7XG5cbiAgLyoqXG4gICAqIFRleHRib3ggY2xhc3MsIGJhc2VkIG9uIElUZXh0LCBhbGxvd3MgdGhlIHVzZXIgdG8gcmVzaXplIHRoZSB0ZXh0IHJlY3RhbmdsZVxuICAgKiBhbmQgd3JhcHMgbGluZXMgYXV0b21hdGljYWxseS4gVGV4dGJveGVzIGhhdmUgdGhlaXIgWSBzY2FsaW5nIGxvY2tlZCwgdGhlXG4gICAqIHVzZXIgY2FuIG9ubHkgY2hhbmdlIHdpZHRoLiBIZWlnaHQgaXMgYWRqdXN0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiB0aGVcbiAgICogd3JhcHBpbmcgb2YgbGluZXMuXG4gICAqIEBjbGFzcyBmYWJyaWMuVGV4dGJveFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSVRleHRcbiAgICogQG1peGVzIGZhYnJpYy5PYnNlcnZhYmxlXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5UZXh0Ym94fSB0aGlzQXJnXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5UZXh0Ym94I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuVGV4dGJveCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5JVGV4dCwgZmFicmljLk9ic2VydmFibGUsIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAndGV4dGJveCcsXG5cbiAgICAvKipcbiAgICAgKiBNaW5pbXVtIHdpZHRoIG9mIHRleHRib3gsIGluIHBpeGVscy5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1pbldpZHRoOiAyMCxcblxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gY2FsY3VsYXRlZCB3aWR0aCBvZiBhIHRleHRib3gsIGluIHBpeGVscy5cbiAgICAgKiBmaXhlZCB0byAyIHNvIHRoYXQgYW4gZW1wdHkgdGV4dGJveCBjYW5ub3QgZ28gdG8gMFxuICAgICAqIGFuZCBpcyBzdGlsbCBzZWxlY3RhYmxlIHdpdGhvdXQgdGV4dC5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGR5bmFtaWNNaW5XaWR0aDogMixcblxuICAgIC8qKlxuICAgICAqIENhY2hlZCBhcnJheSBvZiB0ZXh0IHdyYXBwaW5nLlxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgX19jYWNoZWRMaW5lczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHN0YW5kYXJkIE9iamVjdCBjbGFzcyB2YWx1ZXNcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ0ZsaXA6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBzdGFuZGFyZCBPYmplY3QgY2xhc3MgdmFsdWVzXG4gICAgICogVGV4dGJveCBuZWVkcyB0aGlzIG9uIGZhbHNlXG4gICAgICovXG4gICAgbm9TY2FsZUNhY2hlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgd2hpY2ggd2hlbiBzZXQgY2F1c2Ugb2JqZWN0IHRvIGNoYW5nZSBkaW1lbnNpb25zXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGltZW5zaW9uQWZmZWN0aW5nUHJvcHM6IGZhYnJpYy5UZXh0LnByb3RvdHlwZS5fZGltZW5zaW9uQWZmZWN0aW5nUHJvcHMuY29uY2F0KCd3aWR0aCcpLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgcmVndWxhciBleHByZXNzaW9uIHRvIHNwbGl0IHN0cmluZ3MgaW4gYnJlYWthYmxlIGxpbmVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfd29yZEpvaW5lcnM6IC9bIFxcdFxccl0vLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgYm9vbGVhbiBwcm9wZXJ0eSBpbiBvcmRlciB0byBzcGxpdCBzdHJpbmdzIHRoYXQgaGF2ZSBubyB3aGl0ZSBzcGFjZSBjb25jZXB0LlxuICAgICAqIHRoaXMgaXMgYSBjaGVhcCB3YXkgdG8gaGVscCB3aXRoIGNoaW5lc2UvamFwYW5lc2VcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQHNpbmNlIDIuNi4wXG4gICAgICovXG4gICAgc3BsaXRCeUdyYXBoZW1lOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFVubGlrZSBzdXBlcmNsYXNzJ3MgdmVyc2lvbiBvZiB0aGlzIGZ1bmN0aW9uLCBUZXh0Ym94IGRvZXMgbm90IHVwZGF0ZVxuICAgICAqIGl0cyB3aWR0aC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGluaXREaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9fc2tpcERpbWVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmlzRWRpdGluZyAmJiB0aGlzLmluaXREZWxheWVkQ3Vyc29yKCk7XG4gICAgICB0aGlzLmNsZWFyQ29udGV4dFRvcCgpO1xuICAgICAgdGhpcy5fY2xlYXJDYWNoZSgpO1xuICAgICAgLy8gY2xlYXIgZHluYW1pY01pbldpZHRoIGFzIGl0IHdpbGwgYmUgZGlmZmVyZW50IGFmdGVyIHdlIHJlLXdyYXAgbGluZVxuICAgICAgdGhpcy5keW5hbWljTWluV2lkdGggPSAwO1xuICAgICAgLy8gd3JhcCBsaW5lc1xuICAgICAgdGhpcy5fc3R5bGVNYXAgPSB0aGlzLl9nZW5lcmF0ZVN0eWxlTWFwKHRoaXMuX3NwbGl0VGV4dCgpKTtcbiAgICAgIC8vIGlmIGFmdGVyIHdyYXBwaW5nLCB0aGUgd2lkdGggaXMgc21hbGxlciB0aGFuIGR5bmFtaWNNaW5XaWR0aCwgY2hhbmdlIHRoZSB3aWR0aCBhbmQgcmUtd3JhcFxuICAgICAgaWYgKHRoaXMuZHluYW1pY01pbldpZHRoID4gdGhpcy53aWR0aCkge1xuICAgICAgICB0aGlzLl9zZXQoJ3dpZHRoJywgdGhpcy5keW5hbWljTWluV2lkdGgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudGV4dEFsaWduLmluZGV4T2YoJ2p1c3RpZnknKSAhPT0gLTEpIHtcbiAgICAgICAgLy8gb25jZSB0ZXh0IGlzIG1lYXN1cmVkIHdlIG5lZWQgdG8gbWFrZSBzcGFjZSBmYXR0ZXIgdG8gbWFrZSBqdXN0aWZpZWQgdGV4dC5cbiAgICAgICAgdGhpcy5lbmxhcmdlU3BhY2VzKCk7XG4gICAgICB9XG4gICAgICAvLyBjbGVhciBjYWNoZSBhbmQgcmUtY2FsY3VsYXRlIGhlaWdodFxuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbGNUZXh0SGVpZ2h0KCk7XG4gICAgICB0aGlzLnNhdmVTdGF0ZSh7IHByb3BlcnR5U2V0OiAnX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzJyB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYW4gb2JqZWN0IHRoYXQgdHJhbnNsYXRlcyB0aGUgc3R5bGUgb2JqZWN0IHNvIHRoYXQgaXQgaXNcbiAgICAgKiBicm9rZW4gdXAgYnkgdmlzdWFsIGxpbmVzIChuZXcgbGluZXMgYW5kIGF1dG9tYXRpYyB3cmFwcGluZykuXG4gICAgICogVGhlIG9yaWdpbmFsIHRleHQgc3R5bGVzIG9iamVjdCBpcyBicm9rZW4gdXAgYnkgYWN0dWFsIGxpbmVzIChuZXcgbGluZXMgb25seSksXG4gICAgICogd2hpY2ggaXMgb25seSBzdWZmaWNpZW50IGZvciBUZXh0IC8gSVRleHRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZW5lcmF0ZVN0eWxlTWFwOiBmdW5jdGlvbih0ZXh0SW5mbykge1xuICAgICAgdmFyIHJlYWxMaW5lQ291bnQgICAgID0gMCxcbiAgICAgICAgICByZWFsTGluZUNoYXJDb3VudCA9IDAsXG4gICAgICAgICAgY2hhckNvdW50ICAgICAgICAgPSAwLFxuICAgICAgICAgIG1hcCAgICAgICAgICAgICAgID0ge307XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dEluZm8uZ3JhcGhlbWVMaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGV4dEluZm8uZ3JhcGhlbWVUZXh0W2NoYXJDb3VudF0gPT09ICdcXG4nICYmIGkgPiAwKSB7XG4gICAgICAgICAgcmVhbExpbmVDaGFyQ291bnQgPSAwO1xuICAgICAgICAgIGNoYXJDb3VudCsrO1xuICAgICAgICAgIHJlYWxMaW5lQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5zcGxpdEJ5R3JhcGhlbWUgJiYgdGhpcy5fcmVTcGFjZUFuZFRhYi50ZXN0KHRleHRJbmZvLmdyYXBoZW1lVGV4dFtjaGFyQ291bnRdKSAmJiBpID4gMCkge1xuICAgICAgICAgIC8vIHRoaXMgY2FzZSBkZWFscyB3aXRoIHNwYWNlJ3MgdGhhdCBhcmUgcmVtb3ZlZCBmcm9tIGVuZCBvZiBsaW5lcyB3aGVuIHdyYXBwaW5nXG4gICAgICAgICAgcmVhbExpbmVDaGFyQ291bnQrKztcbiAgICAgICAgICBjaGFyQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcFtpXSA9IHsgbGluZTogcmVhbExpbmVDb3VudCwgb2Zmc2V0OiByZWFsTGluZUNoYXJDb3VudCB9O1xuXG4gICAgICAgIGNoYXJDb3VudCArPSB0ZXh0SW5mby5ncmFwaGVtZUxpbmVzW2ldLmxlbmd0aDtcbiAgICAgICAgcmVhbExpbmVDaGFyQ291bnQgKz0gdGV4dEluZm8uZ3JhcGhlbWVMaW5lc1tpXS5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIGEgc3R5bGUgcHJvcGVydHkgb3IgaGFzIGl0IG9uIGEgc3BlY2lmaWVkIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzdHlsZUhhczogZnVuY3Rpb24ocHJvcGVydHksIGxpbmVJbmRleCkge1xuICAgICAgaWYgKHRoaXMuX3N0eWxlTWFwICYmICF0aGlzLmlzV3JhcHBpbmcpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICBsaW5lSW5kZXggPSBtYXAubGluZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhYnJpYy5UZXh0LnByb3RvdHlwZS5zdHlsZUhhcy5jYWxsKHRoaXMsIHByb3BlcnR5LCBsaW5lSW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGhhcyBubyBzdHlsaW5nIG9yIG5vIHN0eWxpbmcgaW4gYSBsaW5lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCAsIGxpbmVJbmRleCBpcyBvbiB3cmFwcGVkIGxpbmVzLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNFbXB0eVN0eWxlczogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IDAsIG5leHRMaW5lSW5kZXggPSBsaW5lSW5kZXggKyAxLCBuZXh0T2Zmc2V0LCBvYmosIHNob3VsZExpbWl0ID0gZmFsc2UsXG4gICAgICAgICAgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XSwgbWFwTmV4dExpbmUgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXggKyAxXTtcbiAgICAgIGlmIChtYXApIHtcbiAgICAgICAgbGluZUluZGV4ID0gbWFwLmxpbmU7XG4gICAgICAgIG9mZnNldCA9IG1hcC5vZmZzZXQ7XG4gICAgICB9XG4gICAgICBpZiAobWFwTmV4dExpbmUpIHtcbiAgICAgICAgbmV4dExpbmVJbmRleCA9IG1hcE5leHRMaW5lLmxpbmU7XG4gICAgICAgIHNob3VsZExpbWl0ID0gbmV4dExpbmVJbmRleCA9PT0gbGluZUluZGV4O1xuICAgICAgICBuZXh0T2Zmc2V0ID0gbWFwTmV4dExpbmUub2Zmc2V0O1xuICAgICAgfVxuICAgICAgb2JqID0gdHlwZW9mIGxpbmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnN0eWxlcyA6IHsgbGluZTogdGhpcy5zdHlsZXNbbGluZUluZGV4XSB9O1xuICAgICAgZm9yICh2YXIgcDEgaW4gb2JqKSB7XG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICBpZiAocDIgPj0gb2Zmc2V0ICYmICghc2hvdWxkTGltaXQgfHwgcDIgPCBuZXh0T2Zmc2V0KSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICAgICAgICBmb3IgKHZhciBwMyBpbiBvYmpbcDFdW3AyXSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRTdHlsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCkge1xuICAgICAgaWYgKHRoaXMuX3N0eWxlTWFwICYmICF0aGlzLmlzV3JhcHBpbmcpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGluZUluZGV4ID0gbWFwLmxpbmU7XG4gICAgICAgIGNoYXJJbmRleCA9IG1hcC5vZmZzZXQgKyBjaGFySW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ19nZXRTdHlsZURlY2xhcmF0aW9uJywgbGluZUluZGV4LCBjaGFySW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4LCBzdHlsZSkge1xuICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICBsaW5lSW5kZXggPSBtYXAubGluZTtcbiAgICAgIGNoYXJJbmRleCA9IG1hcC5vZmZzZXQgKyBjaGFySW5kZXg7XG5cbiAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleF1bY2hhckluZGV4XSA9IHN0eWxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RlbGV0ZVN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICB2YXIgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XTtcbiAgICAgIGxpbmVJbmRleCA9IG1hcC5saW5lO1xuICAgICAgY2hhckluZGV4ID0gbWFwLm9mZnNldCArIGNoYXJJbmRleDtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHByb2JhYmx5IGJyb2tlbiBuZWVkIGEgZml4XG4gICAgICogUmV0dXJucyB0aGUgcmVhbCBzdHlsZSBsaW5lIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgd3JhcHBlZCBsaW5lSW5kZXggbGluZVxuICAgICAqIFVzZWQganVzdCB0byB2ZXJpZnkgaWYgdGhlIGxpbmUgZG9lcyBleGlzdCBvciBub3QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBpZiB0aGUgbGluZSBleGlzdHMgb3Igbm90XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0TGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdO1xuICAgICAgcmV0dXJuICEhdGhpcy5zdHlsZXNbbWFwLmxpbmVdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgc3R5bGUgdG8gYW4gZW1wdHkgb2JqZWN0IHNvIHRoYXQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0TGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdO1xuICAgICAgdGhpcy5zdHlsZXNbbWFwLmxpbmVdID0ge307XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdyYXBzIHRleHQgdXNpbmcgdGhlICd3aWR0aCcgcHJvcGVydHkgb2YgVGV4dGJveC4gRmlyc3QgdGhpcyBmdW5jdGlvblxuICAgICAqIHNwbGl0cyB0ZXh0IG9uIG5ld2xpbmVzLCBzbyB3ZSBwcmVzZXJ2ZSBuZXdsaW5lcyBlbnRlcmVkIGJ5IHRoZSB1c2VyLlxuICAgICAqIFRoZW4gaXQgd3JhcHMgZWFjaCBsaW5lIHVzaW5nIHRoZSB3aWR0aCBvZiB0aGUgVGV4dGJveCBieSBjYWxsaW5nXG4gICAgICogX3dyYXBMaW5lKCkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGluZXMgVGhlIHN0cmluZyBhcnJheSBvZiB0ZXh0IHRoYXQgaXMgc3BsaXQgaW50byBsaW5lc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZXNpcmVkV2lkdGggd2lkdGggeW91IHdhbnQgdG8gd3JhcCB0b1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgbGluZXNcbiAgICAgKi9cbiAgICBfd3JhcFRleHQ6IGZ1bmN0aW9uKGxpbmVzLCBkZXNpcmVkV2lkdGgpIHtcbiAgICAgIHZhciB3cmFwcGVkID0gW10sIGk7XG4gICAgICB0aGlzLmlzV3JhcHBpbmcgPSB0cnVlO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLmNvbmNhdCh0aGlzLl93cmFwTGluZShsaW5lc1tpXSwgaSwgZGVzaXJlZFdpZHRoKSk7XG4gICAgICB9XG4gICAgICB0aGlzLmlzV3JhcHBpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybiB3cmFwcGVkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gbWVhc3VyZSBhIHN0cmluZyBvZiB0ZXh0LCBnaXZlbiBpdHMgbGluZUluZGV4IGFuZCBjaGFySW5kZXggb2Zmc2V0XG4gICAgICogaXQgZ2V0cyBjYWxsZWQgd2hlbiBjaGFyQm91bmRzIGFyZSBub3QgYXZhaWxhYmxlIHlldC5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNoYXJPZmZzZXRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21lYXN1cmVXb3JkOiBmdW5jdGlvbih3b3JkLCBsaW5lSW5kZXgsIGNoYXJPZmZzZXQpIHtcbiAgICAgIHZhciB3aWR0aCA9IDAsIHByZXZHcmFwaGVtZSwgc2tpcExlZnQgPSB0cnVlO1xuICAgICAgY2hhck9mZnNldCA9IGNoYXJPZmZzZXQgfHwgMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB3b3JkLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBib3ggPSB0aGlzLl9nZXRHcmFwaGVtZUJveCh3b3JkW2ldLCBsaW5lSW5kZXgsIGkgKyBjaGFyT2Zmc2V0LCBwcmV2R3JhcGhlbWUsIHNraXBMZWZ0KTtcbiAgICAgICAgd2lkdGggKz0gYm94Lmtlcm5lZFdpZHRoO1xuICAgICAgICBwcmV2R3JhcGhlbWUgPSB3b3JkW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXcmFwcyBhIGxpbmUgb2YgdGV4dCB1c2luZyB0aGUgd2lkdGggb2YgdGhlIFRleHRib3ggYW5kIGEgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaW5lIFRoZSBncmFwaGVtZSBhcnJheSB0aGF0IHJlcHJlc2VudCB0aGUgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVzaXJlZFdpZHRoIHdpZHRoIHlvdSB3YW50IHRvIHdyYXAgdGhlIGxpbmUgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzZXJ2ZWRTcGFjZSBzcGFjZSB0byByZW1vdmUgZnJvbSB3cmFwcGluZyBmb3IgY3VzdG9tIGZ1bmN0aW9uYWxpdGllc1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgbGluZShzKSBpbnRvIHdoaWNoIHRoZSBnaXZlbiB0ZXh0IGlzIHdyYXBwZWRcbiAgICAgKiB0by5cbiAgICAgKi9cbiAgICBfd3JhcExpbmU6IGZ1bmN0aW9uKF9saW5lLCBsaW5lSW5kZXgsIGRlc2lyZWRXaWR0aCwgcmVzZXJ2ZWRTcGFjZSkge1xuICAgICAgdmFyIGxpbmVXaWR0aCA9IDAsXG4gICAgICAgICAgc3BsaXRCeUdyYXBoZW1lID0gdGhpcy5zcGxpdEJ5R3JhcGhlbWUsXG4gICAgICAgICAgZ3JhcGhlbWVMaW5lcyA9IFtdLFxuICAgICAgICAgIGxpbmUgPSBbXSxcbiAgICAgICAgICAvLyBzcGFjZXMgaW4gZGlmZmVyZW50IGxhbmd1YWdlcz9cbiAgICAgICAgICB3b3JkcyA9IHNwbGl0QnlHcmFwaGVtZSA/IGZhYnJpYy51dGlsLnN0cmluZy5ncmFwaGVtZVNwbGl0KF9saW5lKSA6IF9saW5lLnNwbGl0KHRoaXMuX3dvcmRKb2luZXJzKSxcbiAgICAgICAgICB3b3JkID0gJycsXG4gICAgICAgICAgb2Zmc2V0ID0gMCxcbiAgICAgICAgICBpbmZpeCA9IHNwbGl0QnlHcmFwaGVtZSA/ICcnIDogJyAnLFxuICAgICAgICAgIHdvcmRXaWR0aCA9IDAsXG4gICAgICAgICAgaW5maXhXaWR0aCA9IDAsXG4gICAgICAgICAgbGFyZ2VzdFdvcmRXaWR0aCA9IDAsXG4gICAgICAgICAgbGluZUp1c3RTdGFydGVkID0gdHJ1ZSxcbiAgICAgICAgICBhZGRpdGlvbmFsU3BhY2UgPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKSxcbiAgICAgICAgICByZXNlcnZlZFNwYWNlID0gcmVzZXJ2ZWRTcGFjZSB8fCAwO1xuICAgICAgLy8gZml4IGEgZGlmZmVyZW5jZSBiZXR3ZWVuIHNwbGl0IGFuZCBncmFwaGVtZVNwbGl0XG4gICAgICBpZiAod29yZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHdvcmRzLnB1c2goW10pO1xuICAgICAgfVxuICAgICAgZGVzaXJlZFdpZHRoIC09IHJlc2VydmVkU3BhY2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGlmIHVzaW5nIHNwbGl0QnlHcmFwaGVtZSB3b3JkcyBhcmUgYWxyZWFkeSBpbiBncmFwaGVtZXMuXG4gICAgICAgIHdvcmQgPSBzcGxpdEJ5R3JhcGhlbWUgPyB3b3Jkc1tpXSA6IGZhYnJpYy51dGlsLnN0cmluZy5ncmFwaGVtZVNwbGl0KHdvcmRzW2ldKTtcbiAgICAgICAgd29yZFdpZHRoID0gdGhpcy5fbWVhc3VyZVdvcmQod29yZCwgbGluZUluZGV4LCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gd29yZC5sZW5ndGg7XG5cbiAgICAgICAgbGluZVdpZHRoICs9IGluZml4V2lkdGggKyB3b3JkV2lkdGggLSBhZGRpdGlvbmFsU3BhY2U7XG4gICAgICAgIGlmIChsaW5lV2lkdGggPiBkZXNpcmVkV2lkdGggJiYgIWxpbmVKdXN0U3RhcnRlZCkge1xuICAgICAgICAgIGdyYXBoZW1lTGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICBsaW5lID0gW107XG4gICAgICAgICAgbGluZVdpZHRoID0gd29yZFdpZHRoO1xuICAgICAgICAgIGxpbmVKdXN0U3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbGluZVdpZHRoICs9IGFkZGl0aW9uYWxTcGFjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbGluZUp1c3RTdGFydGVkICYmICFzcGxpdEJ5R3JhcGhlbWUpIHtcbiAgICAgICAgICBsaW5lLnB1c2goaW5maXgpO1xuICAgICAgICB9XG4gICAgICAgIGxpbmUgPSBsaW5lLmNvbmNhdCh3b3JkKTtcblxuICAgICAgICBpbmZpeFdpZHRoID0gc3BsaXRCeUdyYXBoZW1lID8gMCA6IHRoaXMuX21lYXN1cmVXb3JkKFtpbmZpeF0sIGxpbmVJbmRleCwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIGxpbmVKdXN0U3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIGxhcmdlc3Qgd29yZFxuICAgICAgICBpZiAod29yZFdpZHRoID4gbGFyZ2VzdFdvcmRXaWR0aCkge1xuICAgICAgICAgIGxhcmdlc3RXb3JkV2lkdGggPSB3b3JkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaSAmJiBncmFwaGVtZUxpbmVzLnB1c2gobGluZSk7XG5cbiAgICAgIGlmIChsYXJnZXN0V29yZFdpZHRoICsgcmVzZXJ2ZWRTcGFjZSA+IHRoaXMuZHluYW1pY01pbldpZHRoKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY01pbldpZHRoID0gbGFyZ2VzdFdvcmRXaWR0aCAtIGFkZGl0aW9uYWxTcGFjZSArIHJlc2VydmVkU3BhY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JhcGhlbWVMaW5lcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIHRoZSB0ZXh0IGxpbmUgaXMgZW5kZWQgd2l0aCBhbiBoYXJkIGJyZWFrXG4gICAgICogdGV4dCBhbmQgaXRleHQgZG8gbm90IGhhdmUgd3JhcHBpbmcsIHJldHVybiBmYWxzZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggdGV4dCB0byBzcGxpdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNFbmRPZldyYXBwaW5nOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICghdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4ICsgMV0pIHtcbiAgICAgICAgLy8gaXMgbGFzdCBsaW5lLCByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fc3R5bGVNYXBbbGluZUluZGV4ICsgMV0ubGluZSAhPT0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XS5saW5lKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbGFzdCBsaW5lIGJlZm9yZSBhIGxpbmUgYnJlYWssIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIGEgbGluZSBoYXMgYSBsaW5lYnJlYWsgYW5kIHNvIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgaXQgd2hlbiBtb3ZpbmdcbiAgICAgKiBhbmQgY291bnRpbmcgc3R5bGUuXG4gICAgICogQHJldHVybiBOdW1iZXJcbiAgICAgKi9cbiAgICBtaXNzaW5nTmV3bGluZU9mZnNldDogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBpZiAodGhpcy5zcGxpdEJ5R3JhcGhlbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbmRPZldyYXBwaW5nKGxpbmVJbmRleCkgPyAxIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAqIEdldHMgbGluZXMgb2YgdGV4dCB0byByZW5kZXIgaW4gdGhlIFRleHRib3guIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlc1xuICAgICogdGV4dCB3cmFwcGluZyBvbiB0aGUgZmx5IGV2ZXJ5IHRpbWUgaXQgaXMgY2FsbGVkLlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGV4dCB0byBzcGxpdFxuICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBsaW5lcyBpbiB0aGUgVGV4dGJveC5cbiAgICAqIEBvdmVycmlkZVxuICAgICovXG4gICAgX3NwbGl0VGV4dEludG9MaW5lczogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdmFyIG5ld1RleHQgPSBmYWJyaWMuVGV4dC5wcm90b3R5cGUuX3NwbGl0VGV4dEludG9MaW5lcy5jYWxsKHRoaXMsIHRleHQpLFxuICAgICAgICAgIGdyYXBoZW1lTGluZXMgPSB0aGlzLl93cmFwVGV4dChuZXdUZXh0LmxpbmVzLCB0aGlzLndpZHRoKSxcbiAgICAgICAgICBsaW5lcyA9IG5ldyBBcnJheShncmFwaGVtZUxpbmVzLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoZW1lTGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGluZXNbaV0gPSBncmFwaGVtZUxpbmVzW2ldLmpvaW4oJycpO1xuICAgICAgfVxuICAgICAgbmV3VGV4dC5saW5lcyA9IGxpbmVzO1xuICAgICAgbmV3VGV4dC5ncmFwaGVtZUxpbmVzID0gZ3JhcGhlbWVMaW5lcztcbiAgICAgIHJldHVybiBuZXdUZXh0O1xuICAgIH0sXG5cbiAgICBnZXRNaW5XaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5taW5XaWR0aCwgdGhpcy5keW5hbWljTWluV2lkdGgpO1xuICAgIH0sXG5cbiAgICBfcmVtb3ZlRXh0cmFuZW91c1N0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGluZXNUb0tlZXAgPSB7fTtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5fc3R5bGVNYXApIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHRMaW5lc1twcm9wXSkge1xuICAgICAgICAgIGxpbmVzVG9LZWVwW3RoaXMuX3N0eWxlTWFwW3Byb3BdLmxpbmVdID0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGlzLnN0eWxlcykge1xuICAgICAgICBpZiAoIWxpbmVzVG9LZWVwW3Byb3BdKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQG1ldGhvZCB0b09iamVjdFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgWydtaW5XaWR0aCcsICdzcGxpdEJ5R3JhcGhlbWUnXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSkpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLlRleHRib3ggaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRib3hcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuVGV4dGJveCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuVGV4dGJveC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBzdHlsZXMgPSBmYWJyaWMudXRpbC5zdHlsZXNGcm9tQXJyYXkob2JqZWN0LnN0eWxlcywgb2JqZWN0LnRleHQpO1xuICAgIC8vY29weSBvYmplY3QgdG8gcHJldmVudCBtdXRhdGlvblxuICAgIHZhciBvYmpDb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0LCB7IHN0eWxlczogc3R5bGVzIH0pO1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdUZXh0Ym94Jywgb2JqQ29weSwgY2FsbGJhY2ssICd0ZXh0Jyk7XG4gIH07XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjb250cm9sc1V0aWxzID0gZmFicmljLmNvbnRyb2xzVXRpbHMsXG4gICAgICBzY2FsZVNrZXdTdHlsZUhhbmRsZXIgPSBjb250cm9sc1V0aWxzLnNjYWxlU2tld0N1cnNvclN0eWxlSGFuZGxlcixcbiAgICAgIHNjYWxlU3R5bGVIYW5kbGVyID0gY29udHJvbHNVdGlscy5zY2FsZUN1cnNvclN0eWxlSGFuZGxlcixcbiAgICAgIHNjYWxpbmdFcXVhbGx5ID0gY29udHJvbHNVdGlscy5zY2FsaW5nRXF1YWxseSxcbiAgICAgIHNjYWxpbmdZT3JTa2V3aW5nWCA9IGNvbnRyb2xzVXRpbHMuc2NhbGluZ1lPclNrZXdpbmdYLFxuICAgICAgc2NhbGluZ1hPclNrZXdpbmdZID0gY29udHJvbHNVdGlscy5zY2FsaW5nWE9yU2tld2luZ1ksXG4gICAgICBzY2FsZU9yU2tld0FjdGlvbk5hbWUgPSBjb250cm9sc1V0aWxzLnNjYWxlT3JTa2V3QWN0aW9uTmFtZSxcbiAgICAgIG9iamVjdENvbnRyb2xzID0gZmFicmljLk9iamVjdC5wcm90b3R5cGUuY29udHJvbHM7XG5cbiAgb2JqZWN0Q29udHJvbHMubWwgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgIHg6IC0wLjUsXG4gICAgeTogMCxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU2tld1N0eWxlSGFuZGxlcixcbiAgICBhY3Rpb25IYW5kbGVyOiBzY2FsaW5nWE9yU2tld2luZ1ksXG4gICAgZ2V0QWN0aW9uTmFtZTogc2NhbGVPclNrZXdBY3Rpb25OYW1lLFxuICB9KTtcblxuICBvYmplY3RDb250cm9scy5tciA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgeDogMC41LFxuICAgIHk6IDAsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVNrZXdTdHlsZUhhbmRsZXIsXG4gICAgYWN0aW9uSGFuZGxlcjogc2NhbGluZ1hPclNrZXdpbmdZLFxuICAgIGdldEFjdGlvbk5hbWU6IHNjYWxlT3JTa2V3QWN0aW9uTmFtZSxcbiAgfSk7XG5cbiAgb2JqZWN0Q29udHJvbHMubWIgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgIHg6IDAsXG4gICAgeTogMC41LFxuICAgIGN1cnNvclN0eWxlSGFuZGxlcjogc2NhbGVTa2V3U3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdZT3JTa2V3aW5nWCxcbiAgICBnZXRBY3Rpb25OYW1lOiBzY2FsZU9yU2tld0FjdGlvbk5hbWUsXG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLm10ID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLFxuICAgIHk6IC0wLjUsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVNrZXdTdHlsZUhhbmRsZXIsXG4gICAgYWN0aW9uSGFuZGxlcjogc2NhbGluZ1lPclNrZXdpbmdYLFxuICAgIGdldEFjdGlvbk5hbWU6IHNjYWxlT3JTa2V3QWN0aW9uTmFtZSxcbiAgfSk7XG5cbiAgb2JqZWN0Q29udHJvbHMudGwgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgIHg6IC0wLjUsXG4gICAgeTogLTAuNSxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdFcXVhbGx5XG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLnRyID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLjUsXG4gICAgeTogLTAuNSxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdFcXVhbGx5XG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLmJsID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAtMC41LFxuICAgIHk6IDAuNSxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdFcXVhbGx5XG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLmJyID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLjUsXG4gICAgeTogMC41LFxuICAgIGN1cnNvclN0eWxlSGFuZGxlcjogc2NhbGVTdHlsZUhhbmRsZXIsXG4gICAgYWN0aW9uSGFuZGxlcjogc2NhbGluZ0VxdWFsbHlcbiAgfSk7XG5cbiAgb2JqZWN0Q29udHJvbHMubXRyID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLFxuICAgIHk6IC0wLjUsXG4gICAgYWN0aW9uSGFuZGxlcjogY29udHJvbHNVdGlscy5yb3RhdGlvbldpdGhTbmFwcGluZyxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IGNvbnRyb2xzVXRpbHMucm90YXRpb25TdHlsZUhhbmRsZXIsXG4gICAgb2Zmc2V0WTogLTQwLFxuICAgIHdpdGhDb25uZWN0aW9uOiB0cnVlLFxuICAgIGFjdGlvbk5hbWU6ICdyb3RhdGUnLFxuICB9KTtcblxuICBpZiAoZmFicmljLlRleHRib3gpIHtcbiAgICAvLyB0aGlzIGlzIGJyZWFraW5nIHRoZSBwcm90b3R5cGUgaW5oZXJpdGFuY2UsIG5vIHRpbWUgLyBpZGVhcyB0byBmaXggaXQuXG4gICAgLy8gaXMgaW1wb3J0YW50IHRvIGRvY3VtZW50IHRoYXQgaWYgeW91IHdhbnQgdG8gaGF2ZSBhbGwgb2JqZWN0cyB0byBoYXZlIGFcbiAgICAvLyBzcGVjaWZpYyBjdXN0b20gY29udHJvbCwgeW91IGhhdmUgdG8gYWRkIGl0IHRvIE9iamVjdCBwcm90b3R5cGUgYW5kIHRvIFRleHRib3hcbiAgICAvLyBwcm90b3R5cGUuIFRoZSBjb250cm9scyBhcmUgc2hhcmVkIGFzIHJlZmVyZW5jZXMuIFNvIGNoYW5nZXMgdG8gY29udHJvbCBgdHJgXG4gICAgLy8gY2FuIHN0aWxsIGFwcGx5IHRvIGFsbCBvYmplY3RzIGlmIG5lZWRlZC5cbiAgICB2YXIgdGV4dEJveENvbnRyb2xzID0gZmFicmljLlRleHRib3gucHJvdG90eXBlLmNvbnRyb2xzID0geyB9O1xuXG4gICAgdGV4dEJveENvbnRyb2xzLm10ciA9IG9iamVjdENvbnRyb2xzLm10cjtcbiAgICB0ZXh0Qm94Q29udHJvbHMudHIgPSBvYmplY3RDb250cm9scy50cjtcbiAgICB0ZXh0Qm94Q29udHJvbHMuYnIgPSBvYmplY3RDb250cm9scy5icjtcbiAgICB0ZXh0Qm94Q29udHJvbHMudGwgPSBvYmplY3RDb250cm9scy50bDtcbiAgICB0ZXh0Qm94Q29udHJvbHMuYmwgPSBvYmplY3RDb250cm9scy5ibDtcbiAgICB0ZXh0Qm94Q29udHJvbHMubXQgPSBvYmplY3RDb250cm9scy5tdDtcbiAgICB0ZXh0Qm94Q29udHJvbHMubWIgPSBvYmplY3RDb250cm9scy5tYjtcblxuICAgIHRleHRCb3hDb250cm9scy5tciA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgICB4OiAwLjUsXG4gICAgICB5OiAwLFxuICAgICAgYWN0aW9uSGFuZGxlcjogY29udHJvbHNVdGlscy5jaGFuZ2VXaWR0aCxcbiAgICAgIGN1cnNvclN0eWxlSGFuZGxlcjogc2NhbGVTa2V3U3R5bGVIYW5kbGVyLFxuICAgICAgYWN0aW9uTmFtZTogJ3Jlc2l6aW5nJyxcbiAgICB9KTtcblxuICAgIHRleHRCb3hDb250cm9scy5tbCA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgICB4OiAtMC41LFxuICAgICAgeTogMCxcbiAgICAgIGFjdGlvbkhhbmRsZXI6IGNvbnRyb2xzVXRpbHMuY2hhbmdlV2lkdGgsXG4gICAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU2tld1N0eWxlSGFuZGxlcixcbiAgICAgIGFjdGlvbk5hbWU6ICdyZXNpemluZycsXG4gICAgfSk7XG4gIH1cbn0pKCk7XG5cbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuc2Nzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLnNjc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xyXG5cclxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xyXG4gIHZhciByZXN1bHQgPSAtMTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcclxuICAgICAgcmVzdWx0ID0gaTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xyXG4gIHZhciBpZENvdW50TWFwID0ge307XHJcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XHJcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xyXG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XHJcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcclxuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgdmFyIG9iaiA9IHtcclxuICAgICAgY3NzOiBpdGVtWzFdLFxyXG4gICAgICBtZWRpYTogaXRlbVsyXSxcclxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxyXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcclxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xyXG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xyXG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcclxuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcclxuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcclxuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxyXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXHJcbiAgICAgICAgcmVmZXJlbmNlczogMVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XHJcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xyXG4gIGFwaS51cGRhdGUob2JqKTtcclxuXHJcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xyXG4gICAgaWYgKG5ld09iaikge1xyXG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcGkucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHVwZGF0ZXI7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcclxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICBsaXN0ID0gbGlzdCB8fCBbXTtcclxuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xyXG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XHJcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XHJcblxyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcclxuXHJcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XHJcblxyXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XHJcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XHJcblxyXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xyXG4gIH07XHJcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgbWVtbyA9IHt9O1xyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cclxuXHJcbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcclxuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxyXG5cclxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxyXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXHJcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XHJcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xyXG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcclxuXHJcbiAgaWYgKCF0YXJnZXQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XHJcbiAgfVxyXG5cclxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cclxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcclxuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xyXG4gIHJldHVybiBlbGVtZW50O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XHJcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xyXG5cclxuICBpZiAobm9uY2UpIHtcclxuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xyXG4gIHZhciBjc3MgPSBcIlwiO1xyXG5cclxuICBpZiAob2JqLnN1cHBvcnRzKSB7XHJcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xyXG4gIH1cclxuXHJcbiAgaWYgKG9iai5tZWRpYSkge1xyXG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XHJcbiAgfVxyXG5cclxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcclxuXHJcbiAgaWYgKG5lZWRMYXllcikge1xyXG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xyXG4gIH1cclxuXHJcbiAgY3NzICs9IG9iai5jc3M7XHJcblxyXG4gIGlmIChuZWVkTGF5ZXIpIHtcclxuICAgIGNzcyArPSBcIn1cIjtcclxuICB9XHJcblxyXG4gIGlmIChvYmoubWVkaWEpIHtcclxuICAgIGNzcyArPSBcIn1cIjtcclxuICB9XHJcblxyXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcclxuICAgIGNzcyArPSBcIn1cIjtcclxuICB9XHJcblxyXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcclxuICB9IC8vIEZvciBvbGQgSUVcclxuXHJcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xyXG5cclxuXHJcbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxyXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cclxuXHJcblxyXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xyXG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuICByZXR1cm4ge1xyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XHJcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cclxuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcclxuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImltcG9ydCB7IGZhYnJpYyB9IGZyb20gXCJmYWJyaWNcIjtcclxuaW1wb3J0IFwiLi9hc3NldHMvc2Nzcy9zdHlsZS5zY3NzXCI7XHJcblxyXG5jb25zdCBiYXNlX3VybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL1wiO1xyXG5cclxuaW1wb3J0IGltZ0JvZHkgZnJvbSBcIi4vYXNzZXRzL2ltYWdlcy9ib2R5LnBuZ1wiO1xyXG5pbXBvcnQgaW1nRnJhbWUgZnJvbSBcIi4vYXNzZXRzL2ltYWdlcy9mcmFtZS5wbmdcIjtcclxuaW1wb3J0IGltZ1NhbXBsZTEgZnJvbSBcIi4vYXNzZXRzL2ltYWdlcy9zYW1wbGUxLmpwZ1wiO1xyXG5pbXBvcnQgaW1nU2FtcGxlMiBmcm9tIFwiLi9hc3NldHMvaW1hZ2VzL3NhbXBsZTIucG5nXCI7XHJcblxyXG5jb25zdCBDb3ZlciA9IHtcclxuXHR3aWR0aDogMjYwLFxyXG5cdGhlaWdodDogNTUwLFxyXG59O1xyXG5cclxuY29uc3QgaW5pdENhbnZhcyA9IChpZCwgdHlwZSkgPT4ge1xyXG5cdGlmICh0eXBlID09IFwibm9ybWFsX2NhbnZhc1wiKSB7XHJcblx0XHRyZXR1cm4gbmV3IGZhYnJpYy5DYW52YXMoaWQsIHtcclxuXHRcdFx0d2lkdGg6IENvdmVyLndpZHRoLFxyXG5cdFx0XHRoZWlnaHQ6IENvdmVyLmhlaWdodCxcclxuXHRcdH0pO1xyXG5cdH0gZWxzZSBpZiAodHlwZSA9PSBcInN0YXRpY19jYW52YXNcIikge1xyXG5cdFx0cmV0dXJuIG5ldyBmYWJyaWMuU3RhdGljQ2FudmFzKGlkLCB7XHJcblx0XHRcdHdpZHRoOiBDb3Zlci53aWR0aCxcclxuXHRcdFx0aGVpZ2h0OiBDb3Zlci5oZWlnaHQsXHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBzZXRCYWNrZ3JvdW5kID0gKHVybCwgY2FudmFzKSA9PiB7XHJcblx0ZmFicmljLkltYWdlLmZyb21VUkwodXJsLCAoaW1nKSA9PiB7XHJcblx0XHRpbWcuc2V0KHtcclxuXHRcdFx0bGVmdDogMCxcclxuXHRcdFx0dG9wOiAwLFxyXG5cdFx0XHRzZWxlY3RhYmxlOiBmYWxzZSxcclxuXHRcdFx0ZXZlbnRlZDogZmFsc2UsXHJcblx0XHR9KTtcclxuXHRcdGNhbnZhcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoaW1nKTtcclxuXHRcdGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHNldEJhY2tnb3J1bmQyID0gKHVybCwgY2FudmFzLCBwcm9wcykgPT4ge1xyXG5cdGZhYnJpYy5JbWFnZS5mcm9tVVJMKHVybCwgKGltZykgPT4ge1xyXG5cdFx0aW1nLnNldCh7XHJcblx0XHRcdHRvcDogcHJvcHMudG9wLFxyXG5cdFx0XHRsZWZ0OiBwcm9wcy5sZWZ0LFxyXG5cdFx0XHRzZWxlY3RhYmxlOiBmYWxzZSxcclxuXHRcdFx0ZXZlbnRlZDogZmFsc2UsXHJcblx0XHR9KTtcclxuXHRcdGltZy5zY2FsZVRvV2lkdGgocHJvcHMud2lkdGgpO1xyXG5cdFx0aW1nLnNjYWxlVG9IZWlnaHQocHJvcHMuaGVpZ2h0KTtcclxuXHRcdGNhbnZhcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoaW1nKTtcclxuXHRcdGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGFkZFRleHRCb3ggPSAodGV4dCwgY2FudmFzKSA9PiB7XHJcblx0Y29uc3QgdGV4dE9iaiA9IG5ldyBmYWJyaWMuVGV4dGJveCh0ZXh0LCB7XHJcblx0XHRmb250U2l6ZTogMjQsXHJcblx0XHRsZWZ0OiA1MCxcclxuXHRcdHRvcDogNTAsXHJcblx0XHR3aWR0aDogMTUwLFxyXG5cdH0pO1xyXG5cdGNhbnZhcy5hZGQodGV4dE9iaik7XHJcbn07XHJcblxyXG5jb25zdCBhZGROZXdJbWFnZSA9ICh1cmwsIGNhbnZhcykgPT4ge1xyXG5cdGZhYnJpYy5JbWFnZS5mcm9tVVJMKHVybCwgKGltZykgPT4ge1xyXG5cdFx0aW1nLnNldCh7XHJcblx0XHRcdGxlZnQ6IDUwLFxyXG5cdFx0XHR0b3A6IDUwLFxyXG5cdFx0fSk7XHJcblx0XHRpbWcuc2NhbGVUb1dpZHRoKDEwMCk7XHJcblx0XHRpbWcuc2NhbGVUb0hlaWdodCgxMDApO1xyXG5cdFx0Y2FudmFzLmFkZChpbWcpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuLy9jYW52YXMgaW5pdFxyXG5jb25zdCBjYW52YXMgPSBpbml0Q2FudmFzKFwiYm9keV9jYW52YXNcIiwgXCJub3JtYWxfY2FudmFzXCIpO1xyXG5jb25zdCBmcmFtZUNhbnZhcyA9IGluaXRDYW52YXMoXCJmcmFtZV9jYW52YXNcIiwgXCJzdGF0aWNfY2FudmFzXCIpO1xyXG5zZXRCYWNrZ3JvdW5kKGltZ0JvZHksIGNhbnZhcyk7XHJcbmNvbnN0IGZyYW1lUHJvcHMgPSB7IGxlZnQ6IDIwLCB0b3A6IDIwLCB3aWR0aDogMTUwLCBoZWlnaHQ6IDE1MCB9O1xyXG5zZXRCYWNrZ29ydW5kMihpbWdGcmFtZSwgZnJhbWVDYW52YXMsIGZyYW1lUHJvcHMpO1xyXG5cclxuLy9jb21tYW5kc1xyXG53aW5kb3cuY21kQWRkVGV4dCA9ICgpID0+IHtcclxuXHRhZGRUZXh0Qm94KFwiVHlwZSBIZXJlXCIsIGNhbnZhcyk7XHJcbn07XHJcblxyXG53aW5kb3cuY21kQWRkSW1hZ2UgPSAoKSA9PiB7XHJcblx0YWRkTmV3SW1hZ2UoaW1nU2FtcGxlMSwgY2FudmFzKTtcclxufTtcclxuXHJcbmNvbnN0IGJ0bl9nZW5lcmF0ZV9jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bl9nZW5lcmF0ZV9jYW52YXNcIik7XHJcbmJ0bl9nZW5lcmF0ZV9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcImNsaWNrXCIsXHJcblx0ZnVuY3Rpb24gKGUpIHtcclxuXHRcdHRoaXMuaHJlZiA9IGNhbnZhcy50b0RhdGFVUkwoe1xyXG5cdFx0XHRmb3JtYXQ6IFwicG5nXCIsXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmRvd25sb2FkID0gXCJjYW52YXMucG5nXCI7XHJcblx0fSxcclxuXHRmYWxzZVxyXG4pO1xyXG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJzb3VyY2VVUkxzIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiZ2xvYmFsIiwic3FydCIsImF0YW4yIiwicG93IiwiUGlCeTE4MCIsIlBpQnkyIiwiX2pvaW4iLCJjb21tYW5kTGVuZ3RocyIsInJlcGVhdGVkQ29tbWFuZHMiLCJzbGljZSIsIklTX0RPTlRFTlVNX0JVR0dZIiwiY291bGRVc2VBdHRhY2hFdmVudCIsInRvdWNoRXZlbnRzIiwic3VwcG9ydHNPcGFjaXR5IiwicmVPcGFjaXR5Iiwic2V0T3BhY2l0eSIsImV4dGVuZCIsImNsb25lIiwiX3JlcXVlc3RBbmltRnJhbWUiLCJfY2FuY2VsQW5pbUZyYW1lIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImFkZEV2ZW50T3B0aW9ucyIsIm1pbiIsIm1heCIsImRlZ3JlZXNUb1JhZGlhbnMiLCJvcmlnaW5YT2Zmc2V0Iiwib3JpZ2luWU9mZnNldCIsInV0aWwiLCJtdWx0aXBseU1hdHJpY2VzIiwidHJhbnNmb3JtUG9pbnQiLCJ0b0ZpeGVkIiwib3JpZ2luYWxTZXQiLCJtdWx0aXBsZVNwYWNlc1JlZ2V4Iiwic2NhbGVTa2V3U3R5bGVIYW5kbGVyIiwic2NhbGVTdHlsZUhhbmRsZXIiLCJzY2FsaW5nRXF1YWxseSIsInNjYWxpbmdZT3JTa2V3aW5nWCIsInNjYWxpbmdYT3JTa2V3aW5nWSIsInNjYWxlT3JTa2V3QWN0aW9uTmFtZSIsIm9iamVjdENvbnRyb2xzIiwiZmFicmljIiwidmVyc2lvbiIsIl9yZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsIl9fZXZlbnRMaXN0ZW5lcnMiLCJldmVudExpc3RlbmVyIiwiaW5kZXhPZiIsImFycmF5IiwiZmlsbCIsIl9vbmNlIiwiX2hhbmRsZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsIm9mZiIsImJpbmQiLCJvbiIsImFyY1RvU2VnbWVudHMiLCJ0b1giLCJ0b1kiLCJyeCIsInJ5IiwibGFyZ2UiLCJzd2VlcCIsInJvdGF0ZVgiLCJ0aDIiLCJ0aDMiLCJjb3NUaCIsInNpblRoIiwiY3gxIiwiY3kxIiwibVQiLCJmcm9tWCIsImZyb21ZIiwiY29zdGgyIiwiY29zdGgzIiwiUEkiLCJNYXRoIiwidGgiLCJzaW4iLCJjb3MiLCJweCIsInB5IiwicngyIiwiYWJzIiwicnkyIiwicHkyIiwicHgyIiwicGwiLCJyb290IiwiY3giLCJzIiwiY3kiLCJtVGhldGEiLCJjYWxjVmVjdG9yQW5nbGUiLCJkdGhldGEiLCJzZWdtZW50cyIsImNlaWwiLCJyZXN1bHQiLCJtRGVsdGEiLCJzaW50aDIiLCJzaW50aDMiLCJ1eCIsInV5IiwidngiLCJ2eSIsInRhIiwidGIiLCJjYWxjTGluZUxlbmd0aCIsIngxIiwieTEiLCJ4MiIsInkyIiwicGF0aEl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJwIiwidGVtcFAiLCJ4IiwieSIsInRtcExlbiIsInBlcmMiLCJmaW5kUGVyY2VudGFnZUZvckRpc3RhbmNlIiwic2VnSW5mbyIsImRpc3RhbmNlIiwibmV4dExlbiIsImxhc3RQZXJjIiwibmV4dFN0ZXAiLCJhbmdsZUZpbmRlciIsImFuZ2xlIiwiZ2V0UGF0aFNlZ21lbnRzSW5mbyIsInBhdGgiLCJjdXJyZW50IiwidGVtcEluZm8iLCJ0b3RhbExlbmd0aCIsImxlbiIsImluZm8iLCJjb21tYW5kIiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwicDN4IiwicDN5IiwicDR4IiwicDR5IiwicGN0IiwiYzEiLCJjMiIsImMzIiwiYzQiLCJpbnZUIiwiZGVzdFgiLCJkZXN0WSIsImZpbmQiLCJieVByb3BlcnR5IiwiY29uZGl0aW9uIiwiZGVzdGluYXRpb24iLCJkZWVwIiwiaXNMaWtlbHlOb2RlIiwiRWxlbWVudCIsIkFycmF5IiwicHJvcGVydHkiLCJoYXNPd25Qcm9wZXJ0eSIsImVtcHR5RnVuY3Rpb24iLCJTdWJjbGFzcyIsImNhbGxTdXBlciIsIm1ldGhvZE5hbWUiLCJwYXJlbnRNZXRob2QiLCJfdGhpcyIsImNvbnN0cnVjdG9yIiwic3VwZXJjbGFzcyIsInN1cGVyQ2xhc3NNZXRob2QiLCJwcm90b3R5cGUiLCJjYWxsIiwiY29uc29sZSIsImxvZyIsImRvY3VtZW50Iiwid2luZG93IiwiSFRNTERvY3VtZW50IiwiRG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUhUTUxEb2N1bWVudCIsInZpcnR1YWxXaW5kb3ciLCJKU0RPTSIsImRlY29kZVVSSUNvbXBvbmVudCIsImZlYXR1cmVzIiwiRmV0Y2hFeHRlcm5hbFJlc291cmNlcyIsInJlc291cmNlcyIsImpzZG9tSW1wbEZvcldyYXBwZXIiLCJub2RlQ2FudmFzIiwiRE9NUGFyc2VyIiwiaXNUb3VjaFN1cHBvcnRlZCIsIm5hdmlnYXRvciIsIm1heFRvdWNoUG9pbnRzIiwiQnVmZmVyIiwiU0hBUkVEX0FUVFJJQlVURVMiLCJEUEkiLCJyZU51bSIsImNvbW1hV3NwIiwicmVQYXRoQ29tbWFuZCIsInJlTm9uV29yZCIsImZvbnRQYXRocyIsImlNYXRyaXgiLCJzdmdOUyIsInBlcmZMaW1pdFNpemVUb3RhbCIsIm1heENhY2hlU2lkZUxpbWl0IiwibWluQ2FjaGVTaWRlTGltaXQiLCJjaGFyV2lkdGhzQ2FjaGUiLCJ0ZXh0dXJlU2l6ZSIsImRpc2FibGVTdHlsZUNvcHlQYXN0ZSIsImVuYWJsZUdMRmlsdGVyaW5nIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndlYmtpdERldmljZVBpeGVsUmF0aW8iLCJtb3pEZXZpY2VQaXhlbFJhdGlvIiwiYnJvd3NlclNoYWRvd0JsdXJDb25zdGFudCIsImFyY1RvU2VnbWVudHNDYWNoZSIsImJvdW5kc09mQ3VydmVDYWNoZSIsImNhY2hlc0JvdW5kc09mQ3VydmUiLCJmb3JjZUdMUHV0SW1hZ2VEYXRhIiwiaW5pdEZpbHRlckJhY2tlbmQiLCJpc1dlYmdsU3VwcG9ydGVkIiwibWF4VGV4dHVyZVNpemUiLCJXZWJnbEZpbHRlckJhY2tlbmQiLCJ0aWxlU2l6ZSIsIkNhbnZhczJkRmlsdGVyQmFja2VuZCIsIk9ic2VydmFibGUiLCJmaXJlIiwib3B0aW9ucyIsImxpc3RlbmVyc0ZvckV2ZW50IiwiZmlsdGVyIiwidmFsdWUiLCJwcm9wIiwib25jZSIsIkNvbGxlY3Rpb24iLCJfb2JqZWN0cyIsImFkZCIsIl9vbk9iamVjdEFkZGVkIiwicmVuZGVyT25BZGRSZW1vdmUiLCJyZXF1ZXN0UmVuZGVyQWxsIiwiaW5zZXJ0QXQiLCJvYmplY3QiLCJpbmRleCIsIm5vblNwbGljaW5nIiwib2JqZWN0cyIsInNwbGljZSIsInJlbW92ZSIsInNvbWV0aGluZ1JlbW92ZWQiLCJfb25PYmplY3RSZW1vdmVkIiwiZm9yRWFjaE9iamVjdCIsImNhbGxiYWNrIiwiY29udGV4dCIsImdldE9iamVjdHMiLCJ0eXBlIiwibyIsImlzRW1wdHkiLCJzaXplIiwiY29udGFpbnMiLCJzb21lIiwib2JqIiwiY29tcGxleGl0eSIsInJlZHVjZSIsIm1lbW8iLCJDb21tb25NZXRob2RzIiwiX3NldE9wdGlvbnMiLCJzZXQiLCJfaW5pdEdyYWRpZW50IiwiZmlsbGVyIiwiY29sb3JTdG9wcyIsIkdyYWRpZW50IiwiX2luaXRQYXR0ZXJuIiwiUGF0dGVybiIsIl9zZXRPYmplY3QiLCJfc2V0Iiwia2V5IiwidG9nZ2xlIiwiZ2V0Iiwic2lnbiIsInJlbW92ZUZyb21BcnJheSIsImlkeCIsImdldFJhbmRvbUludCIsImZsb29yIiwicmFuZG9tIiwiZGVncmVlcyIsInJhZGlhbnNUb0RlZ3JlZXMiLCJyYWRpYW5zIiwicm90YXRlUG9pbnQiLCJwb2ludCIsIm9yaWdpbiIsIm5ld1BvaW50IiwiUG9pbnQiLCJ2Iiwicm90YXRlVmVjdG9yIiwiYWRkRXF1YWxzIiwidmVjdG9yIiwiY3JlYXRlVmVjdG9yIiwiZnJvbSIsInRvIiwiY2FsY0FuZ2xlQmV0d2VlblZlY3RvcnMiLCJhIiwiYiIsImFjb3MiLCJoeXBvdCIsImdldEhhdFZlY3RvciIsIm11bHRpcGx5IiwiZ2V0QmlzZWN0b3IiLCJBIiwiQiIsIkMiLCJBQiIsIkFDIiwiYWxwaGEiLCJybyIsInByb2plY3RTdHJva2VPblBvaW50cyIsInBvaW50cyIsIm9wZW5QYXRoIiwiZ2V0U3Ryb2tlSGF0VmVjdG9yIiwic2NhbGFyIiwic3Ryb2tlVW5pZm9ybVNjYWxhciIsImNvb3JkcyIsInN0cm9rZVdpZHRoIiwic3Ryb2tlVW5pZm9ybSIsInNjYWxlWCIsInNjYWxlWSIsImZvckVhY2giLCJtaXRlclZlY3RvciIsImJpc2VjdG9yIiwiYmlzZWN0b3JWZWN0b3IiLCJzdHJva2VMaW5lSm9pbiIsInN0cm9rZU1pdGVyTGltaXQiLCJTUVJUMiIsInN1YnRyYWN0IiwidCIsImlnbm9yZU9mZnNldCIsIm1ha2VCb3VuZGluZ0JveEZyb21Qb2ludHMiLCJ0cmFuc2Zvcm0iLCJ4UG9pbnRzIiwibWluWCIsIndpZHRoIiwieVBvaW50cyIsIm1pblkiLCJsZWZ0IiwidG9wIiwiaGVpZ2h0IiwiaW52ZXJ0VHJhbnNmb3JtIiwiciIsIm51bWJlciIsImZyYWN0aW9uRGlnaXRzIiwicGFyc2VGbG9hdCIsIk51bWJlciIsInBhcnNlVW5pdCIsImZvbnRTaXplIiwidW5pdCIsImV4ZWMiLCJUZXh0IiwiREVGQVVMVF9TVkdfRk9OVF9TSVpFIiwiZmFsc2VGdW5jdGlvbiIsImdldEtsYXNzIiwibmFtZXNwYWNlIiwic3RyaW5nIiwiY2FtZWxpemUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInJlc29sdmVOYW1lc3BhY2UiLCJnZXRTdmdBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInBhcnRzIiwic3BsaXQiLCJsb2FkSW1hZ2UiLCJ1cmwiLCJjcm9zc09yaWdpbiIsImltZyIsIm9uTG9hZENhbGxiYWNrIiwiY3JlYXRlSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwic3JjIiwic3Vic3RyaW5nIiwibG9hZEltYWdlSW5Eb20iLCJkaXYiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJwb3NpdGlvbiIsImFwcGVuZENoaWxkIiwicXVlcnlTZWxlY3RvciIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImVubGl2ZW5PYmplY3RzIiwicmV2aXZlciIsImVubGl2ZW5lZE9iamVjdHMiLCJudW1Mb2FkZWRPYmplY3RzIiwibnVtVG90YWxPYmplY3RzIiwib25Mb2FkZWQiLCJmcm9tT2JqZWN0IiwiZXJyb3IiLCJlbmxpdmVuT2JqZWN0RW5saXZhYmxlcyIsImVubGl2ZW5Qcm9wcyIsIk9iamVjdCIsIkVOTElWRU5fUFJPUFMiLCJlbmxpdmVkUHJvcHMiLCJlbmxpdmVuUGF0dGVybnMiLCJwYXR0ZXJucyIsIm51bUxvYWRlZFBhdHRlcm5zIiwibnVtUGF0dGVybnMiLCJlbmxpdmVuZWRQYXR0ZXJucyIsInBhdHRlcm4iLCJncm91cFNWR0VsZW1lbnRzIiwiZWxlbWVudHMiLCJzb3VyY2VQYXRoIiwiY2VudGVyUG9pbnQiLCJHcm91cCIsInBvcHVsYXRlV2l0aFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwiaXNBcnJheSIsImNyZWF0ZUNhbnZhc0VsZW1lbnQiLCJjb3B5Q2FudmFzRWxlbWVudCIsImNhbnZhcyIsIm5ld0NhbnZhcyIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJ0b0RhdGFVUkwiLCJjYW52YXNFbCIsImZvcm1hdCIsInF1YWxpdHkiLCJtdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzIiwiaXMyeDIiLCJxckRlY29tcG9zZSIsImRlbm9tIiwic2tld1giLCJza2V3WSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwiY2FsY1JvdGF0ZU1hdHJpeCIsInRoZXRhIiwiY2FsY0RpbWVuc2lvbnNNYXRyaXgiLCJzY2FsZU1hdHJpeCIsImZsaXBYIiwiZmxpcFkiLCJ0YW4iLCJjb21wb3NlTWF0cml4IiwibWF0cml4IiwicmVzZXRPYmplY3RUcmFuc2Zvcm0iLCJ0YXJnZXQiLCJyb3RhdGUiLCJzYXZlT2JqZWN0VHJhbnNmb3JtIiwiaXNUcmFuc3BhcmVudCIsImN0eCIsInRvbGVyYW5jZSIsIl9pc1RyYW5zcGFyZW50IiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwibCIsInBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsImFsaWduIiwibWVldE9yU2xpY2UiLCJhc3BlY3RSYXRpb0F0dHJzIiwicG9wIiwiYWxpZ25YIiwiYWxpZ25ZIiwiY2xlYXJGYWJyaWNGb250Q2FjaGUiLCJmb250RmFtaWx5IiwidG9Mb3dlckNhc2UiLCJsaW1pdERpbXNCeUFyZWEiLCJhciIsIm1heGltdW1BcmVhIiwicm91Z2hXaWR0aCIsInBlcmZMaW1pdFNpemVZIiwiY2FwVmFsdWUiLCJmaW5kU2NhbGVUb0ZpdCIsImZpbmRTY2FsZVRvQ292ZXIiLCJtYXRyaXhUb1NWRyIsIk5VTV9GUkFDVElPTl9ESUdJVFMiLCJyZW1vdmVUcmFuc2Zvcm1Gcm9tT2JqZWN0IiwiaW52ZXJ0ZWQiLCJmaW5hbFRyYW5zZm9ybSIsImNhbGNPd25NYXRyaXgiLCJhcHBseVRyYW5zZm9ybVRvT2JqZWN0IiwiYWRkVHJhbnNmb3JtVG9PYmplY3QiLCJjZW50ZXIiLCJzZXRQb3NpdGlvbkJ5T3JpZ2luIiwic2l6ZUFmdGVyVHJhbnNmb3JtIiwiZGltWCIsImRpbVkiLCJ0cmFuc2Zvcm1NYXRyaXgiLCJiYm94IiwibWVyZ2VDbGlwUGF0aHMiLCJjYWxjVHJhbnNmb3JtTWF0cml4IiwiY2xpcFBhdGgiLCJoYXNTdHlsZUNoYW5nZWQiLCJwcmV2U3R5bGUiLCJ0aGlzU3R5bGUiLCJmb3JUZXh0U3BhbnMiLCJzdHJva2UiLCJmb250V2VpZ2h0IiwiZm9udFN0eWxlIiwiZGVsdGFZIiwib3ZlcmxpbmUiLCJ1bmRlcmxpbmUiLCJsaW5ldGhyb3VnaCIsInN0eWxlc1RvQXJyYXkiLCJzdHlsZXMiLCJ0ZXh0IiwidGV4dExpbmVzIiwiY2hhckluZGV4Iiwic3R5bGVzQXJyYXkiLCJjIiwic3RhcnQiLCJlbmQiLCJzdHlsZXNGcm9tQXJyYXkiLCJzdHlsZUluZGV4Iiwic3R5bGVzT2JqZWN0IiwiYXNzaWduIiwibSIsImgiLCJxIiwiTSIsImpvaW5QYXRoIiwicGF0aERhdGEiLCJzZWdtZW50IiwicGFyc2VQYXRoIiwicGF0aFN0cmluZyIsImN1cnJlbnRQYXRoIiwicGFyc2VkIiwibWF0Y2giLCJyZSIsInJOdW1iZXIiLCJyTnVtYmVyQ29tbWFXc3AiLCJyRmxhZ0NvbW1hV3NwIiwicmVnQXJjQXJndW1lbnRTZXF1ZW5jZSIsIlJlZ0V4cCIsImFyZ3MiLCJjb29yZHNTdHIiLCJ0cmltIiwiY29vcmRzUGFyc2VkIiwiaiIsImpsZW4iLCJpc05hTiIsImNvbW1hbmRMZW5ndGgiLCJyZXBlYXRlZENvbW1hbmQiLCJrbGVuIiwibWFrZVBhdGhTaW1wbGVyIiwiY29udmVydGVkIiwicHJldmlvdXMiLCJjb250cm9sWCIsImNvbnRyb2xZIiwiZGVzdGluYXRpb25QYXRoIiwiZngiLCJmeSIsInJvdCIsInNlZ3NOb3JtIiwiZ2V0U21vb3RoUGF0aEZyb21Qb2ludHMiLCJjb3JyZWN0aW9uIiwibWlkUG9pbnQiLCJwMSIsInAyIiwibXVsdFNpZ25YIiwibXVsdFNpZ25ZIiwibWFueVBvaW50cyIsImVxIiwibWlkUG9pbnRGcm9tIiwiZ2V0Qm91bmRzT2ZDdXJ2ZSIsIngwIiwieTAiLCJ4MyIsInkzIiwiYXJnc1N0cmluZyIsInQyIiwic3FydGIyYWMiLCJ0dmFsdWVzIiwiYm91bmRzIiwiYjJhYyIsInQxIiwibXQiLCJnZXRQb2ludE9uUGF0aCIsImluZm9zIiwic2VnUGVyY2VudCIsImxlcnAiLCJ0cmFuc2Zvcm1QYXRoIiwicGF0aE9mZnNldCIsInBhdGhTZWdtZW50IiwibmV3U2VnbWVudCIsImludm9rZSIsIm1ldGhvZCIsInZhbHVlMSIsInZhbHVlMiIsInJlcGxhY2UiLCJjaGFyYWN0ZXIiLCJjYXBpdGFsaXplIiwiZmlyc3RMZXR0ZXJPbmx5IiwiZXNjYXBlWG1sIiwiZ3JhcGhlbWVTcGxpdCIsInRleHRzdHJpbmciLCJjaHIiLCJncmFwaGVtZXMiLCJzdHIiLCJjb2RlIiwiY2hhckNvZGVBdCIsIm5leHQiLCJwcmV2IiwiY3JlYXRlQ2xhc3MiLCJwYXJlbnQiLCJrbGFzcyIsImluaXRpYWxpemUiLCJzaGlmdCIsInN1YmNsYXNzZXMiLCJhZGRNZXRob2RzIiwicmV0dXJuVmFsdWUiLCJ2YWx1ZU9mIiwiYXR0YWNoRXZlbnQiLCJlbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJnZXRQb2ludGVyIiwiZXZlbnQiLCJzY3JvbGwiLCJnZXRTY3JvbGxMZWZ0VG9wIiwiX2V2dCIsInRvdWNoUHJvcCIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJpc1RvdWNoRXZlbnQiLCJwb2ludGVyVHlwZSIsInBhcnNlRWwiLCJvcGFjaXR5Iiwic3VwcG9ydHNGaWx0ZXJzIiwiZXMiLCJjdXJyZW50U3R5bGUiLCJoYXNMYXlvdXQiLCJ6b29tIiwidGVzdCIsInNldFN0eWxlIiwibm9ybWFsaXplZFByb3BlcnR5IiwiZWxlbWVudFN0eWxlIiwiY3NzVGV4dCIsInN0eWxlRmxvYXQiLCJzZXRQcm9wZXJ0eSIsImdldEVsZW1lbnRTdHlsZSIsInNlbGVjdFByb3AiLCJfc2xpY2UiLCJ0b0FycmF5IiwiYXJyYXlMaWtlIiwic2xpY2VDYW5Db252ZXJ0Tm9kZWxpc3RzIiwiY2hpbGROb2RlcyIsImVyciIsIm1ha2VFbGVtZW50IiwidGFnTmFtZSIsImVsIiwiY2xhc3NOYW1lIiwiaHRtbEZvciIsInNldEF0dHJpYnV0ZSIsImRvY0VsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJib2R5Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImhvc3QiLCJub2RlVHlwZSIsImVtcHR5Rm4iLCJub29wIiwiZGVmYXVsdEVhc2luZyIsImQiLCJyZXF1ZXN0QW5pbUZyYW1lIiwiY2FsY3VsYXRlQ29sb3IiLCJiZWdpbiIsInBvcyIsImNvbG9yIiwicGFyc2VJbnQiLCJub3JtYWxpemUiLCJhc2luIiwiZWxhc3RpYyIsIm9wdHMiLCJlYXNlSW5Cb3VuY2UiLCJlYXNlT3V0Qm91bmNlIiwiYXJyIiwiZGVmYXVsdFZpZXciLCJnZXRDb21wdXRlZFN0eWxlIiwiYXR0ciIsIm1ha2VFbGVtZW50VW5zZWxlY3RhYmxlIiwib25zZWxlY3RzdGFydCIsInVuc2VsZWN0YWJsZSIsIm1ha2VFbGVtZW50U2VsZWN0YWJsZSIsInNldEltYWdlU21vb3RoaW5nIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibXNJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJvSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiZ2V0QnlJZCIsImdldEVsZW1lbnRCeUlkIiwiYWRkQ2xhc3MiLCJ3cmFwRWxlbWVudCIsIndyYXBwZXIiLCJyZXBsYWNlQ2hpbGQiLCJnZXRFbGVtZW50T2Zmc2V0Iiwic2Nyb2xsTGVmdFRvcCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJib3giLCJvZmZzZXQiLCJvZmZzZXRBdHRyaWJ1dGVzIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyVG9wV2lkdGgiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdUb3AiLCJkb2NFbGVtIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImdldE5vZGVDYW52YXMiLCJpbXBsIiwiX2NhbnZhcyIsIl9pbWFnZSIsImNsZWFuVXBKc2RvbU5vZGUiLCJfY3VycmVudFNyYyIsIl9hdHRyaWJ1dGVzIiwiX2NsYXNzTGlzdCIsInJlcXVlc3QiLCJvbkNvbXBsZXRlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJwYXJhbWV0ZXJzIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInBhcmFtIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwid2FybiIsIlJVTk5JTkdfQU5JTUFUSU9OUyIsImNhbmNlbEFsbCIsImFuaW1hdGlvbnMiLCJhbmltYXRpb24iLCJjYW5jZWwiLCJjYW5jZWxCeUNhbnZhcyIsImNhbmNlbGxlZCIsImNhbmNlbEJ5VGFyZ2V0IiwiZmluZEFuaW1hdGlvbnNCeVRhcmdldCIsImZpbmRBbmltYXRpb25JbmRleCIsImNhbmNlbEZ1bmMiLCJmaW5kQW5pbWF0aW9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwiYW5pbWF0ZSIsInJlbW92ZUZyb21SZWdpc3RyeSIsInJ1bm5pbmdBbmltYXRpb25zIiwiY3VycmVudFZhbHVlIiwic3RhcnRWYWx1ZSIsImNvbXBsZXRpb25SYXRlIiwiZHVyYXRpb25SYXRlIiwidGltZXN0YW1wIiwidGltZSIsIkRhdGUiLCJkdXJhdGlvbiIsImZpbmlzaCIsIm9uQ2hhbmdlIiwiYWJvcnQiLCJlYXNpbmciLCJpc01hbnkiLCJlbmRWYWx1ZSIsImJ5VmFsdWUiLCJvblN0YXJ0IiwidGljayIsInRpY2t0aW1lIiwiY3VycmVudFRpbWUiLCJ0aW1lUGVyYyIsIl92YWx1ZSIsInZhbHVlUGVyYyIsImNhbmNlbEFuaW1GcmFtZSIsImFuaW1hdGVDb2xvciIsImZyb21Db2xvciIsInRvQ29sb3IiLCJzdGFydENvbG9yIiwiQ29sb3IiLCJnZXRTb3VyY2UiLCJlbmRDb2xvciIsIm9yaWdpbmFsT25Db21wbGV0ZSIsIm9yaWdpbmFsT25DaGFuZ2UiLCJjb2xvckVhc2luZyIsImVhc2UiLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsImVhc2VPdXRTaW5lIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwiZWFzZU91dENpcmMiLCJlYXNlSW5PdXRDaXJjIiwiZWFzZUluRWxhc3RpYyIsImVhc2VPdXRFbGFzdGljIiwiZWFzZUluT3V0RWxhc3RpYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlSW5PdXRCb3VuY2UiLCJyZVRyYW5zZm9ybUxpc3QiLCJyZVRyYW5zZm9ybSIsImF0dHJpYnV0ZXNNYXAiLCJkaXNwbGF5IiwidmlzaWJpbGl0eSIsImNvbG9yQXR0cmlidXRlcyIsImZTaXplIiwiY1BhdGgiLCJnZXRTdmdSZWdleCIsIl9nZXRNdWx0aXBsZU5vZGVzIiwibm9kZU5hbWVzIiwibm9kZUxpc3QiLCJub2RlQXJyYXkiLCJub2RlTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2tld01hdHJpeCIsImdldEdsb2JhbFN0eWxlc0ZvckVsZW1lbnQiLCJzdmdVaWQiLCJydWxlIiwiY3NzUnVsZXMiLCJzZWxlY3RvcnMiLCJmaXJzdE1hdGNoaW5nIiwicGFyZW50TWF0Y2hpbmciLCJzZWxlY3Rvck1hdGNoZXMiLCJzZWxlY3RvciIsImNsYXNzTmFtZXMiLCJnZXRBdHRyaWJ1dGUiLCJtYXRjaGVyIiwiZWxlbWVudEJ5SWQiLCJub2RlIiwibm9kZWxpc3QiLCJzdmdWYWxpZFRhZ05hbWVzUmVnRXgiLCJzdmdWaWV3Qm94RWxlbWVudHNSZWdFeCIsInN2Z0ludmFsaWRBbmNlc3RvcnNSZWdFeCIsInN2Z1ZhbGlkUGFyZW50c1JlZ0V4IiwiZ3JhZGllbnREZWZzIiwiY2xpcFBhdGhzIiwicGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUiLCJhdHRyaWJ1dGVWYWx1ZSIsIm1hdHJpY2VzIiwib3BlcmF0aW9uIiwibXVsdGlwbGllclgiLCJtdWx0aXBsaWVyWSIsImNvbWJpbmVkTWF0cml4IiwicmVWaWV3Qm94QXR0clZhbHVlIiwiYXBwbHlWaWV3Ym94VHJhbnNmb3JtIiwidmlld0JveFdpZHRoIiwidmlld0JveEF0dHIiLCJ3aWR0aEF0dHIiLCJoZWlnaHRBdHRyIiwicHJlc2VydmVBc3BlY3RSYXRpbyIsIm1pc3NpbmdWaWV3Qm94IiwibWlzc2luZ0RpbUF0dHIiLCJ0b0JlUGFyc2VkIiwicGFyc2VkRGltIiwidHJhbnNsYXRlTWF0cml4Iiwid2lkdGhEaWZmIiwiaGVpZ2h0RGlmZiIsInJlbW92ZUF0dHJpYnV0ZSIsInZpZXdCb3hIZWlnaHQiLCJjcmVhdGVFbGVtZW50TlMiLCJmaXJzdENoaWxkIiwicGFyc2VTVkdEb2N1bWVudCIsInBhcnNpbmdPcHRpb25zIiwicGFyc2VVc2VEaXJlY3RpdmVzIiwieGxpbmtBdHRyaWJ1dGUiLCJ4bGluayIsImVsMiIsImNsb25lTm9kZSIsImN1cnJlbnRUcmFucyIsIm9sZExlbmd0aCIsImF0dHJzIiwiZWwzIiwic2V0QXR0cmlidXRlTlMiLCJub2RlVmFsdWUiLCJfX3VpZCIsImRlc2NlbmRhbnRzIiwic2VsZWN0Tm9kZXMiLCJnZXRHcmFkaWVudERlZnMiLCJnZXRDU1NSdWxlcyIsInBhcnNlRWxlbWVudHMiLCJpbnN0YW5jZXMiLCJyZUZvbnREZWNsYXJhdGlvbiIsInBhcnNlRm9udERlY2xhcmF0aW9uIiwib1N0eWxlIiwibGluZUhlaWdodCIsImVsTGlzdCIsInJlY3Vyc2l2ZWx5UGFyc2VHcmFkaWVudHNYbGluayIsImdyYWRpZW50IiwieGxpbmtBdHRyIiwicmVmZXJlbmNlZEdyYWRpZW50IiwiaGFzQXR0cmlidXRlIiwiY2hpbGRyZW4iLCJyZWZlcmVuY2VDbG9uZSIsInBhcnNlQXR0cmlidXRlcyIsInBhcmVudEF0dHJpYnV0ZXMiLCJvd25BdHRyaWJ1dGVzIiwiY3NzQXR0cnMiLCJwYXJzZVN0eWxlQXR0cmlidXRlIiwicGFyZW50Rm9udFNpemUiLCJub3JtYWxpemVkVmFsdWUiLCJub3JtYWxpemVkU3R5bGUiLCJ2aXNpYmxlIiwiZmlsbEluZGV4Iiwic3Ryb2tlSW5kZXgiLCJub3JtYWxpemVkQXR0ciIsImZvbnQiLCJtZXJnZWRBdHRycyIsIl9zZXRTdHJva2VGaWxsT3BhY2l0eSIsInNldEFscGhhIiwiZ2V0QWxwaGEiLCJ0b1JnYmEiLCJFbGVtZW50c1BhcnNlciIsInBhcnNlIiwiY2h1bmsiLCJwYWlyIiwicGFyc2VTdHlsZU9iamVjdCIsInBhcnNlUG9pbnRzQXR0cmlidXRlIiwicGFyc2VkUG9pbnRzIiwiYWxsUnVsZXMiLCJzdHlsZUNvbnRlbnRzIiwidGV4dENvbnRlbnQiLCJydWxlT2JqIiwicHJvcGVydHlWYWx1ZVBhaXJzIiwiX3J1bGUiLCJsb2FkU1ZHRnJvbVVSTCIsInhtbCIsInJlc3BvbnNlWE1MIiwicmVzdWx0cyIsIl9vcHRpb25zIiwiYWxsRWxlbWVudHMiLCJsb2FkU1ZHRnJvbVN0cmluZyIsInBhcnNlRnJvbVN0cmluZyIsInJlZ2V4VXJsIiwicHJvdG8iLCJudW1FbGVtZW50cyIsImNyZWF0ZU9iamVjdHMiLCJjcmVhdGVPYmplY3QiLCJmaW5kVGFnIiwiZnJvbUVsZW1lbnQiLCJjcmVhdGVDYWxsYmFjayIsImNoZWNrSWZEb25lIiwicmVzb2x2ZUdyYWRpZW50IiwiSW1hZ2UiLCJfb3JpZ2luYWxFbGVtZW50IiwiX3JlbW92ZVRyYW5zZm9ybU1hdHJpeCIsInJlc29sdmVDbGlwUGF0aCIsImV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24iLCJzdG9yYWdlIiwicmVnZXgiLCJsYXN0SW5kZXgiLCJncmFkaWVudERlZiIsIm9wYWNpdHlBdHRyIiwiY3JlYXRlQ2xpcFBhdGhDYWxsYmFjayIsImNvbnRhaW5lciIsIl9uZXdPYmoiLCJmaWxsUnVsZSIsImNsaXBSdWxlIiwidXNpbmdFbGVtZW50Iiwib2JqVHJhbnNmb3JtSW52IiwiY2xpcFBhdGhUYWciLCJjbGlwUGF0aE93bmVyIiwiZ1RyYW5zZm9ybSIsInRoYXQiLCJzY2FsYXJBZGQiLCJzY2FsYXJBZGRFcXVhbHMiLCJzdWJ0cmFjdEVxdWFscyIsInNjYWxhclN1YnRyYWN0Iiwic2NhbGFyU3VidHJhY3RFcXVhbHMiLCJtdWx0aXBseUVxdWFscyIsImRpdmlkZSIsImRpdmlkZUVxdWFscyIsImx0IiwibHRlIiwiZ3QiLCJndGUiLCJkaXN0YW5jZUZyb20iLCJkeCIsImR5Iiwic2V0WFkiLCJzZXRYIiwic2V0WSIsInNldEZyb21Qb2ludCIsInN3YXAiLCJJbnRlcnNlY3Rpb24iLCJzdGF0dXMiLCJhcHBlbmRQb2ludCIsImFwcGVuZFBvaW50cyIsImludGVyc2VjdExpbmVMaW5lIiwiYTEiLCJhMiIsImIxIiwiYjIiLCJ1YVQiLCJ1YlQiLCJ1QiIsInViIiwidWEiLCJpbnRlcnNlY3RMaW5lUG9seWdvbiIsImludGVyIiwiaW50ZXJzZWN0UG9seWdvblBvbHlnb24iLCJwb2ludHMxIiwicG9pbnRzMiIsImludGVyc2VjdFBvbHlnb25SZWN0YW5nbGUiLCJyMSIsInIyIiwidG9wUmlnaHQiLCJib3R0b21MZWZ0IiwiaW50ZXIxIiwiaW50ZXIyIiwiaW50ZXIzIiwiaW50ZXI0IiwiX3RyeVBhcnNpbmdDb2xvciIsInNldFNvdXJjZSIsImh1ZTJyZ2IiLCJjb2xvck5hbWVNYXAiLCJzb3VyY2VGcm9tSGV4Iiwic291cmNlRnJvbVJnYiIsInNvdXJjZUZyb21Ic2wiLCJfcmdiVG9Ic2wiLCJnIiwicm91bmQiLCJfc291cmNlIiwidG9SZ2IiLCJ0b0hzbCIsImhzbCIsInRvSHNsYSIsInRvSGV4IiwidG9IZXhhIiwidG9HcmF5c2NhbGUiLCJhdmVyYWdlIiwiY3VycmVudEFscGhhIiwidG9CbGFja1doaXRlIiwidGhyZXNob2xkIiwib3ZlcmxheVdpdGgiLCJvdGhlckNvbG9yIiwib3RoZXJTb3VyY2UiLCJyZVJHQmEiLCJyZUhTTGEiLCJyZUhleCIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImNyaW1zb24iLCJjeWFuIiwiZGFya2JsdWUiLCJkYXJrY3lhbiIsImRhcmtnb2xkZW5yb2QiLCJkYXJrZ3JheSIsImRhcmtncmV5IiwiZGFya2dyZWVuIiwiZGFya2toYWtpIiwiZGFya21hZ2VudGEiLCJkYXJrb2xpdmVncmVlbiIsImRhcmtvcmFuZ2UiLCJkYXJrb3JjaGlkIiwiZGFya3JlZCIsImRhcmtzYWxtb24iLCJkYXJrc2VhZ3JlZW4iLCJkYXJrc2xhdGVibHVlIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJkYXJrdHVycXVvaXNlIiwiZGFya3Zpb2xldCIsImRlZXBwaW5rIiwiZGVlcHNreWJsdWUiLCJkaW1ncmF5IiwiZGltZ3JleSIsImRvZGdlcmJsdWUiLCJmaXJlYnJpY2siLCJmbG9yYWx3aGl0ZSIsImZvcmVzdGdyZWVuIiwiZnVjaHNpYSIsImdhaW5zYm9ybyIsImdob3N0d2hpdGUiLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JheSIsImdyZXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiaG9uZXlkZXciLCJob3RwaW5rIiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JheSIsImxpZ2h0Z3JleSIsImxpZ2h0Z3JlZW4iLCJsaWdodHBpbmsiLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHRzdGVlbGJsdWUiLCJsaWdodHllbGxvdyIsImxpbWUiLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1hcXVhbWFyaW5lIiwibWVkaXVtYmx1ZSIsIm1lZGl1bW9yY2hpZCIsIm1lZGl1bXB1cnBsZSIsIm1lZGl1bXNlYWdyZWVuIiwibWVkaXVtc2xhdGVibHVlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJtZWRpdW10dXJxdW9pc2UiLCJtZWRpdW12aW9sZXRyZWQiLCJtaWRuaWdodGJsdWUiLCJtaW50Y3JlYW0iLCJtaXN0eXJvc2UiLCJtb2NjYXNpbiIsIm5hdmFqb3doaXRlIiwibmF2eSIsIm9sZGxhY2UiLCJvbGl2ZSIsIm9saXZlZHJhYiIsIm9yYW5nZSIsIm9yYW5nZXJlZCIsIm9yY2hpZCIsInBhbGVnb2xkZW5yb2QiLCJwYWxlZ3JlZW4iLCJwYWxldHVycXVvaXNlIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYWdyZWVuIiwic2Vhc2hlbGwiLCJzaWVubmEiLCJzaWx2ZXIiLCJza3libHVlIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic25vdyIsInNwcmluZ2dyZWVuIiwic3RlZWxibHVlIiwidGVhbCIsInRoaXN0bGUiLCJ0b21hdG8iLCJ0dXJxdW9pc2UiLCJ2aW9sZXQiLCJ3aGVhdCIsIndoaXRlIiwid2hpdGVzbW9rZSIsInllbGxvdyIsInllbGxvd2dyZWVuIiwiZnJvbVJnYiIsImZyb21Tb3VyY2UiLCJmcm9tUmdiYSIsImZyb21Ic2wiLCJmcm9tSHNsYSIsImZyb21IZXgiLCJpc1Nob3J0Tm90YXRpb24iLCJpc1JHQmEiLCJvQ29sb3IiLCJzY2FsZU1hcCIsInNrZXdNYXAiLCJjb250cm9scyIsIkxFRlQiLCJUT1AiLCJSSUdIVCIsIkJPVFRPTSIsIkNFTlRFUiIsIm9wcG9zaXRlIiwiYm90dG9tIiwicmlnaHQiLCJmaW5kQ29ybmVyUXVhZHJhbnQiLCJmYWJyaWNPYmplY3QiLCJjb250cm9sIiwiY29ybmVyQW5nbGUiLCJmaXJlRXZlbnQiLCJjYW52YXNPcHRpb25zIiwic2NhbGVJc1Byb3BvcnRpb25hbCIsImV2ZW50RGF0YSIsInVuaWZvcm1Jc1RvZ2dsZWQiLCJ1bmlTY2FsZUtleSIsInVuaWZvcm1TY2FsaW5nIiwiaXNUcmFuc2Zvcm1DZW50ZXJlZCIsIm9yaWdpblgiLCJvcmlnaW5ZIiwic2NhbGluZ0lzRm9yYmlkZGVuIiwiYnkiLCJzY2FsZVByb3BvcnRpb25hbGx5IiwibG9ja1giLCJsb2NrU2NhbGluZ1giLCJsb2NrWSIsImxvY2tTY2FsaW5nWSIsImNvbW1vbkV2ZW50SW5mbyIsImUiLCJwb2ludGVyIiwid3JhcFdpdGhGaXhlZEFuY2hvciIsImFjdGlvbkhhbmRsZXIiLCJnZXRDZW50ZXJQb2ludCIsImNvbnN0cmFpbnQiLCJ0cmFuc2xhdGVUb09yaWdpblBvaW50IiwiYWN0aW9uUGVyZm9ybWVkIiwid3JhcFdpdGhGaXJlRXZlbnQiLCJnZXRMb2NhbFBvaW50IiwiY29ybmVyIiwiZ2V0Wm9vbSIsInBhZGRpbmciLCJsb2NhbFBvaW50IiwidG9Mb2NhbFBvaW50Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJ0YXJnZXRIYXNPbmVGbGlwIiwiY29tcGVuc2F0ZVNjYWxlRm9yU2tldyIsIm9wcG9zaXRlU2tldyIsInNjYWxlVG9Db21wZW5zYXRlIiwiYXhpcyIsInJlZmVyZW5jZSIsIm5ld1ZhbHVlIiwiX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucyIsInNrZXdPYmplY3RYIiwibmV3U2tldyIsImRpbU5vU2tldyIsInRvdGFsU2tld1NpemUiLCJjdXJyZW50U2tldyIsImhhc1NrZXdlZCIsImRpbUJlZm9yZVNrZXdpbmciLCJza2V3T2JqZWN0WSIsInNjYWxlT2JqZWN0IiwiZm9yYmlkU2NhbGluZyIsImdlc3R1cmVTY2FsZSIsInNpZ25YIiwic2lnblkiLCJsb2NrU2NhbGluZ0ZsaXAiLCJkaW0iLCJvcmlnaW5hbCIsInNjYWxlIiwib2xkU2NhbGVYIiwib2xkU2NhbGVZIiwic2NhbGVDdXJzb3JTdHlsZUhhbmRsZXIiLCJuIiwic2tld0N1cnNvclN0eWxlSGFuZGxlciIsIm5vdEFsbG93ZWQiLCJsb2NrU2tld2luZ1kiLCJsb2NrU2tld2luZ1giLCJzY2FsZVNrZXdDdXJzb3JTdHlsZUhhbmRsZXIiLCJhbHRBY3Rpb25LZXkiLCJyb3RhdGlvbldpdGhTbmFwcGluZyIsInNuYXBUaHJlc2hvbGQiLCJwaXZvdFBvaW50IiwibG9ja1JvdGF0aW9uIiwibGFzdEFuZ2xlIiwiZXkiLCJleCIsImN1ckFuZ2xlIiwiaGFzUm90YXRlZCIsInNuYXBBbmdsZSIsInJpZ2h0QW5nbGVMb2NrZWQiLCJsZWZ0QW5nbGVMb2NrZWQiLCJzY2FsaW5nWCIsInNjYWxpbmdZIiwic2tld0hhbmRsZXJYIiwic2tld0hhbmRsZXJZIiwiY2hhbmdlV2lkdGgiLCJzdHJva2VQYWRkaW5nIiwibXVsdGlwbGllciIsIm9sZFdpZHRoIiwibmV3V2lkdGgiLCJkcmFnSGFuZGxlciIsIm5ld0xlZnQiLCJuZXdUb3AiLCJtb3ZlWCIsIm1vdmVZIiwiaXNBbHRlcm5hdGl2ZSIsInJvdGF0aW9uU3R5bGVIYW5kbGVyIiwiY3Vyc29yU3R5bGUiLCJjb250cm9sc1V0aWxzIiwicmVuZGVyQ2lyY2xlQ29udHJvbCIsInN0eWxlT3ZlcnJpZGUiLCJ4U2l6ZSIsInNpemVYIiwiY29ybmVyU2l6ZSIsInlTaXplIiwic2l6ZVkiLCJ0cmFuc3BhcmVudENvcm5lcnMiLCJjb3JuZXJTdHJva2VDb2xvciIsIm15TGVmdCIsIm15VG9wIiwic2F2ZSIsImZpbGxTdHlsZSIsImNvcm5lckNvbG9yIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJiZWdpblBhdGgiLCJhcmMiLCJyZXN0b3JlIiwicmVuZGVyU3F1YXJlQ29udHJvbCIsInhTaXplQnkyIiwieVNpemVCeTIiLCJ0cmFuc2xhdGUiLCJzdHJva2VSZWN0IiwiQ29udHJvbCIsImFjdGlvbk5hbWUiLCJ0b3VjaFNpemVYIiwidG91Y2hTaXplWSIsIndpdGhDb25uZWN0aW9uIiwibW91c2VEb3duSGFuZGxlciIsIm1vdXNlVXBIYW5kbGVyIiwiZ2V0QWN0aW9uSGFuZGxlciIsImdldE1vdXNlRG93bkhhbmRsZXIiLCJnZXRNb3VzZVVwSGFuZGxlciIsImN1cnNvclN0eWxlSGFuZGxlciIsImdldEFjdGlvbk5hbWUiLCJnZXRWaXNpYmlsaXR5IiwiY29udHJvbEtleSIsIm9iamVjdFZpc2liaWxpdHkiLCJfY29udHJvbHNWaXNpYmlsaXR5Iiwic2V0VmlzaWJpbGl0eSIsInBvc2l0aW9uSGFuZGxlciIsImZpbmFsTWF0cml4IiwiY2FsY0Nvcm5lckNvb3JkcyIsIm9iamVjdEFuZ2xlIiwib2JqZWN0Q29ybmVyU2l6ZSIsImNlbnRlclgiLCJjZW50ZXJZIiwiaXNUb3VjaCIsImNvc0hhbGZPZmZzZXQiLCJzaW5IYWxmT2Zmc2V0IiwiY29zSGFsZk9mZnNldENvbXAiLCJzaW5IYWxmT2Zmc2V0Q29tcCIsImNvcm5lckh5cG90ZW51c2UiLCJuZXdUaGV0YSIsImNvbnRyb2xUcmlhbmdsZUFuZ2xlIiwibmV3VGhldGFDb21wIiwidGwiLCJ0ciIsImJsIiwiYnIiLCJyZW5kZXIiLCJjb3JuZXJTdHlsZSIsImdyYWRpZW50VHJhbnNmb3JtIiwiZ3JhZGllbnRVbml0cyIsImtleXMiLCJvcHRpb24iLCJhZGRDb2xvclN0b3AiLCJ0b09iamVjdCIsInByb3BlcnRpZXNUb0luY2x1ZGUiLCJ0b1NWRyIsIm1hcmt1cCIsIm5lZWRzU3dhcCIsIndpdGhWaWV3cG9ydCIsImFkZGl0aW9uYWxUcmFuc2Zvcm0iLCJzb3J0IiwiY29tbW9uQXR0cmlidXRlcyIsInJldmVyc2UiLCJtaW5SYWRpdXMiLCJwZXJjZW50YWdlU2hpZnQiLCJjb2xvclN0b3AiLCJ0b0xpdmUiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiaW5zdGFuY2UiLCJzdmdPcHRpb25zIiwicHJvcFZhbHVlIiwiZmluYWxWYWx1ZSIsImNvbG9yU3RvcEVscyIsImtleVZhbHVlUGFpcnMiLCJjb2xvckFscGhhIiwicmVwZWF0IiwicGF0dGVyblRyYW5zZm9ybSIsInNldE9wdGlvbnMiLCJpc0Vycm9yIiwicGF0dGVyblNvdXJjZSIsInBhdHRlcm5XaWR0aCIsInBhdHRlcm5IZWlnaHQiLCJwYXR0ZXJuT2Zmc2V0WCIsInBhdHRlcm5PZmZzZXRZIiwicGF0dGVybkltZ1NyYyIsImNvbXBsZXRlIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImNyZWF0ZVBhdHRlcm4iLCJTaGFkb3ciLCJibHVyIiwiYWZmZWN0U3Ryb2tlIiwiaW5jbHVkZURlZmF1bHRWYWx1ZXMiLCJub25TY2FsaW5nIiwiX3BhcnNlU2hhZG93Iiwic2hhZG93Iiwic2hhZG93U3RyIiwib2Zmc2V0c0FuZEJsdXIiLCJyZU9mZnNldHNBbmRCbHVyIiwiZkJveFgiLCJmQm94WSIsIkNBTlZBU19JTklUX0VSUk9SIiwiU3RhdGljQ2FudmFzIiwiRXJyb3IiLCJyZW5kZXJBbmRSZXNldEJvdW5kIiwicmVuZGVyQW5kUmVzZXQiLCJyZXF1ZXN0UmVuZGVyQWxsQm91bmQiLCJfaW5pdFN0YXRpYyIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRJbWFnZSIsIm92ZXJsYXlDb2xvciIsIm92ZXJsYXlJbWFnZSIsInN0YXRlZnVsIiwiY29udHJvbHNBYm92ZU92ZXJsYXkiLCJhbGxvd1RvdWNoU2Nyb2xsaW5nIiwidmlld3BvcnRUcmFuc2Zvcm0iLCJiYWNrZ3JvdW5kVnB0Iiwib3ZlcmxheVZwdCIsImVuYWJsZVJldGluYVNjYWxpbmciLCJ2cHRDb29yZHMiLCJza2lwT2Zmc2NyZWVuIiwiY2IiLCJfY3JlYXRlTG93ZXJDYW52YXMiLCJfaW5pdE9wdGlvbnMiLCJpbnRlcmFjdGl2ZSIsIl9pbml0UmV0aW5hU2NhbGluZyIsInNldE92ZXJsYXlJbWFnZSIsInNldEJhY2tncm91bmRJbWFnZSIsInNldEJhY2tncm91bmRDb2xvciIsInNldE92ZXJsYXlDb2xvciIsImNhbGNPZmZzZXQiLCJfaXNSZXRpbmFTY2FsaW5nIiwiZ2V0UmV0aW5hU2NhbGluZyIsInNjYWxlUmF0aW8iLCJfX2luaXRSZXRpbmFTY2FsaW5nIiwibG93ZXJDYW52YXNFbCIsImNvbnRleHRDb250YWluZXIiLCJ1cHBlckNhbnZhc0VsIiwiY29udGV4dFRvcCIsIl9vZmZzZXQiLCJpbWFnZSIsIl9fc2V0QmdPdmVybGF5SW1hZ2UiLCJfX3NldEJnT3ZlcmxheUNvbG9yIiwiX2NyZWF0ZUNhbnZhc0VsZW1lbnQiLCJfb3JpZ2luYWxDYW52YXNTdHlsZSIsIl9hcHBseUNhbnZhc1N0eWxlIiwiZ2V0V2lkdGgiLCJnZXRIZWlnaHQiLCJzZXRXaWR0aCIsInNldERpbWVuc2lvbnMiLCJzZXRIZWlnaHQiLCJkaW1lbnNpb25zIiwiY3NzVmFsdWUiLCJjc3NPbmx5IiwiX3NldEJhY2tzdG9yZURpbWVuc2lvbiIsImhhc0xvc3RDb250ZXh0IiwiYmFja3N0b3JlT25seSIsIl9zZXRDc3NEaW1lbnNpb24iLCJfaXNDdXJyZW50bHlEcmF3aW5nIiwiZnJlZURyYXdpbmdCcnVzaCIsIl9zZXRCcnVzaFN0eWxlcyIsImNhY2hlQ2FudmFzRWwiLCJ3cmFwcGVyRWwiLCJzZXRWaWV3cG9ydFRyYW5zZm9ybSIsInZwdCIsImFjdGl2ZU9iamVjdCIsIl9hY3RpdmVPYmplY3QiLCJiYWNrZ3JvdW5kT2JqZWN0Iiwib3ZlcmxheU9iamVjdCIsImdyb3VwIiwic2V0Q29vcmRzIiwiY2FsY1ZpZXdwb3J0Qm91bmRhcmllcyIsInpvb21Ub1BvaW50IiwiYmVmb3JlIiwiYWZ0ZXIiLCJzZXRab29tIiwiYWJzb2x1dGVQYW4iLCJyZWxhdGl2ZVBhbiIsImdldEVsZW1lbnQiLCJzZXR1cFN0YXRlIiwiY2xlYXJDb250ZXh0IiwiY2xlYXJSZWN0IiwiY2xlYXIiLCJfaGFzSVRleHRIYW5kbGVycyIsIl9tb3VzZVVwSVRleHRIYW5kbGVyIiwiX2lUZXh0SW5zdGFuY2VzIiwicmVuZGVyQWxsIiwiY2FudmFzVG9EcmF3T24iLCJyZW5kZXJDYW52YXMiLCJpc1JlbmRlcmluZyIsImlWcHQiLCJjYW5jZWxSZXF1ZXN0ZWRSZW5kZXIiLCJfcmVuZGVyQmFja2dyb3VuZCIsIl9yZW5kZXJPYmplY3RzIiwiZHJhd0NvbnRyb2xzIiwic2hvdWxkQ2FjaGUiLCJfdHJhbnNmb3JtRG9uZSIsInJlbmRlckNhY2hlIiwiZm9yQ2xpcHBpbmciLCJkcmF3Q2xpcFBhdGhPbkNhbnZhcyIsIl9yZW5kZXJPdmVybGF5IiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiem9vbVgiLCJ6b29tWSIsIl9jYWNoZUNhbnZhcyIsImNhY2hlVHJhbnNsYXRpb25YIiwiY2FjaGVUcmFuc2xhdGlvblkiLCJfcmVuZGVyQmFja2dyb3VuZE9yT3ZlcmxheSIsIm5lZWRzVnB0IiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiZ2V0Q2VudGVyIiwiY2VudGVyT2JqZWN0SCIsIl9jZW50ZXJPYmplY3QiLCJjZW50ZXJPYmplY3RWIiwiY2VudGVyT2JqZWN0Iiwidmlld3BvcnRDZW50ZXJPYmplY3QiLCJ2cENlbnRlciIsImdldFZwQ2VudGVyIiwidmlld3BvcnRDZW50ZXJPYmplY3RIIiwidmlld3BvcnRDZW50ZXJPYmplY3RWIiwidG9EYXRhbGVzc0pTT04iLCJ0b0RhdGFsZXNzT2JqZWN0IiwiX3RvT2JqZWN0TWV0aG9kIiwiX3RvT2JqZWN0cyIsImV4Y2x1ZGVGcm9tRXhwb3J0IiwiX3RvT2JqZWN0IiwiX19zZXJpYWxpemVCZ092ZXJsYXkiLCJvcmlnaW5hbFZhbHVlIiwiYmdJbWFnZSIsImJnQ29sb3IiLCJiYWNrZ3JvdW5kIiwib3ZlcmxheSIsInN2Z1ZpZXdwb3J0VHJhbnNmb3JtYXRpb24iLCJfc2V0U1ZHUHJlYW1ibGUiLCJfc2V0U1ZHSGVhZGVyIiwiY2xpcFBhdGhJZCIsIl9zZXRTVkdCZ092ZXJsYXlDb2xvciIsIl9zZXRTVkdCZ092ZXJsYXlJbWFnZSIsIl9zZXRTVkdPYmplY3RzIiwic3VwcHJlc3NQcmVhbWJsZSIsImVuY29kaW5nIiwidmlld0JveCIsImNyZWF0ZVNWR0ZvbnRGYWNlc01hcmt1cCIsImNyZWF0ZVNWR1JlZkVsZW1lbnRzTWFya3VwIiwiY3JlYXRlU1ZHQ2xpcFBhdGhNYXJrdXAiLCJ0b0NsaXBQYXRoU1ZHIiwic2hvdWxkVHJhbnNmb3JtIiwicm93Iiwicm93SW5kZXgiLCJmb250TGlzdCIsIl9zZXRTVkdPYmplY3QiLCJmaW5hbFdpZHRoIiwiZmluYWxIZWlnaHQiLCJzZW5kVG9CYWNrIiwib2JqcyIsImFjdGl2ZVNlbGVjdGlvbiIsInVuc2hpZnQiLCJicmluZ1RvRnJvbnQiLCJzZW5kQmFja3dhcmRzIiwiaW50ZXJzZWN0aW5nIiwibmV3SWR4Iiwib2Jqc01vdmVkIiwiX2ZpbmROZXdMb3dlckluZGV4IiwiaW50ZXJzZWN0c1dpdGhPYmplY3QiLCJpc0NvbnRhaW5lZFdpdGhpbk9iamVjdCIsImJyaW5nRm9yd2FyZCIsIl9maW5kTmV3VXBwZXJJbmRleCIsImRpc3Bvc2UiLCJjbGFzc0xpc3QiLCJEYXRhVVJMRXhwb3J0ZXIiLCJFTVBUWV9KU09OIiwic2V0TGluZURhc2giLCJ0b0pTT04iLCJjcmVhdGVQTkdTdHJlYW0iLCJjcmVhdGVKUEVHU3RyZWFtIiwiQmFzZUJydXNoIiwic3Ryb2tlTGluZUNhcCIsInN0cm9rZURhc2hBcnJheSIsImxpbWl0ZWRUb0NhbnZhc1NpemUiLCJsaW5lQ2FwIiwibWl0ZXJMaW1pdCIsImxpbmVKb2luIiwiX3NhdmVBbmRUcmFuc2Zvcm0iLCJfc2V0U2hhZG93Iiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJuZWVkc0Z1bGxSZW5kZXIiLCJfcmVzZXRTaGFkb3ciLCJfaXNPdXRTaWRlQ2FudmFzIiwiUGVuY2lsQnJ1c2giLCJkZWNpbWF0ZSIsImRyYXdTdHJhaWdodExpbmUiLCJzdHJhaWdodExpbmVLZXkiLCJfcG9pbnRzIiwiX2hhc1N0cmFpZ2h0TGluZSIsIl9kcmF3U2VnbWVudCIsInF1YWRyYXRpY0N1cnZlVG8iLCJvbk1vdXNlRG93biIsIl9pc01haW5FdmVudCIsIl9wcmVwYXJlRm9yRHJhd2luZyIsIl9jYXB0dXJlRHJhd2luZ1BhdGgiLCJfcmVuZGVyIiwib25Nb3VzZU1vdmUiLCJvbGRFbmQiLCJvbk1vdXNlVXAiLCJfZmluYWxpemVBbmRBZGRQYXRoIiwiX3Jlc2V0IiwiX2FkZFBvaW50IiwicG9pbnRlclBvaW50IiwiY29udmVydFBvaW50c1RvU1ZHUGF0aCIsIl9pc0VtcHR5U1ZHUGF0aCIsImNyZWF0ZVBhdGgiLCJQYXRoIiwiZGVjaW1hdGVQb2ludHMiLCJhZGp1c3RlZERpc3RhbmNlIiwibGFzdFBvaW50IiwibmV3UG9pbnRzIiwiQ2lyY2xlQnJ1c2giLCJkcmF3RG90IiwiYWRkUG9pbnQiLCJkb3QiLCJyYWRpdXMiLCJvcmlnaW5hbFJlbmRlck9uQWRkUmVtb3ZlIiwiY2lyY2xlcyIsImNpcmNsZSIsIkNpcmNsZSIsImNpcmNsZVJhZGl1cyIsImNpcmNsZUNvbG9yIiwiU3ByYXlCcnVzaCIsImRlbnNpdHkiLCJkb3RXaWR0aCIsImRvdFdpZHRoVmFyaWFuY2UiLCJyYW5kb21PcGFjaXR5Iiwib3B0aW1pemVPdmVybGFwcGluZyIsInNwcmF5Q2h1bmtzIiwiYWRkU3ByYXlDaHVuayIsInNwcmF5Q2h1bmtQb2ludHMiLCJyZWN0cyIsImlsZW4iLCJzcHJheUNodW5rIiwicmVjdCIsIlJlY3QiLCJfZ2V0T3B0aW1pemVkUmVjdHMiLCJ1bmlxdWVSZWN0cyIsInVuaXF1ZVJlY3RzQXJyYXkiLCJnbG9iYWxBbHBoYSIsImZpbGxSZWN0IiwiUGF0dGVybkJydXNoIiwiZ2V0UGF0dGVyblNyYyIsInBhdHRlcm5DYW52YXMiLCJwYXR0ZXJuQ3R4IiwiZ2V0UGF0dGVyblNyY0Z1bmN0aW9uIiwiU3RyaW5nIiwiZ2V0UGF0dGVybiIsInRvcExlZnQiLCJfZ2V0TGVmdFRvcENvb3JkcyIsIkNhbnZhcyIsIl9pbml0SW50ZXJhY3RpdmUiLCJfY3JlYXRlQ2FjaGVDYW52YXMiLCJjZW50ZXJlZFNjYWxpbmciLCJjZW50ZXJlZFJvdGF0aW9uIiwiY2VudGVyZWRLZXkiLCJzZWxlY3Rpb24iLCJzZWxlY3Rpb25LZXkiLCJhbHRTZWxlY3Rpb25LZXkiLCJzZWxlY3Rpb25Db2xvciIsInNlbGVjdGlvbkRhc2hBcnJheSIsInNlbGVjdGlvbkJvcmRlckNvbG9yIiwic2VsZWN0aW9uTGluZVdpZHRoIiwic2VsZWN0aW9uRnVsbHlDb250YWluZWQiLCJob3ZlckN1cnNvciIsIm1vdmVDdXJzb3IiLCJkZWZhdWx0Q3Vyc29yIiwiZnJlZURyYXdpbmdDdXJzb3IiLCJub3RBbGxvd2VkQ3Vyc29yIiwiY29udGFpbmVyQ2xhc3MiLCJwZXJQaXhlbFRhcmdldEZpbmQiLCJ0YXJnZXRGaW5kVG9sZXJhbmNlIiwic2tpcFRhcmdldEZpbmQiLCJpc0RyYXdpbmdNb2RlIiwicHJlc2VydmVPYmplY3RTdGFja2luZyIsInN0b3BDb250ZXh0TWVudSIsImZpcmVSaWdodENsaWNrIiwiZmlyZU1pZGRsZUNsaWNrIiwidGFyZ2V0cyIsImVuYWJsZVBvaW50ZXJFdmVudHMiLCJfaG92ZXJlZFRhcmdldCIsIl9ob3ZlcmVkVGFyZ2V0cyIsIl9jdXJyZW50VHJhbnNmb3JtIiwiX2dyb3VwU2VsZWN0b3IiLCJfaW5pdFdyYXBwZXJFbGVtZW50IiwiX2NyZWF0ZVVwcGVyQ2FudmFzIiwiX2luaXRFdmVudExpc3RlbmVycyIsIl9jaG9vc2VPYmplY3RzVG9SZW5kZXIiLCJhY3RpdmVPYmplY3RzIiwiZ2V0QWN0aXZlT2JqZWN0cyIsIm9ianNUb1JlbmRlciIsImFjdGl2ZUdyb3VwT2JqZWN0cyIsImNvbnRleHRUb3BEaXJ0eSIsInJlbmRlclRvcExheWVyIiwiX2RyYXdTZWxlY3Rpb24iLCJyZW5kZXJUb3AiLCJfbm9ybWFsaXplUG9pbnRlciIsImludmVydGVkTSIsInZwdFBvaW50ZXIiLCJyZXN0b3JlUG9pbnRlclZwdCIsImlzVGFyZ2V0VHJhbnNwYXJlbnQiLCJvcmlnaW5hbENvbG9yIiwibm9ybWFsaXplZFBvaW50ZXIiLCJ0YXJnZXRSZWxhdGl2ZVgiLCJ0YXJnZXRSZWxhdGl2ZVkiLCJfY2FjaGVDb250ZXh0IiwiY29udGV4dENhY2hlIiwic2VsZWN0aW9uQmFja2dyb3VuZENvbG9yIiwiX2lzU2VsZWN0aW9uS2V5UHJlc3NlZCIsIl9zaG91bGRDbGVhclNlbGVjdGlvbiIsImV2ZW50ZWQiLCJzZWxlY3RhYmxlIiwiX3Nob3VsZENlbnRlclRyYW5zZm9ybSIsImFjdGlvbiIsImFsdEtleSIsImNlbnRlclRyYW5zZm9ybSIsIl9nZXRPcmlnaW5Gcm9tQ29ybmVyIiwiX2dldEFjdGlvbkZyb21Db3JuZXIiLCJhbHJlYWR5U2VsZWN0ZWQiLCJfc2V0dXBDdXJyZW50VHJhbnNmb3JtIiwiX19jb3JuZXIiLCJsYXN0WCIsImxhc3RZIiwic2hpZnRLZXkiLCJfYmVmb3JlVHJhbnNmb3JtIiwic2V0Q3Vyc29yIiwiY3Vyc29yIiwidmlld3BvcnRTdGFydCIsInZpZXdwb3J0RXh0ZW50IiwiZXh0ZW50IiwibWF4WCIsIm1heFkiLCJzdHJva2VPZmZzZXQiLCJfc2V0TGluZURhc2giLCJmaW5kVGFyZ2V0Iiwic2tpcEdyb3VwIiwiYWN0aXZlVGFyZ2V0IiwiYWN0aXZlVGFyZ2V0U3VicyIsImFPYmplY3RzIiwic2hvdWxkTG9va0ZvckFjdGl2ZSIsIl9maW5kVGFyZ2V0Q29ybmVyIiwiX3NlYXJjaFBvc3NpYmxlVGFyZ2V0cyIsIl9jaGVja1RhcmdldCIsImdsb2JhbFBvaW50ZXIiLCJjb250YWluc1BvaW50IiwiaXNFZGl0aW5nIiwib2JqVG9DaGVjayIsInBvaW50ZXJUb1VzZSIsInN1YlRhcmdldENoZWNrIiwic3ViVGFyZ2V0IiwiaWdub3JlWm9vbSIsImJvdW5kc1dpZHRoIiwiYm91bmRzSGVpZ2h0IiwicmV0aW5hU2NhbGluZyIsIl9hYnNvbHV0ZVBvaW50ZXIiLCJfcG9pbnRlciIsImNzc1NjYWxlIiwibG93ZXJDYW52YXNDbGFzcyIsIl9jb3B5Q2FudmFzU3R5bGUiLCJnZXRUb3BDb250ZXh0IiwiZnJvbUVsIiwidG9FbCIsImdldFNlbGVjdGlvbkNvbnRleHQiLCJnZXRTZWxlY3Rpb25FbGVtZW50IiwiZ2V0QWN0aXZlT2JqZWN0IiwiYWN0aXZlIiwiX2Rpc2NhcmRBY3RpdmVPYmplY3QiLCJfZmlyZVNlbGVjdGlvbkV2ZW50cyIsIm9sZE9iamVjdHMiLCJzb21ldGhpbmdDaGFuZ2VkIiwiYWRkZWQiLCJyZW1vdmVkIiwib2xkT2JqZWN0Iiwic2VsZWN0ZWQiLCJkZXNlbGVjdGVkIiwic2V0QWN0aXZlT2JqZWN0IiwiY3VycmVudEFjdGl2ZXMiLCJfc2V0QWN0aXZlT2JqZWN0Iiwib25TZWxlY3QiLCJvbkRlc2VsZWN0IiwiZGlzY2FyZEFjdGl2ZU9iamVjdCIsInJlbW92ZUxpc3RlbmVycyIsIl9yZW5kZXJDb250cm9scyIsIm9yaWdpbmFsUHJvcGVydGllcyIsIl9yZWFsaXplR3JvdXBUcmFuc2Zvcm1Pbk9iamVjdCIsIl91bndpbmRHcm91cFRyYW5zZm9ybU9uT2JqZWN0Iiwib3JpZ2luYWxWYWx1ZXMiLCJjbGVhckNvbnRleHRUb3AiLCJjaGVja0NsaWNrIiwiYnV0dG9uIiwiZ2V0U3ZnQ29sb3JTdHJpbmciLCJzYXZlUHJvcHMiLCJwcm9wcyIsInRtcE9iaiIsInJlc2l6ZUNhbnZhc0lmTmVlZGVkIiwicGlwZWxpbmVTdGF0ZSIsInRhcmdldENhbnZhcyIsImRXaWR0aCIsImRlc3RpbmF0aW9uV2lkdGgiLCJkSGVpZ2h0IiwiZGVzdGluYXRpb25IZWlnaHQiLCJjb3B5R0xUbzJERHJhd0ltYWdlIiwiZ2wiLCJnbENhbnZhcyIsInNvdXJjZVkiLCJjb3B5R0xUbzJEUHV0SW1hZ2VEYXRhIiwibnVtQnl0ZXMiLCJ1OCIsIlVpbnQ4QXJyYXkiLCJpbWFnZUJ1ZmZlciIsInU4Q2xhbXBlZCIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwiaW1nRGF0YSIsInJlYWRQaXhlbHMiLCJSR0JBIiwiVU5TSUdORURfQllURSIsIkltYWdlRGF0YSIsInB1dEltYWdlRGF0YSIsInBhcnNlRGVjb3JhdGlvbiIsInRleHREZWNvcmF0aW9uIiwicGFzc2l2ZSIsIm1haW5Ub3VjaElkIiwiX2JpbmRFdmVudHMiLCJhZGRPclJlbW92ZSIsIl9nZXRFdmVudFByZWZpeCIsImZ1bmN0b3IiLCJldmVudGpzRnVuY3RvciIsImNhbnZhc0VsZW1lbnQiLCJldmVudFR5cGVQcmVmaXgiLCJfb25SZXNpemUiLCJfb25Nb3VzZURvd24iLCJfb25Nb3VzZU1vdmUiLCJfb25Nb3VzZU91dCIsIl9vbk1vdXNlRW50ZXIiLCJfb25Nb3VzZVdoZWVsIiwiX29uQ29udGV4dE1lbnUiLCJfb25Eb3VibGVDbGljayIsIl9vbkRyYWdPdmVyIiwiX29uRHJhZ0VudGVyIiwiX29uRHJhZ0xlYXZlIiwiX29uRHJvcCIsIl9vblRvdWNoU3RhcnQiLCJldmVudGpzIiwiX29uR2VzdHVyZSIsIl9vbkRyYWciLCJfb25PcmllbnRhdGlvbkNoYW5nZSIsIl9vblNoYWtlIiwiX29uTG9uZ1ByZXNzIiwiX29uTW91c2VVcCIsIl9vblRvdWNoRW5kIiwiZXZlbnRzQm91bmQiLCJfc2ltcGxlRXZlbnRIYW5kbGVyIiwic2VsZiIsIl9fb25UcmFuc2Zvcm1HZXN0dXJlIiwiX19vbkRyYWciLCJfX29uTW91c2VXaGVlbCIsIl90YXJnZXQiLCJfX29uT3JpZW50YXRpb25DaGFuZ2UiLCJfX29uU2hha2UiLCJfX29uTG9uZ1ByZXNzIiwicHJldmVudERlZmF1bHQiLCJfZmlyZUVudGVyTGVhdmVFdmVudHMiLCJzdG9wUHJvcGFnYXRpb24iLCJfY2FjaGVUcmFuc2Zvcm1FdmVudERhdGEiLCJfaGFuZGxlRXZlbnQiLCJfcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEiLCJnZXRQb2ludGVySWQiLCJldnQiLCJpZGVudGlmaWVyIiwicG9pbnRlcklkIiwiaXNQcmltYXJ5IiwidG91Y2hlcyIsIl9fb25Nb3VzZURvd24iLCJfX29uTW91c2VVcCIsIl93aWxsQWRkTW91c2VEb3duIiwiX19vbk1vdXNlTW92ZSIsIl9zaG91bGRSZW5kZXIiLCJvcmlnaW5hbENvbnRyb2wiLCJvcmlnaW5hbE1vdXNlVXBIYW5kbGVyIiwiZ3JvdXBTZWxlY3RvciIsInNob3VsZFJlbmRlciIsImlzQ2xpY2siLCJfb25Nb3VzZVVwSW5EcmF3aW5nTW9kZSIsIl9maW5hbGl6ZUN1cnJlbnRUcmFuc2Zvcm0iLCJ0YXJnZXRXYXNBY3RpdmUiLCJfbWF5YmVHcm91cE9iamVjdHMiLCJhY3RpdmVPbiIsImlzTW92aW5nIiwiX3NldEN1cnNvckZyb21FdmVudCIsImV2ZW50VHlwZSIsInN1YlRhcmdldHMiLCJhYnNvbHV0ZVBvaW50ZXIiLCJjdXJyZW50VGFyZ2V0IiwiY3VycmVudFN1YlRhcmdldHMiLCJfc2NhbGluZyIsImhhc1N0YXRlQ2hhbmdlZCIsIl9maXJlIiwiX29uTW91c2VEb3duSW5EcmF3aW5nTW9kZSIsIl9vbk1vdXNlTW92ZUluRHJhd2luZ01vZGUiLCJzaG91bGRHcm91cCIsIl9wcmV2aW91c1BvaW50ZXIiLCJfc2hvdWxkR3JvdXAiLCJfaGFuZGxlR3JvdXBpbmciLCJzYXZlU3RhdGUiLCJfdHJhbnNmb3JtT2JqZWN0IiwiX2ZpcmVPdmVyT3V0RXZlbnRzIiwiZmlyZVN5bnRoZXRpY0luT3V0RXZlbnRzIiwib2xkVGFyZ2V0IiwiZXZ0T3V0IiwiY2FudmFzRXZ0T3V0IiwiZXZ0SW4iLCJjYW52YXNFdnRJbiIsIl9kcmFnZ2Vkb3ZlclRhcmdldCIsImNvbmZpZyIsImluT3B0Iiwib3V0T3B0IiwidGFyZ2V0Q2hhbmdlZCIsInByZXZpb3VzVGFyZ2V0IiwibmV4dFRhcmdldCIsImluRmlyZXMiLCJyZXNldCIsIl9wZXJmb3JtVHJhbnNmb3JtQWN0aW9uIiwiZ2V0Q29ybmVyQ3Vyc29yIiwiX3VwZGF0ZUFjdGl2ZVNlbGVjdGlvbiIsIl9jcmVhdGVBY3RpdmVTZWxlY3Rpb24iLCJjdXJyZW50QWN0aXZlT2JqZWN0cyIsInJlbW92ZVdpdGhVcGRhdGUiLCJhZGRXaXRoVXBkYXRlIiwiX2NyZWF0ZUdyb3VwIiwiZ3JvdXBPYmplY3RzIiwiZXhpdEVkaXRpbmciLCJBY3RpdmVTZWxlY3Rpb24iLCJfZ3JvdXBTZWxlY3RlZE9iamVjdHMiLCJfY29sbGVjdE9iamVjdHMiLCJhR3JvdXAiLCJjdXJyZW50T2JqZWN0Iiwic2VsZWN0aW9uWDFZMSIsInNlbGVjdGlvblgyWTIiLCJhbGxvd0ludGVyc2VjdCIsImludGVyc2VjdHNXaXRoUmVjdCIsImlzQ29udGFpbmVkV2l0aGluUmVjdCIsInRvQ2FudmFzRWxlbWVudCIsImNyb3BwaW5nIiwic2NhbGVkV2lkdGgiLCJzY2FsZWRIZWlnaHQiLCJvcmlnaW5hbFdpZHRoIiwib3JpZ2luYWxIZWlnaHQiLCJuZXdab29tIiwidnAiLCJvcmlnaW5hbEludGVyYWN0aXZlIiwibmV3VnAiLCJvcmlnaW5hbFJldGluYSIsIm9yaWdpbmFsQ29udGV4dFRvcCIsImxvYWRGcm9tSlNPTiIsImpzb24iLCJzZXJpYWxpemVkIiwiX2VubGl2ZW5PYmplY3RzIiwiX3NldEJnT3ZlcmxheSIsImVubGl2ZW5lZENhbnZhc0NsaXAiLCJfX3NldHVwQ2FudmFzIiwiY2JJZkxvYWRlZCIsImxvYWRlZCIsIl9fc2V0QmdPdmVybGF5IiwiZW5saXZlZE9iamVjdCIsIl90b0RhdGFVUkwiLCJfdG9EYXRhVVJMV2l0aE11bHRpcGxpZXIiLCJ0b0RhdGFVUkxXaXRoTXVsdGlwbGllciIsImNsb25lV2l0aG91dERhdGEiLCJiYWNrZ3JvdW5kSW1hZ2VPcGFjaXR5IiwiYmFja2dyb3VuZEltYWdlU3RyZXRjaCIsIm9iamVjdENhY2hpbmciLCJ0b3VjaENvcm5lclNpemUiLCJib3JkZXJDb2xvciIsImJvcmRlckRhc2hBcnJheSIsImNvcm5lckRhc2hBcnJheSIsInN0cm9rZURhc2hPZmZzZXQiLCJib3JkZXJPcGFjaXR5V2hlbk1vdmluZyIsImJvcmRlclNjYWxlRmFjdG9yIiwibWluU2NhbGVMaW1pdCIsImhhc0NvbnRyb2xzIiwiaGFzQm9yZGVycyIsImxvY2tNb3ZlbWVudFgiLCJsb2NrTW92ZW1lbnRZIiwic3RhdGVmdWxsQ2FjaGUiLCJub1NjYWxlQ2FjaGUiLCJkaXJ0eSIsInBhaW50Rmlyc3QiLCJzdGF0ZVByb3BlcnRpZXMiLCJjYWNoZVByb3BlcnRpZXMiLCJjb2xvclByb3BlcnRpZXMiLCJhYnNvbHV0ZVBvc2l0aW9uZWQiLCJfY2FjaGVQcm9wZXJ0aWVzIiwiX3VwZGF0ZUNhY2hlQ2FudmFzIiwiX2xpbWl0Q2FjaGVTaXplIiwiZGltcyIsImxpbWl0ZWREaW1zIiwiY2FwcGVkIiwiX2dldENhY2hlQ2FudmFzRGltZW5zaW9ucyIsIm9iamVjdFNjYWxlIiwiZ2V0VG90YWxPYmplY3RTY2FsaW5nIiwibmVlZGVkWCIsIm5lZWRlZFkiLCJjYW52YXNIZWlnaHQiLCJzaXplR3Jvd2luZyIsIm1pbkNhY2hlU2l6ZSIsImRpbWVuc2lvbnNDaGFuZ2VkIiwiY2FjaGVXaWR0aCIsImNhY2hlSGVpZ2h0Iiwiem9vbUNoYW5nZWQiLCJzaG91bGRSZWRyYXciLCJhZGRpdGlvbmFsV2lkdGgiLCJhZGRpdGlvbmFsSGVpZ2h0Iiwic2hvdWxkUmVzaXplQ2FudmFzIiwiY2FudmFzV2lkdGgiLCJnZXRIZWlnaHRPZkxpbmUiLCJzZXRUcmFuc2Zvcm0iLCJkcmF3aW5nV2lkdGgiLCJkcmF3aW5nSGVpZ2h0IiwibmVlZEZ1bGxUcmFuc2Zvcm0iLCJfcmVtb3ZlRGVmYXVsdFZhbHVlcyIsImdldE9iamVjdFNjYWxpbmciLCJyZXRpbmEiLCJnZXRPYmplY3RPcGFjaXR5IiwiaXNDaGFuZ2VkIiwiX2NvbnN0cmFpblNjYWxlIiwiZ3JvdXBOZWVkc1VwZGF0ZSIsImlzT25BQ2FjaGUiLCJzZXRPbkdyb3VwIiwiZ2V0Vmlld3BvcnRUcmFuc2Zvcm0iLCJpc05vdFZpc2libGUiLCJpc09uU2NyZWVuIiwiX3NldHVwQ29tcG9zaXRlT3BlcmF0aW9uIiwiZHJhd1NlbGVjdGlvbkJhY2tncm91bmQiLCJfc2V0T3BhY2l0eSIsImRyYXdDYWNoZU9uQ2FudmFzIiwiX3JlbW92ZUNhY2hlQ2FudmFzIiwiZHJhd09iamVjdCIsInByb3BlcnR5U2V0IiwiaXNDYWNoZURpcnR5IiwiaGFzU3Ryb2tlIiwiaGFzRmlsbCIsIm5lZWRzSXRzT3duQ2FjaGUiLCJvd25DYWNoaW5nIiwid2lsbERyYXdTaGFkb3ciLCJkcmF3Q2xpcFBhdGhPbkNhY2hlIiwib3JpZ2luYWxGaWxsIiwib3JpZ2luYWxTdHJva2UiLCJfc2V0Q2xpcHBpbmdQcm9wZXJ0aWVzIiwiX2RyYXdDbGlwUGF0aCIsInNraXBDYW52YXMiLCJfZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zIiwiX3JlbW92ZVNoYWRvdyIsIl9zZXRTdHJva2VTdHlsZXMiLCJkZWNsIiwibGluZURhc2hPZmZzZXQiLCJfYXBwbHlQYXR0ZXJuRm9yVHJhbnNmb3JtZWRHcmFkaWVudCIsIl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybSIsIl9zZXRGaWxsU3R5bGVzIiwiZGFzaEFycmF5IiwiZHJhd0JvcmRlcnMiLCJmb3JBY3RpdmVTZWxlY3Rpb24iLCJkcmF3Qm9yZGVyc0luR3JvdXAiLCJtdWx0WCIsIm11bHRZIiwic2NhbGluZyIsIl9yZW5kZXJQYWludEluT3JkZXIiLCJfcmVuZGVyU3Ryb2tlIiwiX3JlbmRlckZpbGwiLCJwQ3R4IiwicENhbnZhcyIsIl9maW5kQ2VudGVyRnJvbUVsZW1lbnQiLCJfYXNzaWduVHJhbnNmb3JtTWF0cml4UHJvcHMiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucyIsImNyb3BYIiwiY3JvcFkiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2JqZWN0Rm9ybSIsIl9mcm9tT2JqZWN0IiwiY2xvbmVBc0ltYWdlIiwidXRpbHMiLCJvcmlnUGFyYW1zIiwib3JpZ2luYWxHcm91cCIsIm9yaWdpbmFsU2hhZG93Iiwid2l0aG91dFRyYW5zZm9ybSIsIndpdGhvdXRTaGFkb3ciLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ1JlY3QiLCJzaGFkb3dPZmZzZXQiLCJvcmlnaW5hbENhbnZhcyIsImlzVHlwZSIsImluY2x1ZGVzIiwic2hvdWxkQ2VudGVyT3JpZ2luIiwiX3NldE9yaWdpblRvQ2VudGVyIiwiX3Jlc2V0T3JpZ2luIiwiY2VudGVySCIsInZpZXdwb3J0Q2VudGVySCIsImNlbnRlclYiLCJ2aWV3cG9ydENlbnRlclYiLCJ2aWV3cG9ydENlbnRlciIsImdldExvY2FsUG9pbnRlciIsInBDbGlja2VkIiwib2JqZWN0TGVmdFRvcCIsImNyZWF0ZUFjY2Vzc29ycyIsImV4dHJhUGFyYW0iLCJ0cmFuc2xhdGVUb0dpdmVuT3JpZ2luIiwiZnJvbU9yaWdpblgiLCJmcm9tT3JpZ2luWSIsInRvT3JpZ2luWCIsInRvT3JpZ2luWSIsInRyYW5zbGF0ZVRvQ2VudGVyUG9pbnQiLCJsZWZ0VG9wIiwiZ2V0UG9pbnRCeU9yaWdpbiIsImFkanVzdFBvc2l0aW9uIiwiaHlwb3RGdWxsIiwiZ2V0U2NhbGVkV2lkdGgiLCJ4RnVsbCIsInlGdWxsIiwib2Zmc2V0RnJvbSIsIm9mZnNldFRvIiwiX29yaWdpbmFsT3JpZ2luWCIsIl9vcmlnaW5hbE9yaWdpblkiLCJvcmlnaW5Qb2ludCIsIm9Db29yZHMiLCJhQ29vcmRzIiwibGluZUNvb3JkcyIsIm93bk1hdHJpeENhY2hlIiwibWF0cml4Q2FjaGUiLCJfZ2V0Q29vcmRzIiwiYWJzb2x1dGUiLCJjYWxjdWxhdGUiLCJjYWxjQUNvb3JkcyIsImNhbGNMaW5lQ29vcmRzIiwiZ2V0Q29vcmRzIiwicG9pbnRUTCIsInBvaW50QlIiLCJvdGhlciIsIm90aGVyQ29vcmRzIiwibGluZXMiLCJfZ2V0SW1hZ2VMaW5lcyIsIl9maW5kQ3Jvc3NQb2ludHMiLCJfY29udGFpbnNDZW50ZXJPZkNhbnZhcyIsImlzUGFydGlhbGx5T25TY3JlZW4iLCJldmVyeSIsInRvcGxpbmUiLCJyaWdodGxpbmUiLCJib3R0b21saW5lIiwibGVmdGxpbmUiLCJpTGluZSIsImxpbmVLZXkiLCJ4Y291bnQiLCJnZXRTY2FsZWRIZWlnaHQiLCJzY2FsZVRvV2lkdGgiLCJib3VuZGluZ1JlY3RGYWN0b3IiLCJzY2FsZVRvSGVpZ2h0IiwiY29zUCIsInNpblAiLCJjb3NQU2luUCIsImNvc1BNaW51c1NpblAiLCJjYWxjT0Nvb3JkcyIsInJvdGF0ZU1hdHJpeCIsIl9jYWxjUm90YXRlTWF0cml4IiwiX2NhbGNUcmFuc2xhdGVNYXRyaXgiLCJzdGFydE1hdHJpeCIsIl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucyIsImZvckVhY2hDb250cm9sIiwidyIsInNraXBDb3JuZXJzIiwiX3NldENvcm5lckNvb3JkcyIsInRyYW5zZm9ybU1hdHJpeEtleSIsInNlcCIsInByZWZpeCIsImNhY2hlIiwidE1hdHJpeCIsIm5vU2tldyIsIl9maW5hbGl6ZURpbWVuc2lvbnMiLCJnZXRTdmdTdHlsZXMiLCJza2lwU2hhZG93IiwiZ2V0U3ZnRmlsdGVyIiwiZ2V0U3ZnU3BhblN0eWxlcyIsInVzZVdoaXRlU3BhY2UiLCJ0ZXJtIiwiZ2V0U3ZnVGV4dERlY29yYXRpb24iLCJkZWNvcmF0aW9uIiwiZ2V0U3ZnQ29tbW9ucyIsImdldFN2Z1RyYW5zZm9ybSIsImZ1bGwiLCJfc2V0U1ZHQmciLCJ0ZXh0QmdSZWN0cyIsIl9nZXRGaWxsQXR0cmlidXRlcyIsIl9jcmVhdGVCYXNlU1ZHTWFya3VwIiwiX3RvU1ZHIiwiX2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cCIsIm9iamVjdE1hcmt1cCIsImNvbW1vblBpZWNlcyIsImNsaXBQYXRoTWFya3VwIiwibm9TdHlsZSIsInN0eWxlSW5mbyIsInNoYWRvd0luZm8iLCJ3aXRoU2hhZG93IiwidmVjdG9yRWZmZWN0IiwiYWJzb2x1dGVDbGlwUGF0aCIsImFkZFBhaW50T3JkZXIiLCJkYXNoZWRQcm9wZXJ0eVNldCIsIl9pc0VxdWFsIiwib3JpZ1ZhbHVlIiwiZmlyc3RQYXNzIiwiZm9yVG91Y2giLCJpc0NvbnRyb2xWaXNpYmxlIiwidG91Y2hDb3JuZXIiLCJmbiIsImNvbnRyb2xPYmplY3QiLCJ3aCIsInNob3VsZFN0cm9rZSIsInNldENvbnRyb2xWaXNpYmxlIiwic2V0Q29udHJvbHNWaXNpYmlsaXR5IiwiRlhfRFVSQVRJT04iLCJmeENlbnRlck9iamVjdEgiLCJjYWxsYmFja3MiLCJlbXB0eSIsImZ4Q2VudGVyT2JqZWN0ViIsImZ4UmVtb3ZlIiwic2tpcENhbGxiYWNrcyIsInByb3BzVG9BbmltYXRlIiwib3V0IiwiX2FuaW1hdGUiLCJwcm9wUGFpciIsInByb3BJc0NvbG9yIiwidmFsdWVQcm9ncmVzcyIsInRpbWVQcm9ncmVzcyIsImNvb3JkUHJvcHMiLCJtYWtlRWRnZVRvT3JpZ2luR2V0dGVyIiwicHJvcGVydHlOYW1lcyIsIm9yaWdpblZhbHVlcyIsImF4aXMxIiwiYXhpczIiLCJkaW1lbnNpb24iLCJuZWFyZXN0IiwiZmFydGhlc3QiLCJMaW5lIiwiX3NldFdpZHRoSGVpZ2h0IiwiX2dldExlZnRUb09yaWdpblgiLCJfZ2V0VG9wVG9PcmlnaW5ZIiwiY2FsY0xpbmVQb2ludHMiLCJvcmlnU3Ryb2tlU3R5bGUiLCJ4TXVsdCIsInlNdWx0IiwiQVRUUklCVVRFX05BTUVTIiwicGFyc2VkQXR0cmlidXRlcyIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsInNldFJhZGl1cyIsImdldFJhZGl1c1giLCJnZXRSYWRpdXNZIiwiVHJpYW5nbGUiLCJ3aWR0aEJ5MiIsImhlaWdodEJ5MiIsInBpQnkyIiwiRWxsaXBzZSIsImdldFJ4IiwiZ2V0UnkiLCJfaW5pdFJ4UnkiLCJpc1JvdW5kZWQiLCJiZXppZXJDdXJ2ZVRvIiwiUG9seWxpbmUiLCJleGFjdEJvdW5kaW5nQm94IiwiX3NldFBvc2l0aW9uRGltZW5zaW9ucyIsIl9wcm9qZWN0U3Ryb2tlT25Qb2ludHMiLCJjb3JyZWN0TGVmdFRvcCIsImNhbGNEaW0iLCJfY2FsY0RpbWVuc2lvbnMiLCJjb3JyZWN0U2l6ZSIsImZyb21TVkciLCJkaWZmWCIsImRpZmZZIiwiY29tbW9uUmVuZGVyIiwiZnJvbUVsZW1lbnRHZW5lcmF0b3IiLCJfY2xhc3MiLCJQb2x5Z29uIiwiX3NldFBhdGgiLCJfcmVuZGVyUGF0aENvbW1hbmRzIiwic3VicGF0aFN0YXJ0WCIsInN1YnBhdGhTdGFydFkiLCJfZ2V0T2Zmc2V0VHJhbnNmb3JtIiwiZGlnaXRzIiwiYVgiLCJhWSIsInBhdGhVcmwiLCJlbGl2ZW5lZE9iamVjdHMiLCJ1c2VTZXRPbkdyb3VwIiwiaXNBbHJlYWR5R3JvdXBlZCIsIl91cGRhdGVPYmplY3RzQUNvb3JkcyIsIl9jYWxjQm91bmRzIiwiX3VwZGF0ZU9iamVjdHNDb29yZHMiLCJfdXBkYXRlT2JqZWN0Q29vcmRzIiwib2JqZWN0TGVmdCIsIm9iamVjdFRvcCIsIm5lc3RlZCIsIl9yZXN0b3JlT2JqZWN0c1N0YXRlIiwiX2luY2x1ZGVEZWZhdWx0VmFsdWVzIiwib2Jqc1RvT2JqZWN0Iiwib3JpZ2luYWxEZWZhdWx0cyIsIl9vYmoiLCJvd25DYWNoZSIsImdyb3VwTWF0cml4IiwiZGVzdHJveSIsInRvQWN0aXZlU2VsZWN0aW9uIiwidW5ncm91cE9uQ2FudmFzIiwic2V0T2JqZWN0c0Nvb3JkcyIsIm9ubHlXaWR0aEhlaWdodCIsImlMZW4iLCJqTGVuIiwiX2dldEJvdW5kcyIsIm1pblhZIiwibWF4WFkiLCJzdmdTdHJpbmciLCJ0b0dyb3VwIiwibmV3R3JvdXAiLCJjaGlsZHJlbk92ZXJyaWRlIiwic3JjRnJvbUF0dHJpYnV0ZSIsIl9sYXN0U2NhbGVYIiwiX2xhc3RTY2FsZVkiLCJfZmlsdGVyU2NhbGluZ1giLCJfZmlsdGVyU2NhbGluZ1kiLCJtaW5pbXVtU2NhbGVUcmlnZ2VyIiwiY2FjaGVLZXkiLCJpbWFnZVNtb290aGluZyIsImZpbHRlcnMiLCJfaW5pdEVsZW1lbnQiLCJfZWxlbWVudCIsInNldEVsZW1lbnQiLCJyZW1vdmVUZXh0dXJlIiwiX2luaXRDb25maWciLCJhcHBseUZpbHRlcnMiLCJyZXNpemVGaWx0ZXIiLCJhcHBseVJlc2l6ZUZpbHRlcnMiLCJiYWNrZW5kIiwiZmlsdGVyQmFja2VuZCIsImV2aWN0Q2FjaGVzRm9yS2V5IiwiZ2V0Q3Jvc3NPcmlnaW4iLCJnZXRPcmlnaW5hbFNpemUiLCJfc3Ryb2tlIiwiZmlsdGVyT2JqIiwiZ2V0U3JjIiwiaGFzQ3JvcCIsInN0cm9rZVN2ZyIsIm9yaWdGaWxsIiwiaW1hZ2VNYXJrdXAiLCJpbWFnZVJlbmRlcmluZyIsImdldFN2Z1NyYyIsImZpbHRlcmVkIiwic2V0U3JjIiwic291cmNlV2lkdGgiLCJzb3VyY2VIZWlnaHQiLCJtaW5pbXVtU2NhbGUiLCJlbGVtZW50VG9GaWx0ZXIiLCJfZmlsdGVyZWRFbCIsImlzTmV1dHJhbFN0YXRlIiwiaW1nRWxlbWVudCIsIl9uZWVkc1Jlc2l6ZSIsImVsSGVpZ2h0Iiwic1giLCJzWSIsInNXIiwic0giLCJtYXhEZXN0VyIsIm1heERlc3RIIiwiZWxlbWVudFRvRHJhdyIsImVsV2lkdGgiLCJfcmVzZXRXaWR0aEhlaWdodCIsIkNTU19DQU5WQVMiLCJfaW5pdEZpbHRlcnMiLCJwQVIiLCJyV2lkdGgiLCJySGVpZ2h0IiwicFdpZHRoIiwicEhlaWdodCIsIl9vYmplY3QiLCJyZXNpemVGaWx0ZXJzIiwiZnJvbVVSTCIsImltZ09wdGlvbnMiLCJfZ2V0QW5nbGVWYWx1ZUZvclN0cmFpZ2h0ZW4iLCJzdHJhaWdodGVuIiwiZnhTdHJhaWdodGVuIiwic3RyYWlnaHRlbk9iamVjdCIsImZ4U3RyYWlnaHRlbk9iamVjdCIsInNldHVwR0xDb250ZXh0IiwiY2FwdHVyZUdQVUluZm8iLCJwcmVjaXNpb24iLCJmcmFnbWVudFNoYWRlciIsImlzU3VwcG9ydGVkIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfU0laRSIsInByZWNpc2lvbnMiLCJmcmFnbWVudFNvdXJjZSIsImNyZWF0ZVNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsIndlYkdsUHJlY2lzaW9uIiwiY3JlYXRlV2ViR0xDYW52YXMiLCJhUG9zaXRpb24iLCJGbG9hdDMyQXJyYXkiLCJjaG9vc2VGYXN0ZXN0Q29weUdMVG8yRE1ldGhvZCIsImNhbk1lYXN1cmVQZXJmIiwicGVyZm9ybWFuY2UiLCJjYW5Vc2VJbWFnZURhdGEiLCJjYW5Vc2VBcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiY2FuVXNlVWludDhDbGFtcGVkIiwidGVzdENvbnRleHQiLCJzdGFydFRpbWUiLCJub3ciLCJkcmF3SW1hZ2VUaW1lIiwiY29weUdMVG8yRCIsImdsT3B0aW9ucyIsInByZW11bHRpcGxpZWRBbHBoYSIsImRlcHRoIiwic3RlbmNpbCIsImFudGlhbGlhcyIsImNsZWFyQ29sb3IiLCJjYWNoZWRUZXh0dXJlIiwiZ2V0Q2FjaGVkVGV4dHVyZSIsInNvdXJjZVRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwidGFyZ2V0VGV4dHVyZSIsIm9yaWdpbmFsVGV4dHVyZSIsInBhc3NlcyIsIndlYmdsIiwicHJvZ3JhbUNhY2hlIiwicGFzcyIsInRlbXBGYm8iLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiYXBwbHlUbyIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsImRlbGV0ZVRleHR1cmUiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImNsZWFyV2ViR0xDYWNoZXMiLCJ0ZXh0dXJlQ2FjaGUiLCJ0ZXh0dXJlSW1hZ2VTb3VyY2UiLCJ0ZXh0dXJlIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsInRleEltYWdlMkQiLCJ1bmlxdWVJZCIsImdwdUluZm8iLCJleHQiLCJyZW5kZXJlciIsInZlbmRvciIsImdldEV4dGVuc2lvbiIsIlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMIiwiVU5NQVNLRURfVkVORE9SX1dFQkdMIiwic291cmNlRWxlbWVudCIsIm9yaWdpbmFsRWwiLCJvcmlnaW5hbEltYWdlRGF0YSIsIkJhc2VGaWx0ZXIiLCJ2ZXJ0ZXhTb3VyY2UiLCJjcmVhdGVQcm9ncmFtIiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdldFNoYWRlckluZm9Mb2ciLCJwcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnZXRBdHRyaWJ1dGVMb2NhdGlvbnMiLCJ1bmlmb3JtTG9jYXRpb25zIiwiZ2V0VW5pZm9ybUxvY2F0aW9ucyIsInVTdGVwVyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInVTdGVwSCIsImdldFByb2dyYW1JbmZvTG9nIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJzZW5kQXR0cmlidXRlRGF0YSIsImFQb3NpdGlvbkRhdGEiLCJhdHRyaWJ1dGVMb2NhdGlvbiIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImJ1ZmZlckRhdGEiLCJTVEFUSUNfRFJBVyIsIl9zZXR1cEZyYW1lQnVmZmVyIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIl9zd2FwVGV4dHVyZXMiLCJ0ZW1wIiwibWFpbiIsIm1haW5QYXJhbWV0ZXIiLCJhcHBseVRvV2ViR0wiLCJhcHBseVRvMmQiLCJyZXRyaWV2ZVNoYWRlciIsInNoYWRlciIsInVzZVByb2dyYW0iLCJ1bmlmb3JtMWYiLCJzZW5kVW5pZm9ybURhdGEiLCJ2aWV3cG9ydCIsImRyYXdBcnJheXMiLCJUUklBTkdMRV9TVFJJUCIsImJpbmRBZGRpdGlvbmFsVGV4dHVyZSIsInRleHR1cmVVbml0IiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwidW5iaW5kQWRkaXRpb25hbFRleHR1cmUiLCJnZXRNYWluUGFyYW1ldGVyIiwic2V0TWFpblBhcmFtZXRlciIsImNyZWF0ZUhlbHBMYXllciIsImhlbHBMYXllciIsIm1haW5QIiwiQ29sb3JNYXRyaXgiLCJjb2xvcnNPbmx5IiwidUNvbG9yTWF0cml4IiwidUNvbnN0YW50cyIsImNvbnN0YW50cyIsInVuaWZvcm1NYXRyaXg0ZnYiLCJ1bmlmb3JtNGZ2IiwiQnJpZ2h0bmVzcyIsImJyaWdodG5lc3MiLCJ1QnJpZ2h0bmVzcyIsIkNvbnZvbHV0ZSIsIm9wYXF1ZSIsIkNvbnZvbHV0ZV8zXzEiLCJDb252b2x1dGVfM18wIiwiQ29udm9sdXRlXzVfMSIsIkNvbnZvbHV0ZV81XzAiLCJDb252b2x1dGVfN18xIiwiQ29udm9sdXRlXzdfMCIsIkNvbnZvbHV0ZV85XzEiLCJDb252b2x1dGVfOV8wIiwiZHN0T2ZmIiwic2N4Iiwic3JjT2ZmIiwid3QiLCJ3ZWlnaHRzIiwic2lkZSIsImhhbGZTaWRlIiwic3ciLCJzaCIsIm91dHB1dCIsImNyZWF0ZUltYWdlRGF0YSIsImRzdCIsImFscGhhRmFjIiwic2N5IiwidU1hdHJpeCIsInVPcGFxdWUiLCJ1SGFsZlNpemUiLCJ1U2l6ZSIsInVuaWZvcm0xZnYiLCJHcmF5c2NhbGUiLCJsaWdodG5lc3MiLCJsdW1pbm9zaXR5IiwibW9kZSIsInVNb2RlIiwidW5pZm9ybTFpIiwiSW52ZXJ0IiwiaW52ZXJ0IiwidUludmVydCIsIk5vaXNlIiwibm9pc2UiLCJyYW5kIiwidU5vaXNlIiwidVNlZWQiLCJQaXhlbGF0ZSIsImJsb2Nrc2l6ZSIsIl9pIiwiX2oiLCJfaUxlbiIsIl9qTGVuIiwidUJsb2Nrc2l6ZSIsIlJlbW92ZUNvbG9yIiwidXNlQWxwaGEiLCJsb3dDIiwiaGlnaEMiLCJ1TG93IiwidUhpZ2giLCJCcm93bmllIiwiVmludGFnZSIsIktvZGFjaHJvbWUiLCJUZWNobmljb2xvciIsIlBvbGFyb2lkIiwiU2VwaWEiLCJCbGFja1doaXRlIiwiQmxlbmRDb2xvciIsInNjcmVlbiIsImRpZmYiLCJsaWdodGVuIiwiZGFya2VuIiwiZXhjbHVzaW9uIiwidGludCIsImJ1aWxkU291cmNlIiwiYWxwaGExIiwidGciLCJ1Q29sb3IiLCJCbGVuZEltYWdlIiwibWFzayIsIlRFWFRVUkUxIiwiY2FsY3VsYXRlTWF0cml4IiwiYmxlbmRJbWFnZSIsImNhbnZhczEiLCJibGVuZERhdGEiLCJ1VHJhbnNmb3JtTWF0cml4IiwidUltYWdlIiwidW5pZm9ybU1hdHJpeDNmdiIsIlJlc2l6ZSIsInJlc2l6ZVR5cGUiLCJsYW5jem9zTG9iZXMiLCJ1RGVsdGEiLCJ1VGFwcyIsInVuaWZvcm0yZnYiLCJob3Jpem9udGFsIiwidGFwcyIsImZpbHRlcldpbmRvdyIsImdldEZpbHRlcldpbmRvdyIsImdlbmVyYXRlU2hhZGVyIiwidGVtcFNjYWxlIiwiZ2V0VGFwcyIsImxvYmVGdW5jdGlvbiIsImxhbmN6b3NDcmVhdGUiLCJvZmZzZXRzIiwiZnJhZ21lbnRTb3VyY2VUT1AiLCJkVyIsImRIIiwibG9iZXMiLCJ4eCIsIm5ld0RhdGEiLCJvVyIsInJjcFNjYWxlWCIsInJjcFNjYWxlWSIsIm9IIiwic2xpY2VCeVR3byIsImhlcm1pdGVGYXN0UmVzaXplIiwiYmlsaW5lYXJGaWx0ZXJpbmciLCJsYW5jem9zUmVzaXplIiwidG1wQ2FudmFzIiwiZG9uZVciLCJkb25lSCIsInN0ZXBXIiwic3RlcEgiLCJkWCIsImRZIiwic3JjRGF0YSIsImRlc3RJbWciLCJkZXN0RGF0YSIsImxhbmN6b3MiLCJyYXRpb1giLCJyYXRpb1kiLCJyY3BSYXRpb1giLCJyY3BSYXRpb1kiLCJyYW5nZTJYIiwicmFuZ2UyWSIsImNhY2hlTGFuYyIsImljZW50ZXIiLCJwcm9jZXNzIiwidSIsImZYIiwiZlkiLCJ3ZWlnaHQiLCJ4RGlmZiIsInlEaWZmIiwiY2hubCIsIm9yaWdQaXgiLCJ3NCIsInBpeGVscyIsImRlc3RJbWFnZSIsImRlc3RQaXhlbHMiLCJyYXRpb1ciLCJyYXRpb0giLCJyYXRpb1dIYWxmIiwicmF0aW9ISGFsZiIsImltZzIiLCJkYXRhMiIsIndlaWdodHNBbHBoYSIsImd4UiIsImd4RyIsImd4QiIsImd4QSIsInl5IiwidzAiLCJDb250cmFzdCIsImNvbnRyYXN0IiwiY29udHJhc3RGIiwidUNvbnRyYXN0IiwiU2F0dXJhdGlvbiIsInNhdHVyYXRpb24iLCJhZGp1c3QiLCJ1U2F0dXJhdGlvbiIsIlZpYnJhbmNlIiwidmlicmFuY2UiLCJhbXQiLCJhdmciLCJ1VmlicmFuY2UiLCJCbHVyIiwiYXNwZWN0UmF0aW8iLCJzaW1wbGVCbHVyIiwiY2FudmFzMiIsInBlcmNlbnQiLCJjdHgxIiwiYmx1ckxheWVyMSIsImJsdXJMYXllcjIiLCJjdHgyIiwibmV3SW1hZ2VEYXRhIiwiZGVsdGEiLCJjaG9vc2VSaWdodERlbHRhIiwiYmx1clNjYWxlIiwiR2FtbWEiLCJnYW1tYSIsInJJbnYiLCJnSW52IiwiYkludiIsInJWYWxzIiwiZ1ZhbHMiLCJiVmFscyIsInVHYW1tYSIsInVuaWZvcm0zZnYiLCJDb21wb3NlZCIsInN1YkZpbHRlcnMiLCJIdWVSb3RhdGlvbiIsInJvdGF0aW9uIiwicmFkIiwiYVRoaXJkU3F0U2luIiwiT25lTWludXNDb3MiLCJhZGRpdGlvbmFsUHJvcHMiLCJfZGltZW5zaW9uQWZmZWN0aW5nUHJvcHMiLCJfcmVOZXdsaW5lIiwiX3JlU3BhY2VzQW5kVGFicyIsIl9yZVNwYWNlQW5kVGFiIiwiX3JlV29yZHMiLCJ0ZXh0QWxpZ24iLCJzdXBlcnNjcmlwdCIsImJhc2VsaW5lIiwic3Vic2NyaXB0IiwidGV4dEJhY2tncm91bmRDb2xvciIsInBhdGhTdGFydE9mZnNldCIsInBhdGhTaWRlIiwicGF0aEFsaWduIiwiX2ZvbnRTaXplRnJhY3Rpb24iLCJfZm9udFNpemVNdWx0IiwiY2hhclNwYWNpbmciLCJfbWVhc3VyaW5nQ29udGV4dCIsImRpcmVjdGlvbiIsIl9zdHlsZVByb3BlcnRpZXMiLCJfX2NoYXJCb3VuZHMiLCJDQUNIRV9GT05UX1NJWkUiLCJNSU5fVEVYVF9XSURUSCIsIl9fc2tpcERpbWVuc2lvbiIsInNldFBhdGhJbmZvIiwiaW5pdERpbWVuc2lvbnMiLCJzZWdtZW50c0luZm8iLCJnZXRNZWFzdXJpbmdDb250ZXh0IiwiX3NwbGl0VGV4dCIsIm5ld0xpbmVzIiwiX3NwbGl0VGV4dEludG9MaW5lcyIsIl90ZXh0TGluZXMiLCJncmFwaGVtZUxpbmVzIiwiX3Vud3JhcHBlZFRleHRMaW5lcyIsIl91bndyYXBwZWRMaW5lcyIsIl90ZXh0IiwiZ3JhcGhlbWVUZXh0IiwiX2NsZWFyQ2FjaGUiLCJjYWxjVGV4dFdpZHRoIiwiY3Vyc29yV2lkdGgiLCJjYWxjVGV4dEhlaWdodCIsImVubGFyZ2VTcGFjZXMiLCJjdXJyZW50TGluZVdpZHRoIiwiYWNjdW11bGF0ZWRTcGFjZSIsImxpbmUiLCJjaGFyQm91bmQiLCJzcGFjZXMiLCJpc0VuZE9mV3JhcHBpbmciLCJnZXRMaW5lV2lkdGgiLCJudW1iZXJPZlNwYWNlcyIsImRpZmZTcGFjZSIsImtlcm5lZFdpZHRoIiwibGluZUluZGV4IiwibWlzc2luZ05ld2xpbmVPZmZzZXQiLCJfc2V0VGV4dFN0eWxlcyIsIl9yZW5kZXJUZXh0TGluZXNCYWNrZ3JvdW5kIiwiX3JlbmRlclRleHREZWNvcmF0aW9uIiwiX3JlbmRlclRleHQiLCJfcmVuZGVyVGV4dFN0cm9rZSIsIl9yZW5kZXJUZXh0RmlsbCIsImNoYXJTdHlsZSIsImZvck1lYXN1cmluZyIsInRleHRCYXNlbGluZSIsIl9nZXRGb250RGVjbGFyYXRpb24iLCJtYXhXaWR0aCIsIl9yZW5kZXJUZXh0TGluZSIsIl9yZW5kZXJDaGFycyIsInN0eWxlSGFzIiwiaGVpZ2h0T2ZMaW5lIiwiY2hhckJveCIsImN1cnJlbnRDb2xvciIsImRyYXdTdGFydCIsImxlZnRPZmZzZXQiLCJfZ2V0TGVmdE9mZnNldCIsImxpbmVUb3BPZmZzZXQiLCJfZ2V0VG9wT2Zmc2V0IiwiYm94U3RhcnQiLCJib3hXaWR0aCIsImxpbmVMZWZ0T2Zmc2V0IiwiX2dldExpbmVMZWZ0T2Zmc2V0IiwibGFzdENvbG9yIiwiZ2V0VmFsdWVPZlByb3BlcnR5QXQiLCJyZW5kZXJMZWZ0IiwiZ2V0Rm9udENhY2hlIiwiY2FjaGVQcm9wIiwiX21lYXN1cmVDaGFyIiwiX2NoYXIiLCJwcmV2aW91c0NoYXIiLCJwcmV2Q2hhclN0eWxlIiwiY291cGxlV2lkdGgiLCJwcmV2aW91c1dpZHRoIiwiZm9udENhY2hlIiwiY291cGxlIiwic3R5bGVzQXJlRXF1YWwiLCJmb250TXVsdGlwbGllciIsIm1lYXN1cmVUZXh0IiwiZ2V0SGVpZ2h0T2ZDaGFyIiwibWVhc3VyZUxpbmUiLCJsaW5lSW5mbyIsIl9tZWFzdXJlTGluZSIsIl9nZXRXaWR0aE9mQ2hhclNwYWNpbmciLCJncmFwaGVtZSIsInByZXZHcmFwaGVtZSIsImdyYXBoZW1lSW5mbyIsInN0YXJ0aW5nUG9pbnQiLCJ0b3RhbFBhdGhMZW5ndGgiLCJsaW5lQm91bmRzIiwicG9zaXRpb25JblBhdGgiLCJfZ2V0R3JhcGhlbWVCb3giLCJfc2V0R3JhcGhlbWVPblBhdGgiLCJudW1PZlNwYWNlcyIsImNlbnRlclBvc2l0aW9uIiwic2tpcExlZnQiLCJnZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24iLCJwcmV2aW91c0JveCIsIl9fbGluZUhlaWdodHMiLCJtYXhIZWlnaHQiLCJfcmVuZGVyVGV4dENvbW1vbiIsImxpbmVIZWlnaHRzIiwiaXNFbXB0eVN0eWxlcyIsImFjdHVhbFN0eWxlIiwibmV4dFN0eWxlIiwiZHJhd2luZ0xlZnQiLCJpc0p1c3RpZnkiLCJjaGFyc1RvUmVuZGVyIiwic2hvcnRDdXQiLCJpc0x0ciIsImN1cnJlbnREaXJlY3Rpb24iLCJfcmVuZGVyQ2hhciIsInRpbWVUb1JlbmRlciIsIl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybVRleHQiLCJoYW5kbGVGaWxsZXIiLCJmaWxsT2Zmc2V0cyIsInN0cm9rZU9mZnNldHMiLCJfZ2V0U3R5bGVEZWNsYXJhdGlvbiIsImZ1bGxEZWNsIiwic2hvdWxkRmlsbCIsImZpbGxUZXh0Iiwic3Ryb2tlVGV4dCIsInNldFN1cGVyc2NyaXB0IiwiX3NldFNjcmlwdCIsInNldFN1YnNjcmlwdCIsInNjaGVtYSIsImxvYyIsImdldDJEQ3Vyc29yTG9jYXRpb24iLCJzZXRTZWxlY3Rpb25TdHlsZXMiLCJsaW5lRGlmZiIsIl9fbGluZVdpZHRocyIsIl9zaG91bGRDbGVhckRpbWVuc2lvbkNhY2hlIiwic2hvdWxkQ2xlYXIiLCJfZm9yY2VDbGVhckNhY2hlIiwidG9wT2Zmc2V0IiwibGFzdERlY29yYXRpb24iLCJsYXN0RmlsbCIsImN1cnJlbnREZWNvcmF0aW9uIiwiY3VycmVudEZpbGwiLCJfc2l6ZSIsIl9keSIsInN0eWxlT2JqZWN0IiwiZmFtaWx5IiwiZm9udElzR2VuZXJpYyIsImdlbmVyaWNGb250cyIsIm5ld0xpbmUiLCJuZXdUZXh0IiwiYWxsUHJvcGVydGllcyIsIm5lZWRzRGltcyIsImlzQWRkaW5nUGF0aCIsIl9rZXkiLCJwYXJzZWRBbmNob3IiLCJ0ZXh0QW5jaG9yIiwib3JpZ2luYWxTdHJva2VXaWR0aCIsInRleHRIZWlnaHRTY2FsZUZhY3RvciIsInNjYWxlZERpZmYiLCJ0ZXh0SGVpZ2h0Iiwib2ZmWCIsIm9iamVjdENvcHkiLCJ0ZXh0SW5zdGFuY2UiLCJwYXRoSW5zdGFuY2UiLCJwMyIsIjAiLCJjbGVhblN0eWxlIiwibGV0dGVyQ291bnQiLCJzdHlsZVByb3BlcnR5VmFsdWUiLCJzdHlsZXNDb3VudCIsImFsbFN0eWxlT2JqZWN0UHJvcGVydGllc01hdGNoIiwiZ3JhcGhlbWVDb3VudCIsInJlbW92ZVN0eWxlIiwibGluZU51bSIsImNoYXJOdW0iLCJfZXh0ZW5kU3R5bGVzIiwiX2dldExpbmVTdHlsZSIsIl9zZXRMaW5lU3R5bGUiLCJfc2V0U3R5bGVEZWNsYXJhdGlvbiIsInNlbGVjdGlvblN0YXJ0Iiwic2tpcFdyYXBwaW5nIiwiZ2V0U2VsZWN0aW9uU3R5bGVzIiwic3RhcnRJbmRleCIsImVuZEluZGV4Iiwic2VsZWN0aW9uRW5kIiwiZ2V0U3R5bGVBdFBvc2l0aW9uIiwibGluZVN0eWxlIiwiX2RlbGV0ZVN0eWxlRGVjbGFyYXRpb24iLCJfZGVsZXRlTGluZVN0eWxlIiwiSVRleHQiLCJlZGl0YWJsZSIsImVkaXRpbmdCb3JkZXJDb2xvciIsImN1cnNvckNvbG9yIiwiY3Vyc29yRGVsYXkiLCJjdXJzb3JEdXJhdGlvbiIsImNhY2hpbmciLCJoaWRkZW5UZXh0YXJlYUNvbnRhaW5lciIsIl9yZVNwYWNlIiwiX2N1cnJlbnRDdXJzb3JPcGFjaXR5IiwiX3NlbGVjdGlvbkRpcmVjdGlvbiIsIl9hYm9ydEN1cnNvckFuaW1hdGlvbiIsIl9fd2lkdGhPZlNwYWNlIiwiaW5Db21wb3NpdGlvbk1vZGUiLCJpbml0QmVoYXZpb3IiLCJzZXRTZWxlY3Rpb25TdGFydCIsIl91cGRhdGVBbmRGaXJlIiwic2V0U2VsZWN0aW9uRW5kIiwiX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkIiwiX3VwZGF0ZVRleHRhcmVhIiwiaW5pdERlbGF5ZWRDdXJzb3IiLCJjdXJzb3JPZmZzZXRDYWNoZSIsInJlbmRlckN1cnNvck9yU2VsZWN0aW9uIiwic2tpcFJlc3RvcmUiLCJfY2xlYXJUZXh0QXJlYSIsImJvdW5kYXJpZXMiLCJfZ2V0Q3Vyc29yQm91bmRhcmllcyIsInJlbmRlckN1cnNvciIsInJlbmRlclNlbGVjdGlvbiIsIl9nZXRDdXJzb3JCb3VuZGFyaWVzT2Zmc2V0cyIsImN1cnNvclBvc2l0aW9uIiwiYm91bmQiLCJjdXJzb3JMb2NhdGlvbiIsImNoYXJIZWlnaHQiLCJfX2lzTW91c2Vkb3duIiwiaGlkZGVuVGV4dGFyZWEiLCJzdGFydExpbmUiLCJlbmRMaW5lIiwic3RhcnRDaGFyIiwiZW5kQ2hhciIsImxpbmVPZmZzZXQiLCJib3hFbmQiLCJyZWFsTGluZUhlaWdodCIsImRyYXdXaWR0aCIsImRyYXdIZWlnaHQiLCJleHRyYVRvcCIsImNvbXBvc2l0aW9uQ29sb3IiLCJnZXRDdXJyZW50Q2hhckZvbnRTaXplIiwiY3AiLCJfZ2V0Q3VycmVudENoYXJJbmRleCIsImdldEN1cnJlbnRDaGFyQ29sb3IiLCJvYmpDb3B5IiwiaW5pdEFkZGVkSGFuZGxlciIsImluaXRSZW1vdmVkSGFuZGxlciIsImluaXRDdXJzb3JTZWxlY3Rpb25IYW5kbGVycyIsImluaXREb3VibGVDbGlja1NpbXVsYXRpb24iLCJtb3VzZU1vdmVIYW5kbGVyIiwiX2luaXRDYW52YXNIYW5kbGVycyIsIl9yZW1vdmVDYW52YXNIYW5kbGVycyIsIl90aWNrIiwiX2N1cnJlbnRUaWNrU3RhdGUiLCJfYW5pbWF0ZUN1cnNvciIsInRhcmdldE9wYWNpdHkiLCJjb21wbGV0ZU1ldGhvZCIsInRpY2tTdGF0ZSIsImlzQWJvcnRlZCIsIl9vblRpY2tDb21wbGV0ZSIsIl9jdXJzb3JUaW1lb3V0MSIsIl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUiLCJyZXN0YXJ0IiwiZGVsYXkiLCJhYm9ydEN1cnNvckFuaW1hdGlvbiIsIl9jdXJzb3JUaW1lb3V0MiIsInNlbGVjdEFsbCIsImdldFNlbGVjdGVkVGV4dCIsImZpbmRXb3JkQm91bmRhcnlMZWZ0Iiwic3RhcnRGcm9tIiwiZmluZFdvcmRCb3VuZGFyeVJpZ2h0IiwiZmluZExpbmVCb3VuZGFyeUxlZnQiLCJmaW5kTGluZUJvdW5kYXJ5UmlnaHQiLCJzZWFyY2hXb3JkQm91bmRhcnkiLCJzZWxlY3RXb3JkIiwibmV3U2VsZWN0aW9uU3RhcnQiLCJuZXdTZWxlY3Rpb25FbmQiLCJzZWxlY3RMaW5lIiwiZW50ZXJFZGl0aW5nIiwiZXhpdEVkaXRpbmdPbk90aGVycyIsImluaXRIaWRkZW5UZXh0YXJlYSIsImZvY3VzIiwiX3NhdmVFZGl0aW5nUHJvcHMiLCJfc2V0RWRpdGluZ1Byb3BzIiwiX3RleHRCZWZvcmVFZGl0IiwiaW5pdE1vdXNlTW92ZUhhbmRsZXIiLCJjdXJyZW50U3RhcnQiLCJjdXJyZW50RW5kIiwiYWN0aXZlRWxlbWVudCIsImdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXIiLCJfX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24iLCJyZXN0YXJ0Q3Vyc29ySWZOZWVkZWQiLCJmcm9tU3RyaW5nVG9HcmFwaGVtZVNlbGVjdGlvbiIsInNtYWxsZXJUZXh0U3RhcnQiLCJncmFwaGVtZVN0YXJ0Iiwic21hbGxlclRleHRFbmQiLCJmcm9tR3JhcGhlbWVUb1N0cmluZ1NlbGVjdGlvbiIsIm5ld1NlbGVjdGlvbiIsInVwZGF0ZVRleHRhcmVhUG9zaXRpb24iLCJ1cGRhdGVGcm9tVGV4dEFyZWEiLCJfY2FsY1RleHRhcmVhUG9zaXRpb24iLCJ1cHBlckNhbnZhc0hlaWdodCIsImRlc2lyZWRQb3NpdGlvbiIsImNvbXBvc2l0aW9uU3RhcnQiLCJ1cHBlckNhbnZhc1dpZHRoIiwidXBwZXJDYW52YXMiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIl9zYXZlZFByb3BzIiwiX3Jlc3RvcmVFZGl0aW5nUHJvcHMiLCJpc1RleHRDaGFuZ2VkIiwiX3JlbW92ZUV4dHJhbmVvdXNTdHlsZXMiLCJyZW1vdmVTdHlsZUZyb21UbyIsImN1cnNvclN0YXJ0IiwiY3Vyc29yRW5kIiwibGluZVN0YXJ0IiwiY2hhclN0YXJ0IiwibGluZUVuZCIsImNoYXJFbmQiLCJzdHlsZU9iaiIsInNoaWZ0TGluZVN0eWxlcyIsIm51bWVyaWNDaGFyIiwiY2xvbmVkU3R5bGVzIiwibnVtZXJpY0xpbmUiLCJpbnNlcnROZXdsaW5lU3R5bGVPYmplY3QiLCJxdHkiLCJjb3BpZWRTdHlsZSIsImN1cnJlbnRDaGFyU3R5bGUiLCJuZXdMaW5lU3R5bGVzIiwic29tZXRoaW5nQWRkZWQiLCJpc0VuZE9mTGluZSIsIm51bUluZGV4Iiwic3R5bGVDYXJyaWVkT3ZlciIsImluc2VydENoYXJTdHlsZU9iamVjdCIsInF1YW50aXR5IiwiY3VycmVudExpbmVTdHlsZXMiLCJjdXJyZW50TGluZVN0eWxlc0Nsb25lZCIsIm51bWVyaWNJbmRleCIsIm5ld1N0eWxlIiwiaW5zZXJ0TmV3U3R5bGVCbG9jayIsImluc2VydGVkVGV4dCIsImN1cnNvckxvYyIsImFkZGVkTGluZXMiLCJsaW5lc0xlbmd0aCIsInNldFNlbGVjdGlvblN0YXJ0RW5kV2l0aFNoaWZ0Iiwic2V0U2VsZWN0aW9uSW5Cb3VuZGFyaWVzIiwiX19sYXN0Q2xpY2tUaW1lIiwiX19sYXN0TGFzdENsaWNrVGltZSIsIl9fbGFzdFBvaW50ZXIiLCJuZXdQb2ludGVyIiwiX19uZXdDbGlja1RpbWUiLCJpc1RyaXBsZUNsaWNrIiwiX3N0b3BFdmVudCIsIl9fbGFzdElzRWRpdGluZyIsIl9fbGFzdFNlbGVjdGVkIiwiaW5pdE1vdXNlZG93bkhhbmRsZXIiLCJpbml0TW91c2V1cEhhbmRsZXIiLCJpbml0Q2xpY2tzIiwiZG91YmxlQ2xpY2tIYW5kbGVyIiwidHJpcGxlQ2xpY2tIYW5kbGVyIiwiX21vdXNlRG93bkhhbmRsZXIiLCJzZXRDdXJzb3JCeUNsaWNrIiwiX21vdXNlRG93bkhhbmRsZXJCZWZvcmUiLCJjdXJyZW50QWN0aXZlIiwibW91c2VPZmZzZXQiLCJwcmV2V2lkdGgiLCJfZ2V0TmV3U2VsZWN0aW9uU3RhcnRGcm9tT2Zmc2V0IiwiZGlzdGFuY2VCdHdMYXN0Q2hhckFuZEN1cnNvciIsImRpc3RhbmNlQnR3TmV4dENoYXJBbmRDdXJzb3IiLCJvbktleURvd24iLCJvbktleVVwIiwib25JbnB1dCIsImNvcHkiLCJwYXN0ZSIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25VcGRhdGUiLCJvbkNvbXBvc2l0aW9uRW5kIiwiX2NsaWNrSGFuZGxlckluaXRpYWxpemVkIiwib25DbGljayIsImtleXNNYXAiLCI5IiwiMjciLCIzMyIsIjM0IiwiMzUiLCIzNiIsIjM3IiwiMzgiLCIzOSIsIjQwIiwia2V5c01hcFJ0bCIsImN0cmxLZXlzTWFwVXAiLCI2NyIsIjg4IiwiY3RybEtleXNNYXBEb3duIiwiNjUiLCJrZXlNYXAiLCJrZXlDb2RlIiwiY3RybEtleSIsIm1ldGFLZXkiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJfY29weURvbmUiLCJyZW1vdmVkVGV4dCIsImNoYXJEaWZmIiwicmVtb3ZlRnJvbSIsInJlbW92ZVRvIiwidGV4dGFyZWFTZWxlY3Rpb24iLCJiYWNrRGVsZXRlIiwiZnJvbVBhc3RlIiwibmV4dFRleHQiLCJjaGFyQ291bnQiLCJuZXh0Q2hhckNvdW50IiwiY29waWVkVGV4dCIsImNvcGllZFRleHRTdHlsZSIsImNvbXBvc2l0aW9uRW5kIiwiX2dldENsaXBib2FyZERhdGEiLCJjbGlwYm9hcmREYXRhIiwiX2dldFdpZHRoQmVmb3JlQ3Vyc29yIiwid2lkdGhCZWZvcmVDdXJzb3IiLCJnZXREb3duQ3Vyc29yT2Zmc2V0IiwiaXNSaWdodCIsInNlbGVjdGlvblByb3AiLCJfZ2V0U2VsZWN0aW9uRm9yT2Zmc2V0IiwiaW5kZXhPbk90aGVyTGluZSIsIl9nZXRJbmRleE9uTGluZSIsImdldFVwQ3Vyc29yT2Zmc2V0IiwidGV4dEJlZm9yZUN1cnNvciIsIndpZHRoT2ZDaGFyc09uTGluZSIsImluZGV4T25MaW5lIiwiY2hhcldpZHRoIiwiZm91bmRNYXRjaCIsInJpZ2h0RWRnZSIsIm9mZnNldEZyb21MZWZ0RWRnZSIsIm1vdmVDdXJzb3JEb3duIiwiX21vdmVDdXJzb3JVcE9yRG93biIsIm1vdmVDdXJzb3JVcCIsIm1vdmVDdXJzb3JXaXRoU2hpZnQiLCJtb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0IiwibW92ZUN1cnNvckxlZnQiLCJfbW92ZUN1cnNvckxlZnRPclJpZ2h0IiwiX21vdmUiLCJfbW92ZUxlZnQiLCJfbW92ZVJpZ2h0IiwibW92ZUN1cnNvckxlZnRXaXRob3V0U2hpZnQiLCJjaGFuZ2UiLCJtb3ZlQ3Vyc29yTGVmdFdpdGhTaGlmdCIsIm1vdmVDdXJzb3JSaWdodCIsIm1vdmVDdXJzb3JSaWdodFdpdGhTaGlmdCIsIm1vdmVDdXJzb3JSaWdodFdpdGhvdXRTaGlmdCIsImNoYW5nZWQiLCJyZW1vdmVDaGFycyIsImluc2VydENoYXJzIiwiX2dldFNWR0xlZnRUb3BPZmZzZXRzIiwidGV4dEFuZEJnIiwiX2dldFNWR1RleHRBbmRCZyIsInRleHRUb3AiLCJ0ZXh0TGVmdCIsIl93cmFwU1ZHVGV4dEFuZEJnIiwibGluZVRvcCIsInRleHRTcGFucyIsInRleHRUb3BPZmZzZXQiLCJ0ZXh0TGVmdE9mZnNldCIsIl9zZXRTVkdUZXh0TGluZUJnIiwiX3NldFNWR1RleHRMaW5lVGV4dCIsIl9jcmVhdGVUZXh0Q2hhclNwYW4iLCJzdHlsZURlY2wiLCJzaG91bGRVc2VXaGl0ZXNwYWNlIiwic3R5bGVQcm9wcyIsImZpbGxTdHlsZXMiLCJkeVNwYW4iLCJfcHVzaFRleHRCZ1JlY3QiLCJmaWxsQ29sb3IiLCJfZ2V0U1ZHTGluZVRvcE9mZnNldCIsImxhc3RIZWlnaHQiLCJUZXh0Ym94IiwibWluV2lkdGgiLCJkeW5hbWljTWluV2lkdGgiLCJfX2NhY2hlZExpbmVzIiwiX3dvcmRKb2luZXJzIiwic3BsaXRCeUdyYXBoZW1lIiwiX3N0eWxlTWFwIiwiX2dlbmVyYXRlU3R5bGVNYXAiLCJ0ZXh0SW5mbyIsInJlYWxMaW5lQ291bnQiLCJyZWFsTGluZUNoYXJDb3VudCIsImlzV3JhcHBpbmciLCJuZXh0T2Zmc2V0Iiwic2hvdWxkTGltaXQiLCJtYXBOZXh0TGluZSIsIl93cmFwVGV4dCIsImRlc2lyZWRXaWR0aCIsIndyYXBwZWQiLCJfd3JhcExpbmUiLCJfbWVhc3VyZVdvcmQiLCJ3b3JkIiwiY2hhck9mZnNldCIsIl9saW5lIiwicmVzZXJ2ZWRTcGFjZSIsIndvcmRXaWR0aCIsIndvcmRzIiwiaW5maXgiLCJpbmZpeFdpZHRoIiwibGFyZ2VzdFdvcmRXaWR0aCIsImxpbmVKdXN0U3RhcnRlZCIsImFkZGl0aW9uYWxTcGFjZSIsImdldE1pbldpZHRoIiwibGluZXNUb0tlZXAiLCJtbCIsIm1yIiwibWIiLCJtdHIiLCJ0ZXh0Qm94Q29udHJvbHMiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsInNldEF0dHJpYnV0ZXMiLCJpbnNlcnQiLCJkb21BUEkiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwibW9kdWxlc1RvRG9tIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFwaSIsInVwZGF0ZSIsIm5ld09iaiIsImJ5SW5kZXgiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3R5bGVUYXJnZXQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInN0eWxlU2hlZXQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiaW1wb3J0U2NyaXB0cyIsInNjcmlwdFVybCIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNjcmlwdHMiLCJuYyIsImluaXRDYW52YXMiLCJDb3ZlciIsImZyYW1lQ2FudmFzIiwiaW1nQm9keSIsImltZ0ZyYW1lIiwiY21kQWRkVGV4dCIsImFkZFRleHRCb3giLCJ0ZXh0T2JqIiwiY21kQWRkSW1hZ2UiLCJpbWdTYW1wbGUxIiwiaHJlZiIsImRvd25sb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==